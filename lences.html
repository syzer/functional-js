<!DOCTYPE html>
<html>
<head>
    <title>Lences</title>
</head>
<script>
    function lens(get, set) {
        const f = function (a) {
            return get(a)
        }
        f.set = set
        f.mod = function (f, a) {
            return set(a, f(get(a)))
        }
        return f
    }

    const first = lens(
        function (a) { // a getter
            return a[0]
        },
        function (a, b) { // a setter
            return [b].concat(a.slice(1))
        }
    )

    console.log(first([1, 2, 3])) // outputs 1
    console.log(first.set([1, 2, 3], 5)) // outputs [5, 2, 3]

    function tenTimes(x) {
        return x * 10
    }

    console.log(first.mod(tenTimes, [1,2,3])) // [10, 2, 3]

</script>
<body>
<h1>Look on the console</h1>
</body>
</html>
