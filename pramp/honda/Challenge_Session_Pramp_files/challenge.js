!function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var t={};__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1979)}([function(e,t,n){var r=n(4),i=n(38),o=n(21),a=n(22),s=n(32),c="prototype",u=function(e,t,n){var l=e&u.F,d=e&u.G,p=e&u.S,h=e&u.P,f=e&u.B,g=d?r:p?r[t]||(r[t]={}):(r[t]||{})[c],m=d?i:i[t]||(i[t]={}),v=m[c]||(m[c]={}),y,_,b,S;d&&(n=t);for(y in n)b=((_=!l&&g&&void 0!==g[y])?g:n)[y],S=f&&_?s(b,r):h&&"function"==typeof b?s(Function.call,b):b,g&&a(g,y,b,e&u.U),m[y]!=b&&o(m,y,S),h&&v[y]!=b&&(v[y]=b)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){"use strict";e.exports=n(70)},function(e,t,n){"use strict";function invariant(e,t,n,i,o,a,s,c){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,a,s,c],d=0;(u=new Error(t.replace(/%s/g,function(){return l[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function validateFormat(e){};e.exports=invariant},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var r=n(25),i;e.exports=r},function(e,t,n){"use strict";function reactProdInvariant(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=reactProdInvariant},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";function toObject(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=shouldUseNative()?Object.assign:function(e,t){for(var n,a=toObject(e),s,c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var u in n)i.call(n,u)&&(a[u]=n[u]);if(r){s=r(n);for(var l=0;l<s.length;l++)o.call(n,s[l])&&(a[s[l]]=n[s[l]])}}return a}},function(e,t,n){var r=n(109)("wks"),i=n(56),o=n(4).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";function shouldPrecacheNode(e,t){return 1===e.nodeType&&e.getAttribute(s)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function getRenderedHostOrTextFromComponent(e){for(var t;t=e._renderedComponent;)e=t;return e}function precacheNode(e,t){var n=getRenderedHostOrTextFromComponent(e);n._hostNode=t,t[u]=n}function uncacheNode(e){var t=e._hostNode;t&&(delete t[u],e._hostNode=null)}function precacheChildNodes(e,t){if(!(e._flags&c.hasCachedChildNodes)){var n=e._renderedChildren,i=t.firstChild;e:for(var o in n)if(n.hasOwnProperty(o)){var a=n[o],s=getRenderedHostOrTextFromComponent(a)._domID;if(0!==s){for(;null!==i;i=i.nextSibling)if(shouldPrecacheNode(i,s)){precacheNode(a,i);continue e}r("32",s)}}e._flags|=c.hasCachedChildNodes}}function getClosestInstanceFromNode(e){if(e[u])return e[u];for(var t=[];!e[u];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[u]);e=t.pop())n=r,t.length&&precacheChildNodes(r,e);return n}function getInstanceFromNode(e){var t=getClosestInstanceFromNode(e);return null!=t&&t._hostNode===e?t:null}function getNodeFromInstance(e){if(void 0===e._hostNode&&r("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||r("34"),e=e._hostParent;for(;t.length;e=t.pop())precacheChildNodes(e,e._hostNode);return e._hostNode}var r=n(6),i=n(73),o=n(214),a=n(2),s=i.ID_ATTRIBUTE_NAME,c=o,u="__reactInternalInstance$"+Math.random().toString(36).slice(2),l={getClosestInstanceFromNode:getClosestInstanceFromNode,getInstanceFromNode:getInstanceFromNode,getNodeFromInstance:getNodeFromInstance,precacheChildNodes:precacheChildNodes,precacheNode:precacheNode,uncacheNode:uncacheNode};e.exports=l},function(e,t,n){e.exports=!n(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(3),i=n(243),o=n(39),a=Object.defineProperty;t.f=n(12)?Object.defineProperty:function defineProperty(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(41),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r,i;!function(){"use strict";function classNames(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(classNames.apply(null,r));else if("object"===i)for(var o in r)n.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}var n={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=classNames:void 0!==(i=function(){return classNames}.apply(t,r=[]))&&(e.exports=i)}()},function(e,t,n){var r=n(40);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r,i,o;e.exports=n(666)()},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(13),i=n(55);e.exports=n(12)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(4),i=n(21),o=n(20),a=n(56)("src"),s="toString",c=Function[s],u=(""+c).split(s);n(38).inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,function toString(){return"function"==typeof this&&this[a]||c.call(this)})},function(e,t,n){var r=n(0),i=n(7),o=n(40),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){(function(e,r){function inspect(e,n){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(n)?r.showHidden=n:n&&t._extend(r,n),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,e,r.depth)}function stylizeWithColor(e,t){var n=inspect.styles[t];return n?"["+inspect.colors[n][0]+"m"+e+"["+inspect.colors[n][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function formatValue(e,n,r){if(e.customInspect&&n&&isFunction(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return isString(i)||(i=formatValue(e,i,r)),i}var o=formatPrimitive(e,n);if(o)return o;var a=Object.keys(n),s=arrayToHash(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),isError(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(n);if(0===a.length){if(isFunction(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(isRegExp(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(isDate(n))return e.stylize(Date.prototype.toString.call(n),"date");if(isError(n))return formatError(n)}var u="",l=!1,d=["{","}"];if(isArray(n)&&(l=!0,d=["[","]"]),isFunction(n)&&(u=" [Function"+(n.name?": "+n.name:"")+"]"),isRegExp(n)&&(u=" "+RegExp.prototype.toString.call(n)),isDate(n)&&(u=" "+Date.prototype.toUTCString.call(n)),isError(n)&&(u=" "+formatError(n)),0===a.length&&(!l||0==n.length))return d[0]+u+d[1];if(r<0)return isRegExp(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var p;return p=l?formatArray(e,n,r,s,a):a.map(function(t){return formatProperty(e,n,r,s,t,l)}),e.seen.pop(),reduceToSingleString(p,u,d)}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return isNumber(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)hasOwnProperty(t,String(a))?o.push(formatProperty(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,t,n,r,i,!0))}),o}function formatProperty(e,t,n,r,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),hasOwnProperty(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=isNull(n)?formatValue(e,c.value,null):formatValue(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),isUndefined(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function reduceToSingleString(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),s[e.getMonth()],t].join(" ")}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var i=/%[sdj%]/g;t.format=function(e){if(!isString(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])isNull(s)||!isObject(s)?a+=" "+s:a+=" "+inspect(s);return a},t.deprecate=function(n,i){function deprecated(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation,o=!0}return n.apply(this,arguments)}if(isUndefined(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return deprecated};var o={},a;t.debuglog=function(e){if(isUndefined(a)&&(a=Object({NODE_ENV:"production",BABEL_ENV:"production"}).NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var n=r.pid;o[e]=function(){var e=t.format.apply(t,arguments)}}else o[e]=function(){};return o[e]},t.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=isArray,t.isBoolean=isBoolean,t.isNull=isNull,t.isNullOrUndefined=isNullOrUndefined,t.isNumber=isNumber,t.isString=isString,t.isSymbol=isSymbol,t.isUndefined=isUndefined,t.isRegExp=isRegExp,t.isObject=isObject,t.isDate=isDate,t.isError=isError,t.isFunction=isFunction,t.isPrimitive=isPrimitive,t.isBuffer=n(1526);var s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){},t.inherits=n(1527),t._extend=function(e,t){if(!t||!isObject(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(37),n(126))},function(e,t,n){"use strict";function makeEmptyFunction(e){return function(){return e}}var r=function emptyFunction(){};r.thatReturns=makeEmptyFunction,r.thatReturnsFalse=makeEmptyFunction(!1),r.thatReturnsTrue=makeEmptyFunction(!0),r.thatReturnsNull=makeEmptyFunction(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function _class(e){return Object.prototype.toString.call(e)}function isString(e){return"[object String]"===_class(e)}function has(e,t){return r.call(e,t)}function assign(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e}function arrayReplaceAt(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function isValidEntityCode(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function fromCodePoint(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function replaceEntityPattern(e,t){var n=0;return has(c,t)?c[t]:35===t.charCodeAt(0)&&s.test(t)&&(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),isValidEntityCode(n))?fromCodePoint(n):e}function unescapeMd(e){return e.indexOf("\\")<0?e:e.replace(i,"$1")}function unescapeAll(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(a,function(e,t,n){return t||replaceEntityPattern(e,n)})}function replaceUnsafeChar(e){return d[e]}function escapeHtml(e){return u.test(e)?e.replace(l,replaceUnsafeChar):e}function escapeRE(e){return e.replace(p,"\\$&")}function isSpace(e){switch(e){case 9:case 32:return!0}return!1}function isWhiteSpace(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(e){return h.test(e)}function isMdAsciiPunct(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(e){return e.trim().replace(/\s+/g," ").toUpperCase()}var r=Object.prototype.hasOwnProperty,i=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,o=/&([a-z#][a-z0-9]{1,31});/gi,a=new RegExp(i.source+"|"+o.source,"gi"),s=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,c=n(879),u=/[&<>"]/,l=/[&<>"]/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},p=/[.?*+^$[\]\\(){}|-]/g,h=n(774);t.lib={},t.lib.mdurl=n(880),t.lib.ucmicro=n(1123),t.assign=assign,t.isString=isString,t.has=has,t.unescapeMd=unescapeMd,t.unescapeAll=unescapeAll,t.isValidEntityCode=isValidEntityCode,t.fromCodePoint=fromCodePoint,t.escapeHtml=escapeHtml,t.arrayReplaceAt=arrayReplaceAt,t.isSpace=isSpace,t.isWhiteSpace=isWhiteSpace,t.isMdAsciiPunct=isMdAsciiPunct,t.isPunctChar=isPunctChar,t.escapeRE=escapeRE,t.normalizeReference=normalizeReference},function(e,t,n){var r=n(91),i=n(40);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(92),i=n(55),o=n(27),a=n(39),s=n(20),c=n(243),u=Object.getOwnPropertyDescriptor;t.f=n(12)?u:function getOwnPropertyDescriptor(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(20),i=n(16),o=n(161)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=null;e.exports={debugTool:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertionError=t.assert=void 0;var r=n(777),i=t.assert=function assert(e,t){if(!e)throw o(t)},o=t.assertionError=function assertionError(e){return new Error("Firebase Database ("+r.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)}},function(e,t,n){var r=n(19);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";function ensureInjected(){y.ReactReconcileTransaction&&g||r("123")}function ReactUpdatesFlushTransaction(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=o.getPooled(),this.reconcileTransaction=y.ReactReconcileTransaction.getPooled(!0)}function batchedUpdates(e,t,n,r,i,o){return ensureInjected(),g.batchedUpdates(e,t,n,r,i,o)}function mountOrderComparator(e,t){return e._mountOrder-t._mountOrder}function runBatchedUpdates(e){var t=e.dirtyComponentsLength;t!==d.length&&r("124",t,d.length),d.sort(mountOrderComparator),p++;for(var n=0;n<t;n++){var i=d[n],o=i._pendingCallbacks;i._pendingCallbacks=null;var a;if(s.logTopLevelRenders){var u=i;i._currentElement.type.isReactTopLevelWrapper&&(u=i._renderedComponent),a="React update: "+u.getName()}if(c.performUpdateIfNecessary(i,e.reconcileTransaction,p),o)for(var l=0;l<o.length;l++)e.callbackQueue.enqueue(o[l],i.getPublicInstance())}}function enqueueUpdate(e){ensureInjected(),g.isBatchingUpdates?(d.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=p+1)):g.batchedUpdates(enqueueUpdate,e)}function asap(e,t){g.isBatchingUpdates||r("125"),h.enqueue(e,t),f=!0}var r=n(6),i=n(9),o=n(218),a=n(53),s=n(219),c=n(74),u=n(98),l=n(2),d=[],p=0,h=o.getPooled(),f=!1,g=null,m=[{initialize:function(){this.dirtyComponentsLength=d.length},close:function(){this.dirtyComponentsLength!==d.length?(d.splice(0,this.dirtyComponentsLength),v()):d.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];i(ReactUpdatesFlushTransaction.prototype,u,{getTransactionWrappers:function(){return m},destructor:function(){this.dirtyComponentsLength=null,o.release(this.callbackQueue),this.callbackQueue=null,y.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return u.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),a.addPoolingTo(ReactUpdatesFlushTransaction);var v=function(){for(;d.length||f;){if(d.length){var e=ReactUpdatesFlushTransaction.getPooled();e.perform(runBatchedUpdates,null,e),ReactUpdatesFlushTransaction.release(e)}if(f){f=!1;var t=h;h=o.getPooled(),t.notifyAll(),o.release(t)}}},y={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:v,injection:{injectReconcileTransaction:function(e){e||r("126"),y.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||r("127"),"function"!=typeof e.batchedUpdates&&r("128"),"boolean"!=typeof e.isBatchingUpdates&&r("129"),g=e}},asap:asap};e.exports=y},function(e,t,n){"use strict";function setBufferImpl(e){f=e}Object.defineProperty(t,"__esModule",{value:!0}),t.setTimeoutNonBlocking=t.exportPropGetter=t.beingCrawled=t.callUserCallback=t.exceptionGuard=t.tryParseInt=t.INTEGER_REGEXP_=t.errorForServerCode=t.isWindowsStoreApp=t.isChromeExtensionContentScript=t.doubleToIEEE754String=t.bindCallback=t.each=t.splitStringBySize=t.ObjectToUniqueKey=t.requireKey=t.stringCompare=t.nameCompare=t.MAX_NAME=t.MIN_NAME=t.executeWhenDOMReady=t.isInvalidJSONNumber=t.warnAboutUnsupportedMethod=t.warnIfPageIsSecure=t.warn=t.fatal=t.error=t.logWrapper=t.log=t.enableLogging=t.logger=t.sha1=t.base64Decode=t.base64Encode=t.LUIDGenerator=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.setBufferImpl=setBufferImpl;var i=n(31),o=n(54),a=n(1347),s=n(1348),c=n(830),u=n(193),l=n(778),d=n(337),p=t.LUIDGenerator=function(){var e=1;return function(){return e++}}(),h=t.base64Encode=function base64Encode(e){var t=(0,c.stringToByteArray)(e);return a.base64.encodeByteArray(t,!0)},f,g=t.base64Decode=function base64Decode(e){try{return f?new f(e,"base64").toString("utf8"):a.base64.decodeString(e,!0)}catch(e){S("base64Decode failed: ",e)}return null},m=t.sha1=function sha1(e){var t=(0,c.stringToByteArray)(e),sha1=new s.Sha1;sha1.update(t);var n=sha1.digest();return a.base64.encodeByteArray(n)},v=function buildLogMessage_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",i=0;i<e.length;i++)Array.isArray(e[i])||e[i]&&"object"===r(e[i])&&"number"==typeof e[i].length?n+=buildLogMessage_.apply(null,e[i]):"object"===r(e[i])?n+=(0,u.stringify)(e[i]):n+=e[i],n+=" ";return n},y=t.logger=null,_=!0,b=t.enableLogging=function enableLogging(e,n){(0,i.assert)(!n||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?t.logger=y=void 0:"object"===r(console.log)&&(t.logger=y=function logger(e){})),n&&l.SessionStorage.set("logging_enabled",!0)):"function"==typeof e?t.logger=y=e:(t.logger=y=null,l.SessionStorage.remove("logging_enabled"))},S=t.log=function log(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===y&&!0===l.SessionStorage.get("logging_enabled")&&b(!0)),y){var n=v.apply(null,e);y(n)}},w=t.logWrapper=function logWrapper(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];S.apply(void 0,[e].concat(t))}},C=t.error=function error(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"!=typeof console){var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,e);console.error}},T=t.fatal=function fatal(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=v.apply(void 0,e);throw new Error("FIREBASE FATAL ERROR: "+n)},E=t.warn=function warn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"!=typeof console){var n="FIREBASE WARNING: "+v.apply(void 0,e);console.warn}},k=t.warnIfPageIsSecure=function warnIfPageIsSecure(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},x=t.warnAboutUnsupportedMethod=function warnAboutUnsupportedMethod(e){E(e+" is unsupported and will likely change soon.  Please do not use.")},I=t.isInvalidJSONNumber=function isInvalidJSONNumber(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},R=t.executeWhenDOMReady=function executeWhenDOMReady(e){if((0,d.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function wrappedFn_1(){document.body?t||(t=!0,e()):setTimeout(wrappedFn_1,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},O=t.MIN_NAME="[MIN_NAME]",P=t.MAX_NAME="[MAX_NAME]",A=t.nameCompare=function nameCompare(e,t){if(e===t)return 0;if(e===O||t===P)return-1;if(t===O||e===P)return 1;var n=q(e),r=q(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},M=t.stringCompare=function stringCompare(e,t){return e===t?0:e<t?-1:1},N=t.requireKey=function requireKey(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,u.stringify)(t))},D=t.ObjectToUniqueKey=function ObjectToUniqueKey(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return(0,u.stringify)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var i="{",o=0;o<t.length;o++)0!==o&&(i+=","),i+=(0,u.stringify)(t[o]),i+=":",i+=ObjectToUniqueKey(e[t[o]]);return i+="}"},L=t.splitStringBySize=function splitStringBySize(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r},F=t.each=function each(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else(0,o.forEach)(e,function(e,n){return t(n,e)})},U=t.bindCallback=function bindCallback(e,t){return t?e.bind(t):e},j=t.doubleToIEEE754String=function doubleToIEEE754String(e){(0,i.assert)(!I(e),"Invalid JSON number");var t=11,n=52,r=1023,o,a,s,c,u,l,d;for(0===e?(a=0,s=0,o=1/e==-1/0?1:0):(o=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(a=(c=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,s=Math.round(e*Math.pow(2,52-c)-Math.pow(2,52))):(a=0,s=Math.round(e/Math.pow(2,-1074)))),l=[],u=52;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(u=11;u;u-=1)l.push(a%2?1:0),a=Math.floor(a/2);l.push(o?1:0),l.reverse(),d=l.join("");var p="";for(u=0;u<64;u+=8){var h=parseInt(d.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),p+=h}return p.toLowerCase()},W=t.isChromeExtensionContentScript=function isChromeExtensionContentScript(){return!("object"!==("undefined"==typeof window?"undefined":r(window))||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},B=t.isWindowsStoreApp=function isWindowsStoreApp(){return"object"===("undefined"==typeof Windows?"undefined":r(Windows))&&"object"===r(Windows.UI)},H=t.errorForServerCode=function errorForServerCode(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r},z=t.INTEGER_REGEXP_=new RegExp("^-?\\d{1,10}$"),q=t.tryParseInt=function tryParseInt(e){if(z.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},V=t.exceptionGuard=function exceptionGuard(e){try{e()}catch(e){setTimeout(function(){var t=e.stack||"";throw E("Exception was thrown by user callback.",t),e},Math.floor(0))}},G=t.callUserCallback=function callUserCallback(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"function"==typeof e&&V(function(){e.apply(void 0,t)})},$=t.beingCrawled=function beingCrawled(){return("object"===("undefined"==typeof window?"undefined":r(window))&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},X=t.exportPropGetter=function exportPropGetter(e,t,n){Object.defineProperty(e,t,{get:n})},K=t.setTimeoutNonBlocking=function setTimeoutNonBlocking(e,t){var n=setTimeout(e,t);return"object"===(void 0===n?"undefined":r(n))&&n.unref&&n.unref(),n}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(0),i=n(38),o=n(7);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(32),i=n(91),o=n(16),a=n(14),s=n(178);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,d=6==e,p=5==e||d,h=t||s;return function(t,s,f){for(var g=o(t),m=i(g),v=r(s,f,3),y=a(m.length),_=0,b=n?h(t,y):c?h(t,0):void 0,S,w;y>_;_++)if((p||_ in m)&&(S=m[_],w=v(S,_,g),e))if(n)b[_]=w;else if(w)switch(e){case 3:return!0;case 5:return S;case 6:return _;case 2:b.push(S)}else if(l)return!1;return d?-1:u||l?l:b}}},function(e,t,n){"use strict";var r={current:null};e.exports=r},function(e,t,n){"use strict";function SyntheticEvent(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];s?this[a]=s(n):"target"===a?this.target=r:this[a]=n[a]}var c=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=c?o.thatReturnsTrue:o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse,this}function getPooledWarningPropertyDefinition(e,t){function set(e){return warn(n?"setting the method":"setting the property","This is effectively a no-op"),e}function get(){return warn(n?"accessing the method":"accessing the property",n?"This is a no-op function":"This is set to null"),t}function warn(e,t){var n=!1}var n="function"==typeof t;return{configurable:!0,set:set,get:get}}var r=n(9),i=n(53),o=n(25),a=n(5),s=!1,c="function"==typeof Proxy,u=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"],l={type:null,target:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=o.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=o.thatReturnsTrue)},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<u.length;n++)this[u[n]]=null}}),SyntheticEvent.Interface=l,SyntheticEvent.augmentClass=function(e,t){var n=this,o=function(){};o.prototype=n.prototype;var a=new o;r(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=r({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(SyntheticEvent,i.fourArgumentPooler),e.exports=SyntheticEvent},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";function warning(e){"undefined"!=typeof console&&console.error;try{throw new Error(e)}catch(e){}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function warnAboutReceivingStore(){d||(d=!0,warning("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function createProvider(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||t+"Subscription",r=function(e){function Provider(n,r){_classCallCheck(this,Provider);var i=_possibleConstructorReturn(this,e.call(this,n,r));return i[t]=n.store,i}return _inherits(Provider,e),Provider.prototype.getChildContext=function getChildContext(){var e;return e={},e[t]=this[t],e[n]=null,e},Provider.prototype.render=function render(){return s.Children.only(this.props.children)},Provider}(s.Component);return r.propTypes={store:a.isRequired,children:l.a.element.isRequired},r.childContextTypes=(e={},e[t]=a.isRequired,e[n]=o,e),r.displayName="Provider",r}function Subscription__classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function createListenerCollection(){var e=[],t=[];return{clear:function clear(){t=h,e=h},notify:function notify(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},subscribe:function subscribe(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function unsubscribe(){r&&e!==h&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}function connectAdvanced__classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function connectAdvanced__possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function connectAdvanced__inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function noop(){}function makeSelectorStateful(e,t){var n={run:function runComponentSelector(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function connectAdvanced(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.getDisplayName,s=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,c=r.methodName,u=void 0===c?"connectAdvanced":c,l=r.renderCountProp,d=void 0===l?void 0:l,p=r.shouldHandleStateChanges,h=void 0===p||p,f=r.storeKey,m=void 0===f?"store":f,y=r.withRef,S=void 0!==y&&y,E=_objectWithoutProperties(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),k=m+"Subscription",x=C++,I=(t={},t[m]=a,t[k]=o,t),R=(n={},n[k]=o,n);return function wrapWithConnect(t){_()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=s(n),i=w({},E,{getDisplayName:s,methodName:u,renderCountProp:d,shouldHandleStateChanges:h,storeKey:m,withRef:S,displayName:r,wrappedComponentName:n,WrappedComponent:t}),o=function(n){function Connect(e,t){connectAdvanced__classCallCheck(this,Connect);var i=connectAdvanced__possibleConstructorReturn(this,n.call(this,e,t));return i.version=x,i.state={},i.renderCount=0,i.store=e[m]||t[m],i.propsMode=Boolean(e[m]),i.setWrappedInstance=i.setWrappedInstance.bind(i),_()(i.store,'Could not find "'+m+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+m+'" as a prop to "'+r+'".'),i.initSelector(),i.initSubscription(),i}return connectAdvanced__inherits(Connect,n),Connect.prototype.getChildContext=function getChildContext(){var e,t=this.propsMode?null:this.subscription;return e={},e[k]=t||this.context[k],e},Connect.prototype.componentDidMount=function componentDidMount(){h&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},Connect.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){this.selector.run(e)},Connect.prototype.shouldComponentUpdate=function shouldComponentUpdate(){return this.selector.shouldComponentUpdate},Connect.prototype.componentWillUnmount=function componentWillUnmount(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=noop,this.store=null,this.selector.run=noop,this.selector.shouldComponentUpdate=!1},Connect.prototype.getWrappedInstance=function getWrappedInstance(){return _()(S,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+u+"() call."),this.wrappedInstance},Connect.prototype.setWrappedInstance=function setWrappedInstance(e){this.wrappedInstance=e},Connect.prototype.initSelector=function initSelector(){var t=e(this.store.dispatch,i);this.selector=makeSelectorStateful(t,this.store),this.selector.run(this.props)},Connect.prototype.initSubscription=function initSubscription(){if(h){var e=(this.propsMode?this.props:this.context)[k];this.subscription=new g(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},Connect.prototype.onStateChange=function onStateChange(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(T)):this.notifyNestedSubs()},Connect.prototype.notifyNestedSubsOnComponentDidUpdate=function notifyNestedSubsOnComponentDidUpdate(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},Connect.prototype.isSubscribed=function isSubscribed(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},Connect.prototype.addExtraProps=function addExtraProps(e){if(!(S||d||this.propsMode&&this.subscription))return e;var t=w({},e);return S&&(t.ref=this.setWrappedInstance),d&&(t[d]=this.renderCount++),this.propsMode&&this.subscription&&(t[k]=this.subscription),t},Connect.prototype.render=function render(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(b.createElement)(t,this.addExtraProps(e.props))},Connect}(b.Component);return o.WrappedComponent=t,o.displayName=r,o.childContextTypes=R,o.contextTypes=I,o.propTypes=I,v()(o,t)}}function is(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function shallowEqual(e,t){if(is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!E.call(t,n[i])||!is(e[n[i]],t[n[i]]))return!1;return!0}function verifyPlainObject_verifyPlainObject(e,t,n){Object(k.a)(e)||warning(n+"() in "+t+" must return a plain object. Instead received "+e+".")}function wrapMapToPropsConstant(e){return function initConstantSelector(t,n){function constantSelector(){return r}var r=e(t,n);return constantSelector.dependsOnOwnProps=!1,constantSelector}}function getDependsOnOwnProps(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function wrapMapToPropsFunc(e,t){return function initProxySelector(t,n){var r=n.displayName,i=function mapToPropsProxy(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function detectFactoryAndVerify(t,n){i.mapToProps=e,i.dependsOnOwnProps=getDependsOnOwnProps(e);var r=i(t,n);return"function"==typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=getDependsOnOwnProps(r),r=i(t,n)),r},i}}function whenMapDispatchToPropsIsFunction(e){return"function"==typeof e?wrapMapToPropsFunc(e,"mapDispatchToProps"):void 0}function whenMapDispatchToPropsIsMissing(e){return e?void 0:wrapMapToPropsConstant(function(e){return{dispatch:e}})}function whenMapDispatchToPropsIsObject(e){return e&&"object"==typeof e?wrapMapToPropsConstant(function(t){return Object(x.bindActionCreators)(e,t)}):void 0}function whenMapStateToPropsIsFunction(e){return"function"==typeof e?wrapMapToPropsFunc(e,"mapStateToProps"):void 0}function whenMapStateToPropsIsMissing(e){return e?void 0:wrapMapToPropsConstant(function(){return{}})}function defaultMergeProps(e,t,n){return O({},n,e,t)}function wrapMergePropsFunc(e){return function initMergePropsProxy(t,n){var r=n.displayName,i=n.pure,o=n.areMergedPropsEqual,a=!1,s=void 0;return function mergePropsProxy(t,n,r){var c=e(t,n,r);return a?i&&o(c,s)||(s=c):(a=!0,s=c),s}}}function whenMergePropsIsFunction(e){return"function"==typeof e?wrapMergePropsFunc(e):void 0}function whenMergePropsIsOmitted(e){return e?void 0:function(){return defaultMergeProps}}function verify(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||warning("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function verifySubselectors_verifySubselectors(e,t,n,r){verify(e,"mapStateToProps",r),verify(t,"mapDispatchToProps",r),verify(n,"mergeProps",r)}function selectorFactory__objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function impureFinalPropsSelectorFactory(e,t,n,r){return function impureFinalPropsSelector(i,o){return n(e(i,o),t(r,o),o)}}function pureFinalPropsSelectorFactory(e,t,n,r,i){function handleFirstCall(i,o){return u=i,l=o,d=e(u,l),p=t(r,l),h=n(d,p,l),c=!0,h}function handleNewPropsAndNewState(){return d=e(u,l),t.dependsOnOwnProps&&(p=t(r,l)),h=n(d,p,l)}function handleNewProps(){return e.dependsOnOwnProps&&(d=e(u,l)),t.dependsOnOwnProps&&(p=t(r,l)),h=n(d,p,l)}function handleNewState(){var t=e(u,l),r=!s(t,d);return d=t,r&&(h=n(d,p,l)),h}function handleSubsequentCalls(e,t){var n=!a(t,l),r=!o(e,u);return u=e,l=t,n&&r?handleNewPropsAndNewState():n?handleNewProps():r?handleNewState():h}var o=i.areStatesEqual,a=i.areOwnPropsEqual,s=i.areStatePropsEqual,c=!1,u=void 0,l=void 0,d=void 0,p=void 0,h=void 0;return function pureFinalPropsSelector(e,t){return c?handleSubsequentCalls(e,t):handleFirstCall(e,t)}}function finalPropsSelectorFactory(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=selectorFactory__objectWithoutProperties(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),c=i(e,o);return(o.pure?pureFinalPropsSelectorFactory:impureFinalPropsSelectorFactory)(a,s,c,e,o)}function connect__objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function match(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function strictEqual(e,t){return e===t}function createConnect(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?connectAdvanced:t,r=e.mapStateToPropsFactories,i=void 0===r?R:r,o=e.mapDispatchToPropsFactories,a=void 0===o?I:o,s=e.mergePropsFactories,c=void 0===s?P:s,u=e.selectorFactory,l=void 0===u?finalPropsSelectorFactory:u;return function connect(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o.pure,u=void 0===s||s,d=o.areStatesEqual,p=void 0===d?strictEqual:d,h=o.areOwnPropsEqual,f=void 0===h?shallowEqual:h,g=o.areStatePropsEqual,m=void 0===g?shallowEqual:g,v=o.areMergedPropsEqual,y=void 0===v?shallowEqual:v,_=connect__objectWithoutProperties(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=match(e,i,"mapStateToProps"),S=match(t,a,"mapDispatchToProps"),w=match(r,c,"mergeProps");return n(l,A({methodName:"connect",getDisplayName:function getDisplayName(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:b,initMapDispatchToProps:S,initMergeProps:w,pure:u,areStatesEqual:p,areOwnPropsEqual:f,areStatePropsEqual:m,areMergedPropsEqual:y},_))}}var r=n(17),i=n.n(r),o=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),a=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired}),s=n(1),c=n.n(s),u=n(17),l=n.n(u),d=!1,p=createProvider(),h=null,f={notify:function notify(){}},g=function(){function Subscription(e,t,n){Subscription__classCallCheck(this,Subscription),this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=f}return Subscription.prototype.addNestedSub=function addNestedSub(e){return this.trySubscribe(),this.listeners.subscribe(e)},Subscription.prototype.notifyNestedSubs=function notifyNestedSubs(){this.listeners.notify()},Subscription.prototype.isSubscribed=function isSubscribed(){return Boolean(this.unsubscribe)},Subscription.prototype.trySubscribe=function trySubscribe(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=createListenerCollection())},Subscription.prototype.tryUnsubscribe=function tryUnsubscribe(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=f)},Subscription}(),m=n(344),v=n.n(m),y=n(68),_=n.n(y),b=n(1),S=n.n(b),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=0,T={},E=Object.prototype.hasOwnProperty,k=n(190),x=n(189),I=[whenMapDispatchToPropsIsFunction,whenMapDispatchToPropsIsMissing,whenMapDispatchToPropsIsObject],R=[whenMapStateToPropsIsFunction,whenMapStateToPropsIsMissing],O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P=[whenMergePropsIsFunction,whenMergePropsIsOmitted],A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M=createConnect();n.d(t,"Provider",function(){return p}),n.d(t,"createProvider",function(){return createProvider}),n.d(t,"connectAdvanced",function(){return connectAdvanced}),n.d(t,"connect",function(){return M})},function(e,t,n){var r=n(287),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){"use strict";if(n(12)){var r=n(57),i=n(4),o=n(7),a=n(0),s=n(119),c=n(184),u=n(32),l=n(63),d=n(55),p=n(21),h=n(65),f=n(41),g=n(14),m=n(269),v=n(59),y=n(39),_=n(20),b=n(93),S=n(8),w=n(16),C=n(175),T=n(60),E=n(29),k=n(61).f,x=n(177),I=n(56),R=n(10),O=n(43),P=n(110),A=n(117),M=n(180),N=n(83),D=n(114),L=n(62),F=n(179),U=n(259),j=n(13),W=n(28),B=j.f,H=W.f,z=i.RangeError,q=i.TypeError,V=i.Uint8Array,G="ArrayBuffer",$="SharedArrayBuffer",X="BYTES_PER_ELEMENT",K="prototype",Y=Array[K],Q=c.ArrayBuffer,J=c.DataView,Z=O(0),ee=O(2),te=O(3),ne=O(4),re=O(5),ie=O(6),oe=P(!0),ae=P(!1),se=M.values,ce=M.keys,ue=M.entries,le=Y.lastIndexOf,de=Y.reduce,pe=Y.reduceRight,he=Y.join,fe=Y.sort,ge=Y.slice,me=Y.toString,ve=Y.toLocaleString,ye=R("iterator"),_e=R("toStringTag"),be=I("typed_constructor"),Se=I("def_constructor"),we=s.CONSTR,Ce=s.TYPED,Te=s.VIEW,Ee="Wrong length!",ke=O(1,function(e,t){return Pe(A(e,e[Se]),t)}),xe=o(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Ie=!!V&&!!V[K].set&&o(function(){new V(1).set({})}),Re=function(e,t){var n=f(e);if(n<0||n%t)throw z("Wrong offset!");return n},Oe=function(e){if(S(e)&&Ce in e)return e;throw q(e+" is not a typed array!")},Pe=function(e,t){if(!(S(e)&&be in e))throw q("It is not a typed array constructor!");return new e(t)},Ae=function(e,t){return Me(A(e,e[Se]),t)},Me=function(e,t){for(var n=0,r=t.length,i=Pe(e,r);r>n;)i[n]=t[n++];return i},Ne=function(e,t,n){B(e,t,{get:function(){return this._d[n]}})},De=function from(e){var t=w(e),n=arguments.length,r=n>1?arguments[1]:void 0,i=void 0!==r,o=x(t),a,s,c,l,d,p;if(void 0!=o&&!C(o)){for(p=o.call(t),c=[],a=0;!(d=p.next()).done;a++)c.push(d.value);t=c}for(i&&n>2&&(r=u(r,arguments[2],2)),a=0,s=g(t.length),l=Pe(this,s);s>a;a++)l[a]=i?r(t[a],a):t[a];return l},Le=function of(){for(var e=0,t=arguments.length,n=Pe(this,t);t>e;)n[e]=arguments[e++];return n},Fe=!!V&&o(function(){ve.call(new V(1))}),Ue=function toLocaleString(){return ve.apply(Fe?ge.call(Oe(this)):Oe(this),arguments)},je={copyWithin:function copyWithin(e,t){return U.call(Oe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function every(e){return ne(Oe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function fill(e){return F.apply(Oe(this),arguments)},filter:function filter(e){return Ae(this,ee(Oe(this),e,arguments.length>1?arguments[1]:void 0))},find:function find(e){return re(Oe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function findIndex(e){return ie(Oe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function forEach(e){Z(Oe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function indexOf(e){return ae(Oe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function includes(e){return oe(Oe(this),e,arguments.length>1?arguments[1]:void 0)},join:function join(e){return he.apply(Oe(this),arguments)},lastIndexOf:function lastIndexOf(e){return le.apply(Oe(this),arguments)},map:function map(e){return ke(Oe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function reduce(e){return de.apply(Oe(this),arguments)},reduceRight:function reduceRight(e){return pe.apply(Oe(this),arguments)},reverse:function reverse(){for(var e=this,t=Oe(e).length,n=Math.floor(t/2),r=0,i;r<n;)i=e[r],e[r++]=e[--t],e[t]=i;return e},some:function some(e){return te(Oe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function sort(e){return fe.call(Oe(this),e)},subarray:function subarray(e,t){var n=Oe(this),r=n.length,i=v(e,r);return new(A(n,n[Se]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===t?r:v(t,r))-i))}},We=function slice(e,t){return Ae(this,ge.call(Oe(this),e,t))},Be=function set(e){Oe(this);var t=Re(arguments[1],1),n=this.length,r=w(e),i=g(r.length),o=0;if(i+t>n)throw z(Ee);for(;o<i;)this[t+o]=r[o++]},He={entries:function entries(){return ue.call(Oe(this))},keys:function keys(){return ce.call(Oe(this))},values:function values(){return se.call(Oe(this))}},ze=function(e,t){return S(e)&&e[Ce]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function getOwnPropertyDescriptor(e,t){return ze(e,t=y(t,!0))?d(2,e[t]):H(e,t)},Ve=function defineProperty(e,t,n){return!(ze(e,t=y(t,!0))&&S(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?B(e,t,n):(e[t]=n.value,e)};we||(W.f=qe,j.f=Ve),a(a.S+a.F*!we,"Object",{getOwnPropertyDescriptor:qe,defineProperty:Ve}),o(function(){me.call({})})&&(me=ve=function toString(){return he.call(this)});var Ge=h({},je);h(Ge,He),p(Ge,ye,He.values),h(Ge,{slice:We,set:Be,constructor:function(){},toString:me,toLocaleString:Ue}),Ne(Ge,"buffer","b"),Ne(Ge,"byteOffset","o"),Ne(Ge,"byteLength","l"),Ne(Ge,"length","e"),B(Ge,_e,{get:function(){return this[Ce]}}),e.exports=function(e,t,n,c){var u=e+((c=!!c)?"Clamped":"")+"Array",d="get"+e,h="set"+e,f=i[u],v=f||{},y=f&&E(f),_=!f||!s.ABV,w={},C=f&&f[K],x=function(e,n){var r=e._d;return r.v[d](n*t+r.o,xe)},I=function(e,n,r){var i=e._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[h](n*t+i.o,r,xe)},R=function(e,t){B(e,t,{get:function(){return x(this,t)},set:function(e){return I(this,t,e)},enumerable:!0})};_?(f=n(function(e,n,r,i){l(e,f,u,"_d");var o=0,a=0,s,c,d,h;if(S(n)){if(!(n instanceof Q||(h=b(n))==G||h==$))return Ce in n?Me(f,n):De.call(f,n);s=n,a=Re(r,t);var v=n.byteLength;if(void 0===i){if(v%t)throw z(Ee);if((c=v-a)<0)throw z(Ee)}else if((c=g(i)*t)+a>v)throw z(Ee);d=c/t}else d=m(n),s=new Q(c=d*t);for(p(e,"_d",{b:s,o:a,l:c,e:d,v:new J(s)});o<d;)R(e,o++)}),C=f[K]=T(Ge),p(C,"constructor",f)):o(function(){f(1)})&&o(function(){new f(-1)})&&D(function(e){new f,new f(null),new f(1.5),new f(e)},!0)||(f=n(function(e,n,r,i){l(e,f,u);var o;return S(n)?n instanceof Q||(o=b(n))==G||o==$?void 0!==i?new v(n,Re(r,t),i):void 0!==r?new v(n,Re(r,t)):new v(n):Ce in n?Me(f,n):De.call(f,n):new v(m(n))}),Z(y!==Function.prototype?k(v).concat(k(y)):k(v),function(e){e in f||p(f,e,v[e])}),f[K]=C,r||(C.constructor=f));var O=C[ye],P=!!O&&("values"==O.name||void 0==O.name),A=He.values;p(f,be,!0),p(C,Ce,u),p(C,Te,!0),p(C,Se,f),(c?new f(1)[_e]==u:_e in C)||B(C,_e,{get:function(){return u}}),w[u]=f,a(a.G+a.W+a.F*(f!=v),w),a(a.S,u,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){v.of.call(f,1)}),u,{from:De,of:Le}),X in C||p(C,X,t),a(a.P,u,je),L(u),a(a.P+a.F*Ie,u,{set:Be}),a(a.P+a.F*!P,u,He),r||C.toString==me||(C.toString=me),a(a.P+a.F*o(function(){new f(1).slice()}),u,{slice:We}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!o(function(){C.toLocaleString.call([1,2])})),u,{toLocaleString:Ue}),N[u]=P?O:A,r||P||p(C,ye,A)}}else e.exports=function(){}},function(e,t,n){var r=n(264),i=n(0),o=n(109)("metadata"),a=o.store||(o.store=new(n(267))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o},c=function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},u=function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},l=function(e,t,n,r){s(n,r,!0).set(e,t)},d=function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},p=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},h=function(e){i(i.S,"Reflect",e)};e.exports={store:a,map:s,has:c,get:u,set:l,keys:d,key:p,exp:h}},function(e,t,n){var r=n(56)("meta"),i=n(8),o=n(20),a=n(13).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(7)(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},p=function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},h=function(e){return u&&f.NEED&&c(e)&&!o(e,r)&&l(e),e},f=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:p,onFreeze:h}},function(e,t,n){var r=n(10)("unscopables"),i=Array.prototype;void 0==i[r]&&n(21)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){"use strict";var r=n(6),i=n(2),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},a=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},s=10,c=o,u={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=10),n.release=a,n},oneArgumentPooler:o,twoArgumentPooler:function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},threeArgumentPooler:function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},fourArgumentPooler:function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)}};e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=t.contains=function contains(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o=t.safeGet=function safeGet(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},a=t.forEach=function forEach(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},s=t.extend=function extend(e,t){return a(t,function(t,n){e[t]=n}),e},c=t.clone=function clone(e){return s({},e)},u=t.isNonNullObject=function isNonNullObject(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e},l=t.isEmpty=function isEmpty(e){for(var t in e)return!1;return!0},d=t.getCount=function getCount(e){var t=0;for(var n in e)t++;return t},p=t.map=function map(e,t,n){var r={};for(var i in e)r[i]=t.call(n,e[i],i,e);return r},h=t.findKey=function findKey(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},f=t.findValue=function findValue(e,t,n){var r=h(e,t,n);return r&&e[r]},g=t.getAnyKey=function getAnyKey(e){for(var t in e)return t},m=t.getValues=function getValues(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},v=t.every=function every(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(245),i=n(162);e.exports=Object.keys||function keys(e){return r(e,i)}},function(e,t,n){var r=n(41),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(3),i=n(246),o=n(162),a=n(161)("IE_PROTO"),s=function(){},c="prototype",u=function(){var e=n(159)("iframe"),t=o.length,r="<",i=">",a;for(e.style.display="none",n(163).appendChild(e),e.src="javascript:",(a=e.contentWindow.document).open(),a.write("<script>document.F=Object<\/script>"),a.close(),u=a.F;t--;)delete u[c][o[t]];return u()};e.exports=Object.create||function create(e,t){var n;return null!==e?(s[c]=r(e),n=new s,s[c]=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(245),i=n(162).concat("length","prototype");t.f=Object.getOwnPropertyNames||function getOwnPropertyNames(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(4),i=n(13),o=n(12),a=n(10)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(32),i=n(257),o=n(175),a=n(3),s=n(14),c=n(177),u={},l={};(t=e.exports=function(e,t,n,d,p){var h=p?function(){return e}:c(e),f=r(n,d,t?2:1),g=0,m,v,y,_;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(o(h)){for(m=s(e.length);m>g;g++)if((_=t?f(a(v=e[g])[0],v[1]):f(e[g]))===u||_===l)return _}else for(y=h.call(e);!(v=y.next()).done;)if((_=i(y,f,v.value,t))===u||_===l)return _}).BREAK=u,t.RETURN=l},function(e,t,n){var r=n(22);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function classTest(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function removeChildren(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(e,t){return removeChildren(e).appendChild(t)}function elt(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function eltP(e,t,n,r){var i=elt(e,t,n,r);return i.setAttribute("role","presentation"),i}function contains(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function activeElt(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function addClass(e,t){var n=e.className;classTest(t).test(n)||(e.className+=(n?" ":"")+t)}function joinClasses(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!classTest(n[r]).test(t)&&(t+=" "+n[r]);return t}function bind(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function copyObj(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function countColumn(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}function indexOf(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function findColumn(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function spaceStr(e){for(;M.length<=e;)M.push(lst(M)+" ");return M[e]}function lst(e){return e[e.length-1]}function map(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function insertSorted(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function nothing(){}function createObj(e,t){var n;return Object.create?n=Object.create(e):(nothing.prototype=e,n=new nothing),t&&copyObj(t,n),n}function isWordCharBasic(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||N.test(e))}function isWordChar(e,t){return t?!!(t.source.indexOf("\\w")>-1&&isWordCharBasic(e))||t.test(e):isWordCharBasic(e)}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function isExtendingChar(e){return e.charCodeAt(0)>=768&&D.test(e)}function skipExtendingChars(e,t,n){for(;(n<0?t>0:t<e.length)&&isExtendingChar(e.charAt(t));)t+=n;return t}function findFirst(e,t,n){for(;;){if(Math.abs(t-n)<=1)return e(t)?t:n;var r=Math.floor((t+n)/2);e(r)?n=r:t=r}}function Display(e,t,r){var i=this;this.input=r,i.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=elt("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=eltP("div",null,"CodeMirror-code"),i.selectionDiv=elt("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=elt("div",null,"CodeMirror-cursors"),i.measure=elt("div",null,"CodeMirror-measure"),i.lineMeasure=elt("div",null,"CodeMirror-measure"),i.lineSpace=eltP("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=eltP("div",[i.lineSpace],"CodeMirror-lines");i.mover=elt("div",[o],null,"position: relative"),i.sizer=elt("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=elt("div",null,null,"position: absolute; height: "+I+"px; width: 1px;"),i.gutters=elt("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=elt("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=elt("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),c||n&&v||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,r.init(i)}function getLine(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function getBetween(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function getLines(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function updateLineHeight(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function lineNo(e){if(null==e.parent)return null;for(var t=e.parent,n=indexOf(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function lineAtHeight(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function isLine(e,t){return t>=e.first&&t<e.first+e.size}function lineNumberFor(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Pos(e,t,n){if(void 0===n&&(n=null),!(this instanceof Pos))return new Pos(e,t,n);this.line=e,this.ch=t,this.sticky=n}function cmp(e,t){return e.line-t.line||e.ch-t.ch}function equalCursorPos(e,t){return e.sticky==t.sticky&&0==cmp(e,t)}function copyPos(e){return Pos(e.line,e.ch)}function maxPos(e,t){return cmp(e,t)<0?t:e}function minPos(e,t){return cmp(e,t)<0?e:t}function clipLine(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function clipPos(e,t){if(t.line<e.first)return Pos(e.first,0);var n=e.first+e.size-1;return t.line>n?Pos(n,getLine(e,n).text.length):clipToLen(t,getLine(e,t.line).text.length)}function clipToLen(e,t){var n=e.ch;return null==n||n>t?Pos(e.line,t):n<0?Pos(e.line,0):e}function clipPosArray(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=clipPos(e,t[r]);return n}function seeReadOnlySpans(){L=!0}function seeCollapsedSpans(){F=!0}function MarkedSpan(e,t,n){this.marker=e,this.from=t,this.to=n}function getMarkedSpanFor(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function removeMarkedSpan(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function addMarkedSpan(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function markedSpansBefore(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new MarkedSpan(a,o.from,s?null:o.to))}}return r}function markedSpansAfter(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new MarkedSpan(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}function stretchSpansOverChange(e,t){if(t.full)return null;var n=isLine(e,t.from.line)&&getLine(e,t.from.line).markedSpans,r=isLine(e,t.to.line)&&getLine(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==cmp(t.from,t.to),s=markedSpansBefore(n,i,a),c=markedSpansAfter(r,o,a),u=1==t.text.length,l=lst(t.text).length+(u?i:0);if(s)for(var d=0;d<s.length;++d){var p=s[d];if(null==p.to){var h=getMarkedSpanFor(c,p.marker);h?u&&(p.to=null==h.to?null:h.to+l):p.to=i}}if(c)for(var f=0;f<c.length;++f){var g=c[f];null!=g.to&&(g.to+=l),null==g.from?getMarkedSpanFor(s,g.marker)||(g.from=l,u&&(s||(s=[])).push(g)):(g.from+=l,u&&(s||(s=[])).push(g))}s&&(s=clearEmptySpans(s)),c&&c!=s&&(c=clearEmptySpans(c));var m=[s];if(!u){var v=t.text.length-2,y;if(v>0&&s)for(var _=0;_<s.length;++_)null==s[_].to&&(y||(y=[])).push(new MarkedSpan(s[_].marker,null,null));for(var b=0;b<v;++b)m.push(y);m.push(c)}return m}function clearEmptySpans(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function removeReadOnlyRanges(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=indexOf(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),c=0;c<i.length;++c){var u=i[c];if(!(cmp(u.to,s.from)<0||cmp(u.from,s.to)>0)){var l=[c,1],d=cmp(u.from,s.from),p=cmp(u.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&l.push({from:u.from,to:s.from}),(p>0||!a.inclusiveRight&&!p)&&l.push({from:s.to,to:u.to}),i.splice.apply(i,l),c+=l.length-3}}return i}function detachMarkedSpans(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function attachMarkedSpans(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function extraLeft(e){return e.inclusiveLeft?-1:0}function extraRight(e){return e.inclusiveRight?1:0}function compareCollapsedMarkers(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=cmp(r.from,i.from)||extraLeft(e)-extraLeft(t);if(o)return-o;var a=cmp(r.to,i.to)||extraRight(e)-extraRight(t);return a||t.id-e.id}function collapsedSpanAtSide(e,t){var n=F&&e.markedSpans,r;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||compareCollapsedMarkers(r,i.marker)<0)&&(r=i.marker);return r}function collapsedSpanAtStart(e){return collapsedSpanAtSide(e,!0)}function collapsedSpanAtEnd(e){return collapsedSpanAtSide(e,!1)}function conflictingCollapsedRange(e,t,n,r,i){var o=getLine(e,t),a=F&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var c=a[s];if(c.marker.collapsed){var u=c.marker.find(0),l=cmp(u.from,n)||extraLeft(c.marker)-extraLeft(i),d=cmp(u.to,r)||extraRight(c.marker)-extraRight(i);if(!(l>=0&&d<=0||l<=0&&d>=0)&&(l<=0&&(c.marker.inclusiveRight&&i.inclusiveLeft?cmp(u.to,n)>=0:cmp(u.to,n)>0)||l>=0&&(c.marker.inclusiveRight&&i.inclusiveLeft?cmp(u.from,r)<=0:cmp(u.from,r)<0)))return!0}}}function visualLine(e){for(var t;t=collapsedSpanAtStart(e);)e=t.find(-1,!0).line;return e}function visualLineEnd(e){for(var t;t=collapsedSpanAtEnd(e);)e=t.find(1,!0).line;return e}function visualLineContinued(e){for(var t,n;t=collapsedSpanAtEnd(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function visualLineNo(e,t){var n=getLine(e,t),r=visualLine(n);return n==r?t:lineNo(r)}function visualLineEndNo(e,t){if(t>e.lastLine())return t;var n=getLine(e,t),r;if(!lineIsHidden(e,n))return t;for(;r=collapsedSpanAtEnd(n);)n=r.find(1,!0).line;return lineNo(n)+1}function lineIsHidden(e,t){var n=F&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&lineIsHiddenInner(e,t,r))return!0}}function lineIsHiddenInner(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return lineIsHiddenInner(e,r.line,getMarkedSpanFor(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&lineIsHiddenInner(e,t,i))return!0}function heightAtLine(e){for(var t=0,n=(e=visualLine(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function lineLength(e){if(0==e.height)return 0;for(var t=e.text.length,n,r=e;n=collapsedSpanAtStart(r);){var i=n.find(0,!0);r=i.from.line,t+=i.from.ch-i.to.ch}for(r=e;n=collapsedSpanAtEnd(r);){var o=n.find(0,!0);t-=r.text.length-o.from.ch,t+=(r=o.to.line).text.length-o.to.ch}return t}function findMaxLine(e){var t=e.display,n=e.doc;t.maxLine=getLine(n,n.first),t.maxLineLength=lineLength(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=lineLength(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function iterateBidiSections(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function getBidiPartAt(e,t,n){var r;U=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:U=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:U=i)}return null!=r?r:U}function getOrder(e,t){var n=e.order;return null==n&&(n=e.order=j(e.text,t)),n}function moveCharLogically(e,t,n){var r=skipExtendingChars(e.text,t+n,n);return r<0||r>e.text.length?null:r}function moveLogically(e,t,n){var r=moveCharLogically(e,t.ch,n);return null==r?null:new Pos(t.line,r,n<0?"after":"before")}function endOfLine(e,t,n,r,i){if(e){var o=getOrder(n,t.doc.direction);if(o){var a=i<0?lst(o):o[0],s=i<0==(1==a.level)?"after":"before",c;if(a.level>0){var u=prepareMeasureForLine(t,n);c=i<0?n.text.length-1:0;var l=measureCharPrepared(t,u,c).top;c=findFirst(function(e){return measureCharPrepared(t,u,e).top==l},i<0==(1==a.level)?a.from:a.to-1,c),"before"==s&&(c=moveCharLogically(n,c,1))}else c=i<0?a.to:a.from;return new Pos(r,c,s)}}return new Pos(r,i<0?n.text.length:0,i<0?"before":"after")}function moveVisually(e,t,n,r){var i=getOrder(t,e.doc.direction);if(!i)return moveLogically(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=getBidiPartAt(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return moveLogically(t,n,r);var s=function(e,n){return moveCharLogically(t,e instanceof Pos?e.ch:e,n)},c,u=function(n){return e.options.lineWrapping?(c=c||prepareMeasureForLine(e,t),wrappedLineExtentChar(e,t,c,n)):{begin:0,end:t.text.length}},l=u("before"==n.sticky?s(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,p=s(n,d?1:-1);if(null!=p&&(d?p<=a.to&&p<=l.end:p>=a.from&&p>=l.begin)){var h=d?"before":"after";return new Pos(n.line,p,h)}}var f=function(e,t,r){for(var o=function(e,t){return t?new Pos(n.line,s(e,1),"before"):new Pos(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],c=t>0==(1!=a.level),u=c?r.begin:s(r.end,-1);if(a.from<=u&&u<a.to)return o(u,c);if(u=c?a.from:s(a.to,-1),r.begin<=u&&u<r.end)return o(u,c)}},g=f(o+r,r,l);if(g)return g;var m=r>0?l.end:s(l.begin,-1);return null==m||r>0&&m==t.text.length||!(g=f(r>0?0:i.length-1,r,u(m)))?null:g}function getHandlers(e,t){return e._handlers&&e._handlers[t]||W}function off(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=indexOf(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function signal(e,t){var n=getHandlers(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function signalDOMEvent(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),signal(e,n||t.type,e,t),e_defaultPrevented(t)||t.codemirrorIgnore}function signalCursorActivity(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==indexOf(n,t[r])&&n.push(t[r])}function hasHandler(e,t){return getHandlers(e,t).length>0}function eventMixin(e){e.prototype.on=function(e,t){B(this,e,t)},e.prototype.off=function(e,t){off(this,e,t)}}function e_preventDefault(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function e_stopPropagation(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function e_defaultPrevented(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function e_stop(e){e_preventDefault(e),e_stopPropagation(e)}function e_target(e){return e.target||e.srcElement}function e_button(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}function zeroWidthElement(e){if(null==z){var t=elt("span","​");removeChildrenAndAdd(e,elt("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(z=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=z?elt("span","​"):elt("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function hasBadBidiRects(e){if(null!=q)return q;var t=removeChildrenAndAdd(e,document.createTextNode("AخA")),n=E(t,0,1).getBoundingClientRect(),r=E(t,1,2).getBoundingClientRect();return removeChildren(e),!(!n||n.left==n.right)&&(q=r.right-n.right<3)}function hasBadZoomedRects(e){if(null!=X)return X;var t=removeChildrenAndAdd(e,elt("span","x")),n=t.getBoundingClientRect(),r=E(t,0,1).getBoundingClientRect();return X=Math.abs(n.left-r.left)>1}function defineMode(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),K[e]=t}function defineMIME(e,t){Y[e]=t}function resolveMode(e){if("string"==typeof e&&Y.hasOwnProperty(e))e=Y[e];else if(e&&"string"==typeof e.name&&Y.hasOwnProperty(e.name)){var t=Y[e.name];"string"==typeof t&&(t={name:t}),(e=createObj(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return resolveMode("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return resolveMode("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function getMode(e,t){t=resolveMode(t);var n=K[t.name];if(!n)return getMode(e,"text/plain");var r=n(e,t);if(Q.hasOwnProperty(t.name)){var i=Q[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}function extendMode(e,t){copyObj(t,Q.hasOwnProperty(e)?Q[e]:Q[e]={})}function copyState(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function innerMode(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function startState(e,t,n){return!e.startState||e.startState(t,n)}function highlightLine(e,t,n,r){var i=[e.state.modeGen],o={};runMode(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=function(r){var a=e.state.overlays[r],s=1,c=0;n.state=!0,runMode(e,t.text,a.mode,n,function(e,t){for(var n=s;c<e;){var r=i[s];r>e&&i.splice(s,1,e,i[s+1],r),s+=2,c=Math.min(e,r)}if(t)if(a.opaque)i.splice(n,s-n,e,"overlay "+t),s=n+2;else for(;n<s;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o)},c=0;c<e.state.overlays.length;++c)s(c);return n.state=a,{styles:i,classes:o.bgClass||o.textClass?o:null}}function getLineStyles(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=getContextBefore(e,lineNo(t)),i=t.text.length>e.options.maxHighlightLength&&copyState(e.doc.mode,r.state),o=highlightLine(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function getContextBefore(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new ee(r,!0,t);var o=findStartLine(e,t,n),a=o>r.first&&getLine(r,o-1).stateAfter,s=a?ee.fromSaved(r,a,o):new ee(r,startState(r.mode),o);return r.iter(o,t,function(n){processLine(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function processLine(e,t,n,r){var i=e.doc.mode,o=new J(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&callBlankLine(i,n.state);!o.eol();)readToken(i,o,n.state),o.start=o.pos}function callBlankLine(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=innerMode(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function readToken(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=innerMode(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function takeToken(e,t,n,r){var i=e.doc,o=i.mode,a,s=getLine(i,(t=clipPos(i,t)).line),c=getContextBefore(e,t.line,n),u=new J(s.text,e.options.tabSize,c),l;for(r&&(l=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,a=readToken(o,u,c.state),r&&l.push(new te(u,a,copyState(i.mode,c.state)));return r?l:new te(u,a,c.state)}function extractLineClasses(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function runMode(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var c=0,u=null,l=new J(t,e.options.tabSize,r),d,p=e.options.addModeClass&&[null];for(""==t&&extractLineClasses(callBlankLine(n,r.state),o);!l.eol();){if(l.pos>e.options.maxHighlightLength?(s=!1,a&&processLine(e,t,r,l.pos),l.pos=t.length,d=null):d=extractLineClasses(readToken(n,l,r.state,p),o),p){var h=p[0].name;h&&(d="m-"+(d?h+" "+d:h))}if(!s||u!=d){for(;c<l.start;)i(c=Math.min(l.start,c+5e3),u);u=d}l.start=l.pos}for(;c<l.pos;){var f=Math.min(l.pos,c+5e3);i(f,u),c=f}}function findStartLine(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var c=getLine(o,s-1),u=c.stateAfter;if(u&&(!n||s+(u instanceof Z?u.lookAhead:0)<=o.modeFrontier))return s;var l=countColumn(c.text,null,e.options.tabSize);(null==i||r>l)&&(i=s-1,r=l)}return i}function retreatFrontier(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=getLine(e,r).stateAfter;if(i&&(!(i instanceof Z)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function updateLine(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),detachMarkedSpans(e),attachMarkedSpans(e,n);var i=r?r(e):1;i!=e.height&&updateLineHeight(e,i)}function cleanUpLine(e){e.parent=null,detachMarkedSpans(e)}function interpretTokenStyle(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ie:re;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function buildLineContent(e,t){var n=eltP("span",null,null,c?"padding-right: .1px":null),r={pre:eltP("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(a||c)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,s=void 0;r.pos=0,r.addToken=buildToken,hasBadBidiRects(e.display.measure)&&(s=getOrder(o,e.doc.direction))&&(r.addToken=buildTokenBadBidi(r.addToken,s)),r.map=[],insertLineContent(o,r,getLineStyles(e,o,t!=e.display.externalMeasured&&lineNo(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=joinClasses(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=joinClasses(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(zeroWidthElement(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(c){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return signal(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=joinClasses(r.pre.className,r.textClass||"")),r}function defaultSpecialCharPlaceholder(e){var t=elt("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function buildToken(e,t,n,r,i,o,c){if(t){var u=e.splitSpaces?splitSpaces(t,e.trailingSpace):t,l=e.cm.state.specialChars,d=!1,p;if(l.test(t)){p=document.createDocumentFragment();for(var h=0;;){l.lastIndex=h;var f=l.exec(t),g=f?f.index-h:t.length-h;if(g){var m=document.createTextNode(u.slice(h,h+g));a&&s<9?p.appendChild(elt("span",[m])):p.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!f)break;h+=g+1;var v=void 0;if("\t"==f[0]){var y=e.cm.options.tabSize,_=y-e.col%y;(v=p.appendChild(elt("span",spaceStr(_),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=_}else"\r"==f[0]||"\n"==f[0]?((v=p.appendChild(elt("span","\r"==f[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",f[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),a&&s<9?p.appendChild(elt("span",[v])):p.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,p=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,p),a&&s<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||d||c){var b=n||"";r&&(b+=r),i&&(b+=i);var S=elt("span",[p],b,c);return o&&(S.title=o),e.content.appendChild(S)}e.content.appendChild(p)}}function splitSpaces(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}function buildTokenBadBidi(e,t){return function(n,r,i,o,a,s,c){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,l=u+r.length;;){for(var d=void 0,p=0;p<t.length&&!((d=t[p]).to>u&&d.from<=u);p++);if(d.to>=l)return e(n,r,i,o,a,s,c);e(n,r.slice(0,d.to-u),i,o,null,s,c),o=null,r=r.slice(d.to-u),u=d.to}}}function buildCollapsedSpan(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function insertLineContent(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a=i.length,s=0,c=1,u="",l,d,p=0,h,f,g,m,v;;){if(p==s){h=f=g=m=d="",v=null,p=1/0;for(var y=[],_=void 0,b=0;b<r.length;++b){var S=r[b],w=S.marker;"bookmark"==w.type&&S.from==s&&w.widgetNode?y.push(w):S.from<=s&&(null==S.to||S.to>s||w.collapsed&&S.to==s&&S.from==s)?(null!=S.to&&S.to!=s&&p>S.to&&(p=S.to,f=""),w.className&&(h+=" "+w.className),w.css&&(d=(d?d+";":"")+w.css),w.startStyle&&S.from==s&&(g+=" "+w.startStyle),w.endStyle&&S.to==p&&(_||(_=[])).push(w.endStyle,S.to),w.title&&!m&&(m=w.title),w.collapsed&&(!v||compareCollapsedMarkers(v.marker,w)<0)&&(v=S)):S.from>s&&p>S.from&&(p=S.from)}if(_)for(var C=0;C<_.length;C+=2)_[C+1]==p&&(f+=" "+_[C]);if(!v||v.from==s)for(var T=0;T<y.length;++T)buildCollapsedSpan(t,0,y[T]);if(v&&(v.from||0)==s){if(buildCollapsedSpan(t,(null==v.to?a+1:v.to)-s,v.marker,null==v.from),null==v.to)return;v.to==s&&(v=!1)}}if(s>=a)break;for(var E=Math.min(a,p);;){if(u){var k=s+u.length;if(!v){var x=k>E?u.slice(0,E-s):u;t.addToken(t,x,l?l+h:h,g,s+x.length==p?f:"",m,d)}if(k>=E){u=u.slice(E-s),s=E;break}s=k,g=""}u=i.slice(o,o=n[c++]),l=interpretTokenStyle(n[c++],t.cm.options)}}else for(var I=1;I<n.length;I+=2)t.addToken(t,i.slice(o,o=n[I]),interpretTokenStyle(n[I+1],t.cm.options))}function LineView(e,t,n){this.line=t,this.rest=visualLineContinued(t),this.size=this.rest?lineNo(lst(this.rest))-n+1:1,this.node=this.text=null,this.hidden=lineIsHidden(e,t)}function buildViewArray(e,t,n){for(var r=[],i,o=t;o<n;o=i){var a=new LineView(e.doc,getLine(e.doc,o),o);i=o+a.size,r.push(a)}return r}function pushOperation(e){oe?oe.ops.push(e):e.ownsGroup=oe={ops:[e],delayedCallbacks:[]}}function fireCallbacksForOps(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function finishOperation(e,t){var n=e.ownsGroup;if(n)try{fireCallbacksForOps(n)}finally{oe=null,t(n)}}function signalLater(e,t){var n=getHandlers(e,t);if(n.length){var r=Array.prototype.slice.call(arguments,2),i;oe?i=oe.delayedCallbacks:ae?i=ae:(i=ae=[],setTimeout(fireOrphanDelayed,0));for(var o=function(e){i.push(function(){return n[e].apply(null,r)})},a=0;a<n.length;++a)o(a)}}function fireOrphanDelayed(){var e=ae;ae=null;for(var t=0;t<e.length;++t)e[t]()}function updateLineForChanges(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?updateLineText(e,t):"gutter"==o?updateLineGutter(e,t,n,r):"class"==o?updateLineClasses(e,t):"widget"==o&&updateLineWidgets(e,t,r)}t.changes=null}function ensureLineWrapped(e){return e.node==e.text&&(e.node=elt("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function updateLineBackground(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=ensureLineWrapped(t);t.background=r.insertBefore(elt("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function getLineContent(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):buildLineContent(e,t)}function updateLineText(e,t){var n=t.text.className,r=getLineContent(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,updateLineClasses(e,t)):n&&(t.text.className=n)}function updateLineClasses(e,t){updateLineBackground(e,t),t.line.wrapClass?ensureLineWrapped(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function updateLineGutter(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=ensureLineWrapped(t);t.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=ensureLineWrapped(t),s=t.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(elt("div",lineNumberFor(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var c=0;c<e.options.gutters.length;++c){var u=e.options.gutters[c],l=o.hasOwnProperty(u)&&o[u];l&&s.appendChild(elt("div",[l],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function updateLineWidgets(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);insertLineWidgets(e,t,n)}function buildLineElement(e,t,n,r){var i=getLineContent(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),updateLineClasses(e,t),updateLineGutter(e,t,n,r),insertLineWidgets(e,t,r),t.node}function insertLineWidgets(e,t,n){if(insertLineWidgetsFor(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)insertLineWidgetsFor(e,t.rest[r],t,n,!1)}function insertLineWidgetsFor(e,t,n,r,i){if(t.widgets)for(var o=ensureLineWrapped(n),a=0,s=t.widgets;a<s.length;++a){var c=s[a],u=elt("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),positionLineWidget(c,u,n,r),e.display.input.setUneditable(u),i&&c.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),signalLater(c,"redraw")}}function positionLineWidget(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function widgetHeight(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!contains(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),removeChildrenAndAdd(t.display.measure,elt("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function eventInWidget(e,t){for(var n=e_target(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function paddingTop(e){return e.lineSpace.offsetTop}function paddingVert(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function paddingH(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=removeChildrenAndAdd(e.measure,elt("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function scrollGap(e){return I-e.display.nativeBarWidth}function displayWidth(e){return e.display.scroller.clientWidth-scrollGap(e)-e.display.barWidth}function displayHeight(e){return e.display.scroller.clientHeight-scrollGap(e)-e.display.barHeight}function ensureLineHeights(e,t,n){var r=e.options.lineWrapping,i=r&&displayWidth(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var c=a[s],u=a[s+1];Math.abs(c.bottom-u.bottom)>2&&o.push((c.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function mapFromLineView(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(lineNo(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function updateExternalMeasurement(e,t){var n=lineNo(t=visualLine(t)),r=e.display.externalMeasured=new LineView(e.doc,t,n);r.lineN=n;var i=r.built=buildLineContent(e,r);return r.text=i.pre,removeChildrenAndAdd(e.display.lineMeasure,i.pre),r}function measureChar(e,t,n,r){return measureCharPrepared(e,prepareMeasureForLine(e,t),n,r)}function findViewForLine(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[findViewIndex(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function prepareMeasureForLine(e,t){var n=lineNo(t),r=findViewForLine(e,n);r&&!r.text?r=null:r&&r.changes&&(updateLineForChanges(e,r,n,getDimensions(e)),e.curOp.forceUpdate=!0),r||(r=updateExternalMeasurement(e,t));var i=mapFromLineView(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function measureCharPrepared(e,t,n,r,i){t.before&&(n=-1);var o=n+(r||""),a;return t.cache.hasOwnProperty(o)?a=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(ensureLineHeights(e,t.view,t.rect),t.hasHeights=!0),(a=measureCharInner(e,t,n,r)).bogus||(t.cache[o]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}function nodeAndOffsetInLineMap(e,t,n){for(var r,i,o,a,s,c,u=0;u<e.length;u+=3)if(s=e[u],c=e[u+1],t<s?(i=0,o=1,a="left"):t<c?o=(i=t-s)+1:(u==e.length-3||t==c&&e[u+3]>t)&&(i=(o=c-s)-1,t>=c&&(a="right")),null!=i){if(r=e[u+2],s==c&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&i==c-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:c}}function getUsefulRect(e,t){var n=se;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function measureCharInner(e,t,n,r){var i=nodeAndOffsetInLineMap(t.map,n,r),o=i.node,c=i.start,u=i.end,l=i.collapse,d;if(3==o.nodeType){for(var p=0;p<4;p++){for(;c&&isExtendingChar(t.line.text.charAt(i.coverStart+c));)--c;for(;i.coverStart+u<i.coverEnd&&isExtendingChar(t.line.text.charAt(i.coverStart+u));)++u;if((d=a&&s<9&&0==c&&u==i.coverEnd-i.coverStart?o.parentNode.getBoundingClientRect():getUsefulRect(E(o,c,u).getClientRects(),r)).left||d.right||0==c)break;u=c,c-=1,l="right"}a&&s<11&&(d=maybeUpdateRectForZooming(e.display.measure,d))}else{c>0&&(l=r="right");var h;d=e.options.lineWrapping&&(h=o.getClientRects()).length>1?h["right"==r?h.length-1:0]:o.getBoundingClientRect()}if(a&&s<9&&!c&&(!d||!d.left&&!d.right)){var f=o.parentNode.getClientRects()[0];d=f?{left:f.left,right:f.left+charWidth(e.display),top:f.top,bottom:f.bottom}:se}for(var g=d.top-t.rect.top,m=d.bottom-t.rect.top,v=(g+m)/2,y=t.view.measure.heights,_=0;_<y.length-1&&!(v<y[_]);_++);var b=_?y[_-1]:0,S=y[_],w={left:("right"==l?d.right:d.left)-t.rect.left,right:("left"==l?d.left:d.right)-t.rect.left,top:b,bottom:S};return d.left||d.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=g,w.rbottom=m),w}function maybeUpdateRectForZooming(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function clearLineMeasurementCacheFor(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function clearLineMeasurementCache(e){e.display.externalMeasure=null,removeChildren(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)clearLineMeasurementCacheFor(e.display.view[t])}function clearCaches(e){clearLineMeasurementCache(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function pageScrollX(){return l&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return l&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function intoCoordSystem(e,t,n,r,i){if(!i&&t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var a=widgetHeight(t.widgets[o]);n.top+=a,n.bottom+=a}if("line"==r)return n;r||(r="local");var s=heightAtLine(t);if("local"==r?s+=paddingTop(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var c=e.display.lineSpace.getBoundingClientRect();s+=c.top+("window"==r?0:pageScrollY());var u=c.left+("window"==r?0:pageScrollX());n.left+=u,n.right+=u}return n.top+=s,n.bottom+=s,n}function fromCoordSystem(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=pageScrollX(),i-=pageScrollY();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function charCoords(e,t,n,r,i){return r||(r=getLine(e.doc,t.line)),intoCoordSystem(e,r,measureChar(e,r,t.ch,i),n)}function cursorCoords(e,t,n,r,i,o){function get(t,a){var s=measureCharPrepared(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,intoCoordSystem(e,r,s,n)}function getBidi(e,t,n){var r=a[t].level%2!=0;return get(n?e-1:e,r!=n)}r=r||getLine(e.doc,t.line),i||(i=prepareMeasureForLine(e,r));var a=getOrder(r,e.doc.direction),s=t.ch,c=t.sticky;if(s>=r.text.length?(s=r.text.length,c="before"):s<=0&&(s=0,c="after"),!a)return get("before"==c?s-1:s,"before"==c);var u=getBidiPartAt(a,s,c),l=U,d=getBidi(s,u,"before"==c);return null!=l&&(d.other=getBidi(s,l,"before"!=c)),d}function estimateCoords(e,t){var n=0;t=clipPos(e.doc,t),e.options.lineWrapping||(n=charWidth(e.display)*t.ch);var r=getLine(e.doc,t.line),i=heightAtLine(r)+paddingTop(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function PosWithInfo(e,t,n,r,i){var o=Pos(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function coordsChar(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return PosWithInfo(r.first,0,null,!0,-1);var i=lineAtHeight(r,n),o=r.first+r.size-1;if(i>o)return PosWithInfo(r.first+r.size-1,getLine(r,o).text.length,null,!0,1);t<0&&(t=0);for(var a=getLine(r,i);;){var s=coordsCharInner(e,a,i,t,n),c=collapsedSpanAtEnd(a),u=c&&c.find(0,!0);if(!c||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=lineNo(a=u.to.line)}}function wrappedLineExtent(e,t,n,r){var i=function(r){return intoCoordSystem(e,t,measureCharPrepared(e,n,r),"line")},o=t.text.length,a=findFirst(function(e){return i(e-1).bottom<=r},o,0);return o=findFirst(function(e){return i(e).top>r},a,o),{begin:a,end:o}}function wrappedLineExtentChar(e,t,n,r){return wrappedLineExtent(e,t,n,intoCoordSystem(e,t,measureCharPrepared(e,n,r),"line").top)}function coordsCharInner(e,t,n,r,i){i-=heightAtLine(t);var o=0,a=t.text.length,s=prepareMeasureForLine(e,t),c;if(getOrder(t,e.doc.direction)){if(e.options.lineWrapping){var u;o=(u=wrappedLineExtent(e,t,s,i)).begin,a=u.end}c=new Pos(n,Math.floor(o+(a-o)/2));var l=cursorCoords(e,c,"line",t,s).left,d=l<r?1:-1,p,h=l-r,f,g=Math.ceil((a-o)/4);e:do{p=h,f=c;for(var m=0;m<g;++m){var v=c;if(null==(c=moveVisually(e,t,c,d))||c.ch<o||a<=("before"==c.sticky?c.ch-1:c.ch)){c=v;break e}}if(h=cursorCoords(e,c,"line",t,s).left-r,g>1){var y=Math.abs(h-p)/g;g=Math.min(g,Math.ceil(Math.abs(h)/y)),d=h<0?1:-1}}while(0!=h&&(g>1||d<0!=h<0&&Math.abs(h)<=Math.abs(p)));if(Math.abs(h)>Math.abs(p)){if(h<0==p<0)throw new Error("Broke out of infinite loop in coordsCharInner");c=f}}else{var _=findFirst(function(n){var o=intoCoordSystem(e,t,measureCharPrepared(e,s,n),"line");return o.top>i?(a=Math.min(n,a),!0):!(o.bottom<=i)&&(o.left>r||!(o.right<r)&&r-o.left<o.right-r)},o,a);c=new Pos(n,_=skipExtendingChars(t.text,_,1),_==a?"before":"after")}var b=cursorCoords(e,c,"line",t,s);return(i<b.top||b.bottom<i)&&(c.outside=!0),c.xRel=r<b.left?-1:r>b.right?1:0,c}function textHeight(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==ce){ce=elt("pre");for(var t=0;t<49;++t)ce.appendChild(document.createTextNode("x")),ce.appendChild(elt("br"));ce.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(e.measure,ce);var n=ce.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),removeChildren(e.measure),n||1}function charWidth(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=elt("span","xxxxxxxxxx"),n=elt("pre",[t]);removeChildrenAndAdd(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function getDimensions(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:compensateForHScroll(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function compensateForHScroll(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function estimateHeight(e){var t=textHeight(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/charWidth(e.display)-3);return function(i){if(lineIsHidden(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function estimateLineHeights(e){var t=e.doc,n=estimateHeight(e);t.iter(function(e){var t=n(e);t!=e.height&&updateLineHeight(e,t)})}function posFromMouse(e,t,n,r){var i=e.display;if(!n&&"true"==e_target(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var c=coordsChar(e,o,a),u;if(r&&1==c.xRel&&(u=getLine(e.doc,c.line).text).length==c.ch){var l=countColumn(u,u.length,e.options.tabSize)-u.length;c=Pos(c.line,Math.max(0,Math.round((o-paddingH(e.display).left)/charWidth(e.display))-l))}return c}function findViewIndex(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function updateSelection(e){e.display.input.showSelection(e.display.input.prepareSelection())}function prepareSelection(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(!1!==t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var c=s.empty();(c||e.options.showCursorWhenSelecting)&&drawSelectionCursor(e,s.head,i),c||drawSelectionRange(e,s,o)}}return r}function drawSelectionCursor(e,t,n){var r=cursorCoords(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(elt("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(elt("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function drawSelectionRange(e,t,n){function add(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?c-e:n)+"px;\n                             height: "+(r-t)+"px"))}function drawForLine(t,n,r){function coords(n,r){return charCoords(e,Pos(t,n),"div",o,r)}var o=getLine(i,t),a=o.text.length,u,l;return iterateBidiSections(getOrder(o,i.direction),n||0,null==r?a:r,function(e,t,i){var o=coords(e,"left"),d,p,h;if(e==t)d=o,p=h=o.left;else{if(d=coords(t-1,"right"),"rtl"==i){var f=o;o=d,d=f}p=o.left,h=d.right}null==n&&0==e&&(p=s),d.top-o.top>3&&(add(p,o.top,null,o.bottom),p=s,o.bottom<d.top&&add(p,o.bottom,null,d.top)),null==r&&t==a&&(h=c),(!u||o.top<u.top||o.top==u.top&&o.left<u.left)&&(u=o),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),p<s+1&&(p=s),add(p,d.top,h-p,d.bottom)}),{start:u,end:l}}var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=paddingH(e.display),s=a.left,c=Math.max(r.sizerWidth,displayWidth(e)-r.sizer.offsetLeft)-a.right,u=t.from(),l=t.to();if(u.line==l.line)drawForLine(u.line,u.ch,l.ch);else{var d=getLine(i,u.line),p=getLine(i,l.line),h=visualLine(d)==visualLine(p),f=drawForLine(u.line,u.ch,h?d.text.length+1:null).end,g=drawForLine(l.line,h?0:null,l.ch).start;h&&(f.top<g.top-2?(add(f.right,f.top,null,f.bottom),add(s,g.top,g.left,g.bottom)):add(f.right,f.top,g.left-f.right,f.bottom)),f.bottom<g.top&&add(s,f.bottom,null,g.top)}n.appendChild(o)}function restartBlink(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function ensureFocus(e){e.state.focused||(e.display.input.focus(),onFocus(e))}function delayBlurEvent(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,onBlur(e))},100)}function onFocus(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(signal(e,"focus",e,t),e.state.focused=!0,addClass(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),c&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),restartBlink(e))}function onBlur(e,t){e.state.delayingBlurEvent||(e.state.focused&&(signal(e,"blur",e,t),e.state.focused=!1,T(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function updateHeightsInViewport(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=void 0;if(!i.hidden){if(a&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;o=c-n,n=c}else{var u=i.node.getBoundingClientRect();o=u.bottom-u.top}var l=i.line.height-o;if(o<2&&(o=textHeight(t)),(l>.005||l<-.005)&&(updateLineHeight(i.line,o),updateWidgetHeight(i.line),i.rest))for(var d=0;d<i.rest.length;d++)updateWidgetHeight(i.rest[d])}}}function updateWidgetHeight(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function visibleLines(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-paddingTop(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=lineAtHeight(t,r),a=lineAtHeight(t,i);if(n&&n.ensure){var s=n.ensure.from.line,c=n.ensure.to.line;s<o?(o=s,a=lineAtHeight(t,heightAtLine(getLine(t,s))+e.wrapper.clientHeight)):Math.min(c,t.lastLine())>=a&&(o=lineAtHeight(t,heightAtLine(getLine(t,c))-e.wrapper.clientHeight),a=c)}return{from:o,to:Math.max(a,o+1)}}function alignHorizontally(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=compensateForHScroll(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var c=0;c<s.length;c++)s[c].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function maybeUpdateLineNumberWidth(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=lineNumberFor(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(elt("div",[elt("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",updateGutterSpace(e),!0}return!1}function maybeScrollWindow(e,t){if(!signalDOMEvent(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!f){var o=elt("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-paddingTop(e.display))+"px;\n                         height: "+(t.bottom-t.top+scrollGap(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function scrollPosIntoView(e,t,n,r){null==r&&(r=0);var i;e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?Pos(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?Pos(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=cursorCoords(e,t),c=n&&n!=t?cursorCoords(e,n):s,u=calculateScrollPos(e,i={left:Math.min(s.left,c.left),top:Math.min(s.top,c.top)-r,right:Math.max(s.left,c.left),bottom:Math.max(s.bottom,c.bottom)+r}),l=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(updateScrollTop(e,u.scrollTop),Math.abs(e.doc.scrollTop-l)>1&&(a=!0)),null!=u.scrollLeft&&(setScrollLeft(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return i}function scrollIntoView(e,t){var n=calculateScrollPos(e,t);null!=n.scrollTop&&updateScrollTop(e,n.scrollTop),null!=n.scrollLeft&&setScrollLeft(e,n.scrollLeft)}function calculateScrollPos(e,t){var n=e.display,r=textHeight(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=displayHeight(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+paddingVert(n),c=t.top<r,u=t.bottom>s-r;if(t.top<i)a.scrollTop=c?0:t.top;else if(t.bottom>i+o){var l=Math.min(t.top,(u?s:t.bottom)-o);l!=i&&(a.scrollTop=l)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,p=displayWidth(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<d?a.scrollLeft=Math.max(0,t.left-(h?0:10)):t.right>p+d-3&&(a.scrollLeft=t.right+(h?0:10)-p),a}function addToScrollTop(e,t){null!=t&&(resolveScrollToPos(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ensureCursorVisible(e){resolveScrollToPos(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function scrollToCoords(e,t,n){null==t&&null==n||resolveScrollToPos(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function scrollToRange(e,t){resolveScrollToPos(e),e.curOp.scrollToPos=t}function resolveScrollToPos(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,scrollToCoordsRange(e,estimateCoords(e,t.from),estimateCoords(e,t.to),t.margin))}function scrollToCoordsRange(e,t,n,r){var i=calculateScrollPos(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});scrollToCoords(e,i.scrollLeft,i.scrollTop)}function updateScrollTop(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||updateDisplaySimple(e,{top:t}),setScrollTop(e,t,!0),n&&updateDisplaySimple(e),startWorker(e,100))}function setScrollTop(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function setScrollLeft(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,alignHorizontally(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function measureForScrollbars(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+paddingVert(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+scrollGap(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function updateScrollbars(e,t){t||(t=measureForScrollbars(e));var n=e.display.barWidth,r=e.display.barHeight;updateScrollbarsInner(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&updateHeightsInViewport(e),updateScrollbarsInner(e,measureForScrollbars(e)),n=e.display.barWidth,r=e.display.barHeight}function updateScrollbarsInner(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function initScrollbars(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&T(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new de[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),B(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?setScrollLeft(e,t):updateScrollTop(e,t)},e),e.display.scrollbars.addClass&&addClass(e.display.wrapper,e.display.scrollbars.addClass)}function startOperation(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++pe},pushOperation(e.curOp)}function endOperation(e){finishOperation(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;endOperations(e)})}function endOperations(e){for(var t=e.ops,n=0;n<t.length;n++)endOperation_R1(t[n]);for(var r=0;r<t.length;r++)endOperation_W1(t[r]);for(var i=0;i<t.length;i++)endOperation_R2(t[i]);for(var o=0;o<t.length;o++)endOperation_W2(t[o]);for(var a=0;a<t.length;a++)endOperation_finish(t[a])}function endOperation_R1(e){var t=e.cm,n=t.display;maybeClipScrollbars(t),e.updateMaxLine&&findMaxLine(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new he(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function endOperation_W1(e){e.updatedDisplay=e.mustUpdate&&updateDisplayIfNeeded(e.cm,e.update)}function endOperation_R2(e){var t=e.cm,n=t.display;e.updatedDisplay&&updateHeightsInViewport(t),e.barMeasure=measureForScrollbars(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=measureChar(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+scrollGap(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-displayWidth(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function endOperation_W2(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&setScrollLeft(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==activeElt()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&updateScrollbars(t,e.barMeasure),e.updatedDisplay&&setDocumentHeight(t,e.barMeasure),e.selectionChanged&&restartBlink(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&ensureFocus(e.cm)}function endOperation_finish(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&postUpdateDisplay(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&setScrollTop(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&setScrollLeft(t,e.scrollLeft,!0,!0),e.scrollToPos&&maybeScrollWindow(t,scrollPosIntoView(t,clipPos(r,e.scrollToPos.from),clipPos(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||signal(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&signal(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&signal(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function runInOp(e,t){if(e.curOp)return t();startOperation(e);try{return t()}finally{endOperation(e)}}function operation(e,t){return function(){if(e.curOp)return t.apply(e,arguments);startOperation(e);try{return t.apply(e,arguments)}finally{endOperation(e)}}}function methodOp(e){return function(){if(this.curOp)return e.apply(this,arguments);startOperation(this);try{return e.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);startOperation(t);try{return e.apply(this,arguments)}finally{endOperation(t)}}}function regChange(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)F&&visualLineNo(e.doc,t)<i.viewTo&&resetView(e);else if(n<=i.viewFrom)F&&visualLineEndNo(e.doc,n+r)>i.viewFrom?resetView(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)resetView(e);else if(t<=i.viewFrom){var o=viewCuttingPoint(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):resetView(e)}else if(n>=i.viewTo){var a=viewCuttingPoint(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):resetView(e)}else{var s=viewCuttingPoint(e,t,t,-1),c=viewCuttingPoint(e,n,n+r,1);s&&c?(i.view=i.view.slice(0,s.index).concat(buildViewArray(e,s.lineN,c.lineN)).concat(i.view.slice(c.index)),i.viewTo+=r):resetView(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function regLineChange(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[findViewIndex(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==indexOf(a,n)&&a.push(n)}}}function resetView(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function viewCuttingPoint(e,t,n,r){var i=findViewIndex(e,t),o,a=e.display.view;if(!F||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var s=e.display.viewFrom,c=0;c<i;c++)s+=a[c].size;if(s!=t){if(r>0){if(i==a.length-1)return null;o=s+a[i].size-t,i++}else o=s-t;t+=o,n+=o}for(;visualLineNo(e.doc,n)!=n;){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function adjustView(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=buildViewArray(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=buildViewArray(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(findViewIndex(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(buildViewArray(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,findViewIndex(e,n)))),r.viewTo=n}function countDirtyView(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function startWorker(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,bind(highlightWorker,e))}function highlightWorker(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=getContextBefore(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?copyState(t.mode,r.state):null,c=highlightLine(e,o,r,!0);s&&(r.state=s),o.styles=c.styles;var u=o.styleClasses,l=c.classes;l?o.styleClasses=l:u&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||u!=l&&(!u||!l||u.bgClass!=l.bgClass||u.textClass!=l.textClass),p=0;!d&&p<a.length;++p)d=a[p]!=o.styles[p];d&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&processLine(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return startWorker(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&runInOp(e,function(){for(var t=0;t<i.length;t++)regLineChange(e,i[t],"text")})}}function maybeClipScrollbars(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=scrollGap(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=scrollGap(e)+"px",t.scrollbarsClipped=!0)}function selectionSnapshot(e){if(e.hasFocus())return null;var t=activeElt();if(!t||!contains(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&contains(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function restoreSelection(e){if(e&&e.activeElt&&e.activeElt!=activeElt()&&(e.activeElt.focus(),e.anchorNode&&contains(document.body,e.anchorNode)&&contains(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function updateDisplayIfNeeded(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return resetView(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==countDirtyView(e))return!1;maybeUpdateLineNumberWidth(e)&&(resetView(e),t.dims=getDimensions(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),F&&(o=visualLineNo(e.doc,o),a=visualLineEndNo(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;adjustView(e,o,a),n.viewOffset=heightAtLine(getLine(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=countDirtyView(e);if(!s&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=selectionSnapshot(e);return c>4&&(n.lineDiv.style.display="none"),patchDisplay(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,restoreSelection(u),removeChildren(n.cursorDiv),removeChildren(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,startWorker(e,400)),n.updateLineNumbers=null,!0}function postUpdateDisplay(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=displayWidth(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+paddingVert(e.display)-displayHeight(e),n.top)}),t.visible=visibleLines(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&updateDisplayIfNeeded(e,t);r=!1){updateHeightsInViewport(e);var i=measureForScrollbars(e);updateSelection(e),updateScrollbars(e,i),setDocumentHeight(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function updateDisplaySimple(e,t){var n=new he(e,t);if(updateDisplayIfNeeded(e,n)){updateHeightsInViewport(e),postUpdateDisplay(e,n);var r=measureForScrollbars(e);updateSelection(e),updateScrollbars(e,r),setDocumentHeight(e,r),n.finish()}}function patchDisplay(e,t,n){function rm(t){var n=t.nextSibling;return c&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild,s=r.view,u=r.viewFrom,l=0;l<s.length;l++){var d=s[l];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=rm(a);var p=i&&null!=t&&t<=u&&d.lineNumber;d.changes&&(indexOf(d.changes,"gutter")>-1&&(p=!1),updateLineForChanges(e,d,u,n)),p&&(removeChildren(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(lineNumberFor(e.options,u)))),a=d.node.nextSibling}else{var h=buildLineElement(e,d,u,n);o.insertBefore(h,a)}u+=d.size}for(;a;)a=rm(a)}function updateGutterSpace(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function setDocumentHeight(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+scrollGap(e)+"px"}function updateGutters(e){var t=e.display.gutters,n=e.options.gutters;removeChildren(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(elt("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",updateGutterSpace(e)}function setGuttersForLineNumbers(e){var t=indexOf(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function wheelEventDelta(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function wheelEventPixels(e){var t=wheelEventDelta(e);return t.x*=ge,t.y*=ge,t}function onScrollWheel(e,t){var r=wheelEventDelta(t),i=r.x,o=r.y,a=e.display,s=a.scroller,u=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(i&&u||o&&l){if(o&&y&&c)e:for(var p=t.target,h=a.view;p!=s;p=p.parentNode)for(var f=0;f<h.length;f++)if(h[f].node==p){e.display.currentWheelTarget=p;break e}if(i&&!n&&!d&&null!=ge)return o&&l&&updateScrollTop(e,Math.max(0,s.scrollTop+o*ge)),setScrollLeft(e,Math.max(0,s.scrollLeft+i*ge)),(!o||o&&l)&&e_preventDefault(t),void(a.wheelStartX=null);if(o&&null!=ge){var g=o*ge,m=e.doc.scrollTop,v=m+a.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):v=Math.min(e.doc.height,v+g+50),updateDisplaySimple(e,{top:m,bottom:v})}fe<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(ge=(ge*fe+n)/(fe+1),++fe)}},200)):(a.wheelDX+=i,a.wheelDY+=o))}}function normalizeSelection(e,t){var n=e[t];e.sort(function(e,t){return cmp(e.from(),t.from())}),t=indexOf(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(cmp(o.to(),i.from())>=0){var a=minPos(o.from(),i.from()),s=maxPos(o.to(),i.to()),c=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new ve(c?s:a,c?a:s))}}return new me(e,t)}function simpleSelection(e,t){return new me([new ve(e,t||e)],0)}function changeEnd(e){return e.text?Pos(e.from.line+e.text.length-1,lst(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function adjustForChange(e,t){if(cmp(e,t.from)<0)return e;if(cmp(e,t.to)<=0)return changeEnd(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=changeEnd(t).ch-t.to.ch),Pos(n,r)}function computeSelAfterChange(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new ve(adjustForChange(i.anchor,t),adjustForChange(i.head,t)))}return normalizeSelection(n,e.sel.primIndex)}function offsetPos(e,t,n){return e.line==t.line?Pos(n.line,e.ch-t.ch+n.ch):Pos(n.line+(e.line-t.line),e.ch)}function computeReplacedSel(e,t,n){for(var r=[],i=Pos(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],c=offsetPos(s.from,i,o),u=offsetPos(changeEnd(s),i,o);if(i=s.to,o=u,"around"==n){var l=e.sel.ranges[a],d=cmp(l.head,l.anchor)<0;r[a]=new ve(d?u:c,d?c:u)}else r[a]=new ve(c,c)}return new me(r,e.sel.primIndex)}function loadMode(e){e.doc.mode=getMode(e.options,e.doc.modeOption),resetModeState(e)}function resetModeState(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,startWorker(e,100),e.state.modeGen++,e.curOp&&regChange(e)}function isWholeLineUpdate(e,t){return 0==t.from.ch&&0==t.to.ch&&""==lst(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function updateDoc(e,t,n,r){function spansFor(e){return n?n[e]:null}function update(e,n,i){updateLine(e,n,i,r),signalLater(e,"change",e,t)}function linesFor(e,t){for(var n=[],i=e;i<t;++i)n.push(new ne(a[i],spansFor(i),r));return n}var i=t.from,o=t.to,a=t.text,s=getLine(e,i.line),c=getLine(e,o.line),u=lst(a),l=spansFor(a.length-1),d=o.line-i.line;if(t.full)e.insert(0,linesFor(0,a.length)),e.remove(a.length,e.size-a.length);else if(isWholeLineUpdate(e,t)){var p=linesFor(0,a.length-1);update(c,c.text,l),d&&e.remove(i.line,d),p.length&&e.insert(i.line,p)}else if(s==c)if(1==a.length)update(s,s.text.slice(0,i.ch)+u+s.text.slice(o.ch),l);else{var h=linesFor(1,a.length-1);h.push(new ne(u+s.text.slice(o.ch),l,r)),update(s,s.text.slice(0,i.ch)+a[0],spansFor(0)),e.insert(i.line+1,h)}else if(1==a.length)update(s,s.text.slice(0,i.ch)+a[0]+c.text.slice(o.ch),spansFor(0)),e.remove(i.line+1,d);else{update(s,s.text.slice(0,i.ch)+a[0],spansFor(0)),update(c,u+c.text.slice(o.ch),l);var f=linesFor(1,a.length-1);d>1&&e.remove(i.line+1,d-1),e.insert(i.line+1,f)}signalLater(e,"change",e,t)}function linkedDocs(e,t,n){function propagate(e,r,i){if(e.linked)for(var o=0;o<e.linked.length;++o){var a=e.linked[o];if(a.doc!=r){var s=i&&a.sharedHist;n&&!s||(t(a.doc,s),propagate(a.doc,e,s))}}}propagate(e,null,!0)}function attachDoc(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,estimateLineHeights(e),loadMode(e),setDirectionClass(e),e.options.lineWrapping||findMaxLine(e),e.options.mode=t.modeOption,regChange(e)}function setDirectionClass(e){("rtl"==e.doc.direction?addClass:T)(e.display.lineDiv,"CodeMirror-rtl")}function directionChanged(e){runInOp(e,function(){setDirectionClass(e),regChange(e)})}function History(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function historyChangeFromChange(e,t){var n={from:copyPos(t.from),to:changeEnd(t),text:getBetween(e,t.from,t.to)};return attachLocalSpans(e,n,t.from.line,t.to.line+1),linkedDocs(e,function(e){return attachLocalSpans(e,n,t.from.line,t.to.line+1)},!0),n}function clearSelectionEvents(e){for(;e.length&&lst(e).ranges;)e.pop()}function lastChangeEvent(e,t){return t?(clearSelectionEvents(e.done),lst(e.done)):e.done.length&&!lst(e.done).ranges?lst(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),lst(e.done)):void 0}function addChangeToHistory(e,t,n,r){var i=e.history;i.undone.length=0;var o=+new Date,a,s;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=lastChangeEvent(i,i.lastOp==r)))s=lst(a.changes),0==cmp(t.from,t.to)&&0==cmp(t.from,s.to)?s.to=changeEnd(t):a.changes.push(historyChangeFromChange(e,t));else{var c=lst(i.done);for(c&&c.ranges||pushSelectionToHistory(e.sel,i.done),a={changes:[historyChangeFromChange(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||signal(e,"historyAdded")}function selectionEventCanBeMerged(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function addSelectionToHistory(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||selectionEventCanBeMerged(e,o,lst(i.done),t))?i.done[i.done.length-1]=t:pushSelectionToHistory(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&clearSelectionEvents(i.undone)}function pushSelectionToHistory(e,t){var n=lst(t);n&&n.ranges&&n.equals(e)||t.push(e)}function attachLocalSpans(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function removeClearedSpans(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function getOldSpans(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(removeClearedSpans(n[i]));return r}function mergeOldSpans(e,t){var n=getOldSpans(e,t),r=stretchSpansOverChange(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var c=a[s],u=0;u<o.length;++u)if(o[u].marker==c.marker)continue e;o.push(c)}else a&&(n[i]=a)}return n}function copyHistoryArray(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?me.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var c=0;c<a.length;++c){var u=a[c],l=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(l=d.match(/^spans_(\d+)$/))&&indexOf(t,Number(l[1]))>-1&&(lst(s)[d]=u[d],delete u[d])}}}return r}function extendRange(e,t,n,r){if(r){var i=e.anchor;if(n){var o=cmp(t,i)<0;o!=cmp(n,i)<0?(i=t,t=n):o!=cmp(t,n)<0&&(t=n)}return new ve(i,t)}return new ve(n||t,t)}function extendSelection(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),setSelection(e,new me([extendRange(e.sel.primary(),t,n,i)],0),r)}function extendSelections(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=extendRange(e.sel.ranges[o],t[o],null,i);setSelection(e,normalizeSelection(r,e.sel.primIndex),n)}function replaceOneSelection(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,setSelection(e,normalizeSelection(i,e.sel.primIndex),r)}function setSimpleSelection(e,t,n,r){setSelection(e,simpleSelection(t,n),r)}function filterSelectionChange(e,t,n){var r={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var r=0;r<t.length;r++)n.ranges[r]=new ve(clipPos(e,t[r].anchor),clipPos(e,t[r].head))},origin:n&&n.origin};return signal(e,"beforeSelectionChange",e,r),e.cm&&signal(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?normalizeSelection(r.ranges,r.ranges.length-1):t}function setSelectionReplaceHistory(e,t,n){var r=e.history.done,i=lst(r);i&&i.ranges?(r[r.length-1]=t,setSelectionNoUndo(e,t,n)):setSelection(e,t,n)}function setSelection(e,t,n){setSelectionNoUndo(e,t,n),addSelectionToHistory(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function setSelectionNoUndo(e,t,n){(hasHandler(e,"beforeSelectionChange")||e.cm&&hasHandler(e.cm,"beforeSelectionChange"))&&(t=filterSelectionChange(e,t,n)),setSelectionInner(e,skipAtomicInSelection(e,t,n&&n.bias||(cmp(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||ensureCursorVisible(e.cm)}function setSelectionInner(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,signalCursorActivity(e.cm)),signalLater(e,"cursorActivity",e))}function reCheckSelection(e){setSelectionInner(e,skipAtomicInSelection(e,e.sel,null,!1))}function skipAtomicInSelection(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],c=skipAtomic(e,a.anchor,s&&s.anchor,n,r),u=skipAtomic(e,a.head,s&&s.head,n,r);(i||c!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new ve(c,u))}return i?normalizeSelection(i,t.primIndex):t}function skipAtomicInner(e,t,n,r,i){var o=getLine(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],c=s.marker;if((null==s.from||(c.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(signal(c,"beforeCursorEnter"),c.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!c.atomic)continue;if(n){var u=c.find(r<0?1:-1),l=void 0;if((r<0?c.inclusiveRight:c.inclusiveLeft)&&(u=movePos(e,u,-r,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(l=cmp(u,n))&&(r<0?l<0:l>0))return skipAtomicInner(e,u,t,r,i)}var d=c.find(r<0?-1:1);return(r<0?c.inclusiveLeft:c.inclusiveRight)&&(d=movePos(e,d,r,d.line==t.line?o:null)),d?skipAtomicInner(e,d,t,r,i):null}}return t}function skipAtomic(e,t,n,r,i){var o=r||1,a=skipAtomicInner(e,t,n,o,i)||!i&&skipAtomicInner(e,t,n,o,!0)||skipAtomicInner(e,t,n,-o,i)||!i&&skipAtomicInner(e,t,n,-o,!0);return a||(e.cantEdit=!0,Pos(e.first,0))}function movePos(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?clipPos(e,Pos(t.line-1)):null:n>0&&t.ch==(r||getLine(e,t.line)).text.length?t.line<e.first+e.size-1?Pos(t.line+1,0):null:new Pos(t.line,t.ch+n)}function selectAll(e){e.setSelection(Pos(e.firstLine(),0),Pos(e.lastLine()),O)}function filterChange(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=clipPos(e,t)),n&&(r.to=clipPos(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),signal(e,"beforeChange",e,r),e.cm&&signal(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function makeChange(e,t,n){if(e.cm){if(!e.cm.curOp)return operation(e.cm,makeChange)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(hasHandler(e,"beforeChange")||e.cm&&hasHandler(e.cm,"beforeChange"))||(t=filterChange(e,t,!0))){var r=L&&!n&&removeReadOnlyRanges(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)makeChangeInner(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else makeChangeInner(e,t)}}function makeChangeInner(e,t){if(1!=t.text.length||""!=t.text[0]||0!=cmp(t.from,t.to)){var n=computeSelAfterChange(e,t);addChangeToHistory(e,t,n,e.cm?e.cm.curOp.id:NaN),makeChangeSingleDoc(e,t,n,stretchSpansOverChange(e,t));var r=[];linkedDocs(e,function(e,n){n||-1!=indexOf(r,e.history)||(rebaseHist(e.history,t),r.push(e.history)),makeChangeSingleDoc(e,t,null,stretchSpansOverChange(e,t))})}}function makeChangeFromHistory(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var r=e.history,i,o=e.sel,a="undo"==t?r.done:r.undone,s="undo"==t?r.undone:r.done,c=0;c<a.length&&(i=a[c],n?!i.ranges||i.equals(e.sel):i.ranges);c++);if(c!=a.length){for(r.lastOrigin=r.lastSelOrigin=null;(i=a.pop()).ranges;){if(pushSelectionToHistory(i,s),n&&!i.equals(e.sel))return void setSelection(e,i,{clearRedo:!1});o=i}var u=[];pushSelectionToHistory(o,s),s.push({changes:u,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var l=hasHandler(e,"beforeChange")||e.cm&&hasHandler(e.cm,"beforeChange"),d=function(n){var r=i.changes[n];if(r.origin=t,l&&!filterChange(e,r,!1))return a.length=0,{};u.push(historyChangeFromChange(e,r));var o=n?computeSelAfterChange(e,r):lst(a);makeChangeSingleDoc(e,r,o,mergeOldSpans(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:changeEnd(r)});var s=[];linkedDocs(e,function(e,t){t||-1!=indexOf(s,e.history)||(rebaseHist(e.history,r),s.push(e.history)),makeChangeSingleDoc(e,r,null,mergeOldSpans(e,r))})},p=i.changes.length-1;p>=0;--p){var h=d(p);if(h)return h.v}}}}function shiftDoc(e,t){if(0!=t&&(e.first+=t,e.sel=new me(map(e.sel.ranges,function(e){return new ve(Pos(e.anchor.line+t,e.anchor.ch),Pos(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){regChange(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)regLineChange(e.cm,r,"gutter")}}function makeChangeSingleDoc(e,t,n,r){if(e.cm&&!e.cm.curOp)return operation(e.cm,makeChangeSingleDoc)(e,t,n,r);if(t.to.line<e.first)shiftDoc(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);shiftDoc(e,i),t={from:Pos(e.first,0),to:Pos(t.to.line+i,t.to.ch),text:[lst(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Pos(o,getLine(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=getBetween(e,t.from,t.to),n||(n=computeSelAfterChange(e,t)),e.cm?makeChangeSingleDocInEditor(e.cm,t,r):updateDoc(e,t,r),setSelectionNoUndo(e,n,O)}}function makeChangeSingleDocInEditor(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,c=o.line;e.options.lineWrapping||(c=lineNo(visualLine(getLine(r,o.line))),r.iter(c,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&signalCursorActivity(e),updateDoc(r,t,n,estimateHeight(e)),e.options.lineWrapping||(r.iter(c,o.line+t.text.length,function(e){var t=lineLength(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),retreatFrontier(r,o.line),startWorker(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?regChange(e):o.line!=a.line||1!=t.text.length||isWholeLineUpdate(e.doc,t)?regChange(e,o.line,a.line+1,u):regLineChange(e,o.line,"text");var l=hasHandler(e,"changes"),d=hasHandler(e,"change");if(d||l){var p={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&signalLater(e,"change",e,p),l&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function replaceRange(e,t,n,r,i){if(r||(r=n),cmp(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),makeChange(e,{from:n,to:r,text:t,origin:i})}function rebaseHistSelSingle(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function rebaseHistArray(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)rebaseHistSelSingle(o.ranges[s].anchor,t,n,r),rebaseHistSelSingle(o.ranges[s].head,t,n,r)}else{for(var c=0;c<o.changes.length;++c){var u=o.changes[c];if(n<u.from.line)u.from=Pos(u.from.line+r,u.from.ch),u.to=Pos(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function rebaseHist(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;rebaseHistArray(e.done,n,r,i),rebaseHistArray(e.undone,n,r,i)}function changeLine(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=getLine(e,clipLine(e,t)):i=lineNo(t),null==i?null:(r(o,i)&&e.cm&&regLineChange(e.cm,i,n),o)}function LeafChunk(e){var t=this;this.lines=e,this.parent=null;for(var n=0,r=0;r<e.length;++r)e[r].parent=t,n+=e[r].height;this.height=n}function BranchChunk(e){var t=this;this.children=e;for(var n=0,r=0,i=0;i<e.length;++i){var o=e[i];n+=o.chunkSize(),r+=o.height,o.parent=t}this.size=n,this.height=r,this.parent=null}function adjustScrollWhenAboveVisible(e,t,n){heightAtLine(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&addToScrollTop(e,n)}function addLineWidget(e,t,n,r){var i=new ye(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),changeLine(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!lineIsHidden(e,t)){var r=heightAtLine(t)<e.scrollTop;updateLineHeight(t,t.height+widgetHeight(i)),r&&addToScrollTop(o,i.height),o.curOp.forceUpdate=!0}return!0}),signalLater(o,"lineWidgetAdded",o,i,"number"==typeof t?t:lineNo(t)),i}function markText(e,t,n,r,i){if(r&&r.shared)return markTextShared(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return operation(e.cm,markText)(e,t,n,r,i);var o=new be(e,i),a=cmp(t,n);if(r&&copyObj(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=eltP("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(conflictingCollapsedRange(e,t.line,t,n,o)||t.line!=n.line&&conflictingCollapsedRange(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");seeCollapsedSpans()}o.addToHistory&&addChangeToHistory(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s=t.line,c=e.cm,u;if(e.iter(s,n.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&visualLine(e)==c.display.maxLine&&(u=!0),o.collapsed&&s!=t.line&&updateLineHeight(e,0),addMarkedSpan(e,new MarkedSpan(o,s==t.line?t.ch:null,s==n.line?n.ch:null)),++s}),o.collapsed&&e.iter(t.line,n.line+1,function(t){lineIsHidden(e,t)&&updateLineHeight(t,0)}),o.clearOnEnter&&B(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(seeReadOnlySpans(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++_e,o.atomic=!0),c){if(u&&(c.curOp.updateMaxLine=!0),o.collapsed)regChange(c,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var l=t.line;l<=n.line;l++)regLineChange(c,l,"text");o.atomic&&reCheckSelection(c.doc),signalLater(c,"markerAdded",c,o)}return o}function markTextShared(e,t,n,r,i){(r=copyObj(r)).shared=!1;var o=[markText(e,t,n,r,i)],a=o[0],s=r.widgetNode;return linkedDocs(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(markText(e,clipPos(e,t),clipPos(e,n),r,i));for(var c=0;c<e.linked.length;++c)if(e.linked[c].isParent)return;a=lst(o)}),new Se(o,a)}function findSharedMarkers(e){return e.findMarks(Pos(e.first,0),e.clipPos(Pos(e.lastLine())),function(e){return e.parent})}function copySharedMarkers(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(cmp(o,a)){var s=markText(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function detachSharedMarkers(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];linkedDocs(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==indexOf(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}function onDrop(e){var t=this;if(clearDragCursor(t),!signalDOMEvent(t,e)&&!eventInWidget(t.display,e)){e_preventDefault(e),a&&(Te=+new Date);var n=posFromMouse(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,c=function(e,r){if(!t.options.allowDropFileTypes||-1!=indexOf(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=operation(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++s==i){var c={from:n=clipPos(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};makeChange(t.doc,c),setSelectionReplaceHistory(t.doc,simpleSelection(n,changeEnd(c)))}}),a.readAsText(e)}},u=0;u<i;++u)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var l=e.dataTransfer.getData("Text");if(l){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),setSelectionNoUndo(t.doc,simpleSelection(n,n)),d)for(var p=0;p<d.length;++p)replaceRange(t.doc,"",d[p].anchor,d[p].head,"drag");t.replaceSelection(l,"around","paste"),t.display.input.focus()}}catch(e){}}}}function onDragStart(e,t){if(a&&(!e.state.draggingText||+new Date-Te<100))e_stop(t);else if(!signalDOMEvent(e,t)&&!eventInWidget(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!p)){var n=elt("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function onDragOver(e,t){var n=posFromMouse(e,t);if(n){var r=document.createDocumentFragment();drawSelectionCursor(e,n,r),e.display.dragCursor||(e.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),removeChildrenAndAdd(e.display.dragCursor,r)}}function clearDragCursor(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function forEachCodeMirror(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function ensureGlobalHandlers(){Ee||(registerGlobalHandlers(),Ee=!0)}function registerGlobalHandlers(){var e;B(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,forEachCodeMirror(onResize)},100))}),B(window,"blur",function(){return forEachCodeMirror(onBlur)})}function onResize(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function normalizeKeyName(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,o,a=0;a<t.length-1;a++){var s=t[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function normalizeKeyMap(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=map(n.split(" "),normalizeKeyName),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var c=t[s];if(c){if(c!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function lookupKey(e,t,n,r){var i=(t=getKeyMap(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return lookupKey(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=lookupKey(e,t.fallthrough[o],n,r);if(a)return a}}}function isModifierKey(e){var t="string"==typeof e?e:ke[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function addModifierNames(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(w?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(w?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function keyName(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=ke[e.keyCode];return null!=n&&!e.altGraphKey&&addModifierNames(n,e,t)}function getKeyMap(e){return"string"==typeof e?Oe[e]:e}function deleteNearSelection(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&cmp(o.from,lst(r).to)<=0;){var a=r.pop();if(cmp(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}runInOp(e,function(){for(var t=r.length-1;t>=0;t--)replaceRange(e.doc,"",r[t].from,r[t].to,"+delete");ensureCursorVisible(e)})}function lineStart(e,t){var n=getLine(e.doc,t),r=visualLine(n);return r!=n&&(t=lineNo(r)),endOfLine(!0,e,r,t,1)}function lineEnd(e,t){var n=getLine(e.doc,t),r=visualLineEnd(n);return r!=n&&(t=lineNo(r)),endOfLine(!0,e,n,t,-1)}function lineStartSmart(e,t){var n=lineStart(e,t.line),r=getLine(e.doc,n.line),i=getOrder(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return Pos(n.line,a?0:o,n.sticky)}return n}function doHandleBinding(e,t,n){if("string"==typeof t&&!(t=Pe[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=R}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function lookupKeyForEditor(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=lookupKey(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&lookupKey(t,e.options.extraKeys,n,e)||lookupKey(t,e.options.keyMap,n,e)}function dispatchKey(e,t,n,r){var i=e.state.keySeq;if(i){if(isModifierKey(t))return"handled";Ae.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=lookupKeyForEditor(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&signalLater(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(e_preventDefault(n),restartBlink(e)),i&&!o&&/\'$/.test(t)?(e_preventDefault(n),!0):!!o}function handleKeyBinding(e,t){var n=keyName(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?dispatchKey(e,"Shift-"+n,t,function(t){return doHandleBinding(e,t,!0)})||dispatchKey(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return doHandleBinding(e,t)}):dispatchKey(e,n,t,function(t){return doHandleBinding(e,t)}))}function handleCharBinding(e,t,n){return dispatchKey(e,"'"+n+"'",t,function(t){return doHandleBinding(e,t,!0)})}function onKeyDown(e){var t=this;if(t.curOp.focus=activeElt(),!signalDOMEvent(t,e)){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=handleKeyBinding(t,e);d&&(Me=r?n:null,!r&&88==n&&!$&&(y?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||showCrossHair(t)}}function showCrossHair(e){function up(e){18!=e.keyCode&&e.altKey||(T(t,"CodeMirror-crosshair"),off(document,"keyup",up),off(document,"mouseover",up))}var t=e.display.lineDiv;addClass(t,"CodeMirror-crosshair"),B(document,"keyup",up),B(document,"mouseover",up)}function onKeyUp(e){16==e.keyCode&&(this.doc.sel.shift=!1),signalDOMEvent(this,e)}function onKeyPress(e){var t=this;if(!(eventInWidget(t.display,e)||signalDOMEvent(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==Me)return Me=null,void e_preventDefault(e);if(!d||e.which&&!(e.which<10)||!handleKeyBinding(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(handleCharBinding(t,e,i)||t.display.input.onKeyPress(e))}}}function clickRepeat(e,t){var n=+new Date;return Fe&&Fe.compare(n,e,t)?(Le=Fe=null,"triple"):Le&&Le.compare(n,e,t)?(Fe=new De(n,e,t),Le=null,"double"):(Le=new De(n,e,t),Fe=null,"single")}function onMouseDown(e){var t=this,n=t.display;if(!(signalDOMEvent(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,eventInWidget(n,e))c||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!clickInGutter(t,e)){var r=posFromMouse(t,e),i=e_button(e),o=r?clickRepeat(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&handleMappedButton(t,i,r,o,e)||(1==i?r?leftButtonDown(t,r,o,e):e_target(e)==n.scroller&&e_preventDefault(e):2==i?(r&&extendSelection(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(C?onContextMenu(t,e):delayBlurEvent(t)))}}function handleMappedButton(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,dispatchKey(e,addModifierNames(o,i),i,function(t){if("string"==typeof t&&(t=Pe[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=R}finally{e.state.suppressEdits=!1}return r})}function configureMouse(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=_?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}function leftButtonDown(e,t,n,r){a?setTimeout(bind(ensureFocus,e),0):e.curOp.focus=activeElt();var i=configureMouse(e,n,r),o=e.doc.sel,s;e.options.dragDrop&&H&&!e.isReadOnly()&&"single"==n&&(s=o.contains(t))>-1&&(cmp((s=o.ranges[s]).from(),t)<0||t.xRel>0)&&(cmp(s.to(),t)>0||t.xRel<0)?leftButtonStartDrag(e,r,t,i):leftButtonSelect(e,r,t,i)}function leftButtonStartDrag(e,t,n,r){var i=e.display,o=!1,u=operation(e,function(t){c&&(i.scroller.draggable=!1),e.state.draggingText=!1,off(document,"mouseup",u),off(document,"mousemove",l),off(i.scroller,"dragstart",d),off(i.scroller,"drop",u),o||(e_preventDefault(t),r.addNew||extendSelection(e.doc,n,null,null,r.extend),c||a&&9==s?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),l=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};c&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),B(document,"mouseup",u),B(document,"mousemove",l),B(i.scroller,"dragstart",d),B(i.scroller,"drop",u),delayBlurEvent(e),setTimeout(function(){return i.input.focus()},20)}function rangeForUnit(e,t,n){if("char"==n)return new ve(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new ve(Pos(t.line,0),clipPos(e.doc,Pos(t.line+1,0)));var r=n(e,t);return new ve(r.from,r.to)}function leftButtonSelect(e,t,n,r){function extendTo(t){if(0!=cmp(d,t))if(d=t,"rectangle"==r.unit){for(var i=[],u=e.options.tabSize,l=countColumn(getLine(o,n.line).text,n.ch,u),p=countColumn(getLine(o,t.line).text,t.ch,u),h=Math.min(l,p),f=Math.max(l,p),g=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=m;g++){var v=getLine(o,g).text,y=findColumn(v,h,u);h==f?i.push(new ve(Pos(g,y),Pos(g,y))):v.length>y&&i.push(new ve(Pos(g,y),Pos(g,findColumn(v,f,u))))}i.length||i.push(new ve(n,n)),setSelection(o,normalizeSelection(c.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var _=a,b=rangeForUnit(e,t,r.unit),S=_.anchor,w;cmp(b.anchor,S)>0?(w=b.head,S=minPos(_.from(),b.anchor)):(w=b.anchor,S=maxPos(_.to(),b.head));var C=c.ranges.slice(0);C[s]=new ve(clipPos(o,S),w),setSelection(o,normalizeSelection(C,s),P)}}function extend(t){var n=++h,a=posFromMouse(e,t,!0,"rectangle"==r.unit);if(a)if(0!=cmp(a,d)){e.curOp.focus=activeElt(),extendTo(a);var s=visibleLines(i,o);(a.line>=s.to||a.line<s.from)&&setTimeout(operation(e,function(){h==n&&extend(t)}),150)}else{var c=t.clientY<p.top?-20:t.clientY>p.bottom?20:0;c&&setTimeout(operation(e,function(){h==n&&(i.scroller.scrollTop+=c,extend(t))}),50)}}function done(t){e.state.selectingText=!1,h=1/0,e_preventDefault(t),i.input.focus(),off(document,"mousemove",f),off(document,"mouseup",g),o.history.lastSelOrigin=null}var i=e.display,o=e.doc;e_preventDefault(t);var a,s,c=o.sel,u=c.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?u[s]:new ve(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new ve(n,n)),n=posFromMouse(e,t,!0,!0),s=-1;else{var l=rangeForUnit(e,n,r.unit);a=r.extend?extendRange(a,l.anchor,l.head,r.extend):l}r.addNew?-1==s?(s=u.length,setSelection(o,normalizeSelection(u.concat([a]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==r.unit&&!r.extend?(setSelection(o,normalizeSelection(u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):replaceOneSelection(o,s,a,P):(s=0,setSelection(o,new me([a],0),P),c=o.sel);var d=n,p=i.wrapper.getBoundingClientRect(),h=0,f=operation(e,function(e){e_button(e)?extend(e):done(e)}),g=operation(e,done);e.state.selectingText=g,B(document,"mousemove",f),B(document,"mouseup",g)}function gutterEvent(e,t,n,r){var i,o;try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&e_preventDefault(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!hasHandler(e,n))return e_defaultPrevented(t);o-=s.top-a.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var u=a.gutters.childNodes[c];if(u&&u.getBoundingClientRect().right>=i)return signal(e,n,e,lineAtHeight(e.doc,o),e.options.gutters[c],t),e_defaultPrevented(t)}}function clickInGutter(e,t){return gutterEvent(e,t,"gutterClick",!0)}function onContextMenu(e,t){eventInWidget(e.display,t)||contextMenuInGutter(e,t)||signalDOMEvent(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function contextMenuInGutter(e,t){return!!hasHandler(e,"gutterContextMenu")&&gutterEvent(e,t,"gutterContextMenu",!1)}function themeChanged(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),clearCaches(e)}function defineOptions(e){function option(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=Ue&&i(e,t,n)}:i)}var t=e.optionHandlers;e.defineOption=option,e.Init=Ue,option("value","",function(e,t){return e.setValue(t)},!0),option("mode",null,function(e,t){e.doc.modeOption=t,loadMode(e)},!0),option("indentUnit",2,loadMode,!0),option("indentWithTabs",!1),option("smartIndent",!0),option("tabSize",4,function(e){resetModeState(e),clearCaches(e),regChange(e)},!0),option("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(Pos(r,o))}r++});for(var i=n.length-1;i>=0;i--)replaceRange(e.doc,t,n[i],Pos(n[i].line,n[i].ch+t.length))}}),option("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ue&&e.refresh()}),option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(e){return e.refresh()},!0),option("electricChars",!0),option("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),option("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),option("rtlMoveVisually",!b),option("wholeLineUpdateBefore",!0),option("theme","default",function(e){themeChanged(e),guttersChanged(e)},!0),option("keyMap","default",function(e,t,n){var r=getKeyMap(t),i=n!=Ue&&getKeyMap(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),option("extraKeys",null),option("configureMouse",null),option("lineWrapping",!1,wrappingChanged,!0),option("gutters",[],function(e){setGuttersForLineNumbers(e.options),guttersChanged(e)},!0),option("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?compensateForHScroll(e.display)+"px":"0",e.refresh()},!0),option("coverGutterNextToScrollbar",!1,function(e){return updateScrollbars(e)},!0),option("scrollbarStyle","native",function(e){initScrollbars(e),updateScrollbars(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),option("lineNumbers",!1,function(e){setGuttersForLineNumbers(e.options),guttersChanged(e)},!0),option("firstLineNumber",1,guttersChanged,!0),option("lineNumberFormatter",function(e){return e},guttersChanged,!0),option("showCursorWhenSelecting",!1,updateSelection,!0),option("resetSelectionOnContextMenu",!0),option("lineWiseCopyCut",!0),option("pasteLinesPerSelection",!0),option("readOnly",!1,function(e,t){"nocursor"==t&&(onBlur(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),option("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),option("dragDrop",!0,dragDropChanged),option("allowDropFileTypes",null),option("cursorBlinkRate",530),option("cursorScrollMargin",0),option("cursorHeight",1,updateSelection,!0),option("singleCursorHeightPerLine",!0,updateSelection,!0),option("workTime",100),option("workDelay",100),option("flattenSpans",!0,resetModeState,!0),option("addModeClass",!1,resetModeState,!0),option("pollInterval",100),option("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),option("historyEventDelay",1250),option("viewportMargin",10,function(e){return e.refresh()},!0),option("maxHighlightLength",1e4,resetModeState,!0),option("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),option("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),option("autofocus",null),option("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}function guttersChanged(e){updateGutters(e),regChange(e),alignHorizontally(e)}function dragDropChanged(e,t,n){if(!t!=!(n&&n!=Ue)){var r=e.display.dragFunctions,i=t?B:off;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function wrappingChanged(e){e.options.lineWrapping?(addClass(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(T(e.display.wrapper,"CodeMirror-wrap"),findMaxLine(e)),estimateLineHeights(e),regChange(e),clearCaches(e),setTimeout(function(){return updateScrollbars(e)},100)}function CodeMirror$1(e,t){var n=this;if(!(this instanceof CodeMirror$1))return new CodeMirror$1(e,t);this.options=t=t?copyObj(t):{},copyObj(je,t,!1),setGuttersForLineNumbers(t);var r=t.value;"string"==typeof r&&(r=new Ce(r,t.mode,null,t.lineSeparator,t.direction)),this.doc=r;var i=new CodeMirror$1.inputStyles[t.inputStyle](this),o=this.display=new Display(e,r,i);o.wrapper.CodeMirror=this,updateGutters(this),themeChanged(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),initScrollbars(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new x,keySeq:null,specialChars:null},t.autofocus&&!v&&o.input.focus(),a&&s<11&&setTimeout(function(){return n.display.input.reset(!0)},20),registerEventHandlers(this),ensureGlobalHandlers(),startOperation(this),this.curOp.forceUpdate=!0,attachDoc(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(bind(onFocus,this),20):onBlur(this);for(var u in We)We.hasOwnProperty(u)&&We[u](n,t[u],Ue);maybeUpdateLineNumberWidth(this),t.finishInit&&t.finishInit(this);for(var l=0;l<Be.length;++l)Be[l](n);endOperation(this),c&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function registerEventHandlers(e){function finishTouch(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),(r=t.activeTouch).end=+new Date)}function isMouseLikeTouchEvent(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function farAway(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var t=e.display;B(t.scroller,"mousedown",operation(e,onMouseDown)),a&&s<11?B(t.scroller,"dblclick",operation(e,function(t){if(!signalDOMEvent(e,t)){var n=posFromMouse(e,t);if(n&&!clickInGutter(e,t)&&!eventInWidget(e.display,t)){e_preventDefault(t);var r=e.findWordAt(n);extendSelection(e.doc,r.anchor,r.head)}}})):B(t.scroller,"dblclick",function(t){return signalDOMEvent(e,t)||e_preventDefault(t)}),C||B(t.scroller,"contextmenu",function(t){return onContextMenu(e,t)});var n,r={end:0};B(t.scroller,"touchstart",function(i){if(!signalDOMEvent(e,i)&&!isMouseLikeTouchEvent(i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}}),B(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),B(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!eventInWidget(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var i=e.coordsChar(t.activeTouch,"page"),o;o=!r.prev||farAway(r,r.prev)?new ve(i,i):!r.prev.prev||farAway(r,r.prev.prev)?e.findWordAt(i):new ve(Pos(i.line,0),clipPos(e.doc,Pos(i.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),e_preventDefault(n)}finishTouch()}),B(t.scroller,"touchcancel",finishTouch),B(t.scroller,"scroll",function(){t.scroller.clientHeight&&(updateScrollTop(e,t.scroller.scrollTop),setScrollLeft(e,t.scroller.scrollLeft,!0),signal(e,"scroll",e))}),B(t.scroller,"mousewheel",function(t){return onScrollWheel(e,t)}),B(t.scroller,"DOMMouseScroll",function(t){return onScrollWheel(e,t)}),B(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){signalDOMEvent(e,t)||e_stop(t)},over:function(t){signalDOMEvent(e,t)||(onDragOver(e,t),e_stop(t))},start:function(t){return onDragStart(e,t)},drop:operation(e,onDrop),leave:function(t){signalDOMEvent(e,t)||clearDragCursor(e)}};var i=t.input.getField();B(i,"keyup",function(t){return onKeyUp.call(e,t)}),B(i,"keydown",operation(e,onKeyDown)),B(i,"keypress",operation(e,onKeyPress)),B(i,"focus",function(t){return onFocus(e,t)}),B(i,"blur",function(t){return onBlur(e,t)})}function indentLine(e,t,n,r){var i=e.doc,o;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=getContextBefore(e,t).state:n="prev");var a=e.options.tabSize,s=getLine(i,t),c=countColumn(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u=s.text.match(/^\s*/)[0],l;if(r||/\S/.test(s.text)){if("smart"==n&&((l=i.mode.indent(o,s.text.slice(u.length),s.text))==R||l>150)){if(!r)return;n="prev"}}else l=0,n="not";"prev"==n?l=t>i.first?countColumn(getLine(i,t-1).text,null,a):0:"add"==n?l=c+e.options.indentUnit:"subtract"==n?l=c-e.options.indentUnit:"number"==typeof n&&(l=c+n),l=Math.max(0,l);var d="",p=0;if(e.options.indentWithTabs)for(var h=Math.floor(l/a);h;--h)p+=a,d+="\t";if(p<l&&(d+=spaceStr(l-p)),d!=u)return replaceRange(i,d,Pos(t,0),Pos(t,u.length),"+input"),s.stateAfter=null,!0;for(var f=0;f<i.sel.ranges.length;f++){var g=i.sel.ranges[f];if(g.head.line==t&&g.head.ch<u.length){var m=Pos(t,u.length);replaceOneSelection(i,f,new ve(m,m));break}}}function setLastCopied(e){He=e}function applyTextInput(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=V(t),c=null;if(a&&r.ranges.length>1)if(He&&He.text.join("\n")==t){if(r.ranges.length%He.text.length==0){c=[];for(var u=0;u<He.text.length;u++)c.push(o.splitLines(He.text[u]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=map(s,function(e){return[e]}));for(var l,d=r.ranges.length-1;d>=0;d--){var p=r.ranges[d],h=p.from(),f=p.to();p.empty()&&(n&&n>0?h=Pos(h.line,h.ch-n):e.state.overwrite&&!a?f=Pos(f.line,Math.min(getLine(o,f.line).text.length,f.ch+lst(s).length)):He&&He.lineWise&&He.text.join("\n")==t&&(h=f=Pos(h.line,0))),l=e.curOp.updateInput;var g={from:h,to:f,text:c?c[d%c.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};makeChange(e.doc,g),signalLater(e,"inputRead",e,g)}t&&!a&&triggerElectric(e,t),ensureCursorVisible(e),e.curOp.updateInput=l,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function handlePaste(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||runInOp(t,function(){return applyTextInput(t,n,0,null,"paste")}),!0}function triggerElectric(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=indentLine(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(getLine(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=indentLine(e,i.head.line,"smart"));a&&signalLater(e,"electricInput",e,i.head.line)}}}function copyableRanges(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:Pos(i,0),head:Pos(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function disableBrowserMagic(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function hiddenTextarea(){var e=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=elt("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),disableBrowserMagic(e),t}function findPosH(e,t,n,r,i){function findNextLine(){var r=t.line+n;return!(r<e.first||r>=e.first+e.size)&&(t=new Pos(r,t.ch,t.sticky),s=getLine(e,r))}function moveOnce(r){var o;if(null==(o=i?moveVisually(e.cm,s,t,n):moveLogically(s,t,n))){if(r||!findNextLine())return!1;t=endOfLine(i,e.cm,s,t.line,n)}else t=o;return!0}var o=t,a=n,s=getLine(e,t.line);if("char"==r)moveOnce();else if("column"==r)moveOnce(!0);else if("word"==r||"group"==r)for(var c=null,u="group"==r,l=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||moveOnce(!d);d=!1){var p=s.text.charAt(t.ch)||"\n",h=isWordChar(p,l)?"w":u&&"\n"==p?"n":!u||/\s/.test(p)?null:"p";if(!u||d||h||(h="s"),c&&c!=h){n<0&&(n=1,moveOnce(),t.sticky="after");break}if(h&&(c=h),n>0&&!moveOnce(!d))break}var f=skipAtomic(e,t,o,a,!0);return equalCursorPos(o,f)&&(f.hitSide=!0),f}function findPosV(e,t,n,r){var i=e.doc,o=t.left,a;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(s-.5*textHeight(e.display),3);a=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(a=n>0?t.bottom+3:t.top-3);for(var u;(u=coordsChar(e,o,a)).outside;){if(n<0?a<=0:a>=i.height){u.hitSide=!0;break}a+=5*n}return u}function posToDOM(e,t){var n=findViewForLine(e,t.line);if(!n||n.hidden)return null;var r=getLine(e.doc,t.line),i=mapFromLineView(n,r,t.line),o=getOrder(r,e.doc.direction),a="left";o&&(a=getBidiPartAt(o,t.ch)%2?"right":"left");var s=nodeAndOffsetInLineMap(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function isInGutter(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function badPos(e,t){return t&&(e.bad=!0),e}function domTextBetween(e,t,n,r,i){function recognizeMarker(e){return function(t){return t.id==e}}function close(){a&&(o+=s,a=!1)}function addText(e){e&&(close(),o+=e)}function walk(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return void addText(n||t.textContent.replace(/\u200b/g,""));var o=t.getAttribute("cm-marker"),c;if(o){var u=e.findMarks(Pos(r,0),Pos(i+1,0),recognizeMarker(+o));return void(u.length&&(c=u[0].find())&&addText(getBetween(e.doc,c.from,c.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var l=/^(pre|div|p)$/i.test(t.nodeName);l&&close();for(var d=0;d<t.childNodes.length;d++)walk(t.childNodes[d]);l&&(a=!0)}else 3==t.nodeType&&addText(t.nodeValue)}for(var o="",a=!1,s=e.doc.lineSeparator();walk(t),t!=n;)t=t.nextSibling;return o}function domToPos(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return badPos(e.clipPos(Pos(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return locateNodeInLineView(o,t,n)}}function locateNodeInLineView(e,t,n){function find(t,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?c.map:u[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var l=lineNo(i<0?e.line:e.rest[i]),d=o[a]+r;return(r<0||s!=t)&&(d=o[a+(r?1:0)]),Pos(l,d)}}}var r=e.text.firstChild,i=!1;if(!t||!contains(r,t))return badPos(Pos(lineNo(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?lst(e.rest):e.line;return badPos(Pos(lineNo(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var c=e.measure,u=c.maps,l=find(a,s,n);if(l)return badPos(l,i);for(var d=s.nextSibling,p=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(l=find(d,d.firstChild,0))return badPos(Pos(l.line,l.ch-p),i);p+=d.textContent.length}for(var h=s.previousSibling,f=n;h;h=h.previousSibling){if(l=find(h,h.firstChild,-1))return badPos(Pos(l.line,l.ch+f),i);f+=h.textContent.length}}function fromTextArea(e,t){function save(){e.value=a.getValue()}if(t=t?copyObj(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=activeElt();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}var r;if(e.form&&(B(e.form,"submit",save),!t.leaveSubmitMethodAlone)){var i=e.form;r=i.submit;try{var o=i.submit=function(){save(),i.submit=r,i.submit(),i.submit=o}}catch(e){}}t.finishInit=function(t){t.save=save,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,save(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(off(e.form,"submit",save),"function"==typeof e.form.submit&&(e.form.submit=r))}},e.style.display="none";var a=CodeMirror$1(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a}function addLegacyProps(e){e.off=off,e.on=B,e.wheelEventPixels=wheelEventPixels,e.Doc=Ce,e.splitLines=V,e.countColumn=countColumn,e.findColumn=findColumn,e.isWordChar=isWordCharBasic,e.Pass=R,e.signal=signal,e.Line=ne,e.changeEnd=changeEnd,e.scrollbarModel=de,e.Pos=Pos,e.cmpPos=cmp,e.modes=K,e.mimeModes=Y,e.resolveMode=resolveMode,e.getMode=getMode,e.modeExtensions=Q,e.extendMode=extendMode,e.copyState=copyState,e.startState=startState,e.innerMode=innerMode,e.commands=Pe,e.keyMap=Oe,e.keyName=keyName,e.isModifierKey=isModifierKey,e.lookupKey=lookupKey,e.normalizeKeyMap=normalizeKeyMap,e.StringStream=J,e.SharedTextMarker=Se,e.TextMarker=be,e.LineWidget=ye,e.e_preventDefault=e_preventDefault,e.e_stopPropagation=e_stopPropagation,e.e_stop=e_stop,e.addClass=addClass,e.contains=contains,e.rmClass=T,e.keyNames=ke}var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),c=!o&&/WebKit\//.test(e),u=c&&/Qt\/\d+\.\d+/.test(e),l=!o&&/Chrome\//.test(e),d=/Opera\//.test(e),p=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),f=/PhantomJS/.test(e),g=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),m=/Android/.test(e),v=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=g||/Mac/.test(t),_=/\bCrOS\b/.test(e),b=/win/i.test(t),S=d&&e.match(/Version\/(\d*\.\d*)/);S&&(S=Number(S[1])),S&&S>=15&&(d=!1,c=!0);var w=y&&(u||d&&(null==S||S<12.11)),C=n||a&&s>=9,T=function(e,t){var n=e.className,r=classTest(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},E;E=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var k=function(e){e.select()};g?k=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(k=function(e){try{e.select()}catch(e){}});var x=function(){this.id=null};x.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var I=30,R={toString:function(){return"CodeMirror.Pass"}},O={scroll:!1},P={origin:"*mouse"},A={origin:"+move"},M=[""],N=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,D=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,L=!1,F=!1,U=null,j=function(){function charType(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}function BidiSpan(e,t,n){this.level=e,this.from=t,this.to=n}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,a=/[1n]/;return function(e,t){var s="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!n.test(e))return!1;for(var c=e.length,u=[],l=0;l<c;++l)u.push(charType(e.charCodeAt(l)));for(var d=0,p=s;d<c;++d){var h=u[d];"m"==h?u[d]=p:p=h}for(var f=0,g=s;f<c;++f){var m=u[f];"1"==m&&"r"==g?u[f]="n":i.test(m)&&(g=m,"r"==m&&(u[f]="R"))}for(var v=1,y=u[0];v<c-1;++v){var _=u[v];"+"==_&&"1"==y&&"1"==u[v+1]?u[v]="1":","!=_||y!=u[v+1]||"1"!=y&&"n"!=y||(u[v]=y),y=_}for(var b=0;b<c;++b){var S=u[b];if(","==S)u[b]="N";else if("%"==S){var w=void 0;for(w=b+1;w<c&&"%"==u[w];++w);for(var C=b&&"!"==u[b-1]||w<c&&"1"==u[w]?"1":"N",T=b;T<w;++T)u[T]=C;b=w-1}}for(var E=0,k=s;E<c;++E){var x=u[E];"L"==k&&"1"==x?u[E]="L":i.test(x)&&(k=x)}for(var I=0;I<c;++I)if(r.test(u[I])){var R=void 0;for(R=I+1;R<c&&r.test(u[R]);++R);for(var O="L"==(I?u[I-1]:s),P=O==("L"==(R<c?u[R]:s))?O?"L":"R":s,A=I;A<R;++A)u[A]=P;I=R-1}for(var M=[],N,D=0;D<c;)if(o.test(u[D])){var L=D;for(++D;D<c&&o.test(u[D]);++D);M.push(new BidiSpan(0,L,D))}else{var F=D,U=M.length;for(++D;D<c&&"L"!=u[D];++D);for(var j=F;j<D;)if(a.test(u[j])){F<j&&M.splice(U,0,new BidiSpan(1,F,j));var W=j;for(++j;j<D&&a.test(u[j]);++j);M.splice(U,0,new BidiSpan(2,W,j)),F=j}else++j;F<D&&M.splice(U,0,new BidiSpan(1,F,D))}return 1==M[0].level&&(N=e.match(/^\s+/))&&(M[0].from=N[0].length,M.unshift(new BidiSpan(0,0,N[0].length))),1==lst(M).level&&(N=e.match(/\s+$/))&&(lst(M).to-=N[0].length,M.push(new BidiSpan(0,c-N[0].length,c))),"rtl"==t?M.reverse():M}}(),W=[],B=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||W).concat(n)}},H=function(){if(a&&s<9)return!1;var e=elt("div");return"draggable"in e||"dragDrop"in e}(),z,q,V=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},G=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},$=function(){var e=elt("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),X=null,K={},Y={},Q={},J=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};J.prototype.eol=function(){return this.pos>=this.string.length},J.prototype.sol=function(){return this.pos==this.lineStart},J.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},J.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},J.prototype.eat=function(e){var t=this.string.charAt(this.pos),n;if(n="string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},J.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},J.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},J.prototype.skipToEnd=function(){this.pos=this.string.length},J.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},J.prototype.backUp=function(e){this.pos-=e},J.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},J.prototype.indentation=function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},J.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},J.prototype.current=function(){return this.string.slice(this.start,this.pos)},J.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},J.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)};var Z=function(e,t){this.state=e,this.lookAhead=t},ee=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0};ee.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ee.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ee.fromSaved=function(e,t,n){return t instanceof Z?new ee(e,copyState(e.mode,t.state),n,t.lookAhead):new ee(e,copyState(e.mode,t),n)},ee.prototype.save=function(e){var t=!1!==e?copyState(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Z(t,this.maxLookAhead):t};var te=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},ne=function(e,t,n){this.text=e,attachMarkedSpans(this,t),this.height=n?n(this):1};ne.prototype.lineNo=function(){return lineNo(this)},eventMixin(ne);var re={},ie={},oe=null,ae=null,se={left:0,right:0,top:0,bottom:0},ce,ue=function(e,t,n){this.cm=n;var r=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),B(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),B(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ue.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},ue.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ue.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ue.prototype.zeroWidthHack=function(){var e=y&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new x,this.disableVert=new x},ue.prototype.enableZeroWidthBar=function(e,t,n){function maybeDisable(){var r=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,maybeDisable)}e.style.pointerEvents="auto",t.set(1e3,maybeDisable)},ue.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var le=function(){};le.prototype.update=function(){return{bottom:0,right:0}},le.prototype.setScrollLeft=function(){},le.prototype.setScrollTop=function(){},le.prototype.clear=function(){};var de={native:ue,null:le},pe=0,he=function(e,t,n){var r=e.display;this.viewport=t,this.visible=visibleLines(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=displayWidth(e),this.force=n,this.dims=getDimensions(e),this.events=[]};he.prototype.signal=function(e,t){hasHandler(e,t)&&this.events.push(arguments)},he.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)signal.apply(null,e.events[t])};var fe=0,ge=null;a?ge=-.53:n?ge=15:l?ge=-.7:p&&(ge=-1/3);var me=function(e,t){this.ranges=e,this.primIndex=t};me.prototype.primary=function(){return this.ranges[this.primIndex]},me.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],i=e.ranges[n];if(!equalCursorPos(r.anchor,i.anchor)||!equalCursorPos(r.head,i.head))return!1}return!0},me.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new ve(copyPos(e.ranges[n].anchor),copyPos(e.ranges[n].head));return new me(t,this.primIndex)},me.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},me.prototype.contains=function(e,t){var n=this;t||(t=e);for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(cmp(t,i.from())>=0&&cmp(e,i.to())<=0)return r}return-1};var ve=function(e,t){this.anchor=e,this.head=t};ve.prototype.from=function(){return minPos(this.anchor,this.head)},ve.prototype.to=function(){return maxPos(this.anchor,this.head)},ve.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},LeafChunk.prototype={chunkSize:function chunkSize(){return this.lines.length},removeInner:function removeInner(e,t){for(var n=this,r=e,i=e+t;r<i;++r){var o=n.lines[r];n.height-=o.height,cleanUpLine(o),signalLater(o,"delete")}this.lines.splice(e,t)},collapse:function collapse(e){e.push.apply(e,this.lines)},insertInner:function insertInner(e,t,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=r},iterN:function iterN(e,t,n){for(var r=this,i=e+t;e<i;++e)if(n(r.lines[e]))return!0}},BranchChunk.prototype={chunkSize:function chunkSize(){return this.size},removeInner:function removeInner(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var i=n.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e),s=i.height;if(i.removeInner(e,a),n.height-=s-i.height,o==a&&(n.children.splice(r--,1),i.parent=null),0==(t-=a))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var c=[];this.collapse(c),this.children=[new LeafChunk(c)],this.children[0].parent=this}},collapse:function collapse(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function insertInner(e,t,n){var r=this;this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<=a){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,c=s;c<o.lines.length;){var u=new LeafChunk(o.lines.slice(c,c+=25));o.height-=u.height,r.children.splice(++i,0,u),u.parent=r}o.lines=o.lines.slice(0,s),r.maybeSpill()}break}e-=a}},maybeSpill:function maybeSpill(){if(!(this.children.length<=10)){var e=this;do{var t=new BranchChunk(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=indexOf(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new BranchChunk(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function iterN(e,t,n){for(var r=this,i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<a){var s=Math.min(t,a-e);if(o.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var ye=function(e,t,n){var r=this;if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);this.doc=e,this.node=t};ye.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,r=this.line,i=lineNo(r);if(null!=i&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(r.widgets=null);var a=widgetHeight(this);updateLineHeight(r,Math.max(0,r.height-a)),t&&(runInOp(t,function(){adjustScrollWhenAboveVisible(t,r,-a),regLineChange(t,i,"widget")}),signalLater(t,"lineWidgetCleared",t,this,i))}},ye.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=widgetHeight(this)-t;i&&(updateLineHeight(r,r.height+i),n&&runInOp(n,function(){n.curOp.forceUpdate=!0,adjustScrollWhenAboveVisible(n,r,i),signalLater(n,"lineWidgetChanged",n,e,lineNo(r))}))},eventMixin(ye);var _e=0,be=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++_e};be.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&startOperation(t),hasHandler(this,"clear")){var r=this.find();r&&signalLater(this,"clear",r.from,r.to)}for(var i=null,o=null,a=0;a<this.lines.length;++a){var s=e.lines[a],c=getMarkedSpanFor(s.markedSpans,e);t&&!e.collapsed?regLineChange(t,lineNo(s),"text"):t&&(null!=c.to&&(o=lineNo(s)),null!=c.from&&(i=lineNo(s))),s.markedSpans=removeMarkedSpan(s.markedSpans,c),null==c.from&&e.collapsed&&!lineIsHidden(e.doc,s)&&t&&updateLineHeight(s,textHeight(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var l=visualLine(e.lines[u]),d=lineLength(l);d>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=d,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&regChange(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&reCheckSelection(t.doc)),t&&signalLater(t,"markerCleared",t,this,i,o),n&&endOperation(t),this.parent&&this.parent.clear()}},be.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var r,i,o=0;o<this.lines.length;++o){var a=n.lines[o],s=getMarkedSpanFor(a.markedSpans,n);if(null!=s.from&&(r=Pos(t?a:lineNo(a),s.from),-1==e))return r;if(null!=s.to&&(i=Pos(t?a:lineNo(a),s.to),1==e))return i}return r&&{from:r,to:i}},be.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&runInOp(r,function(){var i=t.line,o=lineNo(t.line),a=findViewForLine(r,o);if(a&&(clearLineMeasurementCacheFor(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!lineIsHidden(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var c=widgetHeight(n)-s;c&&updateLineHeight(i,i.height+c)}signalLater(r,"markerChanged",r,e)})},be.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=indexOf(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},be.prototype.detachLine=function(e){if(this.lines.splice(indexOf(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},eventMixin(be);var Se=function(e,t){var n=this;this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=n};Se.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();signalLater(this,"clear")}},Se.prototype.find=function(e,t){return this.primary.find(e,t)},eventMixin(Se);var we=0,Ce=function(e,t,n,r,i){if(!(this instanceof Ce))return new Ce(e,t,n,r,i);null==n&&(n=0),BranchChunk.call(this,[new LeafChunk([new ne("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=Pos(n,0);this.sel=simpleSelection(o),this.history=new History(null),this.id=++we,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),updateDoc(this,{from:o,to:o,text:e}),setSelection(this,simpleSelection(o),O)};Ce.prototype=createObj(BranchChunk.prototype,{constructor:Ce,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=getLines(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:docMethodOp(function(e){var t=Pos(this.first,0),n=this.first+this.size-1;makeChange(this,{from:t,to:Pos(n,getLine(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&scrollToCoords(this.cm,0,0),setSelection(this,simpleSelection(t),O)}),replaceRange:function(e,t,n,r){replaceRange(this,e,t=clipPos(this,t),n=n?clipPos(this,n):t,r)},getRange:function(e,t,n){var r=getBetween(this,clipPos(this,e),clipPos(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(isLine(this,e))return getLine(this,e)},getLineNumber:function(e){return lineNo(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=getLine(this,e)),visualLine(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return clipPos(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return n=null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(e,t,n){setSimpleSelection(this,clipPos(this,"number"==typeof e?Pos(e,t||0):e),null,n)}),setSelection:docMethodOp(function(e,t,n){setSimpleSelection(this,clipPos(this,e),clipPos(this,t||e),n)}),extendSelection:docMethodOp(function(e,t,n){extendSelection(this,clipPos(this,e),t&&clipPos(this,t),n)}),extendSelections:docMethodOp(function(e,t){extendSelections(this,clipPosArray(this,e),t)}),extendSelectionsBy:docMethodOp(function(e,t){extendSelections(this,clipPosArray(this,map(this.sel.ranges,e)),t)}),setSelections:docMethodOp(function(e,t,n){var r=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new ve(clipPos(r,e[o].anchor),clipPos(r,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),setSelection(this,normalizeSelection(i,t),n)}}),addSelection:docMethodOp(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new ve(clipPos(this,e),clipPos(this,t||e))),setSelection(this,normalizeSelection(r,r.length-1),n)}),getSelection:function(e){for(var t=this,n=this.sel.ranges,r,i=0;i<n.length;i++){var o=getBetween(t,n[i].from(),n[i].to());r=r?r.concat(o):o}return!1===e?r:r.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],r=this.sel.ranges,i=0;i<r.length;i++){var o=getBetween(t,r[i].from(),r[i].to());!1!==e&&(o=o.join(e||t.lineSeparator())),n[i]=o}return n},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:docMethodOp(function(e,t,n){for(var r=this,i=[],o=this.sel,a=0;a<o.ranges.length;a++){var s=o.ranges[a];i[a]={from:s.from(),to:s.to(),text:r.splitLines(e[a]),origin:n}}for(var c=t&&"end"!=t&&computeReplacedSel(this,i,t),u=i.length-1;u>=0;u--)makeChange(r,i[u]);c?setSelectionReplaceHistory(this,c):this.cm&&ensureCursorVisible(this.cm)}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(e){var t=this.history=new History(this.history.maxGeneration);t.done=copyHistoryArray(e.done.slice(0),null,!0),t.undone=copyHistoryArray(e.undone.slice(0),null,!0)},setGutterMarker:docMethodOp(function(e,t,n){return changeLine(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&isEmpty(r)&&(e.gutterMarkers=null),!0})}),clearGutter:docMethodOp(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&changeLine(t,n,"gutter",function(){return n.gutterMarkers[e]=null,isEmpty(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!isLine(this,e))return null;if(t=e,!(e=getLine(this,e)))return null}else if(null==(t=lineNo(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:docMethodOp(function(e,t,n){return changeLine(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(classTest(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:docMethodOp(function(e,t,n){return changeLine(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(classTest(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:docMethodOp(function(e,t,n){return addLineWidget(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return markText(this,clipPos(this,e),clipPos(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=clipPos(this,e),markText(this,e,e,n,"bookmark")},findMarksAt:function(e){var t=[],n=getLine(this,(e=clipPos(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=clipPos(this,e),t=clipPos(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var c=a[s];null!=c.to&&i==e.line&&e.ch>=c.to||null==c.from&&i!=e.line||null!=c.from&&i==t.line&&c.from>=t.ch||n&&!n(c.marker)||r.push(c.marker.parent||c.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),clipPos(this,Pos(n,t))},indexFromPos:function(e){var t=(e=clipPos(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Ce(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ce(getLines(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],copySharedMarkers(r,findSharedMarkers(this)),r},unlinkDoc:function(e){var t=this;if(e instanceof CodeMirror$1&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n)if(t.linked[n].doc==e){t.linked.splice(n,1),e.unlinkDoc(t),detachSharedMarkers(findSharedMarkers(t));break}if(e.history==this.history){var r=[e.id];linkedDocs(e,function(e){return r.push(e.id)},!0),e.history=new History(null),e.history.done=copyHistoryArray(this.history.done,r),e.history.undone=copyHistoryArray(this.history.undone,r)}},iterLinkedDocs:function(e){linkedDocs(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):V(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:docMethodOp(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&directionChanged(this.cm))})}),Ce.prototype.eachLine=Ce.prototype.iter;for(var Te=0,Ee=!1,ke={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},xe=0;xe<10;xe++)ke[xe+48]=ke[xe+96]=String(xe);for(var Ie=65;Ie<=90;Ie++)ke[Ie]=String.fromCharCode(Ie);for(var Re=1;Re<=12;Re++)ke[Re+111]=ke[Re+63235]="F"+Re;var Oe={};Oe.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Oe.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Oe.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Oe.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Oe.default=y?Oe.macDefault:Oe.pcDefault;var Pe={selectAll:selectAll,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),O)},killLine:function(e){return deleteNearSelection(e,function(t){if(t.empty()){var n=getLine(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Pos(t.head.line+1,0)}:{from:t.head,to:Pos(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return deleteNearSelection(e,function(t){return{from:Pos(t.from().line,0),to:clipPos(e.doc,Pos(t.to().line+1,0))}})},delLineLeft:function(e){return deleteNearSelection(e,function(e){return{from:Pos(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return deleteNearSelection(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return deleteNearSelection(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Pos(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Pos(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return lineStart(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return lineStartSmart(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return lineEnd(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},A)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},A)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?lineStartSmart(e,t.head):r},A)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=countColumn(e.getLine(o.line),o.ch,r);t.push(spaceStr(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return runInOp(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=getLine(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Pos(i.line,i.ch-1)),i.ch>0)i=new Pos(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Pos(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=getLine(e.doc,i.line-1).text;a&&(i=new Pos(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),Pos(i.line-1,a.length-1),i,"+transpose"))}n.push(new ve(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return runInOp(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);ensureCursorVisible(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Ae=new x,Me=null,Ne=400,De=function(e,t,n){this.time=e,this.pos=t,this.button=n};De.prototype.compare=function(e,t,n){return this.time+400>e&&0==cmp(t,this.pos)&&n==this.button};var Le,Fe,Ue={toString:function(){return"CodeMirror.Init"}},je={},We={};CodeMirror$1.defaults=je,CodeMirror$1.optionHandlers=We;var Be=[];CodeMirror$1.defineInitHook=function(e){return Be.push(e)};var He=null,ze=function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&operation(this,t[e])(this,n,i),signal(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](getKeyMap(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:methodOp(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");insertSorted(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,regChange(this)}),removeOverlay:methodOp(function(e){for(var t=this,n=this.state.overlays,r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return n.splice(r,1),t.state.modeGen++,void regChange(t)}}),indentLine:methodOp(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),isLine(this.doc,e)&&indentLine(this,e,t,n)}),indentSelection:methodOp(function(e){for(var t=this,n=this.doc.sel.ranges,r=-1,i=0;i<n.length;i++){var o=n[i];if(o.empty())o.head.line>r&&(indentLine(t,o.head.line,e,!0),r=o.head.line,i==t.doc.sel.primIndex&&ensureCursorVisible(t));else{var a=o.from(),s=o.to(),c=Math.max(r,a.line);r=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=c;u<r;++u)indentLine(t,u,e);var l=t.doc.sel.ranges;0==a.ch&&n.length==l.length&&l[i].from().ch>0&&replaceOneSelection(t.doc,i,new ve(a,l[i].to()),O)}}}),getTokenAt:function(e,t){return takeToken(this,e,t)},getLineTokens:function(e,t){return takeToken(this,Pos(e),t,!0)},getTokenTypeAt:function(e){e=clipPos(this.doc,e);var t=getLineStyles(this,getLine(this.doc,e.line)),n=0,r=(t.length-1)/2,i=e.ch,o;if(0==i)o=t[2];else for(;;){var a=n+r>>1;if((a?t[2*a-1]:0)>=i)r=a;else{if(!(t[2*a+1]<i)){o=t[2*a+2];break}n=a+1}}var s=o?o.indexOf("overlay "):-1;return s<0?o:0==s?null:o.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=this,i=[];if(!n.hasOwnProperty(t))return i;var o=n[t],a=this.getModeAt(e);if("string"==typeof a[t])o[a[t]]&&i.push(o[a[t]]);else if(a[t])for(var s=0;s<a[t].length;s++){var c=o[a[t][s]];c&&i.push(c)}else a.helperType&&o[a.helperType]?i.push(o[a.helperType]):o[a.name]&&i.push(o[a.name]);for(var u=0;u<o._global.length;u++){var l=o._global[u];l.pred(a,r)&&-1==indexOf(i,l.val)&&i.push(l.val)}return i},getStateAfter:function(e,t){var n=this.doc;return e=clipLine(n,null==e?n.first+n.size-1:e),getContextBefore(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?clipPos(this.doc,e):e?r.from():r.to(),cursorCoords(this,n,t||"page")},charCoords:function(e,t){return charCoords(this,clipPos(this.doc,e),t||"page")},coordsChar:function(e,t){return e=fromCoordSystem(this,e,t||"page"),coordsChar(this,e.left,e.top)},lineAtHeight:function(e,t){return e=fromCoordSystem(this,{top:e,left:0},t||"page").top,lineAtHeight(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r=!1,i;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),i=getLine(this.doc,e)}else i=e;return intoCoordSystem(this,i,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-heightAtLine(i):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=cursorCoords(this,clipPos(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var c=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>c)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=c&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&scrollIntoView(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function(e){if(Pe.hasOwnProperty(e))return Pe[e].call(null,this)},triggerElectric:methodOp(function(e){triggerElectric(this,e)}),findPosH:function(e,t,n,r){var i=this,o=1;t<0&&(o=-1,t=-t);for(var a=clipPos(this.doc,e),s=0;s<t&&!(a=findPosH(i.doc,a,o,n,r)).hitSide;++s);return a},moveH:methodOp(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?findPosH(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},A)}),deleteH:methodOp(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):deleteNearSelection(this,function(n){var i=findPosH(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=this,o=1,a=r;t<0&&(o=-1,t=-t);for(var s=clipPos(this.doc,e),c=0;c<t;++c){var u=cursorCoords(i,s,"div");if(null==a?a=u.left:u.left=a,(s=findPosV(i,u,o,n)).hitSide)break}return s},moveV:methodOp(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=cursorCoords(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var c=findPosV(n,s,e,t);return"page"==t&&a==r.sel.primary()&&addToScrollTop(n,charCoords(n,c,"div").top-s.top),c},A),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=getLine(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=isWordChar(o,i)?function(e){return isWordChar(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!isWordChar(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new ve(Pos(e.line,n),Pos(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?addClass(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),signal(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:methodOp(function(e,t){scrollToCoords(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-scrollGap(this)-this.display.barHeight,width:e.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Pos(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?scrollToRange(this,e):scrollToCoordsRange(this,e.from,e.to,e.margin)}),setSize:methodOp(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&clearLineMeasurementCache(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){regLineChange(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,signal(this,"refresh",this)}),operation:function(e){return runInOp(this,e)},startOperation:function(){return startOperation(this)},endOperation:function(){return endOperation(this)},refresh:methodOp(function(){var e=this.display.cachedTextHeight;regChange(this),this.curOp.forceUpdate=!0,clearCaches(this),scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop),updateGutterSpace(this),(null==e||Math.abs(e-textHeight(this.display))>.5)&&estimateLineHeights(this),signal(this,"refresh",this)}),swapDoc:methodOp(function(e){var t=this.doc;return t.cm=null,attachDoc(this,e),clearCaches(this),this.display.input.reset(),scrollToCoords(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,signalLater(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},eventMixin(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}},qe=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new x,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};qe.prototype.init=function(e){function onCopyCut(e){if(!signalDOMEvent(r,e)){if(r.somethingSelected())setLastCopied({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=copyableRanges(r);setLastCopied({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,O),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=He.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=hiddenTextarea(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=He.text.join("\n");var c=document.activeElement;k(s),setTimeout(function(){r.display.lineSpace.removeChild(a),c.focus(),c==i&&n.showPrimarySelection()},50)}}var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;disableBrowserMagic(i,r.options.spellcheck),B(i,"paste",function(e){signalDOMEvent(r,e)||handlePaste(e,r)||s<=11&&setTimeout(operation(r,function(){return t.updateFromDOM()}),20)}),B(i,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),B(i,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),B(i,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),B(i,"touchstart",function(){return n.forceCompositionEnd()}),B(i,"input",function(){t.composing||t.readFromDOMSoon()}),B(i,"copy",onCopyCut),B(i,"cut",onCopyCut)},qe.prototype.prepareSelection=function(){var e=prepareSelection(this.cm,!1);return e.focus=this.cm.state.focused,e},qe.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},qe.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=domToPos(t,e.anchorNode,e.anchorOffset),s=domToPos(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=cmp(minPos(a,s),i)||0!=cmp(maxPos(a,s),o)){var c=t.display.view,u=i.line>=t.display.viewFrom&&posToDOM(t,i)||{node:c[0].measure.map[2],offset:0},l=o.line<t.display.viewTo&&posToDOM(t,o);if(!l){var d=c[c.length-1].measure,p=d.maps?d.maps[d.maps.length-1]:d.map;l={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(u&&l){var h=e.rangeCount&&e.getRangeAt(0),f;try{f=E(u.node,u.offset,l.offset,l.node)}catch(e){}f&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},qe.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},qe.prototype.showMultipleSelections=function(e){removeChildrenAndAdd(this.cm.display.cursorDiv,e.cursors),removeChildrenAndAdd(this.cm.display.selectionDiv,e.selection)},qe.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},qe.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return contains(this.div,t)},qe.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},qe.prototype.blur=function(){this.div.blur()},qe.prototype.getField=function(){return this.div},qe.prototype.supportsTouch=function(){return!0},qe.prototype.receivedFocus=function(){function poll(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,poll))}var e=this;this.selectionInEditor()?this.pollSelection():runInOp(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,poll)},qe.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},qe.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(m&&l&&this.cm.options.gutters.length&&isInGutter(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=domToPos(t,e.anchorNode,e.anchorOffset),r=domToPos(t,e.focusNode,e.focusOffset);n&&r&&runInOp(t,function(){setSelection(t.doc,simpleSelection(n,r),O),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},qe.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(0==r.ch&&r.line>e.firstLine()&&(r=Pos(r.line-1,getLine(e.doc,r.line-1).length)),i.ch==getLine(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=Pos(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,a,s;r.line==t.viewFrom||0==(o=findViewIndex(e,r.line))?(a=lineNo(t.view[0].line),s=t.view[0].node):(a=lineNo(t.view[o].line),s=t.view[o-1].node.nextSibling);var c=findViewIndex(e,i.line),u,l;if(c==t.view.length-1?(u=t.viewTo-1,l=t.lineDiv.lastChild):(u=lineNo(t.view[c+1].line)-1,l=t.view[c+1].node.previousSibling),!s)return!1;for(var d=e.doc.splitLines(domTextBetween(e,s,l,a,u)),p=getBetween(e.doc,Pos(a,0),Pos(u,getLine(e.doc,u).text.length));d.length>1&&p.length>1;)if(lst(d)==lst(p))d.pop(),p.pop(),u--;else{if(d[0]!=p[0])break;d.shift(),p.shift(),a++}for(var h=0,f=0,g=d[0],m=p[0],v=Math.min(g.length,m.length);h<v&&g.charCodeAt(h)==m.charCodeAt(h);)++h;for(var y=lst(d),_=lst(p),b=Math.min(y.length-(1==d.length?h:0),_.length-(1==p.length?h:0));f<b&&y.charCodeAt(y.length-f-1)==_.charCodeAt(_.length-f-1);)++f;if(1==d.length&&1==p.length&&a==r.line)for(;h&&h>r.ch&&y.charCodeAt(y.length-f-1)==_.charCodeAt(_.length-f-1);)h--,f++;d[d.length-1]=y.slice(0,y.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(h).replace(/\u200b+$/,"");var S=Pos(a,h),w=Pos(u,p.length?lst(p).length-f:0);return d.length>1||d[0]||cmp(S,w)?(replaceRange(e.doc,d,S,w,"+input"),!0):void 0},qe.prototype.ensurePolled=function(){this.forceCompositionEnd()},qe.prototype.reset=function(){this.forceCompositionEnd()},qe.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},qe.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},qe.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||runInOp(this.cm,function(){return regChange(e.cm)})},qe.prototype.setUneditable=function(e){e.contentEditable="false"},qe.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},qe.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},qe.prototype.onContextMenu=function(){},qe.prototype.resetPosition=function(){},qe.prototype.needsContentAttribute=!0;var Ve=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new x,this.hasSelection=!1,this.composing=null};Ve.prototype.init=function(e){function prepareCopyCut(e){if(!signalDOMEvent(r,e)){if(r.somethingSelected())setLastCopied({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=copyableRanges(r);setLastCopied({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,O):(n.prevInput="",o.value=t.text.join("\n"),k(o))}"cut"==e.type&&(r.state.cutIncoming=!0)}}var t=this,n=this,r=this.cm,i=this.wrapper=hiddenTextarea(),o=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),g&&(o.style.width="0px"),B(o,"input",function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),B(o,"paste",function(e){signalDOMEvent(r,e)||handlePaste(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),B(o,"cut",prepareCopyCut),B(o,"copy",prepareCopyCut),B(e.scroller,"paste",function(t){eventInWidget(e,t)||signalDOMEvent(r,t)||(r.state.pasteIncoming=!0,n.focus())}),B(e.lineSpace,"selectstart",function(t){eventInWidget(e,t)||e_preventDefault(t)}),B(o,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),B(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Ve.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=prepareSelection(e);if(e.options.moveInputWithCursor){var i=cursorCoords(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},Ve.prototype.showSelection=function(e){var t=this.cm.display;removeChildrenAndAdd(t.cursorDiv,e.cursors),removeChildrenAndAdd(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Ve.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&k(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Ve.prototype.getField=function(){return this.textarea},Ve.prototype.supportsTouch=function(){return!1},Ve.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}},Ve.prototype.blur=function(){this.textarea.blur()},Ve.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ve.prototype.receivedFocus=function(){this.slowPoll()},Ve.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Ve.prototype.fastPoll=function(){function p(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,p))}var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,p)},Ve.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||G(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var c=0,u=Math.min(r.length,i.length);c<u&&r.charCodeAt(c)==i.charCodeAt(c);)++c;return runInOp(t,function(){applyTextInput(t,i.slice(c),r.length-c,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ve.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ve.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Ve.prototype.onContextMenu=function(e){function prepareSelectAllHack(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function rehide(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=l,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart){(!a||a&&s<9)&&prepareSelectAllHack();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?operation(n,selectAll)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}var t=this,n=t.cm,r=n.display,i=t.textarea,o=posFromMouse(n,e),u=r.scroller.scrollTop;if(o&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&operation(n,setSelection)(n.doc,simpleSelection(o),O);var l=i.style.cssText,p=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var h=t.wrapper.getBoundingClientRect();i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var f;if(c&&(f=window.scrollY),r.input.focus(),c&&window.scrollTo(null,f),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&prepareSelectAllHack(),C){e_stop(e);var g=function(){off(window,"mouseup",g),setTimeout(rehide,20)};B(window,"mouseup",g)}else setTimeout(rehide,50)}},Ve.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Ve.prototype.setUneditable=function(){},Ve.prototype.needsContentAttribute=!1,defineOptions(CodeMirror$1),ze(CodeMirror$1);var Ge="iter insert remove copy getEditor constructor".split(" ");for(var $e in Ce.prototype)Ce.prototype.hasOwnProperty($e)&&indexOf(Ge,$e)<0&&(CodeMirror$1.prototype[$e]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ce.prototype[$e]));return eventMixin(Ce),CodeMirror$1.inputStyles={textarea:Ve,contenteditable:qe},CodeMirror$1.defineMode=function(e){CodeMirror$1.defaults.mode||"null"==e||(CodeMirror$1.defaults.mode=e),defineMode.apply(this,arguments)},CodeMirror$1.defineMIME=defineMIME,CodeMirror$1.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),CodeMirror$1.defineMIME("text/plain","null"),CodeMirror$1.defineExtension=function(e,t){CodeMirror$1.prototype[e]=t},CodeMirror$1.defineDocExtension=function(e,t){Ce.prototype[e]=t},CodeMirror$1.fromTextArea=fromTextArea,addLegacyProps(CodeMirror$1),CodeMirror$1.version="5.28.0",CodeMirror$1})},function(e,t){function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=isObject},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(c=new Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";var r=n(9),i=n(209),o=n(350),a=n(355),s=n(71),c=n(356),u=n(359),l=n(360),d=n(361),p=s.createElement,h=s.createFactory,f=s.cloneElement,g,m,v,y,_=r,b=function(e){return e},S,w,C={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:d},Component:i.Component,PureComponent:i.PureComponent,createElement:p,cloneElement:f,isValidElement:s.isValidElement,PropTypes:c,createClass:l,createFactory:h,createMixin:b,DOM:a,version:u,__spread:_},T,E;e.exports=C},function(e,t,n){"use strict";function hasValidRef(e){var t;return void 0!==e.ref}function hasValidKey(e){var t;return void 0!==e.key}function defineKeyPropWarningGetter(e,t){var n=function(){l||(l=!0)};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}function defineRefPropWarningGetter(e,t){var n=function(){d||(d=!0)};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}var r=n(9),i=n(44),o=n(5),a=n(211),s=Object.prototype.hasOwnProperty,c=n(212),u={key:!0,ref:!0,__self:!0,__source:!0},l,d,p=function(e,t,n,r,i,o,a){var s={$$typeof:c,type:e,key:t,ref:n,props:a,_owner:o};return s};p.createElement=function(e,t,n){var r,o={},a=null,c=null,l=null,d=null;if(null!=t){hasValidRef(t)&&(c=t.ref),hasValidKey(t)&&(a=""+t.key),l=void 0===t.__self?null:t.__self,d=void 0===t.__source?null:t.__source;for(r in t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r])}var h=arguments.length-2;if(1===h)o.children=n;else if(h>1){for(var f=Array(h),g=0;g<h;g++)f[g]=arguments[g+2];o.children=f}if(e&&e.defaultProps){var m=e.defaultProps;for(r in m)void 0===o[r]&&(o[r]=m[r])}var v;return p(e,a,c,l,d,i.current,o)},p.createFactory=function(e){var t=p.createElement.bind(null,e);return t.type=e,t},p.cloneAndReplaceKey=function(e,t){return p(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},p.cloneElement=function(e,t,n){var o,a=r({},e.props),c=e.key,l=e.ref,d=e._self,h=e._source,f=e._owner;if(null!=t){hasValidRef(t)&&(l=t.ref,f=i.current),hasValidKey(t)&&(c=""+t.key);var g;e.type&&e.type.defaultProps&&(g=e.type.defaultProps);for(o in t)s.call(t,o)&&!u.hasOwnProperty(o)&&(void 0===t[o]&&void 0!==g?a[o]=g[o]:a[o]=t[o])}var m=arguments.length-2;if(1===m)a.children=n;else if(m>1){for(var v=Array(m),y=0;y<m;y++)v[y]=arguments[y+2];a.children=v}return p(e.type,c,l,d,h,f,a)},p.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===c},e.exports=p},function(e,t,n){"use strict";e.exports=n(362)},function(e,t,n){"use strict";function checkMask(e,t){return(e&t)===t}var r=n(6),i=n(2),o={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},i=e.DOMAttributeNamespaces||{},a=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},u=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var l in n){s.properties.hasOwnProperty(l)&&r("48",l);var d=l.toLowerCase(),p=n[l],h={attributeName:d,attributeNamespace:null,propertyName:l,mutationMethod:null,mustUseProperty:checkMask(p,t.MUST_USE_PROPERTY),hasBooleanValue:checkMask(p,t.HAS_BOOLEAN_VALUE),hasNumericValue:checkMask(p,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:checkMask(p,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:checkMask(p,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1||r("50",l),a.hasOwnProperty(l)){var f=a[l];h.attributeName=f}i.hasOwnProperty(l)&&(h.attributeNamespace=i[l]),c.hasOwnProperty(l)&&(h.propertyName=c[l]),u.hasOwnProperty(l)&&(h.mutationMethod=u[l]),s.properties[l]=h}}},a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++)if((0,s._isCustomAttributeFunctions[t])(e))return!0;return!1},injection:o};e.exports=s},function(e,t,n){"use strict";function attachRefs(){r.attachRefs(this,this._currentElement)}var r=n(370),i=n(30),o=n(5),a={mountComponent:function(e,t,n,r,i,o){var a=e.mountComponent(t,n,r,i,o);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(attachRefs,e),a},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){r.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var o=e._currentElement;if(t!==o||i!==e._context){var a=r.shouldUpdateRefs(o,t);a&&r.detachRefs(e,o),e.receiveComponent(t,n,i),a&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(attachRefs,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}};e.exports=a},function(e,t,n){"use strict";function insertTreeChildren(e){if(u){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)l(t,n[r],null);else null!=e.html?i(t,e.html):null!=e.text&&a(t,e.text)}}function replaceChildWithTree(e,t){e.parentNode.replaceChild(t.node,e),insertTreeChildren(t)}function queueChild(e,t){u?e.children.push(t):e.node.appendChild(t.node)}function queueHTML(e,t){u?e.html=t:i(e.node,t)}function queueText(e,t){u?e.text=t:a(e.node,t)}function toString(){return this.node.nodeName}function DOMLazyTree(e){return{node:e,children:[],html:null,text:null,toString:toString}}var r=n(144),i=n(100),o=n(145),a=n(223),s=1,c=11,u="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),l=o(function(e,t,n){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===r.html)?(insertTreeChildren(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),insertTreeChildren(t))});DOMLazyTree.insertTreeBefore=l,DOMLazyTree.replaceChildWithTree=replaceChildWithTree,DOMLazyTree.queueChild=queueChild,DOMLazyTree.queueHTML=queueHTML,DOMLazyTree.queueText=queueText,e.exports=DOMLazyTree},function(e,t,n){function getNative(e,t){var n=i(e,t);return r(n)?n:void 0}var r=n(686),i=n(691);e.exports=getNative},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationPath=t.Path=void 0;var r=n(36),i=n(830),o=function(){function Path(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(Path,"Empty",{get:function get(){return new Path("")},enumerable:!0,configurable:!0}),Path.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},Path.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},Path.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new Path(this.pieces_,e)},Path.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},Path.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},Path.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},Path.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},Path.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],t=this.pieceNum_;t<this.pieces_.length-1;t++)e.push(this.pieces_[t]);return new Path(e,0)},Path.prototype.child=function(e){for(var t=[],n=this.pieceNum_;n<this.pieces_.length;n++)t.push(this.pieces_[n]);if(e instanceof Path)for(var n=e.pieceNum_;n<e.pieces_.length;n++)t.push(e.pieces_[n]);else for(var r=e.split("/"),n=0;n<r.length;n++)r[n].length>0&&t.push(r[n]);return new Path(t,0)},Path.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},Path.relativePath=function(e,t){var n=e.getFront(),r=t.getFront();if(null===n)return t;if(n===r)return Path.relativePath(e.popFront(),t.popFront());throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")},Path.comparePaths=function(e,t){for(var n=e.slice(),i=t.slice(),o=0;o<n.length&&o<i.length;o++){var a=(0,r.nameCompare)(n[o],i[o]);if(0!==a)return a}return n.length===i.length?0:n.length<i.length?-1:1},Path.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},Path.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},Path}();t.Path=o;var a=function(){function ValidationPath(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,i.stringLength)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(ValidationPath,"MAX_PATH_DEPTH",{get:function get(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(ValidationPath,"MAX_PATH_LENGTH_BYTES",{get:function get(){return 768},enumerable:!0,configurable:!0}),ValidationPath.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=(0,i.stringLength)(e),this.checkValid_()},ValidationPath.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=(0,i.stringLength)(e),this.parts_.length>0&&(this.byteLength_-=1)},ValidationPath.prototype.checkValid_=function(){if(this.byteLength_>ValidationPath.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+ValidationPath.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>ValidationPath.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ValidationPath.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},ValidationPath.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},ValidationPath}();t.ValidationPath=a},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=_interopRequireDefault(n(1435));t.default=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()},function(e,t,n){function baseGetTag(e){return null==e?void 0===e?s:a:c&&c in Object(e)?i(e):o(e)}var r=n(96),i=n(687),o=n(688),a="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=baseGetTag},function(e,t){function isObjectLike(e){return null!=e&&"object"==typeof e}e.exports=isObjectLike},function(e,t,n){var r=n(13).f,i=n(20),o=n(10)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(0),i=n(40),o=n(7),a=n(165),s="["+a+"]",c="​",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),d=function(e,t,n){var i={},s=o(function(){return!!a[e]()||c[e]()!=c}),u=i[e]=s?t(p):a[e];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},p=d.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=d},function(e,t){e.exports={}},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";function asLocalTrack(e,t){if(e instanceof t.LocalAudioTrack||e instanceof t.LocalVideoTrack)return e;if(e instanceof t.MediaStreamTrack)return"audio"===e.kind?new t.LocalAudioTrack(e,t):new t.LocalVideoTrack(e,t);throw new r.typeErrors.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack or MediaStreamTrack")}function difference(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n}function flatMap(e,t){return(e instanceof Map||e instanceof Set?Array.from(e.values()):e).reduce(function(e,n){var r=t(n);return e.concat(r)},[])}function makeClientSIPURI(){return makeUUID()+"@"+r.REGISTRAR_SERVER}function makeServerSIPURI(){return"orchestrator@"+r.REGISTRAR_SERVER}function makeUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function oncePerTick(e){function nextTick(){t=null,e()}var t=null;return function scheduleNextTick(){t&&clearTimeout(t),t=setTimeout(nextTick)}}function promiseFromEvents(e,t,n,r){return new Promise(function(i,o){function onSuccess(){var e=[].slice.call(arguments);r&&t.removeListener(r,onFailure),i.apply(null,e)}function onFailure(){var e=[].slice.call(arguments);t.removeListener(n,onSuccess),o.apply(null,e)}t.once(n,onSuccess),r&&t.once(r,onFailure),e()})}function getOrNull(e,t){return t.split(".").reduce(function(e,t){return e?e[t]:null},e)}function defer(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}function delegateMethod(e,t,n,r){if(!t[r]&&!r.match(/^on[a-z]+$/)){var i;try{i=typeof e[r]}catch(e){}"function"===i&&(t[r]=function(){return this[n][r].apply(this[n],arguments)})}}function delegateMethods(e,t,n){for(var r in e)delegateMethod(e,t,n,r)}function proxyProperties(e,t,n){Object.getOwnPropertyNames(e).forEach(function(r){proxyProperty(e,t,n,r)})}function proxyProperty(e,t,n,r){if(!(r in t))return r.match(/^on[a-z]+$/)?(Object.defineProperty(t,r,{value:null,writable:!0}),void n.addEventListener(r.slice(2),function(){t.dispatchEvent.apply(t,arguments)})):void Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}})}function legacyPromise(e,t,n){return t?e.then(function(e){t(e)},function(e){n(e)}):e}function buildLogLevels(e){return"string"==typeof e?{default:e,media:e,signaling:e,webrtc:e}:e}function trackClass(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,function(e){return e.toUpperCase()})+"Track"}function getSdpFormat(){return"undefined"!=typeof mozRTCPeerConnection?"unified":null}var r=n(156);e.exports.constants=r,e.exports.asLocalTrack=asLocalTrack,e.exports.difference=difference,e.exports.flatMap=flatMap,e.exports.makeClientSIPURI=makeClientSIPURI,e.exports.makeServerSIPURI=makeServerSIPURI,e.exports.makeUUID=makeUUID,e.exports.oncePerTick=oncePerTick,e.exports.promiseFromEvents=promiseFromEvents,e.exports.getOrNull=getOrNull,e.exports.defer=defer,e.exports.delegateMethods=delegateMethods,e.exports.proxyProperties=proxyProperties,e.exports.legacyPromise=legacyPromise,e.exports.buildLogLevels=buildLogLevels,e.exports.trackClass=trackClass,e.exports.getSdpFormat=getSdpFormat},function(e,t,n){"use strict";function reactProdInvariant(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=reactProdInvariant},function(e,t,n){"use strict";function listenerAtPhase(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return c(e,r)}function accumulateDirectionalDispatches(e,t,n){var r=listenerAtPhase(e,n,t);r&&(n._dispatchListeners=o(n._dispatchListeners,r),n._dispatchInstances=o(n._dispatchInstances,e))}function accumulateTwoPhaseDispatchesSingle(e){e&&e.dispatchConfig.phasedRegistrationNames&&i.traverseTwoPhase(e._targetInst,accumulateDirectionalDispatches,e)}function accumulateTwoPhaseDispatchesSingleSkipTarget(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?i.getParentInstance(t):null;i.traverseTwoPhase(n,accumulateDirectionalDispatches,e)}}function accumulateDispatches(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=c(e,r);i&&(n._dispatchListeners=o(n._dispatchListeners,i),n._dispatchInstances=o(n._dispatchInstances,e))}}function accumulateDirectDispatchesSingle(e){e&&e.dispatchConfig.registrationName&&accumulateDispatches(e._targetInst,null,e)}function accumulateTwoPhaseDispatches(e){a(e,accumulateTwoPhaseDispatchesSingle)}function accumulateTwoPhaseDispatchesSkipTarget(e){a(e,accumulateTwoPhaseDispatchesSingleSkipTarget)}function accumulateEnterLeaveDispatches(e,t,n,r){i.traverseEnterLeave(n,r,accumulateDispatches,e,t)}function accumulateDirectDispatches(e){a(e,accumulateDirectDispatchesSingle)}var r=n(88),i=n(138),o=n(215),a=n(216),s=n(5),c=r.getListener,u={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateTwoPhaseDispatchesSkipTarget:accumulateTwoPhaseDispatchesSkipTarget,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};e.exports=u},function(e,t,n){"use strict";function isInteractive(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function shouldPreventMouseEvent(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!isInteractive(t));default:return!1}}var r=n(6),i=n(137),o=n(138),a=n(139),s=n(215),c=n(216),u=n(2),l={},d=null,p=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return p(e,!0)},f=function(e){return p(e,!1)},g=function(e){return"."+e._rootNodeID},m={injection:{injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n&&r("94",t,typeof n);var o=g(e);(l[t]||(l[t]={}))[o]=n;var a=i.registrationNameModules[t];a&&a.didPutListener&&a.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t];if(shouldPreventMouseEvent(t,e._currentElement.type,e._currentElement.props))return null;var r=g(e);return n&&n[r]},deleteListener:function(e,t){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=l[t];r&&delete r[g(e)]},deleteAllListeners:function(e){var t=g(e);for(var n in l)if(l.hasOwnProperty(n)&&l[n][t]){var r=i.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete l[n][t]}},extractEvents:function(e,t,n,r){for(var o,a=i.plugins,c=0;c<a.length;c++){var u=a[c];if(u){var l=u.extractEvents(e,t,n,r);l&&(o=s(o,l))}}return o},enqueueEvents:function(e){e&&(d=s(d,e))},processEventQueue:function(e){var t=d;d=null,e?c(t,h):c(t,f),d&&r("95"),a.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};e.exports=m},function(e,t,n){"use strict";function SyntheticUIEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(45),i=n(140),o={view:function(e){if(e.view)return e.view;var t=i(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(SyntheticUIEvent,o),e.exports=SyntheticUIEvent},function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=r},function(e,t,n){var r=n(33);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(33),i=n(10)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){function isFunction(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==c}var r=n(79),i=n(67),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=isFunction},function(e,t,n){function keys(e){return o(e)?r(e):i(e)}var r=n(291),i=n(649),o=n(157);e.exports=keys},function(e,t,n){var r=n(48).Symbol;e.exports=r},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";var r=n(6),i=n(2),o={},a={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,c){this.isInTransaction()&&r("27");var u,l;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),l=e.call(t,n,i,o,a,s,c),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i=t[n],a=this.wrapperInitData[n],s;try{s=!0,a!==o&&i.close&&i.close.call(this,a),s=!1}finally{if(s)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=a},function(e,t,n){"use strict";function SyntheticMouseEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(89),i=n(222),o={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:n(142),button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};r.augmentClass(SyntheticMouseEvent,o),e.exports=SyntheticMouseEvent},function(e,t,n){"use strict";var r=n(18),i=n(144),o=/^[ \r\n\t\f]/,a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s,c=n(145)(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{(s=s||document.createElement("div")).innerHTML="<svg>"+t+"</svg>";for(var n=s.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(r.canUseDOM){var u=document.createElement("div");u.innerHTML=" ",""===u.innerHTML&&(c=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&a.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),u=null}e.exports=c},function(e,t,n){"use strict";function escapeHtml(e){var t=""+e,n=r.exec(t);if(!n)return t;var i,o="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=i}return s!==a?o+t.substring(s,a):o}function escapeTextContentForBrowser(e){return"boolean"==typeof e||"number"==typeof e?""+e:escapeHtml(e)}var r=/["'&<>]/;e.exports=escapeTextContentForBrowser},function(e,t,n){"use strict";function getListeningForDocument(e){return Object.prototype.hasOwnProperty.call(e,f)||(e[f]=p++,l[e[f]]={}),l[e[f]]}var r=n(9),i=n(137),o=n(391),a=n(222),s=n(392),c=n(141),u,l={},d=!1,p=0,h={topAbort:"abort",topAnimationEnd:s("animationend")||"animationend",topAnimationIteration:s("animationiteration")||"animationiteration",topAnimationStart:s("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:s("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},f="_reactListenersID"+String(Math.random()).slice(2),g=r({},o,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,r=getListeningForDocument(n),o=i.registrationNameDependencies[e],a=0;a<o.length;a++){var s=o[a];r.hasOwnProperty(s)&&r[s]||("topWheel"===s?c("wheel")?g.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?g.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):g.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===s?c("scroll",!0)?g.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):g.ReactEventListener.trapBubbledEvent("topScroll","scroll",g.ReactEventListener.WINDOW_HANDLE):"topFocus"===s||"topBlur"===s?(c("focus",!0)?(g.ReactEventListener.trapCapturedEvent("topFocus","focus",n),g.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(g.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),g.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),r.topBlur=!0,r.topFocus=!0):h.hasOwnProperty(s)&&g.ReactEventListener.trapBubbledEvent(s,h[s],n),r[s]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===u&&(u=g.supportsEventPageXY()),!u&&!d){var e=a.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),d=!0}}});e.exports=g},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){function toKey(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}var r=n(130),i=1/0;e.exports=toKey},function(e,t,n){e.exports={default:n(1432),__esModule:!0}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=_interopRequireDefault(n(1051));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=_interopRequireDefault(n(1460)),i=_interopRequireDefault(n(1464)),o=_interopRequireDefault(n(1051));t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_ID=window.__USERID__,t.COMPANY_ID=window.__COMPANYID__,t.REF_CODE=window.__REF_CODE__,t.PROMO_CODE=window.__PROMO_CODE__,t.LANDED=window.__LANDED__,t.CURRENT_STAGE=window.__CURRENT_STAGE__,t.USER_FIRST_NAME=window.__USER_FIRST_NAME__,t.TERMS_URL=window.__TERMS_URL__||void 0,t.DASHBOARD_URL=window.__DASHBOARD_URL__||void 0,t.WS=window.__WS__||void 0,t.API=window.__API__||void 0,t.FIREBASE=window.__FIREBASE__||void 0,t.GOOGLE_API_KEY=window.__GOOGLE_API_KEY__||void 0,t.GOOGLE_CLIENT_ID=window.__GOOGLE_CLIENT_ID__||void 0,t.RECAPTCHA_KEY=window.__RECAPTCHA_KEY__||void 0,t.FB_APP_ID=window.__FB_APP_ID__||void 0,t.GET_INVITE_FRIENDS_DIALOG=window.__GET_INVITE_FRIENDS_DIALOG__,t.MIXPANEL_TOKEN=window.__MIXPANEL_TOKEN__||void 0},function(e,t,n){var r=n(4),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(27),i=n(14),o=n(59);e.exports=function(e){return function(t,n,a){var s=r(t),c=i(s.length),u=o(a,c),l;if(e&&n!=n){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(33);e.exports=Array.isArray||function isArray(e){return"Array"==r(e)}},function(e,t,n){var r=n(8),i=n(33),o=n(10)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(10)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(3);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(21),i=n(22),o=n(7),a=n(40),s=n(10);e.exports=function(e,t,n){var c=s(e),u=n(a,c,""[e]),l=u[0],d=u[1];o(function(){var t={};return t[c]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,l),r(RegExp.prototype,c,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){var r=n(3),i=n(19),o=n(10)("species");e.exports=function(e,t){var n=r(e).constructor,a;return void 0===n||void 0==(a=r(n)[o])?t:i(a)}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(22),a=n(65),s=n(51),c=n(64),u=n(63),l=n(8),d=n(7),p=n(114),h=n(81),f=n(166);e.exports=function(e,t,n,g,m,v){var y=r[e],_=y,b=m?"set":"add",S=_&&_.prototype,w={},C=function(e){var t=S[e];o(S,e,"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function has(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function get(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function add(e){return t.call(this,0===e?0:e),this}:function set(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(v||S.forEach&&!d(function(){(new _).entries().next()}))){var T=new _,E=T[b](v?{}:-0,1)!=T,k=d(function(){T.has(1)}),x=p(function(e){new _(e)}),I=!v&&d(function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)});x||((_=t(function(t,n){u(t,_,e);var r=f(new y,t,_);return void 0!=n&&c(n,m,r[b],r),r})).prototype=S,S.constructor=_),(k||I)&&(C("delete"),C("has"),m&&C("get")),(I||E)&&C(b),v&&S.clear&&delete S.clear}else _=g.getConstructor(t,e,m,b),a(_.prototype,n),s.NEED=!0;return h(_,e),w[e]=_,i(i.G+i.W+i.F*(_!=y),w),v||g.setStrong(_,e,m),_}},function(e,t,n){for(var r=n(4),i=n(21),o=n(56),a=o("typed_array"),s=o("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,l=0,d=9,p,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(p=r[h[l++]])?(i(p.prototype,a,!0),i(p.prototype,s,!0)):u=!1;e.exports={ABV:c,CONSTR:u,TYPED:a,VIEW:s}},function(e,t,n){"use strict";e.exports=n(57)||!n(7)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(4)[e]})},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function of(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(0),i=n(19),o=n(32),a=n(64);e.exports=function(e){r(r.S,e,{from:function from(e){var t=arguments[1],n,r,s,c;return i(this),(n=void 0!==t)&&i(t),void 0==e?new this:(r=[],n?(s=0,c=o(t,arguments[2],2),a(e,!1,function(e){r.push(c(e,s++))})):a(e,!1,r.push,r),new this(r))}})}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function setNodeFromJSON(e){c=e}function setMaxNode(e){u=e}Object.defineProperty(t,"__esModule",{value:!0}),t.PRIORITY_INDEX=t.PriorityIndex=void 0,t.setNodeFromJSON=setNodeFromJSON,t.setMaxNode=setMaxNode;var r=n(780),i=n(36),o=n(154),a=n(781),s=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c,u,l=function(e){function PriorityIndex(){return null!==e&&e.apply(this,arguments)||this}return s(PriorityIndex,e),PriorityIndex.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?(0,i.nameCompare)(e.name,t.name):o},PriorityIndex.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},PriorityIndex.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},PriorityIndex.prototype.minPost=function(){return o.NamedNode.MIN},PriorityIndex.prototype.maxPost=function(){return new o.NamedNode(i.MAX_NAME,new a.LeafNode("[PRIORITY-POST]",u))},PriorityIndex.prototype.makePost=function(e,t){var n=c(e);return new o.NamedNode(t,new a.LeafNode("[PRIORITY-POST]",n))},PriorityIndex.prototype.toString=function(){return".priority"},PriorityIndex}(r.Index);t.PriorityIndex=l;var d=t.PRIORITY_INDEX=new l},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(i===clearTimeout)return clearTimeout(e);if((i===defaultClearTimeout||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}function cleanUpNextTick(){a&&s&&(a=!1,s.length?o=s.concat(o):c=-1,o.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=o.length;t;){for(s=o,o=[];++c<t;)s&&s[c].run();c=-1,t=o.length}s=null,a=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var n=e.exports={},r,i;!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{i="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){i=defaultClearTimeout}}();var o=[],a=!1,s,c=-1;n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new Item(e,t)),1!==o.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.prependListener=noop,n.prependOnceListener=noop,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,n){function castPath(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}var r=n(46),i=n(198),o=n(712),a=n(128);e.exports=castPath},function(e,t,n){function toString(e){return null==e?"":r(e)}var r=n(439);e.exports=toString},function(e,t){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,r,i,o,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(isObject(n))for(i=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,o=0;o<r;o++)a[o].apply(this,i);return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.trace),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function g(){this.removeListener(e,g),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,o;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(o=i;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){function isSymbol(e){return"symbol"==typeof e||i(e)&&r(e)==o}var r=n(79),i=n(80),o="[object Symbol]";e.exports=isSymbol},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_NODE=t.MaxNode=t.ChildrenNode=void 0;var r=n(31),i=n(36),o=n(832),a=n(154),s=n(1009),c=n(124),u=n(656),l=n(1011),d=n(781),p=n(1013),h=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),f,g=function(){function ChildrenNode(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&(0,s.validatePriorityNode)(this.priorityNode_),this.children_.isEmpty()&&(0,r.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(ChildrenNode,"EMPTY_NODE",{get:function get(){return f||(f=new ChildrenNode(new o.SortedMap(p.NAME_COMPARATOR),null,l.IndexMap.Default))},enumerable:!0,configurable:!0}),ChildrenNode.prototype.isLeafNode=function(){return!1},ChildrenNode.prototype.getPriority=function(){return this.priorityNode_||f},ChildrenNode.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,e,this.indexMap_)},ChildrenNode.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?f:t},ChildrenNode.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},ChildrenNode.prototype.hasChild=function(e){return null!==this.children_.get(e)},ChildrenNode.prototype.updateImmediateChild=function(e,t){if((0,r.assert)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);var n=new a.NamedNode(e,t),i=void 0,o=void 0,s=void 0;return t.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(n,this.children_)),s=i.isEmpty()?f:this.priorityNode_,new ChildrenNode(i,s,o)},ChildrenNode.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;(0,r.assert)(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,i)},ChildrenNode.prototype.isEmpty=function(){return this.children_.isEmpty()},ChildrenNode.prototype.numChildren=function(){return this.children_.count()},ChildrenNode.prototype.val=function(e){if(this.isEmpty())return null;var t={},n=0,r=0,i=!0;if(this.forEachChild(c.PRIORITY_INDEX,function(o,a){t[o]=a.val(e),n++,i&&ChildrenNode.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){var o=[];for(var a in t)o[a]=t[a];return o}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t},ChildrenNode.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+(0,s.priorityHashText)(this.getPriority().val())+":"),this.forEachChild(c.PRIORITY_INDEX,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":(0,i.sha1)(e)}return this.lazyHash_},ChildrenNode.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new a.NamedNode(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},ChildrenNode.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},ChildrenNode.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new a.NamedNode(t,this.children_.get(t)):null},ChildrenNode.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},ChildrenNode.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new a.NamedNode(t,this.children_.get(t)):null},ChildrenNode.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},ChildrenNode.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},ChildrenNode.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,a.NamedNode.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},ChildrenNode.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},ChildrenNode.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,a.NamedNode.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},ChildrenNode.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===v?-1:0},ChildrenNode.prototype.withIndex=function(e){if(e===u.KEY_INDEX||this.indexMap_.hasIndex(e))return this;var t=this.indexMap_.addIndex(e,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,t)},ChildrenNode.prototype.isIndexed=function(e){return e===u.KEY_INDEX||this.indexMap_.hasIndex(e)},ChildrenNode.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(c.PRIORITY_INDEX),r=t.getIterator(c.PRIORITY_INDEX),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},ChildrenNode.prototype.resolveIndex_=function(e){return e===u.KEY_INDEX?null:this.indexMap_.get(e.toString())},ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,ChildrenNode}();t.ChildrenNode=g;var m=function(e){function MaxNode(){return e.call(this,new o.SortedMap(p.NAME_COMPARATOR),g.EMPTY_NODE,l.IndexMap.Default)||this}return h(MaxNode,e),MaxNode.prototype.compareTo=function(e){return e===this?0:1},MaxNode.prototype.equals=function(e){return e===this},MaxNode.prototype.getPriority=function(){return this},MaxNode.prototype.getImmediateChild=function(e){return g.EMPTY_NODE},MaxNode.prototype.isEmpty=function(){return!1},MaxNode}(g);t.MaxNode=m;var v=t.MAX_NODE=new m;Object.defineProperties(a.NamedNode,{MIN:{value:new a.NamedNode(i.MIN_NAME,g.EMPTY_NODE)},MAX:{value:new a.NamedNode(i.MAX_NAME,v)}}),u.KeyIndex.__EMPTY_NODE=g.EMPTY_NODE,d.LeafNode.__childrenNodeConstructor=g,(0,s.setMaxNode)(v),(0,c.setMaxNode)(v)},function(e,t,n){function ListCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var r=n(676),i=n(677),o=n(678),a=n(679),s=n(680);ListCache.prototype.clear=r,ListCache.prototype.delete=i,ListCache.prototype.get=o,ListCache.prototype.has=a,ListCache.prototype.set=s,e.exports=ListCache},function(e,t,n){function assocIndexOf(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=n(186);e.exports=assocIndexOf},function(e,t,n){var r=n(76)(Object,"create");e.exports=r},function(e,t,n){function getMapData(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=n(700);e.exports=getMapData},function(e,t,n){"use strict";function recomputePluginOrdering(){if(o)for(var e in a){var t=a[e],n=o.indexOf(e);if(n>-1||r("96",e),!s.plugins[n]){t.extractEvents||r("97",e),s.plugins[n]=t;var i=t.eventTypes;for(var c in i)publishEventForPlugin(i[c],t,c)||r("98",c,e)}}}function publishEventForPlugin(e,t,n){s.eventNameDispatchConfigs.hasOwnProperty(n)&&r("99",n),s.eventNameDispatchConfigs[n]=e;var i=e.phasedRegistrationNames;if(i){for(var o in i)i.hasOwnProperty(o)&&publishRegistrationName(i[o],t,n);return!0}return!!e.registrationName&&(publishRegistrationName(e.registrationName,t,n),!0)}function publishRegistrationName(e,t,n){s.registrationNameModules[e]&&r("100",e),s.registrationNameModules[e]=t,s.registrationNameDependencies[e]=t.eventTypes[n].dependencies;var i}var r=n(6),i=n(2),o=null,a={},s={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){o&&r("101"),o=Array.prototype.slice.call(e),recomputePluginOrdering()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];a.hasOwnProperty(n)&&a[n]===i||(a[n]&&r("102",n),a[n]=i,t=!0)}t&&recomputePluginOrdering()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return s.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var i=s.registrationNameModules[n[r]];if(i)return i}}return null},_resetEventPlugins:function(){o=null;for(var e in a)a.hasOwnProperty(e)&&delete a[e];s.plugins.length=0;var t=s.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=s.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i];var c,u}};e.exports=s},function(e,t,n){"use strict";function isEndish(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function isMoveish(e){return"topMouseMove"===e||"topTouchMove"===e}function isStartish(e){return"topMouseDown"===e||"topTouchStart"===e}function executeDispatch(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=l.getNodeFromInstance(r),t?i.invokeGuardedCallbackWithCatch(o,n,e):i.invokeGuardedCallback(o,n,e),e.currentTarget=null}function executeDispatchesInOrder(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)executeDispatch(e,t,n[i],r[i]);else n&&executeDispatch(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function executeDispatchesInOrderStopAtTrueImpl(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function executeDispatchesInOrderStopAtTrue(e){var t=executeDispatchesInOrderStopAtTrueImpl(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function executeDirectDispatch(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&r("103"),e.currentTarget=t?l.getNodeFromInstance(n):null;var i=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,i}function hasDispatches(e){return!!e._dispatchListeners}var r=n(6),i=n(139),o=n(2),a=n(5),s,c,u,l={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,getInstanceFromNode:function(e){return s.getInstanceFromNode(e)},getNodeFromInstance:function(e){return s.getNodeFromInstance(e)},isAncestor:function(e,t){return c.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return c.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return c.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return c.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return c.traverseEnterLeave(e,t,n,r,i)},injection:{injectComponentTree:function(e){s=e},injectTreeTraversal:function(e){c=e}}};e.exports=l},function(e,t,n){"use strict";function invokeGuardedCallback(e,t,n){try{t(n)}catch(e){null===r&&(r=e)}}var r=null,i={invokeGuardedCallback:invokeGuardedCallback,invokeGuardedCallbackWithCatch:invokeGuardedCallback,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}},o;e.exports=i},function(e,t,n){"use strict";function getEventTarget(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=getEventTarget},function(e,t,n){"use strict";function isEventSupported(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,o=n in document;if(!o){var a=document.createElement("div");a.setAttribute(n,"return;"),o="function"==typeof a[n]}return!o&&i&&"wheel"===e&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var r=n(18),i;r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=isEventSupported},function(e,t,n){"use strict";function modifierStateGetter(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=r[e];return!!n&&!!t[n]}function getEventModifierState(e){return modifierStateGetter}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=getEventModifierState},function(e,t,n){"use strict";function getNodeAfter(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function insertLazyTreeChildAt(e,t,n){r.insertTreeBefore(e,t,n)}function moveChild(e,t,n){Array.isArray(t)?moveDelimitedText(e,t[0],t[1],n):l(e,t,n)}function removeChild(e,t){if(Array.isArray(t)){var n=t[1];removeDelimitedText(e,t=t[0],n),e.removeChild(n)}e.removeChild(t)}function moveDelimitedText(e,t,n,r){for(var i=t;;){var o=i.nextSibling;if(l(e,i,r),i===n)break;i=o}}function removeDelimitedText(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function replaceDelimitedText(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&l(r,document.createTextNode(n),i):n?(u(i,n),removeDelimitedText(r,i,t)):removeDelimitedText(r,e,t)}var r=n(75),i=n(376),o=n(11),a=n(30),s=n(145),c=n(100),u=n(223),l=s(function(e,t,n){e.insertBefore(t,n)}),d=i.dangerouslyReplaceNodeWithMarkup,p={dangerouslyReplaceNodeWithMarkup:d,replaceDelimitedText:replaceDelimitedText,processUpdates:function(e,t){for(var n,r=0;r<t.length;r++){var i=t[r];switch(i.type){case"INSERT_MARKUP":insertLazyTreeChildAt(e,i.content,getNodeAfter(e,i.afterNode));break;case"MOVE_EXISTING":moveChild(e,i.fromNode,getNodeAfter(e,i.afterNode));break;case"SET_MARKUP":c(e,i.content);break;case"TEXT_CONTENT":u(e,i.content);break;case"REMOVE_NODE":removeChild(e,i.fromNode)}}}};e.exports=p},function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=r},function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};e.exports=r},function(e,t,n){"use strict";function _assertSingleLink(e){null!=e.checkedLink&&null!=e.valueLink&&r("87")}function _assertValueLink(e){_assertSingleLink(e),(null!=e.value||null!=e.onChange)&&r("88")}function _assertCheckedLink(e){_assertSingleLink(e),(null!=e.checked||null!=e.onChange)&&r("89")}function getDeclarationErrorAddendum(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var r=n(6),i=n(394),o=n(213)(n(70).isValidElement),a=n(2),s=n(5),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},u={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:o.func},l={},d={checkPropTypes:function(e,t,n){for(var r in u){if(u.hasOwnProperty(r))var o=u[r](t,r,e,"prop",null,i);if(o instanceof Error&&!(o.message in l)){l[o.message]=!0;var a=getDeclarationErrorAddendum(n)}}},getValue:function(e){return e.valueLink?(_assertValueLink(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(_assertCheckedLink(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(_assertValueLink(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(_assertCheckedLink(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=d},function(e,t,n){"use strict";var r=n(6),i=n(2),o=!1,a={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o&&r("104"),a.replaceNodeWithMarkup=e.replaceNodeWithMarkup,a.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};e.exports=a},function(e,t,n){"use strict";function is(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function shallowEqual(e,t){if(is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!r.call(t,n[o])||!is(e[n[o]],t[n[o]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=shallowEqual},function(e,t,n){"use strict";function shouldUpdateReactComponent(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=shouldUpdateReactComponent},function(e,t,n){"use strict";function escape(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function unescape(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var r={escape:escape,unescape:unescape};e.exports=r},function(e,t,n){"use strict";function enqueueUpdate(e){s.enqueueUpdate(e)}function formatUnexpectedArgument(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function getInternalInstanceReadyForUpdate(e,t){var n=o.get(e);if(!n){var r;return null}return n}var r=n(6),i=n(44),o=n(90),a=n(30),s=n(35),c=n(2),u=n(5),l={isMounted:function(e){var t,n=o.get(e);return!!n&&!!n._renderedComponent},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var r=getInternalInstanceReadyForUpdate(e);if(!r)return null;r._pendingCallbacks?r._pendingCallbacks.push(t):r._pendingCallbacks=[t],enqueueUpdate(r)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],enqueueUpdate(e)},enqueueForceUpdate:function(e){var t=getInternalInstanceReadyForUpdate(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,enqueueUpdate(t))},enqueueReplaceState:function(e,t,n){var r=getInternalInstanceReadyForUpdate(e,"replaceState");r&&(r._pendingStateQueue=[t],r._pendingReplaceState=!0,void 0!==n&&null!==n&&(l.validateCallback(n,"replaceState"),r._pendingCallbacks?r._pendingCallbacks.push(n):r._pendingCallbacks=[n]),enqueueUpdate(r))},enqueueSetState:function(e,t){var n=getInternalInstanceReadyForUpdate(e,"setState");n&&((n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),enqueueUpdate(n))},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,enqueueUpdate(e)},validateCallback:function(e,t){e&&"function"!=typeof e&&r("122",t,formatUnexpectedArgument(e))}};e.exports=l},function(e,t,n){"use strict";var r=n(9),i=n(25),o=n(5),a=i,s,c,u,l,d,p,h,f,g;e.exports=a},function(e,t,n){"use strict";function getEventCharCode(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}e.exports=getEventCharCode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function NamedNode(e,t){this.name=e,this.node=t}return NamedNode.Wrap=function(e,t){return new NamedNode(e,t)},NamedNode}();t.NamedNode=r},function(e,t,n){"use strict";function isDef(e){return null!=e}function isJustDef(e){return void 0!==e}function isFunction(e){return"function"==typeof e}function isObject(e){return"object"===(void 0===e?"undefined":r(e))}function isNonNullObject(e){return isObject(e)&&null!==e}function isNonArrayObject(e){return isObject(e)&&!Array.isArray(e)}function isString(e){return"string"==typeof e||e instanceof String}function isNumber(e){return"number"==typeof e||e instanceof Number}function isNativeBlob(e){return isNativeBlobDefined()&&e instanceof Blob}function isNativeBlobDefined(){return"undefined"!=typeof Blob}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isDef=isDef,t.isJustDef=isJustDef,t.isFunction=isFunction,t.isObject=isObject,t.isNonNullObject=isNonNullObject,t.isNonArrayObject=isNonArrayObject,t.isString=isString,t.isNumber=isNumber,t.isNativeBlob=isNativeBlob,t.isNativeBlobDefined=isNativeBlobDefined},function(e,t,n){"use strict";function article(e){return["a","e","i","o","u"].indexOf(e.toLowerCase()[0])>=0?"an":"a"}e.exports.DEFAULT_ENVIRONMENT="prod",e.exports.DEFAULT_REALM="us1",e.exports.DEFAULT_LOG_LEVEL="warn",e.exports.REGISTRAR_SERVER="endpoint.twilio.com",e.exports.WS_SERVER=function(e,t){switch(e){case"prod":switch(t){case"us1":return"wss://endpoint.twilio.com";default:return"wss://endpoint."+t+".twilio.com"}default:return"wss://endpoint."+e+"-"+t+".twilio.com"}},e.exports.ECS_SERVER=function(e,t){switch(e){case"prod":return"https://ecs."+t+".twilio.com";default:return"https://ecs."+e+"-"+t+".twilio.com"}},e.exports.ECS_TIMEOUT=60,e.exports.PUBLISH_MAX_ATTEMPTS=5,e.exports.PUBLISH_BACKOFF_JITTER=10,e.exports.PUBLISH_BACKOFF_MS=20,e.exports.ICE_SERVERS_TIMEOUT_MS=3e3,e.exports.ICE_SERVERS_DEFAULT_TTL=3600,e.exports.DEFAULT_ICE_SERVERS=function(e){switch(e){case"prod":return[{urls:"stun:global.stun.twilio.com:3478?transport=udp"}];default:return[{urls:"stun:global.stun."+e+".twilio.com:3478?transport=udp"}]}},e.exports.headers={X_TWILIO_ACCESSTOKEN:"X-Twilio-AccessToken"},e.exports.typeErrors={INVALID_TYPE:function(e,t){return new TypeError(e+" must be "+article(t)+" "+t)},INVALID_VALUE:function(e,t){return new RangeError(e+" must be one of ",t.join(", "))},REQUIRED_ARGUMENT:function(e){return new TypeError(e+" must be specified")}}},function(e,t,n){function isArrayLike(e){return null!=e&&i(e.length)&&!r(e)}var r=n(94),i=n(195);e.exports=isArrayLike},,function(e,t,n){var r=n(8),i=n(4).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(4),i=n(38),o=n(57),a=n(244),s=n(13).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(109)("keys"),i=n(56);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(4).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(8),i=n(3),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(32)(Function.call,n(28).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function setPrototypeOf(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(8),i=n(164).set;e.exports=function(e,t,n){var o=t.constructor,a;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&r(a)&&i&&i(e,a),e}},function(e,t,n){"use strict";var r=n(41),i=n(40);e.exports=function repeat(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function sign(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function expm1(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(41),i=n(40);e.exports=function(e){return function(t,n){var o=String(i(t)),a=r(n),s=o.length,c,u;return a<0||a>=s?e?"":void 0:(c=o.charCodeAt(a))<55296||c>56319||a+1===s||(u=o.charCodeAt(a+1))<56320||u>57343?e?o.charAt(a):c:e?o.slice(a,a+2):u-56320+(c-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(57),i=n(0),o=n(22),a=n(21),s=n(20),c=n(83),u=n(172),l=n(81),d=n(29),p=n(10)("iterator"),h=!([].keys&&"next"in[].keys()),f="@@iterator",g="keys",m="values",v=function(){return this};e.exports=function(e,t,n,y,_,b,S){u(n,t,y);var w=function(e){if(!h&&e in k)return k[e];switch(e){case g:return function keys(){return new n(this,e)};case m:return function values(){return new n(this,e)}}return function entries(){return new n(this,e)}},C=t+" Iterator",T=_==m,E=!1,k=e.prototype,x=k[p]||k[f]||_&&k[_],I=x||w(_),R=_?T?w("entries"):I:void 0,O="Array"==t?k.entries||x:x,P,A,M;if(O&&(M=d(O.call(new e)))!==Object.prototype&&M.next&&(l(M,C,!0),r||s(M,p)||a(M,p,v)),T&&x&&x.name!==m&&(E=!0,I=function values(){return x.call(this)}),r&&!S||!h&&!E&&k[p]||a(k,p,I),c[t]=I,c[C]=v,_)if(P={values:T?I:w(m),keys:b?I:w(g),entries:R},S)for(A in P)A in k||o(k,A,P[A]);else i(i.P+i.F*(h||E),t,P);return P}},function(e,t,n){"use strict";var r=n(60),i=n(55),o=n(81),a={};n(21)(a,n(10)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(113),i=n(40);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(10)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(83),i=n(10)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(13),i=n(55);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(93),i=n(10)("iterator"),o=n(83);e.exports=n(38).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(539);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var r=n(16),i=n(59),o=n(14);e.exports=function fill(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(52),i=n(260),o=n(83),a=n(27);e.exports=n(171)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(32),i=n(250),o=n(163),a=n(159),s=n(4),c=s.process,u=s.setImmediate,l=s.clearImmediate,d=s.MessageChannel,p=s.Dispatch,h=0,f={},g="onreadystatechange",m,v,y,_=function(){var e=+this;if(f.hasOwnProperty(e)){var t=f[e];delete f[e],t()}},b=function(e){_.call(e.data)};u&&l||(u=function setImmediate(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return f[++h]=function(){i("function"==typeof e?e:Function(e),t)},m(h),h},l=function clearImmediate(e){delete f[e]},"process"==n(33)(c)?m=function(e){c.nextTick(r(_,e,1))}:p&&p.now?m=function(e){p.now(r(_,e,1))}:d?(y=(v=new d).port2,v.port1.onmessage=b,m=r(y.postMessage,y,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(m=function(e){s.postMessage(e+"","*")},s.addEventListener("message",b,!1)):m=g in a("script")?function(e){o.appendChild(a("script"))[g]=function(){o.removeChild(this),_.call(e)}}:function(e){setTimeout(r(_,e,1),0)}),e.exports={set:u,clear:l}},function(e,t,n){var r=n(4),i=n(181).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(33)(a);e.exports=function(){var e,t,n,u=function(){var r,i;for(c&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(o){var l=!0,d=document.createTextNode("");new o(u).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}else if(s&&s.resolve){var p=s.resolve();n=function(){p.then(u)}}else n=function(){i.call(r,u)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";function PromiseCapability(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}var r=n(19);e.exports.f=function(e){return new PromiseCapability(e)}},function(e,t,n){"use strict";function packIEEE754(e,t,n){var r=Array(n),i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=23===t?O(2,-24)-O(2,-77):0,c=0,u=e<0||0===e&&1/e<0?1:0,l,d,p;for((e=R(e))!=e||e===x?(d=e!=e?1:0,l=o):(l=P(A(e)/M),e*(p=O(2,-l))<1&&(l--,p*=2),(e+=l+a>=1?s/p:s*O(2,1-a))*p>=2&&(l++,p/=2),l+a>=o?(d=0,l=o):l+a>=1?(d=(e*p-1)*O(2,t),l+=a):(d=e*O(2,a-1)*O(2,t),l=0));t>=8;r[c++]=255&d,d/=256,t-=8);for(l=l<<t|d,i+=t;i>0;r[c++]=255&l,l/=256,i-=8);return r[--c]|=128*u,r}function unpackIEEE754(e,t,n){var r=8*n-t-1,i=(1<<r)-1,o=i>>1,a=r-7,s=n-1,c=e[s--],u=127&c,l;for(c>>=7;a>0;u=256*u+e[s],s--,a-=8);for(l=u&(1<<-a)-1,u>>=-a,a+=t;a>0;l=256*l+e[s],s--,a-=8);if(0===u)u=1-o;else{if(u===i)return l?NaN:c?-x:x;l+=O(2,t),u-=o}return(c?-1:1)*l*O(2,u-t)}function unpackI32(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function packI8(e){return[255&e]}function packI16(e){return[255&e,e>>8&255]}function packI32(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function packF64(e){return packIEEE754(e,52,8)}function packF32(e){return packIEEE754(e,23,4)}function addGetter(e,t,n){g(e[b],t,{get:function(){return this[n]}})}function get(e,t,n,r){var i=h(+n);if(i+t>e[U])throw k(w);var o=e[F]._b,a=i+e[j],s=o.slice(a,a+t);return r?s:s.reverse()}function set(e,t,n,r,i,o){var a=h(+n);if(a+t>e[U])throw k(w);for(var s=e[F]._b,c=a+e[j],u=r(+i),l=0;l<t;l++)s[c+l]=u[o?l:t-l-1]}var r=n(4),i=n(12),o=n(57),a=n(119),s=n(21),c=n(65),u=n(7),l=n(63),d=n(41),p=n(14),h=n(269),f=n(61).f,g=n(13).f,m=n(179),v=n(81),y="ArrayBuffer",_="DataView",b="prototype",S="Wrong length!",w="Wrong index!",C=r[y],T=r[_],E=r.Math,k=r.RangeError,x=r.Infinity,I=C,R=E.abs,O=E.pow,P=E.floor,A=E.log,M=E.LN2,N="buffer",D="byteLength",L="byteOffset",F=i?"_b":N,U=i?"_l":D,j=i?"_o":L;if(a.ABV){if(!u(function(){C(1)})||!u(function(){new C(-1)})||u(function(){return new C,new C(1.5),new C(NaN),C.name!=y})){for(var W=(C=function ArrayBuffer(e){return l(this,C),new I(h(e))})[b]=I[b],B=f(I),H=0,z;B.length>H;)(z=B[H++])in C||s(C,z,I[z]);o||(W.constructor=C)}var q=new T(new C(2)),V=T[b].setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||c(T[b],{setInt8:function setInt8(e,t){V.call(this,e,t<<24>>24)},setUint8:function setUint8(e,t){V.call(this,e,t<<24>>24)}},!0)}else C=function ArrayBuffer(e){l(this,C,y);var t=h(e);this._b=m.call(Array(t),0),this[U]=t},T=function DataView(e,t,n){l(this,T,_),l(e,C,_);var r=e[U],i=d(t);if(i<0||i>r)throw k("Wrong offset!");if(n=void 0===n?r-i:p(n),i+n>r)throw k(S);this[F]=e,this[j]=i,this[U]=n},i&&(addGetter(C,D,"_l"),addGetter(T,N,"_b"),addGetter(T,D,"_l"),addGetter(T,L,"_o")),c(T[b],{getInt8:function getInt8(e){return get(this,1,e)[0]<<24>>24},getUint8:function getUint8(e){return get(this,1,e)[0]},getInt16:function getInt16(e){var t=get(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function getUint16(e){var t=get(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function getInt32(e){return unpackI32(get(this,4,e,arguments[1]))},getUint32:function getUint32(e){return unpackI32(get(this,4,e,arguments[1]))>>>0},getFloat32:function getFloat32(e){return unpackIEEE754(get(this,4,e,arguments[1]),23,4)},getFloat64:function getFloat64(e){return unpackIEEE754(get(this,8,e,arguments[1]),52,8)},setInt8:function setInt8(e,t){set(this,1,e,packI8,t)},setUint8:function setUint8(e,t){set(this,1,e,packI8,t)},setInt16:function setInt16(e,t){set(this,2,e,packI16,t,arguments[2])},setUint16:function setUint16(e,t){set(this,2,e,packI16,t,arguments[2])},setInt32:function setInt32(e,t){set(this,4,e,packI32,t,arguments[2])},setUint32:function setUint32(e,t){set(this,4,e,packI32,t,arguments[2])},setFloat32:function setFloat32(e,t){set(this,4,e,packF32,t,arguments[2])},setFloat64:function setFloat64(e,t){set(this,8,e,packF64,t,arguments[2])}});v(C,y),v(T,_),s(T[b],a.VIEW,!0),t[y]=C,t[_]=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WS_CONNECTED_ELSEWHERE="WS_CONNECTED_ELSEWHERE",t.WS_UPDATE_PEER_STATUS="WS_UPDATE_PEER_STATUS",t.WS_WAITING_FOR_PEER="WS_WAITING_FOR_PEER",t.WS_CURRENT_STATE="WS_CURRENT_STATE",t.WS_DISCONNECTED="WS_DISCONNECTED",t.WS_CONNECTED="WS_CONNECTED",t.WS_LANGUAGE="WS_LANGUAGE",t.WS_STDOUT="WS_STDOUT",t.WS_STDERR="WS_STDERR",t.WS_RESULT="WS_RESULT",t.WS_CLEAR="WS_CLEAR",t.WS_PONG="WS_PONG",t.WS_END="WS_END",t.WS_SEND_UPDATE_STATUS="updateStatus",t.WS_SEND_END_INTERVIEW="end",t.WS_SEND_SWAP_ROLE="swap",t.WS_SEND_LANGUAGE="language",t.WS_SEND_PING="ping",t.WS_SEND_ACK="ack",t.WS_SEND_RUN="run"},function(e,t){function eq(e,t){return e===t||e!==e&&t!==t}e.exports=eq},,function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(796),i=n(15);t.isMobile=function(){return"ios"===r.name||"android"===r.name},t.getBrowserName=function(){return r.name},t.webRtcDisabled=function(){var e=navigator;return!(e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia)},t.webSocketDisabled=function(){return!window.WebSocket.name},t.normalizeConsoleOutput=function(e){return e.split("\n").filter(function(e){return""!==e.trim()})},t.redirectTo=function(e){window.location.href=e},t.defaultClasses=function(e,t,n){return i(e,_defineProperty({},e+"_"+t,t),_defineProperty({},e+"_"+n,n))}},function(e,t,n){"use strict";function createStore_createStore(e,t,n){function ensureCanMutateNextListeners(){l===u&&(l=u.slice())}function getState(){return c}function subscribe(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return ensureCanMutateNextListeners(),l.push(e),function unsubscribe(){if(t){t=!1,ensureCanMutateNextListeners();var n=l.indexOf(e);l.splice(n,1)}}}function dispatch(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,c=s(c,e)}finally{d=!1}for(var t=u=l,n=0;n<t.length;n++)(0,t[n])();return e}function replaceReducer(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");s=e,dispatch({type:a.INIT})}function observable(){var e,t=subscribe;return e={subscribe:function subscribe(e){function observeState(){e.next&&e.next(getState())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return observeState(),{unsubscribe:t(observeState)}}},e[o.a]=function(){return this},e}var i;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(createStore_createStore)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var s=e,c=t,u=[],l=u,d=!1;return dispatch({type:a.INIT}),i={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:replaceReducer},i[o.a]=observable,i}function warning_warning(e){"undefined"!=typeof console&&console.error;try{throw new Error(e)}catch(e){}}function getUndefinedStateErrorMessage(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function getUnexpectedStateShapeWarningMessage(e,t,n,r){var i=Object.keys(t),o=n&&n.type===a.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===i.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!Object(s.a)(e))return"The "+o+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+i.join('", "')+'"';var c=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!r[e]});return c.forEach(function(e){r[e]=!0}),c.length>0?"Unexpected "+(c.length>1?"keys":"key")+' "'+c.join('", "')+'" found in '+o+'. Expected to find one of the known reducer keys instead: "'+i.join('", "')+'". Unexpected keys will be ignored.':void 0}function assertReducerShape(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function combineReducers(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o=Object.keys(n),a=void 0,s=void 0;try{assertReducerShape(n)}catch(e){s=e}return function combination(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var r,i=!1,a={},c=0;c<o.length;c++){var u=o[c],l=n[u],d=e[u],p=l(d,t);if(void 0===p){var h=getUndefinedStateErrorMessage(u,t);throw new Error(h)}a[u]=p,i=i||p!==d}return i?a:e}}function bindActionCreator(e,t){return function(){return t(e.apply(void 0,arguments))}}function bindActionCreators(e,t){if("function"==typeof e)return bindActionCreator(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],a=e[o];"function"==typeof a&&(r[o]=bindActionCreator(a,t))}return r}function compose(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function applyMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var o=e(n,r,i),a=o.dispatch,s=[],u={getState:o.getState,dispatch:function dispatch(e){return a(e)}};return s=t.map(function(e){return e(u)}),a=compose.apply(void 0,s)(o.dispatch),c({},o,{dispatch:a})}}}function isCrushed(){}var r=n(190),i=n(668),o=n.n(i),a={INIT:"@@redux/INIT"},s=n(190),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n.d(t,"createStore",function(){return createStore_createStore}),n.d(t,"combineReducers",function(){return combineReducers}),n.d(t,"bindActionCreators",function(){return bindActionCreators}),n.d(t,"applyMiddleware",function(){return applyMiddleware}),n.d(t,"compose",function(){return compose})},function(e,t,n){"use strict";function getRawTag(e){var t=s.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=c.call(e);return r&&(t?e[u]=n:delete e[u]),i}function objectToString(e){return d.call(e)}function baseGetTag(e){return null==e?void 0===e?f:h:g&&g in Object(e)?l(e):p(e)}function overArg(e,t){return function(n){return e(t(n))}}function isObjectLike(e){return null!=e&&"object"==typeof e}function isPlainObject(e){if(!y(e)||m(e)!=_)return!1;var t=v(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&w.call(n)==T}var r=n(667),i="object"==typeof self&&self&&self.Object===Object&&self,o=(r.a||i||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,c=a.toString,u=o?o.toStringTag:void 0,l=getRawTag,d=Object.prototype.toString,p=objectToString,h="[object Null]",f="[object Undefined]",g=o?o.toStringTag:void 0,m=baseGetTag,v=overArg(Object.getPrototypeOf,Object),y=isObjectLike,_="[object Object]",b=Function.prototype,S=Object.prototype,w=b.toString,C=S.hasOwnProperty,T=w.call(Object),E=t.a=isPlainObject},function(e,t,n){var r=n(76)(n(48),"Map");e.exports=r},function(e,t,n){function baseGet(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}var r=n(127),i=n(104);e.exports=baseGet},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.jsonEval=function jsonEval(e){return JSON.parse(e)},i=t.stringify=function stringify(e){return JSON.stringify(e)}},function(e,t,n){function MapCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var r=n(692),i=n(699),o=n(701),a=n(702),s=n(703);MapCache.prototype.clear=r,MapCache.prototype.delete=i,MapCache.prototype.get=o,MapCache.prototype.has=a,MapCache.prototype.set=s,e.exports=MapCache},function(e,t){function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=isLength},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(926)),__export(n(346)),__export(n(728));var r=n(336);t.LOADER_SCREEN=r.LOADER_SCREEN,t.ERROR_SCREEN=r.ERROR_SCREEN,t.AUDIO_INPUT=r.AUDIO_INPUT,t.VIDEO_INPUT=r.VIDEO_INPUT},function(e,t){function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}var n=Object.prototype;e.exports=isPrototype},function(e,t,n){function isKey(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}var r=n(46),i=n(130),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=isKey},function(e,t,n){function copyObject(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=o?o(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?i(n,u,l):r(n,u,l)}return n}var r=n(323),i=n(312);e.exports=copyObject},function(e,t,n){var r=n(704),i=n(80),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){(function(e){var r=n(48),i=n(705),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c}).call(t,n(103)(e))},function(e,t){function arrayMap(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=arrayMap},function(e,t,n){function baseIteratee(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}var r=n(731),i=n(740),o=n(293),a=n(46),s=n(744);e.exports=baseIteratee},function(e,t){function arrayPush(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=arrayPush},function(e,t,n){var r=n(438),i=n(290),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:i;e.exports=s},function(e,t,n){"use strict";function getPrefixedValue(e,t,n){return n?[e,t]:e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=getPrefixedValue,e.exports=t.default},function(e,t,n){"use strict";function prependCode(e){return"storage/"+e}function unknown(){var e="An unknown error occurred, please check the error payload for server response.";return new i(a.UNKNOWN,e)}function objectNotFound(e){return new i(a.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function bucketNotFound(e){return new i(a.BUCKET_NOT_FOUND,"Bucket '"+e+"' does not exist.")}function projectNotFound(e){return new i(a.PROJECT_NOT_FOUND,"Project '"+e+"' does not exist.")}function quotaExceeded(e){return new i(a.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new i(a.UNAUTHENTICATED,e)}function unauthorized(e){return new i(a.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function retryLimitExceeded(){return new i(a.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function invalidChecksum(e,t,n){return new i(a.INVALID_CHECKSUM,"Uploaded/downloaded object '"+e+"' has checksum '"+t+"' which does not match '"+n+"'. Please retry the upload/download.")}function canceled(){return new i(a.CANCELED,"User canceled the upload/download.")}function invalidEventName(e){return new i(a.INVALID_EVENT_NAME,"Invalid event name '"+e+"'.")}function invalidUrl(e){return new i(a.INVALID_URL,"Invalid URL '"+e+"'.")}function invalidDefaultBucket(e){return new i(a.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function noDefaultBucket(){return new i(a.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+r.configOption+"' property when initializing the app?")}function cannotSliceBlob(){return new i(a.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function serverFileWrongSize(){return new i(a.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function noDownloadURL(){return new i(a.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function invalidArgument(e,t,n){return new i(a.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function invalidArgumentCount(e,t,n,r){var o,s;return e===t?(o=e,s=1===e?"argument":"arguments"):(o="between "+e+" and "+t,s="arguments"),new i(a.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+o+" "+s+", received "+r+".")}function appDeleted(){return new i(a.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(e){return new i(a.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(e,t){return new i(a.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function internalError(e){throw new i(a.INTERNAL_ERROR,"Internal error: "+e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Code=t.errors=t.FirebaseStorageError=void 0,t.prependCode=prependCode,t.unknown=unknown,t.objectNotFound=objectNotFound,t.bucketNotFound=bucketNotFound,t.projectNotFound=projectNotFound,t.quotaExceeded=quotaExceeded,t.unauthenticated=unauthenticated,t.unauthorized=unauthorized,t.retryLimitExceeded=retryLimitExceeded,t.invalidChecksum=invalidChecksum,t.canceled=canceled,t.invalidEventName=invalidEventName,t.invalidUrl=invalidUrl,t.invalidDefaultBucket=invalidDefaultBucket,t.noDefaultBucket=noDefaultBucket,t.cannotSliceBlob=cannotSliceBlob,t.serverFileWrongSize=serverFileWrongSize,t.noDownloadURL=noDownloadURL,t.invalidArgument=invalidArgument,t.invalidArgumentCount=invalidArgumentCount,t.appDeleted=appDeleted,t.invalidRootOperation=invalidRootOperation,t.invalidFormat=invalidFormat,t.internalError=internalError;var r=n(784),i=function(){function FirebaseStorageError(e,t){this.code_=prependCode(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return FirebaseStorageError.prototype.codeProp=function(){return this.code},FirebaseStorageError.prototype.codeEquals=function(e){return prependCode(e)===this.codeProp()},FirebaseStorageError.prototype.serverResponseProp=function(){return this.serverResponse_},FirebaseStorageError.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(FirebaseStorageError.prototype,"name",{get:function get(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(FirebaseStorageError.prototype,"code",{get:function get(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(FirebaseStorageError.prototype,"message",{get:function get(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(FirebaseStorageError.prototype,"serverResponse",{get:function get(){return this.serverResponse_},enumerable:!0,configurable:!0}),FirebaseStorageError}();t.FirebaseStorageError=i;var o=t.errors={},a=t.Code={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"}},function(e,t,n){var r=n(844)("wks"),i=n(788),o=n(281).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";function ReactComponent(e,t,n){this.props=e,this.context=t,this.refs=s,this.updater=n||o}function ReactPureComponent(e,t,n){this.props=e,this.context=t,this.refs=s,this.updater=n||o}function ComponentDummy(){}var r=n(86),i=n(9),o=n(210),a=n(211),s=n(97),c=n(2),u=n(349);ReactComponent.prototype.isReactComponent={},ReactComponent.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},ReactComponent.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};var l,d,p;ComponentDummy.prototype=ReactComponent.prototype,(ReactPureComponent.prototype=new ComponentDummy).constructor=ReactPureComponent,i(ReactPureComponent.prototype,ReactComponent.prototype),ReactPureComponent.prototype.isPureReactComponent=!0,e.exports={Component:ReactComponent,PureComponent:ReactPureComponent}},function(e,t,n){"use strict";function warnNoop(e,t){var n}var r=n(5),i={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){warnNoop(e,"forceUpdate")},enqueueReplaceState:function(e,t){warnNoop(e,"replaceState")},enqueueSetState:function(e,t){warnNoop(e,"setState")}};e.exports=i},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";var r=n(357);e.exports=function(e){var t=!1;return r(e,!1)}},function(e,t,n){"use strict";var r={hasCachedChildNodes:1};e.exports=r},function(e,t,n){"use strict";function accumulateInto(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var r=n(6),i=n(2);e.exports=accumulateInto},function(e,t,n){"use strict";function forEachAccumulated(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=forEachAccumulated},function(e,t,n){"use strict";function getTextContentAccessor(){return!i&&r.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var r=n(18),i=null;e.exports=getTextContentAccessor},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(6),i=n(53),o=n(2),a=function(){function CallbackQueue(e){_classCallCheck(this,CallbackQueue),this._callbacks=null,this._contexts=null,this._arg=e}return CallbackQueue.prototype.enqueue=function enqueue(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},CallbackQueue.prototype.notifyAll=function notifyAll(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length&&r("24"),this._callbacks=null,this._contexts=null;for(var i=0;i<e.length;i++)e[i].call(t[i],n);e.length=0,t.length=0}},CallbackQueue.prototype.checkpoint=function checkpoint(){return this._callbacks?this._callbacks.length:0},CallbackQueue.prototype.rollback=function rollback(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},CallbackQueue.prototype.reset=function reset(){this._callbacks=null,this._contexts=null},CallbackQueue.prototype.destructor=function destructor(){this.reset()},CallbackQueue}();e.exports=i.addPoolingTo(a)},function(e,t,n){"use strict";var r={logTopLevelRenders:!1};e.exports=r},function(e,t,n){"use strict";function isCheckable(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function getTracker(e){return e._wrapperState.valueTracker}function attachTracker(e,t){e._wrapperState.valueTracker=t}function detachTracker(e){delete e._wrapperState.valueTracker}function getValueFromNode(e){var t;return e&&(t=isCheckable(e)?""+e.checked:e.value),t}var r=n(11),i={_getTrackerFromNode:function(e){return getTracker(r.getInstanceFromNode(e))},track:function(e){if(!getTracker(e)){var t=r.getNodeFromInstance(e),n=isCheckable(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];t.hasOwnProperty(n)||"function"!=typeof i.get||"function"!=typeof i.set||(Object.defineProperty(t,n,{enumerable:i.enumerable,configurable:!0,get:function(){return i.get.call(this)},set:function(e){o=""+e,i.set.call(this,e)}}),attachTracker(e,{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){detachTracker(e),delete t[n]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=getTracker(e);if(!t)return i.track(e),!0;var n=t.getValue(),o=getValueFromNode(r.getNodeFromInstance(e));return o!==n&&(t.setValue(o),!0)},stopTracking:function(e){var t=getTracker(e);t&&t.stopTracking()}};e.exports=i},function(e,t,n){"use strict";function isTextInputElement(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!r[e.type]:"textarea"===t}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=isTextInputElement},function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";var r=n(18),i=n(101),o=n(100),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){3!==e.nodeType?o(e,i(t)):e.nodeValue=t})),e.exports=a},function(e,t,n){"use strict";function focusNode(e){try{e.focus()}catch(e){}}e.exports=focusNode},function(e,t,n){"use strict";function prefixKey(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[prefixKey(t,e)]=r[e]})});var o={isUnitlessNumber:r,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};e.exports=o},function(e,t,n){"use strict";function isAttributeNameSafe(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(c.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function shouldIgnoreValue(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var r=n(73),i=n(11),o=n(30),a=n(390),s=n(5),c=new RegExp("^["+r.ATTRIBUTE_NAME_START_CHAR+"]["+r.ATTRIBUTE_NAME_CHAR+"]*$"),u={},l={},d={createMarkupForID:function(e){return r.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(r.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return r.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(r.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(n){if(shouldIgnoreValue(n,t))return"";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?i+'=""':i+"="+a(t)}return r.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return isAttributeNameSafe(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var i=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(i){var o=i.mutationMethod;if(o)o(e,n);else{if(shouldIgnoreValue(i,n))return void this.deleteValueForProperty(e,t);if(i.mustUseProperty)e[i.propertyName]=n;else{var a=i.attributeName,s=i.attributeNamespace;s?e.setAttributeNS(s,a,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&!0===n?e.setAttribute(a,""):e.setAttribute(a,""+n)}}}else if(r.isCustomAttribute(t))return void d.setValueForAttribute(e,t,n);var c},setValueForAttribute:function(e,t,n){if(isAttributeNameSafe(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n);var r}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(n){var i=n.mutationMethod;if(i)i(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:e[o]=""}else e.removeAttribute(n.attributeName)}else r.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=d},function(e,t,n){"use strict";function updateOptionsIfPendingUpdateAndMounted(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=i.getValue(e);null!=t&&updateOptions(this,Boolean(e.multiple),t)}}function getDeclarationErrorAddendum(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function checkSelectPropTypes(e,t){var n=e._currentElement._owner;i.checkPropTypes("select",t,n),void 0===t.valueLink||c||(c=!0);for(var r=0;r<l.length;r++){var o=l[r];if(null!=t[o]){var a=Array.isArray(t[o]);t.multiple&&!a||t.multiple}}}function updateOptions(e,t,n){var r,i,a=o.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<a.length;i++){var s=r.hasOwnProperty(a[i].value);a[i].selected!==s&&(a[i].selected=s)}}else{for(r=""+n,i=0;i<a.length;i++)if(a[i].value===r)return void(a[i].selected=!0);a.length&&(a[0].selected=!0)}}function _handleChange(e){var t=this._currentElement.props,n=i.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),a.asap(updateOptionsIfPendingUpdateAndMounted,this),n}var r=n(9),i=n(146),o=n(11),a=n(35),s=n(5),c=!1,u=!1,l=["value","defaultValue"],d={getHostProps:function(e,t){return r({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=i.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:_handleChange.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||u||(u=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=i.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,updateOptions(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?updateOptions(e,Boolean(t.multiple),t.defaultValue):updateOptions(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=d},function(e,t,n){"use strict";function getDeclarationErrorAddendum(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function isInternalComponentType(e){return"function"==typeof e&&void 0!==e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function instantiateReactComponent(e,t){var n;if(null===e||!1===e)n=a.create(instantiateReactComponent);else if("object"==typeof e){var i=e,o=i.type;if("function"!=typeof o&&"string"!=typeof o){var c="";c+=getDeclarationErrorAddendum(i._owner),r("130",null==o?o:typeof o,c)}"string"==typeof i.type?n=s.createInternalComponent(i):isInternalComponentType(i.type)?(n=new i.type(i)).getHostNode||(n.getHostNode=n.getNativeNode):n=new d(i)}else"string"==typeof e||"number"==typeof e?n=s.createInstanceForText(e):r("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var r=n(6),i=n(9),o=n(399),a=n(230),s=n(231),c=n(400),u=n(2),l=n(5),d=function(e){this.construct(e)};i(d.prototype,o,{_instantiateReactComponent:instantiateReactComponent}),e.exports=instantiateReactComponent},function(e,t,n){"use strict";var r=n(6),i=n(70),o=n(2),a={HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?a.EMPTY:i.isValidElement(e)?"function"==typeof e.type?a.COMPOSITE:a.HOST:void r("26",e)}};e.exports=a},function(e,t,n){"use strict";var r,i={injectEmptyComponentFactory:function(e){r=e}},o={create:function(e){return r(e)}};o.injection=i,e.exports=o},function(e,t,n){"use strict";function createInternalComponent(e){return o||r("111",e.type),new o(e)}function createInstanceForText(e){return new a(e)}function isTextComponent(e){return e instanceof a}var r=n(6),i=n(2),o=null,a=null,s={createInternalComponent:createInternalComponent,createInstanceForText:createInstanceForText,isTextComponent:isTextComponent,injection:{injectGenericComponentClass:function(e){o=e},injectTextComponentClass:function(e){a=e}}};e.exports=s},function(e,t,n){"use strict";function getComponentKey(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function traverseAllChildrenImpl(e,t,n,i){var s=typeof e;if("undefined"!==s&&"boolean"!==s||(e=null),null===e||"string"===s||"number"===s||"object"===s&&e.$$typeof===o)return n(i,e,""===t?l+getComponentKey(e,0):t),1;var u,p,h=0,f=""===t?l:t+d;if(Array.isArray(e))for(var g=0;g<e.length;g++)h+=traverseAllChildrenImpl(u=e[g],p=f+getComponentKey(u,g),n,i);else{var m=a(e);if(m){var v=m.call(e),y;if(m!==e.entries)for(var _=0;!(y=v.next()).done;)h+=traverseAllChildrenImpl(u=y.value,p=f+getComponentKey(u,_++),n,i);else for(var b,S;!(y=v.next()).done;){var w=y.value;w&&(h+=traverseAllChildrenImpl(u=w[1],p=f+c.escape(w[0])+d+getComponentKey(u,0),n,i))}}else if("object"===s){var C="",T,E=String(e);r("31","[object Object]"===E?"object with keys {"+Object.keys(e).join(", ")+"}":E,C)}}return h}function traverseAllChildren(e,t,n){return null==e?0:traverseAllChildrenImpl(e,"",t,n)}var r=n(6),i=n(44),o=n(401),a=n(402),s=n(2),c=n(150),u=n(5),l=".",d=":",p=!1;e.exports=traverseAllChildren},function(e,t,n){"use strict";function isNative(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=t.call(e);return r.test(i)}catch(e){return!1}}function purgeDeep(e){var t=c(e);if(t){var n=t.childIDs;u(e),n.forEach(purgeDeep)}}function describeComponentFrame(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function getDisplayName(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function describeID(e){var t=S.getDisplayName(e),n=S.getElement(e),r=S.getOwnerID(e),i;return r&&(i=S.getDisplayName(r)),describeComponentFrame(t,n&&n._source,i)}var r=n(86),i=n(44),o=n(2),a=n(5),s,c,u,l,d,p,h;if("function"==typeof Array.from&&"function"==typeof Map&&isNative(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&isNative(Map.prototype.keys)&&"function"==typeof Set&&isNative(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&isNative(Set.prototype.keys)){var f=new Map,g=new Set;s=function(e,t){f.set(e,t)},c=function(e){return f.get(e)},u=function(e){f.delete(e)},l=function(){return Array.from(f.keys())},d=function(e){g.add(e)},p=function(e){g.delete(e)},h=function(){return Array.from(g.keys())}}else{var m={},v={},y=function(e){return"."+e},_=function(e){return parseInt(e.substr(1),10)};s=function(e,t){var n=y(e);m[n]=t},c=function(e){var t=y(e);return m[t]},u=function(e){var t=y(e);delete m[t]},l=function(){return Object.keys(m).map(_)},d=function(e){var t=y(e);v[t]=!0},p=function(e){var t=y(e);delete v[t]},h=function(){return Object.keys(v).map(_)}}var b=[],S={onSetChildren:function(e,t){var n=c(e);n||r("144"),n.childIDs=t;for(var i=0;i<t.length;i++){var o=t[i],a=c(o);a||r("140"),null==a.childIDs&&"object"==typeof a.element&&null!=a.element&&r("141"),a.isMounted||r("71"),null==a.parentID&&(a.parentID=e),a.parentID!==e&&r("142",o,a.parentID,e)}},onBeforeMountComponent:function(e,t,n){s(e,{element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,t){var n=c(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=c(e);t||r("144"),t.isMounted=!0,0===t.parentID&&d(e)},onUpdateComponent:function(e){var t=c(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=c(e);t&&(t.isMounted=!1,0===t.parentID&&p(e)),b.push(e)},purgeUnmountedComponents:function(){if(!S._preventPurging){for(var e=0;e<b.length;e++)purgeDeep(b[e]);b.length=0}},isMounted:function(e){var t=c(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=getDisplayName(e),r=e._owner;t+=describeComponentFrame(n,e._source,r&&r.getName())}var o=i.current,a=o&&o._debugID;return t+=S.getStackAddendumByID(a)},getStackAddendumByID:function(e){for(var t="";e;)t+=describeID(e),e=S.getParentID(e);return t},getChildIDs:function(e){var t=c(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=S.getElement(e);return t?getDisplayName(t):null},getElement:function(e){var t=c(e);return t?t.element:null},getOwnerID:function(e){var t=S.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=c(e);return t?t.parentID:null},getSource:function(e){var t=c(e),n=t?t.element:null;return null!=n?n._source:null},getText:function(e){var t=S.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=c(e);return t?t.updateCount:0},getRootIDs:h,getRegisteredIDs:l,pushNonStandardWarningStack:function(e,t){if("function"==typeof console.reactStack){var n=[],r=i.current,o=r&&r._debugID;try{for(e&&n.push({name:o?S.getDisplayName(o):null,fileName:t?t.fileName:null,lineNumber:t?t.lineNumber:null});o;){var a=S.getElement(o),s=S.getParentID(o),c=S.getOwnerID(o),u=c?S.getDisplayName(c):null,l=a&&a._source;n.push({name:u,fileName:l?l.fileName:null,lineNumber:l?l.lineNumber:null}),o=s}}catch(e){}}},popNonStandardWarningStack:function(){console.reactStackEnd}};e.exports=S},function(e,t,n){"use strict";var r=n(25),i={listen:function listen(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function remove(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function remove(){e.detachEvent("on"+t,n)}}):void 0},capture:function capture(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function remove(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function registerDefault(){}};e.exports=i},function(e,t,n){"use strict";function isInDocument(e){return i(document.documentElement,e)}var r=n(414),i=n(416),o=n(224),a=n(236),s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t=a(),n=e.focusedElem,r=e.selectionRange;t!==n&&isInDocument(n)&&(s.hasSelectionCapabilities(n)&&s.setSelection(n,r),o(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;if(void 0===i&&(i=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(e,t)}};e.exports=s},function(e,t,n){"use strict";function getActiveElement(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=getActiveElement},function(e,t,n){"use strict";function firstDifferenceIndex(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function getReactRootElementInContainer(e){return e?e.nodeType===I?e.documentElement:e.firstChild:null}function internalGetID(e){return e.getAttribute&&e.getAttribute(E)||""}function mountComponentIntoNode(e,t,n,r,i){var o;if(p.logTopLevelRenders){var a=e._currentElement.props.child.type;o="React mount: "+("string"==typeof a?a:a.displayName||a.name)}var s=m.mountComponent(e,n,null,l(e,t),i,0);e._renderedComponent._topLevelWrapper=e,M._mountImageIntoNode(s,t,e,r,n)}function batchedMountComponentIntoNode(e,t,n,r){var i=y.ReactReconcileTransaction.getPooled(!n&&d.useCreateElement);i.perform(mountComponentIntoNode,null,e,t,i,n,r),y.ReactReconcileTransaction.release(i)}function unmountComponentFromNode(e,t,n){for(m.unmountComponent(e,n),t.nodeType===I&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function hasNonRootReactChild(e){var t=getReactRootElementInContainer(e);if(t){var n=u.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function nodeIsRenderedByOtherInstance(e){var t=getReactRootElementInContainer(e);return!(!t||!isReactNode(t)||u.getInstanceFromNode(t))}function isValidContainer(e){return!(!e||e.nodeType!==x&&e.nodeType!==I&&e.nodeType!==R)}function isReactNode(e){return isValidContainer(e)&&(e.hasAttribute(k)||e.hasAttribute(E))}function getHostRootInstanceInContainer(e){var t=getReactRootElementInContainer(e),n=t&&u.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function getTopLevelWrapperInContainer(e){var t=getHostRootInstanceInContainer(e);return t?t._hostContainerInfo._topLevelWrapper:null}var r=n(6),i=n(75),o=n(73),a=n(70),s=n(102),c=n(44),u=n(11),l=n(431),d=n(432),p=n(219),h=n(90),f=n(30),g=n(433),m=n(74),v=n(151),y=n(35),_=n(97),b=n(228),S=n(2),w=n(100),C=n(149),T=n(5),E=o.ID_ATTRIBUTE_NAME,k=o.ROOT_ATTRIBUTE_NAME,x=1,I=9,R=11,O={},P=1,A=function(){this.rootID=P++};A.prototype.isReactComponent={},A.prototype.render=function(){return this.props.child},A.isReactTopLevelWrapper=!0;var M={TopLevelWrapper:A,_instancesByReactRootID:O,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return M.scrollMonitor(r,function(){v.enqueueElementInternal(e,t,n),i&&v.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,i){isValidContainer(t)||r("37"),s.ensureScrollValueMonitoring();var o=b(e,!1);y.batchedUpdates(batchedMountComponentIntoNode,o,t,n,i);var a=o._instance.rootID;return O[a]=o,o},renderSubtreeIntoContainer:function(e,t,n,i){return null!=e&&h.has(e)||r("38"),M._renderSubtreeIntoContainer(e,t,n,i)},_renderSubtreeIntoContainer:function(e,t,n,i){v.validateCallback(i,"ReactDOM.render"),a.isValidElement(t)||r("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var o=a.createElement(A,{child:t}),s;if(e){var c=h.get(e);s=c._processChildContext(c._context)}else s=_;var u=getTopLevelWrapperInContainer(n);if(u){var l=u._currentElement.props.child;if(C(l,t)){var d=u._renderedComponent.getPublicInstance(),p=i&&function(){i.call(d)};return M._updateRootComponent(u,o,s,n,p),d}M.unmountComponentAtNode(n)}var f=getReactRootElementInContainer(n),g=f&&!!internalGetID(f),m=hasNonRootReactChild(n),y,b=g&&!u&&!m,S=M._renderNewRootComponent(o,n,b,s)._renderedComponent.getPublicInstance();return i&&i.call(S),S},render:function(e,t,n){return M._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){isValidContainer(e)||r("40");var t=getTopLevelWrapperInContainer(e);if(!t){var n=hasNonRootReactChild(e),i=1===e.nodeType&&e.hasAttribute(k);return!1}return delete O[t._instance.rootID],y.batchedUpdates(unmountComponentFromNode,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,o,a){if(isValidContainer(t)||r("41"),o){var s=getReactRootElementInContainer(t);if(g.canReuseMarkup(e,s))return void u.precacheNode(n,s);var c=s.getAttribute(g.CHECKSUM_ATTR_NAME);s.removeAttribute(g.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(g.CHECKSUM_ATTR_NAME,c);var d=e,p,h=firstDifferenceIndex(d,l),f=" (client) "+d.substring(h-20,h+20)+"\n (server) "+l.substring(h-20,h+20);t.nodeType===I&&r("42",f)}if(t.nodeType===I&&r("43"),a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);i.insertTreeBefore(t,e,null)}else w(t,e),u.precacheNode(n,t.firstChild);var m}};e.exports=M},function(e,t,n){"use strict";function getHostComponentFromComposite(e){for(var t;(t=e._renderedNodeType)===r.COMPOSITE;)e=e._renderedComponent;return t===r.HOST?e._renderedComponent:t===r.EMPTY?null:void 0}var r=n(229);e.exports=getHostComponentFromComposite},function(e,t){function isIndex(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=isIndex},function(e,t,n){function Stack(e){var t=this.__data__=new r(e);this.size=t.size}var r=n(133),i=n(681),o=n(682),a=n(683),s=n(684),c=n(685);Stack.prototype.clear=i,Stack.prototype.delete=o,Stack.prototype.get=a,Stack.prototype.has=s,Stack.prototype.set=c,e.exports=Stack},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_VIDEO_STATUS="UPDATE_VIDEO_STATUS",t.STATUS_NO_ACCESS_MIC="noAccessMic",t.STATUS_NO_ACCESS_CAM="noAccessCam",t.STATUS_NO_ACCESS="noAccess",t.STATUS_CONNECTION_FAILED="connectionFailed",t.STATUS_DISCONNECTED="disconnected",t.STATUS_CONNECTED="connected",t.STATUS_OK="ok"},function(e,t,n){e.exports=!n(12)&&!n(7)(function(){return 7!=Object.defineProperty(n(159)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(10)},function(e,t,n){var r=n(20),i=n(27),o=n(110)(!1),a=n(161)("IE_PROTO");e.exports=function(e,t){var n=i(e),s=0,c=[],u;for(u in n)u!=a&&r(n,u)&&c.push(u);for(;t.length>s;)r(n,u=t[s++])&&(~o(c,u)||c.push(u));return c}},function(e,t,n){var r=n(13),i=n(3),o=n(58);e.exports=n(12)?Object.defineProperties:function defineProperties(e,t){i(e);for(var n=o(t),a=n.length,s=0,c;a>s;)r.f(e,c=n[s++],t[c]);return e}},function(e,t,n){var r=n(27),i=n(61).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function getOwnPropertyNames(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){"use strict";var r=n(58),i=n(111),o=n(92),a=n(16),s=n(91),c=Object.assign;e.exports=!c||n(7)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function assign(e,t){for(var n=a(e),c=arguments.length,u=1,l=i.f,d=o.f;c>u;)for(var p=s(arguments[u++]),h=l?r(p).concat(l(p)):r(p),f=h.length,g=0,m;f>g;)d.call(p,m=h[g++])&&(n[m]=p[m]);return n}:c},function(e,t,n){"use strict";var r=n(19),i=n(8),o=n(250),a=[].slice,s={},c=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function bind(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?c(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(4).parseInt,i=n(82).trim,o=n(165),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function parseInt(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(4).parseFloat,i=n(82).trim;e.exports=1/r(n(165)+"-0")!=-1/0?function parseFloat(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(33);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(8),i=Math.floor;e.exports=function isInteger(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function log1p(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(168),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),c=i(2,-126),u=function(e){return e+1/o-1/o};e.exports=Math.fround||function fround(e){var t=Math.abs(e),n=r(e),i,l;return t<c?n*u(t/c/a)*c*a:(i=(1+a/o)*t,(l=i-(i-t))>s||l!=l?n*(1/0):n*l)}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(19),i=n(16),o=n(91),a=n(14);e.exports=function(e,t,n,s,c){r(t);var u=i(e),l=o(u),d=a(u.length),p=c?d-1:0,h=c?-1:1;if(n<2)for(;;){if(p in l){s=l[p],p+=h;break}if(p+=h,c?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;c?p>=0:d>p;p+=h)p in l&&(s=t(s,l[p],p,u));return s}},function(e,t,n){"use strict";var r=n(16),i=n(59),o=n(14);e.exports=[].copyWithin||function copyWithin(e,t){var n=r(this),a=o(n.length),s=i(e,a),c=i(t,a),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?a:i(u,a))-c,a-s),d=1;for(c<s&&s<c+l&&(d=-1,c+=l-1,s+=l-1);l-- >0;)c in n?n[s]=n[c]:delete n[s],s+=d,c+=d;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(12)&&"g"!=/./g.flags&&n(13).f(RegExp.prototype,"flags",{configurable:!0,get:n(115)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(3),i=n(8),o=n(183);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(265),i=n(84),o="Map";e.exports=n(118)(o,function(e){return function Map(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function get(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function set(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(13).f,i=n(60),o=n(65),a=n(32),s=n(63),c=n(64),u=n(171),l=n(260),d=n(62),p=n(12),h=n(51).fastKey,f=n(84),g=p?"_s":"size",m=function(e,t){var n=h(t),r;if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,n,u){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=r&&c(r,n,e[u],e)});return o(l.prototype,{clear:function clear(){for(var e=f(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=f(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function forEach(e){f(this,t);for(var n=a(e,arguments.length>1?arguments[1]:void 0,3),r;r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function has(e){return!!m(f(this,t),e)}}),p&&r(l.prototype,"size",{get:function(){return f(this,t)[g]}}),l},def:function(e,t,n){var r=m(e,t),i,o;return r?r.v=n:(e._l=r={i:o=h(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=r),i&&(i.n=r),e[g]++,"F"!==o&&(e._i[o]=r)),e},getEntry:m,setStrong:function(e,t,n){u(e,t,function(e,n){this._t=f(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";var r=n(265),i=n(84),o="Set";e.exports=n(118)(o,function(e){return function Set(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(e){return r.def(i(this,o),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r=n(43)(0),i=n(22),o=n(51),a=n(248),s=n(268),c=n(8),u=n(7),l=n(84),d="WeakMap",p=o.getWeak,h=Object.isExtensible,f=s.ufstore,g={},m,v=function(e){return function WeakMap(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function get(e){if(c(e)){var t=p(e);return!0===t?f(l(this,d)).get(e):t?t[this._i]:void 0}},set:function set(e,t){return s.def(l(this,d),e,t)}},_=e.exports=n(118)(d,v,y,s,!0,!0);u(function(){return 7!=(new _).set((Object.freeze||Object)(g),7).get(g)})&&(a((m=s.getConstructor(v,d)).prototype,y),o.NEED=!0,r(["delete","has","get","set"],function(e){var t=_.prototype,n=t[e];i(t,e,function(t,r){if(c(t)&&!h(t)){this._f||(this._f=new m);var i=this._f[e](t,r);return"set"==e?this:i}return n.call(this,t,r)})}))},function(e,t,n){"use strict";var r=n(65),i=n(51).getWeak,o=n(3),a=n(8),s=n(63),c=n(64),u=n(43),l=n(20),d=n(84),p=u(5),h=u(6),f=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},v=function(e,t){return p(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var u=e(function(e,r){s(e,u,t,"_i"),e._t=t,e._i=f++,e._l=void 0,void 0!=r&&c(r,n,e[o],e)});return r(u.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?g(d(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function has(e){if(!a(e))return!1;var n=i(e);return!0===n?g(d(this,t)).has(e):n&&l(n,this._i)}}),u},def:function(e,t,n){var r=i(o(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},function(e,t,n){var r=n(41),i=n(14);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(61),i=n(111),o=n(3),a=n(4).Reflect;e.exports=a&&a.ownKeys||function ownKeys(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";function flattenIntoArray(e,t,n,c,u,l,d,p){for(var h=u,f=0,g=!!d&&a(d,p,3),m,v;f<c;){if(f in n){if(m=g?g(n[f],f,t):n[f],v=!1,i(m)&&(v=void 0!==(v=m[s])?!!v:r(m)),v&&l>0)h=flattenIntoArray(e,t,m,o(m.length),h,l-1)-1;else{if(h>=9007199254740991)throw TypeError();e[h]=m}h++}f++}return h}var r=n(112),i=n(8),o=n(14),a=n(32),s=n(10)("isConcatSpreadable");e.exports=flattenIntoArray},function(e,t,n){var r=n(14),i=n(167),o=n(40);e.exports=function(e,t,n,a){var s=String(o(e)),c=s.length,u=void 0===n?" ":String(n),l=r(t);if(l<=c||""==u)return s;var d=l-c,p=i.call(u,Math.ceil(d/u.length));return p.length>d&&(p=p.slice(0,d)),a?p+s:s+p}},function(e,t,n){var r=n(58),i=n(27),o=n(92).f;e.exports=function(e){return function(t){for(var n=i(t),a=r(n),s=a.length,c=0,u=[],l;s>c;)o.call(n,l=a[c++])&&u.push(e?[l,n[l]]:n[l]);return u}}},function(e,t,n){var r=n(93),i=n(275);e.exports=function(e){return function toJSON(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(64);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function scale(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},function(e,t,n){function baseIsEqual(e,t,n,o,a){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:r(e,t,n,o,baseIsEqual,a))}var r=n(733),i=n(80);e.exports=baseIsEqual},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(15),a=n(753);n(764);var s=function(e){function BubbleError(e){_classCallCheck(this,BubbleError);var t=_possibleConstructorReturn(this,(BubbleError.__proto__||Object.getPrototypeOf(BubbleError)).call(this,e));return t.state={visible:Boolean(e.error)},t}return _inherits(BubbleError,e),r(BubbleError,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){e.error!==this.props.error&&this.setState({visible:Boolean(e.error)})}},{key:"render",value:function render(){var e=this.props,t=e.error,n=e.type,r=e.position,s=e.className,c=this.state.visible,u=o("bubble-error-component",s,{"bubble-error-component_up":"radio"===n,"bubble-error-component_top":"top"===r});return i.createElement(a,{transitionName:"bubble-error",transitionEnterTimeout:300,transitionLeaveTimeout:300},t&&c&&i.createElement("div",{className:u},t))}}]),BubbleError}(i.Component);t.BubbleError=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(15),a=n(94),s=n(1),c=n(278);n(814);var u=function(e){function Select(e){_classCallCheck(this,Select);var t=_possibleConstructorReturn(this,(Select.__proto__||Object.getPrototypeOf(Select)).call(this,e));return t.state={value:""},t.options=function(){return t.props.options.map(function(e){var t=e.value,n=e.label;return i.createElement("option",{value:t,key:t},n)})},t.setRef=function(e){var n=t.props.reference;t.ref=e,a(n)&&n(e)},t.onChange=function(e){var n=t.props,r=n.onChange,i=n.options,o=e.target.value,a=i.find(function(e){return e.value===o});t.setState({value:o},function(){return r(a)})},t.state={value:t.props.value},t}return _inherits(Select,e),r(Select,[{key:"componentDidMount",value:function componentDidMount(){this.props.focused&&this.ref.focus()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=e.value;this.state.value!==t&&this.setState({value:t})}},{key:"render",value:function render(){var e=this.state.value,t=this.props,n=t.placeholder,r=t.transparent,a=t.disabled,s=t.label,u=t.error,l=o("select-component",{"select-component_transparent":r}),d=o("select-component__dropdown",{"select-component__dropdown_transparent":r,"select-component__dropdown_label":s,"select-component__dropdown_error":u});return i.createElement("div",{className:l},s&&i.createElement("div",{className:"select-component__label"},s),i.createElement("select",{className:d,disabled:a,value:e,ref:this.setRef,onChange:this.onChange},n&&i.createElement("option",{value:"",disabled:!0},n),this.options()),u&&i.createElement(c.BubbleError,{error:u}))}}]),Select}(s.Component);u.defaultProps={placeholder:"",reference:null,disabled:!1,options:[],focused:!1,value:"",error:""},t.Select=u},function(e,t,n){var r=n(292)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=_interopRequireDefault(n(1467));t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},,function(e,t,n){var r=n(706),i=n(661),o=n(707),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=_interopRequireDefault(n(747));t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(37))},function(e,t){function toSource(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype.toString;e.exports=toSource},function(e,t,n){function baseGetAllKeys(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}var r=n(204),i=n(46);e.exports=baseGetAllKeys},function(e,t){function stubArray(){return[]}e.exports=stubArray},function(e,t,n){function arrayLikeKeys(e,t){var n=o(e),l=!n&&i(e),d=!n&&!l&&a(e),p=!n&&!l&&!d&&c(e),h=n||l||d||p,f=h?r(e.length,String):[],g=f.length;for(var m in e)!t&&!u.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||f.push(m);return f}var r=n(443),i=n(200),o=n(46),a=n(201),s=n(239),c=n(284),u=Object.prototype.hasOwnProperty;e.exports=arrayLikeKeys},function(e,t){function overArg(e,t){return function(n){return e(t(n))}}e.exports=overArg},function(e,t){function identity(e){return e}e.exports=identity},function(e,t,n){function toInteger(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}var r=n(715);e.exports=toInteger},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function track(e,t,n){l.track(e,t,n)}function getDistinctId(){return l.getDistinctId()}function connectTracker(e){return function(n){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,n),r(_class,[{key:"render",value:function render(){return i.createElement(e,Object.assign({},this.props,{trackOnce:t.trackOnce,track:track}))}}]),_class}(i.Component)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(108),a=n(802),s=n(803),c=n(804),u=n(311),l=o.MIXPANEL_TOKEN?new c.MixpanelTracker(o.MIXPANEL_TOKEN,o.API,o.USER_ID,a.EXPERIMENTS):new s.BaseTracker;t.track=track,t.getDistinctId=getDistinctId,t.trackOnce=u(track),t.connectTracker=connectTracker},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);n(769),t.Loader=function(e){var t=e.className,n=void 0===t?"":t,o=e.white,a=void 0!==o&&o,s=e.inline,c=void 0!==s&&s,u=e.center,l=void 0!==u&&u,d=e.block,p=i("loader-component",n,{"loader-component_block":void 0!==d&&d,"loader-component_white":a,"loader-component_inline":c,"loader-component_center":l});return r.createElement("div",{className:p})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1342);var r=(0,n(1343).createFirebaseNamespace)();t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachDummyErrorHandler=t.Deferred=t.PromiseImpl=void 0;var r=n(1003),i=t.PromiseImpl=r.globalScope.Promise||n(1344),o=function(){function Deferred(){var e=this;this.resolve=null,this.reject=null,this.promise=new i(function(t,n){e.resolve=t,e.reject=n})}return Deferred.prototype.wrapCallback=function(e){function meta(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(a(t.promise),1===e.length?e(n):e(n,r))}var t=this;return meta},Deferred}();t.Deferred=o;var a=t.attachDummyErrorHandler=function attachDummyErrorHandler(e){e.catch(function(){})}},function(e,t,n){"use strict";function errorPrefix(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.errorPrefix=errorPrefix;var i=t.validateArgCount=function validateArgCount(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},o=t.validateNamespace=function validateNamespace(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(errorPrefix(e,t,r)+"must be a valid firebase namespace.")},a=t.validateCallback=function validateCallback(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(errorPrefix(e,t,r)+"must be a valid function.")},s=t.validateContextObject=function validateContextObject(e,t,n,i){if((!i||n)&&("object"!==(void 0===n?"undefined":r(n))||null===n))throw new Error(errorPrefix(e,t,i)+"must be a valid context object.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateObjectContainsKey=t.validateObject=t.validateString=t.validateBoolean=t.validateCredential=t.validateUrl=t.validateWritablePath=t.validateRootPathString=t.validatePathString=t.validateKey=t.validateEventType=t.validatePriority=t.validateFirebaseMergeDataArg=t.validateFirebaseMergePaths=t.validateFirebaseData=t.validateFirebaseDataArg=t.isValidPriority=t.isValidRootPathString=t.isValidPathString=t.isValidKey=t.MAX_LEAF_SIZE_=t.INVALID_PATH_REGEX_=t.INVALID_KEY_REGEX_=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(77),o=n(54),a=n(36),s=n(300),c=n(830),u=t.INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,l=t.INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,d=t.MAX_LEAF_SIZE_=10485760,p=t.isValidKey=function isValidKey(e){return"string"==typeof e&&0!==e.length&&!u.test(e)},h=t.isValidPathString=function isValidPathString(e){return"string"==typeof e&&0!==e.length&&!l.test(e)},f=t.isValidRootPathString=function isValidRootPathString(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),h(e)},g=t.isValidPriority=function isValidPriority(e){return null===e||"string"==typeof e||"number"==typeof e&&!(0,a.isInvalidJSONNumber)(e)||e&&"object"===(void 0===e?"undefined":r(e))&&(0,o.contains)(e,".sv")},m=t.validateFirebaseDataArg=function validateFirebaseDataArg(e,t,n,r,i){i&&void 0===n||v((0,s.errorPrefix)(e,t,i),n,r)},v=t.validateFirebaseData=function validateFirebaseData(e,t,n){var s=n instanceof i.Path?new i.ValidationPath(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+s.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+s.toErrorString()+" with contents = "+t.toString());if((0,a.isInvalidJSONNumber)(t))throw new Error(e+"contains "+t.toString()+" "+s.toErrorString());if("string"==typeof t&&t.length>d/3&&(0,c.stringLength)(t)>d)throw new Error(e+"contains a string greater than "+d+" utf8 bytes "+s.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"===(void 0===t?"undefined":r(t))){var u=!1,l=!1;if((0,o.forEach)(t,function(t,n){if(".value"===t)u=!0;else if(".priority"!==t&&".sv"!==t&&(l=!0,!p(t)))throw new Error(e+" contains an invalid key ("+t+") "+s.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');s.push(t),validateFirebaseData(e,n,s),s.pop()}),u&&l)throw new Error(e+' contains ".value" child '+s.toErrorString()+" in addition to actual children.")}},y=t.validateFirebaseMergePaths=function validateFirebaseMergePaths(e,t){var n,r;for(n=0;n<t.length;n++)for(var o=(r=t[n]).slice(),a=0;a<o.length;a++)if(".priority"===o[a]&&a===o.length-1);else if(!p(o[a]))throw new Error(e+"contains an invalid key ("+o[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(i.Path.comparePaths);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&s.contains(r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},_=t.validateFirebaseMergeDataArg=function validateFirebaseMergeDataArg(e,t,n,a,c){if(!c||void 0!==n){var u=(0,s.errorPrefix)(e,t,c);if(!n||"object"!==(void 0===n?"undefined":r(n))||Array.isArray(n))throw new Error(u+" must be an object containing the children to replace.");var l=[];(0,o.forEach)(n,function(e,t){var n=new i.Path(e);if(v(u,t,a.child(n)),".priority"===n.getBack()&&!g(t))throw new Error(u+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(n)}),y(u,l)}},b=t.validatePriority=function validatePriority(e,t,n,r){if(!r||void 0!==n){if((0,a.isInvalidJSONNumber)(n))throw new Error((0,s.errorPrefix)(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!g(n))throw new Error((0,s.errorPrefix)(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},S=t.validateEventType=function validateEventType(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,s.errorPrefix)(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},w=t.validateKey=function validateKey(e,t,n,r){if(!(r&&void 0===n||p(n)))throw new Error((0,s.errorPrefix)(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},C=t.validatePathString=function validatePathString(e,t,n,r){if(!(r&&void 0===n||h(n)))throw new Error((0,s.errorPrefix)(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},T=t.validateRootPathString=function validateRootPathString(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),C(e,t,n,r)},E=t.validateWritablePath=function validateWritablePath(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},k=t.validateUrl=function validateUrl(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!p(n.repoInfo.namespace)||0!==r.length&&!f(r))throw new Error((0,s.errorPrefix)(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},x=t.validateCredential=function validateCredential(e,t,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw new Error((0,s.errorPrefix)(e,t,r)+"must be a valid credential (a string).")},I=t.validateBoolean=function validateBoolean(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,s.errorPrefix)(e,t,r)+"must be a boolean.")},R=t.validateString=function validateString(e,t,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw new Error((0,s.errorPrefix)(e,t,r)+"must be a valid string.")},O=t.validateObject=function validateObject(e,t,n,i){if(!(i&&void 0===n||n&&"object"===(void 0===n?"undefined":r(n))&&null!==n))throw new Error((0,s.errorPrefix)(e,t,i)+"must be a valid object.")},P=t.validateObjectContainsKey=function validateObjectContainsKey(e,t,n,i,a,c){if(!(n&&"object"===(void 0===n?"undefined":r(n))&&(0,o.contains)(n,i))){if(a)return;throw new Error((0,s.errorPrefix)(e,t,a)+'must contain the key "'+i+'"')}if(c){var u=(0,o.safeGet)(n,i);if("number"===c&&"number"!=typeof u||"string"===c&&"string"!=typeof u||"boolean"===c&&"boolean"!=typeof u||"function"===c&&"function"!=typeof u||"object"===c&&"object"!==(void 0===u?"undefined":r(u))&&u)throw a?new Error((0,s.errorPrefix)(e,t,a)+'contains invalid value for key "'+i+'" (must be of type "'+c+'")'):new Error((0,s.errorPrefix)(e,t,a)+'must contain the key "'+i+'" with type "'+c+'"')}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OperationSource=t.OperationType=void 0;var r=n(31),i=t.OperationType=void 0;!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(i||(t.OperationType=i={}));var o=function(){function OperationSource(e,t,n,i){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=i,(0,r.assert)(!i||t,"Tagged queries must be from server.")}return OperationSource.User=new OperationSource(!0,!1,null,!1),OperationSource.Server=new OperationSource(!1,!0,null,!1),OperationSource.forServerTaggedQuery=function(e){return new OperationSource(!1,!0,e,!0)},OperationSource}();t.OperationSource=o},function(e,t,n){"use strict";function make(e){return new r.PromiseImpl(e)}function resolve(e){return r.PromiseImpl.resolve(e)}function reject(e){return r.PromiseImpl.reject(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.make=make,t.resolve=resolve,t.reject=reject;var r=n(299)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(281),i=n(125),o=n(1048),a=n(340),s="prototype",c=function(e,t,n){var u=e&c.F,l=e&c.G,d=e&c.S,p=e&c.P,h=e&c.B,f=e&c.W,g=l?i:i[t]||(i[t]={}),m=g[s],v=l?r:d?r[t]:(r[t]||{})[s],y,_,b;l&&(n=t);for(y in n)(_=!u&&v&&void 0!==v[y])&&y in g||(b=_?v[y]:n[y],g[y]=l&&"function"!=typeof v[y]?n[y]:h&&_?o(b,r):f&&v[y]==b?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(b):p&&"function"==typeof b?o(Function.call,b):b,p&&((g.virtual||(g.virtual={}))[y]=b,e&c.R&&m&&!m[y]&&a(m,y,b)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(341),i=n(1049),o=n(846),a=Object.defineProperty;t.f=n(307)?Object.defineProperty:function defineProperty(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(342)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(1055),i=n(842);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";function AccessTokenInvalidError(){i.call(this,20101,"Invalid Access Token")}function SignalingConnectionError(){i.call(this,53e3,"Signaling connection error")}function SignalingConnectionDisconnectedError(){i.call(this,53001,"Signaling connection disconnected")}function SignalingConnectionTimeoutError(){i.call(this,53002,"Signaling connection timed out")}function SignalingIncomingMessageInvalidError(){i.call(this,53003,"Client received an invalid signaling message")}function SignalingOutgoingMessageInvalidError(){i.call(this,53004,"Client sent an invalid signaling message")}function RoomNameInvalidError(){i.call(this,53100,"Room name is invalid")}function RoomNameTooLongError(){i.call(this,53101,"Room name is too long")}function RoomNameCharsInvalidError(){i.call(this,53102,"Room name contains invalid characters")}function RoomCreateFailedError(){i.call(this,53103,"Unable to create Room")}function RoomConnectFailedError(){i.call(this,53104,"Unable to connect to Room")}function RoomMaxParticipantsExceededError(){i.call(this,53105,"Room contains too many Participants")}function RoomNotFoundError(){i.call(this,53106,"Room not found")}function ParticipantIdentityInvalidError(){i.call(this,53200,"Participant identity is invalid")}function ParticipantIdentityTooLongError(){i.call(this,53201,"Participant identity is too long")}function ParticipantIdentityCharsInvalidError(){i.call(this,53202,"Participant identity contains invalid characters")}function ParticipantMaxTracksExceededError(){i.call(this,53203,"Participant has too many Tracks")}function ParticipantNotFoundError(){i.call(this,53204,"Participant not found")}function TrackInvalidError(){i.call(this,53300,"Track is invalid")}function TrackNameInvalidError(){i.call(this,53301,"Track name is invalid")}function TrackNameTooLongError(){i.call(this,53302,"Track name is too long")}function TrackNameCharsInvalidError(){i.call(this,53303,"Track name contains invalid characters")}function MediaClientLocalDescFailedError(){i.call(this,53400,"Client is unable to create or apply a local media description")}function MediaServerLocalDescFailedError(){i.call(this,53401,"Server is unable to create or apply a local media description")}function MediaClientRemoteDescFailedError(){i.call(this,53402,"Client is unable to apply a remote media description")}function MediaServerRemoteDescFailedError(){i.call(this,53403,"Server is unable to apply a remote media description")}function MediaNoSupportedCodecError(){i.call(this,53404,"No supported codec")}function ConfigurationAcquireFailedError(){i.call(this,53500,"Unable to acquire configuration")}function ConfigurationAcquireTurnFailedError(){i.call(this,53501,"Unable to acquire TURN credentials")}var r=n(24).inherits,i=n(1536),o={};t.createTwilioError=function createTwilioError(e,t){return e="number"==typeof e?e:0,t="string"==typeof t&&t?t:"Unknown error",o[e]?new o[e]:new i(e,t)},r(AccessTokenInvalidError,i),t.AccessTokenInvalidError=AccessTokenInvalidError,Object.defineProperty(o,20101,{value:AccessTokenInvalidError}),r(SignalingConnectionError,i),t.SignalingConnectionError=SignalingConnectionError,Object.defineProperty(o,53e3,{value:SignalingConnectionError}),r(SignalingConnectionDisconnectedError,i),t.SignalingConnectionDisconnectedError=SignalingConnectionDisconnectedError,Object.defineProperty(o,53001,{value:SignalingConnectionDisconnectedError}),r(SignalingConnectionTimeoutError,i),t.SignalingConnectionTimeoutError=SignalingConnectionTimeoutError,Object.defineProperty(o,53002,{value:SignalingConnectionTimeoutError}),r(SignalingIncomingMessageInvalidError,i),t.SignalingIncomingMessageInvalidError=SignalingIncomingMessageInvalidError,Object.defineProperty(o,53003,{value:SignalingIncomingMessageInvalidError}),r(SignalingOutgoingMessageInvalidError,i),t.SignalingOutgoingMessageInvalidError=SignalingOutgoingMessageInvalidError,Object.defineProperty(o,53004,{value:SignalingOutgoingMessageInvalidError}),r(RoomNameInvalidError,i),t.RoomNameInvalidError=RoomNameInvalidError,Object.defineProperty(o,53100,{value:RoomNameInvalidError}),r(RoomNameTooLongError,i),t.RoomNameTooLongError=RoomNameTooLongError,Object.defineProperty(o,53101,{value:RoomNameTooLongError}),r(RoomNameCharsInvalidError,i),t.RoomNameCharsInvalidError=RoomNameCharsInvalidError,Object.defineProperty(o,53102,{value:RoomNameCharsInvalidError}),r(RoomCreateFailedError,i),t.RoomCreateFailedError=RoomCreateFailedError,Object.defineProperty(o,53103,{value:RoomCreateFailedError}),r(RoomConnectFailedError,i),t.RoomConnectFailedError=RoomConnectFailedError,Object.defineProperty(o,53104,{value:RoomConnectFailedError}),r(RoomMaxParticipantsExceededError,i),t.RoomMaxParticipantsExceededError=RoomMaxParticipantsExceededError,Object.defineProperty(o,53105,{value:RoomMaxParticipantsExceededError}),r(RoomNotFoundError,i),t.RoomNotFoundError=RoomNotFoundError,Object.defineProperty(o,53106,{value:RoomNotFoundError}),r(ParticipantIdentityInvalidError,i),t.ParticipantIdentityInvalidError=ParticipantIdentityInvalidError,Object.defineProperty(o,53200,{value:ParticipantIdentityInvalidError}),r(ParticipantIdentityTooLongError,i),t.ParticipantIdentityTooLongError=ParticipantIdentityTooLongError,Object.defineProperty(o,53201,{value:ParticipantIdentityTooLongError}),r(ParticipantIdentityCharsInvalidError,i),t.ParticipantIdentityCharsInvalidError=ParticipantIdentityCharsInvalidError,Object.defineProperty(o,53202,{value:ParticipantIdentityCharsInvalidError}),r(ParticipantMaxTracksExceededError,i),t.ParticipantMaxTracksExceededError=ParticipantMaxTracksExceededError,Object.defineProperty(o,53203,{value:ParticipantMaxTracksExceededError}),r(ParticipantNotFoundError,i),t.ParticipantNotFoundError=ParticipantNotFoundError,Object.defineProperty(o,53204,{value:ParticipantNotFoundError}),r(TrackInvalidError,i),t.TrackInvalidError=TrackInvalidError,Object.defineProperty(o,53300,{value:TrackInvalidError}),r(TrackNameInvalidError,i),t.TrackNameInvalidError=TrackNameInvalidError,Object.defineProperty(o,53301,{value:TrackNameInvalidError}),r(TrackNameTooLongError,i),t.TrackNameTooLongError=TrackNameTooLongError,Object.defineProperty(o,53302,{value:TrackNameTooLongError}),r(TrackNameCharsInvalidError,i),t.TrackNameCharsInvalidError=TrackNameCharsInvalidError,Object.defineProperty(o,53303,{value:TrackNameCharsInvalidError}),r(MediaClientLocalDescFailedError,i),t.MediaClientLocalDescFailedError=MediaClientLocalDescFailedError,Object.defineProperty(o,53400,{value:MediaClientLocalDescFailedError}),r(MediaServerLocalDescFailedError,i),t.MediaServerLocalDescFailedError=MediaServerLocalDescFailedError,Object.defineProperty(o,53401,{value:MediaServerLocalDescFailedError}),r(MediaClientRemoteDescFailedError,i),t.MediaClientRemoteDescFailedError=MediaClientRemoteDescFailedError,Object.defineProperty(o,53402,{value:MediaClientRemoteDescFailedError}),r(MediaServerRemoteDescFailedError,i),t.MediaServerRemoteDescFailedError=MediaServerRemoteDescFailedError,Object.defineProperty(o,53403,{value:MediaServerRemoteDescFailedError}),r(MediaNoSupportedCodecError,i),t.MediaNoSupportedCodecError=MediaNoSupportedCodecError,Object.defineProperty(o,53404,{value:MediaNoSupportedCodecError}),r(ConfigurationAcquireFailedError,i),t.ConfigurationAcquireFailedError=ConfigurationAcquireFailedError,Object.defineProperty(o,53500,{value:ConfigurationAcquireFailedError}),r(ConfigurationAcquireTurnFailedError,i),t.ConfigurationAcquireTurnFailedError=ConfigurationAcquireTurnFailedError,Object.defineProperty(o,53501,{value:ConfigurationAcquireTurnFailedError})},function(e,t,n){"use strict";function identity(e){return e}function factory(e,t,n){function validateTypeDef(e,t,n){for(var r in t)t.hasOwnProperty(r)}function validateMethodOverride(e,t){var n=c.hasOwnProperty(t)?c[t]:null;p.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function mixSpecIntoComponent(e,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;n.hasOwnProperty(s)&&u.mixins(e,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==s){var l=n[a],d=r.hasOwnProperty(a);if(validateMethodOverride(d,a),u.hasOwnProperty(a))u[a](e,l);else{var p=c.hasOwnProperty(a);if("function"==typeof l&&!p&&!d&&!1!==n.autobind)i.push(a,l),r[a]=l;else if(d){var h=c[a];o(p&&("DEFINE_MANY_MERGED"===h||"DEFINE_MANY"===h),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",h,a),"DEFINE_MANY_MERGED"===h?r[a]=createMergedResultFunction(r[a],l):"DEFINE_MANY"===h&&(r[a]=createChainedFunction(r[a],l))}else r[a]=l}}}else var f,g}function mixStaticSpecIntoComponent(e,t){if(t)for(var n in t){var r=t[n];t.hasOwnProperty(n)&&(o(!(n in u),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),o(!(n in e),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r)}}function mergeIntoWithNoDuplicateKeys(e,t){o(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function createMergedResultFunction(e,t){return function mergedResult(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return mergeIntoWithNoDuplicateKeys(i,n),mergeIntoWithNoDuplicateKeys(i,r),i}}function createChainedFunction(e,t){return function chainedFunction(){e.apply(this,arguments),t.apply(this,arguments)}}function bindAutoBindMethod(e,t){var n=t.bind(e),r,i;return n}function bindAutoBindMethods(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=bindAutoBindMethod(e,i)}}function createClass(e){var t=identity(function(e,r,a){this.__reactAutoBindPairs.length&&bindAutoBindMethods(this),this.props=e,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s});t.prototype=new h,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],a.forEach(mixSpecIntoComponent.bind(null,t)),mixSpecIntoComponent(t,l),mixSpecIntoComponent(t,e),mixSpecIntoComponent(t,d),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var r in c)t.prototype[r]||(t.prototype[r]=null);return t}var a=[],c={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)mixSpecIntoComponent(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=createMergedResultFunction(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){mixStaticSpecIntoComponent(e,t)},autobind:function(){}},l={componentDidMount:function(){this.__isMounted=!0}},d={componentWillUnmount:function(){this.__isMounted=!1}},p={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},h=function(){};return r(h.prototype,e.prototype,p),createClass}var r=n(9),i=n(97),o=n(2),a,s="mixins",c;c={},e.exports=factory},function(e,t,n){function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(memoize.Cache||r),n}var r=n(194),i="Expected a function";memoize.Cache=r,e.exports=memoize},function(e,t,n){function baseAssignValue(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var r=n(325);e.exports=baseAssignValue},function(e,t,n){function equalArrays(e,t,n,c,u,l){var d=n&a,p=e.length,h=t.length;if(p!=h&&!(d&&h>p))return!1;var f=l.get(e);if(f&&l.get(t))return f==t;var g=-1,m=!0,v=n&s?new r:void 0;for(l.set(e,t),l.set(t,e);++g<p;){var y=e[g],_=t[g];if(c)var b=d?c(_,y,g,t,e,l):c(y,_,g,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!i(t,function(e,t){if(!o(v,t)&&(y===e||u(y,e,n,c,l)))return v.push(t)})){m=!1;break}}else if(y!==_&&!u(y,_,n,c,l)){m=!1;break}}return l.delete(e),l.delete(t),m}var r=n(718),i=n(736),o=n(719),a=1,s=2;e.exports=equalArrays},function(e,t){function setToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=setToArray},function(e,t,n){var r=n(709),i=n(191),o=n(710),a=n(662),s=n(711),c=n(79),u=n(288),l="[object Map]",d="[object Object]",p="[object Promise]",h="[object Set]",f="[object WeakMap]",g="[object DataView]",m=u(r),v=u(i),y=u(o),_=u(a),b=u(s),S=c;(r&&S(new r(new ArrayBuffer(1)))!=g||i&&S(new i)!=l||o&&S(o.resolve())!=p||a&&S(new a)!=h||s&&S(new s)!=f)&&(S=function(e){var t=c(e),n=t==d?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return g;case v:return l;case y:return p;case _:return h;case b:return f}return t}),e.exports=S},function(e,t,n){function isStrictComparable(e){return e===e&&!r(e)}var r=n(67);e.exports=isStrictComparable},function(e,t){function matchesStrictComparable(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=matchesStrictComparable},function(e,t,n){"use strict";function hidden(e){return e.offsetWidth<=0&&e.offsetHeight<=0||"none"===e.style.display}function visible(e){for(var t=e;t&&t!==document.body;){if(hidden(t))return!1;t=t.parentNode}return!0}function focusable(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||("a"===n?e.href||t:t))&&visible(e)}function tabbable(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&focusable(e,!n)}function findTabbableDescendants(e){return[].slice.call(e.querySelectorAll("*"),0).filter(tabbable)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=findTabbableDescendants;var r=/input|select|textarea|button|object/},function(e,t,n){"use strict";function assertNodeList(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function setElement(e){var t=e;if("string"==typeof t){var n=document.querySelectorAll(t);assertNodeList(n,t),t="length"in n?n[0]:n}return r=t||r}function tryForceFallback(){return!(!document||!document.body)&&(setElement(document.body),!0)}function validateElement(e){if(!e&&!r&&!tryForceFallback())throw new Error(["react-modal: Cannot fallback to `document.body`, because it's not ready or available.","If you are doing server-side rendering, use this function to defined an element.","`Modal.setAppElement(el)` to make this accessible"])}function hide(e){validateElement(e),(e||r).setAttribute("aria-hidden","true")}function show(e){validateElement(e),(e||r).removeAttribute("aria-hidden")}function documentNotReadyOrSSRTesting(){r=null}function resetForTesting(){r=document.body}Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=assertNodeList,t.setElement=setElement,t.tryForceFallback=tryForceFallback,t.validateElement=validateElement,t.hide=hide,t.show=show,t.documentNotReadyOrSSRTesting=documentNotReadyOrSSRTesting,t.resetForTesting=resetForTesting;var r=null},function(e,t,n){"use strict";function get(){return r}function add(e){return r[e]||(r[e]=0),r[e]+=1,e}function remove(e){return r[e]&&(r[e]-=1),e}function totalCount(){return Object.keys(r).reduce(function(e,t){return e+r[t]},0)}Object.defineProperty(t,"__esModule",{value:!0}),t.get=get,t.add=add,t.remove=remove,t.totalCount=totalCount;var r={}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=_interopRequireDefault(n(752)).default.canUseDOM?window.HTMLElement:{};t.default=r},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function transitionTimeout(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=transitionTimeout;var r=_interopRequireDefault(n(1)),i=_interopRequireDefault(n(17)),o=t.nameShape=i.default.oneOfType([i.default.string,i.default.shape({enter:i.default.string,leave:i.default.string,active:i.default.string}),i.default.shape({enter:i.default.string,enterActive:i.default.string,leave:i.default.string,leaveActive:i.default.string,appear:i.default.string,appearActive:i.default.string})])},function(e,t,n){function assignValue(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}var r=n(312),i=n(186),o=Object.prototype.hasOwnProperty;e.exports=assignValue},function(e,t,n){function getAllKeysIn(e){return r(e,o,i)}var r=n(289),i=n(327),o=n(326);e.exports=getAllKeysIn},function(e,t,n){var r=n(76),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){function keysIn(e){return o(e)?r(e,!0):i(e)}var r=n(291),i=n(716),o=n(157);e.exports=keysIn},function(e,t,n){var r=n(204),i=n(280),o=n(205),a=n(290),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t){function baseSlice(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}e.exports=baseSlice},function(e,t,n){function debounce(e,t,n){function invokeFunc(t){var n=u,r=l;return u=l=void 0,g=t,p=e.apply(r,n)}function leadingEdge(e){return g=e,h=setTimeout(timerExpired,t),m?invokeFunc(e):p}function remainingWait(e){var n=t-(e-f);return v?c(n,d-(e-g)):n}function shouldInvoke(e){var n=e-f;return void 0===f||n>=t||n<0||v&&e-g>=d}function timerExpired(){var e=i();if(shouldInvoke(e))return trailingEdge(e);h=setTimeout(timerExpired,remainingWait(e))}function trailingEdge(e){return h=void 0,y&&u?invokeFunc(e):(u=l=void 0,p)}function cancel(){void 0!==h&&clearTimeout(h),g=0,u=f=l=h=void 0}function flush(){return void 0===h?p:trailingEdge(i())}function debounced(){var e=i(),n=shouldInvoke(e);if(u=arguments,l=this,f=e,n){if(void 0===h)return leadingEdge(f);if(v)return h=setTimeout(timerExpired,t),invokeFunc(f)}return void 0===h&&(h=setTimeout(timerExpired,t)),p}var u,l,d,p,h,f,g=0,m=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);return t=o(t)||0,r(n)&&(m=!!n.leading,d=(v="maxWait"in n)?s(o(n.maxWait)||0,t):d,y="trailing"in n?!!n.trailing:y),debounced.cancel=cancel,debounced.flush=flush,debounced}var r=n(67),i=n(1105),o=n(345),a="Expected a function",s=Math.max,c=Math.min;e.exports=debounce},function(e,t,n){var r=n(48).Uint8Array;e.exports=r},function(e,t){function mapToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=mapToArray},function(e,t,n){function getAllKeys(e){return r(e,o,i)}var r=n(289),i=n(205),o=n(95);e.exports=getAllKeys},,function(e,t){function baseFindIndex(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e.exports=baseFindIndex},function(e,t,n){function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}var r=n(330);e.exports=cloneArrayBuffer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOAD_MEDIA_SUCCESS="LOAD_MEDIA_SUCCESS",t.LOAD_MEDIA_START="LOAD_MEDIA_START",t.LOAD_MEDIA_FAIL="LOAD_MEDIA_FAIL",t.SET_AUDIO_OUTPUT_SUCCESS="SET_AUDIO_OUTPUT_SUCCESS",t.SET_AUDIO_OUTPUT_START="SET_AUDIO_OUTPUT_START",t.SET_AUDIO_OUTPUT_FAIL="SET_AUDIO_OUTPUT_FAIL",t.SET_MEDIA_INPUT_SUCCESS="SET_MEDIA_INPUT_SUCCESS",t.SET_MEDIA_INPUT_START="SET_MEDIA_INPUT_START",t.SET_MEDIA_INPUT_FAIL="SET_MEDIA_INPUT_FAIL",t.SET_VIDEO_QUALITY_SUCCESS="SET_VIDEO_QUALITY_SUCCESS",t.SET_VIDEO_QUALITY_START="SET_VIDEO_QUALITY_START",t.SET_VIDEO_QUALITY_FAIL="SET_VIDEO_QUALITY_FAIL",t.SAVE_VIDEO_SETTINGS="SAVE_VIDEO_SETTINGS",t.AUDIO_OUTPUT="audioOutput",t.AUDIO_INPUT="audioInput",t.VIDEO_INPUT="videoInput",t.ERROR="error",t.DEFAULT_SCREEN="",t.LOADER_SCREEN="LOADER_SCREEN",t.ERROR_SCREEN="ERROR_SCREEN"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeSdk=t.isReactNative=t.isMobileCordova=t.getUA=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(777),o=t.getUA=function getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},a=t.isMobileCordova=function isMobileCordova(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(o())},s=t.isReactNative=function isReactNative(){return"object"===("undefined"==typeof navigator?"undefined":r(navigator))&&"ReactNative"===navigator.product},c=t.isNodeSdk=function isNodeSdk(){return!0===i.CONSTANTS.NODE_CLIENT||!0===i.CONSTANTS.NODE_ADMIN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function Change(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return Change.valueChange=function(e){return new Change(Change.VALUE,e)},Change.childAddedChange=function(e,t){return new Change(Change.CHILD_ADDED,t,e)},Change.childRemovedChange=function(e,t){return new Change(Change.CHILD_REMOVED,t,e)},Change.childChangedChange=function(e,t,n){return new Change(Change.CHILD_CHANGED,t,e,n)},Change.childMovedChange=function(e,t){return new Change(Change.CHILD_MOVED,t,e)},Change.CHILD_ADDED="child_added",Change.CHILD_REMOVED="child_removed",Change.CHILD_CHANGED="child_changed",Change.CHILD_MOVED="child_moved",Change.VALUE="value",Change}();t.Change=r},function(e,t,n){"use strict";function contains(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function forEach(e,t){for(var n in e)contains(e,n)&&t(n,e[n])}function clone(e){if(null==e)return{};var t={};return forEach(e,function(e,n){t[e]=n}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.contains=contains,t.forEach=forEach,t.clone=clone},function(e,t,n){var r=n(306),i=n(789);e.exports=n(307)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(658);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";function StateMachine(e,t){r.call(this);var n=null,i=e;t=transformStates(t),Object.defineProperties(this,{_lock:{get:function(){return n},set:function(e){n=e}},_reachableStates:{value:reachable(t)},_state:{get:function(){return i},set:function(e){i=e}},_states:{value:t},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return null!==n}},state:{enumerable:!0,get:function(){return i}}});var o=this;this.on("stateChanged",function(e){o._whenDeferreds.forEach(function(t){t.when(e,t.resolve,t.reject)})})}function isValidTransition(e,t,n){return e.get(t).has(n)}function makeLock(e){var t=o.defer();return t.name=e,t.depth=0,t}function reachable(e){return Array.from(e.keys()).reduce(function(t,n){return t.set(n,reachableFrom(e,n))},new Map)}function reachableFrom(e,t,n){return n=n||new Set,e.get(t).forEach(function(t){n.has(t)||(n.add(t),reachableFrom(e,t,n).forEach(n.add,n))}),n}function transformStates(e){var t=new Map;for(var n in e)t.set(n,new Set(e[n]));return t}function createUnreachableError(e,t){return new Error('"'+t+'" cannot be reached from "'+e+'"')}var r=n(129).EventEmitter,i=n(24).inherits,o=n(85);i(StateMachine,r),StateMachine.prototype._whenPromise=function _whenPromise(e){if("function"!=typeof e)return Promise.reject(new Error("when() executor must be a function"));var t=o.defer(),n=this;return t.when=e,this._whenDeferreds.add(t),t.promise.then(function(e){return n._whenDeferreds.delete(t),e},function(e){throw n._whenDeferreds.delete(t),e})},StateMachine.prototype.bracket=function bracket(e,t){function releaseLock(e){if(r.hasLock(n)&&r.releaseLockCompletely(n),e)throw e}var n,r=this;return this.takeLock(e).then(function gotKey(e){return n=e,t(n)}).then(function success(e){return releaseLock(),e},releaseLock)},StateMachine.prototype.hasLock=function hasLock(e){return this._lock===e},StateMachine.prototype.preempt=function preempt(e,t,n){if(!isValidTransition(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');var r;this.isLocked&&(r=this._lock,this._lock=null);var i=null;t&&(i=this.takeLockSync(t));var o=i?null:this.takeLockSync("preemption");return this.transition(e,i||o,n),r&&r.resolve(),o&&this.releaseLock(o),i},StateMachine.prototype.releaseLock=function releaseLock(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");0===e.depth?(this._lock=null,e.resolve()):e.depth--},StateMachine.prototype.releaseLockCompletely=function releaseLockCompletely(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");e.depth=0,this._lock=null,e.resolve()},StateMachine.prototype.takeLock=function takeLock(e){if("object"==typeof e){var t=e,n=this;return new Promise(function takeReentrantLock(e){e(n.takeLockSync(t))})}var r=e;if(this.isLocked){var takeLock=this.takeLock.bind(this,r);return this._lock.promise.then(takeLock)}return Promise.resolve(this.takeLockSync(r))},StateMachine.prototype.takeLockSync=function takeLockSync(e){var t="string"==typeof e?null:e,n=t?t.name:e;if(t&&!this.hasLock(t)||!t&&this.isLocked)throw new Error("Could not take the lock for "+n+" because the lock for "+this._lock.name+" was not released");if(t)return t.depth++,t;var r=makeLock(n);return this._lock=r,r},StateMachine.prototype.transition=function transition(e,t,n){if(n=n||[],this.isLocked){if(!t)throw new Error("You must provide the key in order to transition");if(!this.hasLock(t))throw new Error("Could not transition using the key for "+t.name+" because "+this._lock.name+" has the lock")}else if(t)throw new Error("Key provided for "+t.name+", but the StateMachine was not locked (possibly due to preemption)");if(!isValidTransition(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');this._state=e,this.emit.apply(this,["stateChanged",e].concat(n))},StateMachine.prototype.tryTransition=function tryTransition(e,t,n){try{this.transition(e,t,n)}catch(e){return!1}return!0},StateMachine.prototype.when=function when(e){var t=this;return this.state===e?Promise.resolve(this):isValidTransition(this._reachableStates,this.state,e)?this._whenPromise(function when(n,r,i){n===e?r(t):isValidTransition(t._reachableStates,n,e)||i(createUnreachableError(n,e))}):Promise.reject(createUnreachableError(this.state,e))},e.exports=StateMachine},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function hoistNonReactStatics(e,t,n){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||i[a[s]]||n&&n[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t,n){function toNumber(e){if("number"==typeof e)return e;if(i(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):s.test(e)?o:+e}var r=n(67),i=n(130),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=toNumber},function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function videoSettingsReducer(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.initialState,u=arguments[1],l=u.type,d=u.payload;switch(l){case i.LOAD_MEDIA_START:return Object.assign({},n,{audioOutput:o,audioInput:o,videoInput:o,screenType:i.LOADER_SCREEN});case i.LOAD_MEDIA_SUCCESS:return Object.assign({},n,r(d,[i.AUDIO_OUTPUT,i.AUDIO_INPUT,i.VIDEO_INPUT]),(e={screenType:i.DEFAULT_SCREEN},_defineProperty(e,i.AUDIO_OUTPUT,Object.assign({},n[i.AUDIO_OUTPUT],d[i.AUDIO_OUTPUT])),_defineProperty(e,i.AUDIO_INPUT,Object.assign({},n[i.AUDIO_INPUT],d[i.AUDIO_INPUT])),_defineProperty(e,i.VIDEO_INPUT,Object.assign({},n[i.VIDEO_INPUT],d[i.VIDEO_INPUT])),e));case i.SET_AUDIO_OUTPUT_SUCCESS:return c(n,d);case i.SET_MEDIA_INPUT_SUCCESS:case i.SET_MEDIA_INPUT_FAIL:return a(n,d);case i.SAVE_VIDEO_SETTINGS:return Object.assign({},n,d);case i.SET_AUDIO_OUTPUT_FAIL:case i.LOAD_MEDIA_FAIL:return Object.assign({},n,{isLoading:!1},d);case i.SET_VIDEO_QUALITY_SUCCESS:case i.SET_VIDEO_QUALITY_FAIL:return s(n,d);case i.SET_VIDEO_QUALITY_START:case i.SET_AUDIO_OUTPUT_START:case i.SET_MEDIA_INPUT_START:return Object.assign({},n,{isLoading:!0});default:return n}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(893),i=n(336),o={deviceId:"",error:""};t.initialState={isSetSinkIdSupported:!1,audioOutputDeviceId:"",audioInputDeviceId:"",videoInputDeviceId:"",audioOutputDevices:[],videoInputDevices:[],audioInputDevices:[],videoQualityId:"high",videoQuality:{value:"",error:""},audioOutput:o,audioInput:o,videoInput:o,screenType:"",isLoading:!1,stream:null,error:""};var a=function setMediaInput(e,t){var n=t.type,r=t.error,i=t.stream,o=t.deviceId;return Object.assign({},e,_defineProperty({isLoading:!1,stream:i},n,Object.assign({},e[n],{deviceId:o,error:r})))},s=function setVideoQuality(e,t){var n=t.error,r=t.stream,i=t.videoQualityId;return Object.assign({},e,{isLoading:!1,stream:r,videoQuality:{value:i,error:n}})},c=function setAudioOutput(e,t){var n=t.error,r=t.deviceId;return Object.assign({},e,_defineProperty({isLoading:!1},i.AUDIO_OUTPUT,Object.assign({},e[i.AUDIO_OUTPUT],{error:n,deviceId:r})))};t.default=videoSettingsReducer},function(e,t){function arrayReduce(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}e.exports=arrayReduce},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(928);t.toggleLeftBar=function(e){return{type:r.TOGGLE_LEFT_BAR,payload:{leftBarHidden:e}}},t.toggleBottomBar=function(e){return{type:r.TOGGLE_BOTTOM_BAR,payload:{bottomBarHidden:e}}}},function(e,t,n){"use strict";var r=function(){},i;e.exports=r},function(e,t,n){"use strict";function escapeUserProvidedKey(e){return(""+e).replace(u,"$&/")}function ForEachBookKeeping(e,t){this.func=e,this.context=t,this.count=0}function forEachSingleChild(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function forEachChildren(e,t,n){if(null==e)return e;var r=ForEachBookKeeping.getPooled(t,n);a(e,forEachSingleChild,r),ForEachBookKeeping.release(r)}function MapBookKeeping(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function mapSingleChildIntoContext(e,t,n){var r=e.result,a=e.keyPrefix,s=e.func,c=e.context,u=s.call(c,t,e.count++);Array.isArray(u)?mapIntoWithKeyPrefixInternal(u,r,n,o.thatReturnsArgument):null!=u&&(i.isValidElement(u)&&(u=i.cloneAndReplaceKey(u,a+(!u.key||t&&t.key===u.key?"":escapeUserProvidedKey(u.key)+"/")+n)),r.push(u))}function mapIntoWithKeyPrefixInternal(e,t,n,r,i){var o="";null!=n&&(o=escapeUserProvidedKey(n)+"/");var s=MapBookKeeping.getPooled(t,o,r,i);a(e,mapSingleChildIntoContext,s),MapBookKeeping.release(s)}function mapChildren(e,t,n){if(null==e)return e;var r=[];return mapIntoWithKeyPrefixInternal(e,r,null,t,n),r}function forEachSingleChildDummy(e,t,n){return null}function countChildren(e,t){return a(e,forEachSingleChildDummy,null)}function toArray(e){var t=[];return mapIntoWithKeyPrefixInternal(e,t,null,o.thatReturnsArgument),t}var r=n(351),i=n(71),o=n(25),a=n(352),s=r.twoArgumentPooler,c=r.fourArgumentPooler,u=/\/+/g;ForEachBookKeeping.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},r.addPoolingTo(ForEachBookKeeping,s),MapBookKeeping.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},r.addPoolingTo(MapBookKeeping,c);var l={forEach:forEachChildren,map:mapChildren,mapIntoWithKeyPrefixInternal:mapIntoWithKeyPrefixInternal,count:countChildren,toArray:toArray};e.exports=l},function(e,t,n){"use strict";var r=n(86),i=n(2),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},a=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},s=10,c=o,u={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=10),n.release=a,n},oneArgumentPooler:o,twoArgumentPooler:function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},threeArgumentPooler:function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},fourArgumentPooler:function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)}};e.exports=u},function(e,t,n){"use strict";function getComponentKey(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function traverseAllChildrenImpl(e,t,n,i){var s=typeof e;if("undefined"!==s&&"boolean"!==s||(e=null),null===e||"string"===s||"number"===s||"object"===s&&e.$$typeof===o)return n(i,e,""===t?l+getComponentKey(e,0):t),1;var u,p,h=0,f=""===t?l:t+d;if(Array.isArray(e))for(var g=0;g<e.length;g++)h+=traverseAllChildrenImpl(u=e[g],p=f+getComponentKey(u,g),n,i);else{var m=a(e);if(m){var v=m.call(e),y;if(m!==e.entries)for(var _=0;!(y=v.next()).done;)h+=traverseAllChildrenImpl(u=y.value,p=f+getComponentKey(u,_++),n,i);else for(var b,S;!(y=v.next()).done;){var w=y.value;w&&(h+=traverseAllChildrenImpl(u=w[1],p=f+c.escape(w[0])+d+getComponentKey(u,0),n,i))}}else if("object"===s){var C="",T,E=String(e);r("31","[object Object]"===E?"object with keys {"+Object.keys(e).join(", ")+"}":E,C)}}return h}function traverseAllChildren(e,t,n){return null==e?0:traverseAllChildrenImpl(e,"",t,n)}var r=n(86),i=n(44),o=n(212),a=n(353),s=n(2),c=n(354),u=n(5),l=".",d=":",p=!1;e.exports=traverseAllChildren},function(e,t,n){"use strict";function getIteratorFn(e){var t=e&&(r&&e[r]||e[i]);if("function"==typeof t)return t}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=getIteratorFn},function(e,t,n){"use strict";function escape(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function unescape(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var r={escape:escape,unescape:unescape};e.exports=r},function(e,t,n){"use strict";var r=n(71).createFactory,i={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),var:r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")};e.exports=i},function(e,t,n){"use strict";var r=n(71).isValidElement,i=n(213);e.exports=i(r)},function(e,t,n){"use strict";var r=n(25),i=n(2),o=n(5),a=n(9),s=n(241),c=n(358);e.exports=function(e,t){function getIteratorFn(e){var t=e&&(n&&e[n]||e[u]);if("function"==typeof t)return t}function is(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function PropTypeError(e){this.message=e,this.stack=""}function createChainableTypeChecker(e){function checkType(n,r,o,a,c,u,d){if(a=a||l,u=u||o,d!==s)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else var p;return null==r[o]?n?new PropTypeError(null===r[o]?"The "+c+" `"+u+"` is marked as required in `"+a+"`, but its value is `null`.":"The "+c+" `"+u+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(r,o,a,c,u)}var n,r,o=checkType.bind(null,!1);return o.isRequired=checkType.bind(null,!0),o}function createPrimitiveTypeChecker(e){function validate(t,n,r,i,o,a){var s=t[n];return getPropType(s)!==e?new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPreciseType(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(r.thatReturnsNull)}function createArrayOfTypeChecker(e){function validate(t,n,r,i,o){if("function"!=typeof e)return new PropTypeError("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPropType(a)+"` supplied to `"+r+"`, expected an array.");for(var c=0;c<a.length;c++){var u=e(a,c,r,i,o+"["+c+"]",s);if(u instanceof Error)return u}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(t,n,r,i,o){var a=t[n];return e(a)?null:new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPropType(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(e){function validate(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||l;return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getClassName(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(e){function validate(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(is(a,e[s]))return null;return new PropTypeError("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?createChainableTypeChecker(validate):r.thatReturnsNull}function createObjectOfTypeChecker(e){function validate(t,n,r,i,o){if("function"!=typeof e)return new PropTypeError("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],c=getPropType(a);if("object"!==c)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var u in a)if(a.hasOwnProperty(u)){var l=e(a,u,r,i,o+"."+u,s);if(l instanceof Error)return l}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(e){function validate(t,n,r,i,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,r,i,o,s))return null;return new PropTypeError("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return r.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",getPostfixForTypeWarning(n),t),r.thatReturnsNull}return createChainableTypeChecker(validate)}function createNodeChecker(){function validate(e,t,n,r,i){return isNode(e[t])?null:new PropTypeError("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return createChainableTypeChecker(validate)}function createShapeTypeChecker(e){function validate(t,n,r,i,o){var a=t[n],c=getPropType(a);if("object"!==c)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var l=e[u];if(l){var d=l(a,u,r,i,o+"."+u,s);if(d)return d}}return null}return createChainableTypeChecker(validate)}function createStrictShapeTypeChecker(e){function validate(t,n,r,i,o){var c=t[n],u=getPropType(c);if("object"!==u)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var l=a({},t[n],e);for(var d in l){var p=e[d];if(!p)return new PropTypeError("Invalid "+i+" `"+o+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=p(c,d,r,i,o+"."+d,s);if(h)return h}return null}return createChainableTypeChecker(validate)}function isNode(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(isNode);if(null===t||e(t))return!0;var n=getIteratorFn(t);if(!n)return!1;var r=n.call(t),i;if(n!==t.entries){for(;!(i=r.next()).done;)if(!isNode(i.value))return!1}else for(;!(i=r.next()).done;){var o=i.value;if(o&&!isNode(o[1]))return!1}return!0;default:return!1}}function isSymbol(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function getPropType(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":isSymbol(t,e)?"symbol":t}function getPreciseType(e){if(void 0===e||null===e)return""+e;var t=getPropType(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function getPostfixForTypeWarning(e){var t=getPreciseType(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function getClassName(e){return e.constructor&&e.constructor.name?e.constructor.name:l}var n="function"==typeof Symbol&&Symbol.iterator,u="@@iterator",l="<<anonymous>>",d={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker,exact:createStrictShapeTypeChecker};return PropTypeError.prototype=Error.prototype,d.checkPropTypes=c,d.PropTypes=d,d}},function(e,t,n){"use strict";function checkPropTypes(e,t,n,r,i){var o,a,s}var r,i,o,a;e.exports=checkPropTypes},function(e,t,n){"use strict";e.exports="15.6.1"},function(e,t,n){"use strict";var r=n(209).Component,i=n(71).isValidElement,o=n(210),a=n(310);e.exports=a(r,i,o)},function(e,t,n){"use strict";function onlyChild(e){return i.isValidElement(e)||r("143"),e}var r=n(86),i=n(71),o=n(2);e.exports=onlyChild},function(e,t,n){"use strict";var r=n(11),i=n(363),o=n(237),a=n(74),s=n(35),c=n(435),u=n(436),l=n(238),d=n(437),p=n(5);i.inject();var h={findDOMNode:u,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:c,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=l(e)),e?r.getNodeFromInstance(e):null}},Mount:o,Reconciler:a});var f,g,m,v,y,_,b,S,w;e.exports=h},function(e,t,n){"use strict";function inject(){w||(w=!0,v.EventEmitter.injectReactEventListener(m),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginUtils.injectComponentTree(d),v.EventPluginUtils.injectTreeTraversal(h),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:S,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:b,BeforeInputEventPlugin:i}),v.HostComponent.injectGenericComponentClass(l),v.HostComponent.injectTextComponentClass(f),v.DOMProperty.injectDOMPropertyConfig(r),v.DOMProperty.injectDOMPropertyConfig(c),v.DOMProperty.injectDOMPropertyConfig(_),v.EmptyComponent.injectEmptyComponentFactory(function(e){return new p(e)}),v.Updates.injectReconcileTransaction(y),v.Updates.injectBatchingStrategy(g),v.Component.injectEnvironment(u))}var r=n(364),i=n(365),o=n(369),a=n(372),s=n(373),c=n(374),u=n(375),l=n(381),d=n(11),p=n(406),h=n(407),f=n(408),g=n(409),m=n(410),v=n(412),y=n(413),_=n(419),b=n(420),S=n(421),w=!1;e.exports={inject:inject}},function(e,t,n){"use strict";var r={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};e.exports=r},function(e,t,n){"use strict";function isPresto(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function isKeypressCommand(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function getCompositionEventType(e){switch(e){case"topCompositionStart":return m.compositionStart;case"topCompositionEnd":return m.compositionEnd;case"topCompositionUpdate":return m.compositionUpdate}}function isFallbackCompositionStart(e,t){return"topKeyDown"===e&&t.keyCode===u}function isFallbackCompositionEnd(e,t){switch(e){case"topKeyUp":return-1!==c.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==u;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function getDataFromCustomEvent(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function extractCompositionEvent(e,t,n,i){var s,c;if(l?s=getCompositionEventType(e):y?isFallbackCompositionEnd(e,n)&&(s=m.compositionEnd):isFallbackCompositionStart(e,n)&&(s=m.compositionStart),!s)return null;h&&(y||s!==m.compositionStart?s===m.compositionEnd&&y&&(c=y.getData()):y=o.getPooled(i));var u=a.getPooled(s,t,n,i);if(c)u.data=c;else{var d=getDataFromCustomEvent(n);null!==d&&(u.data=d)}return r.accumulateTwoPhaseDispatches(u),u}function getNativeBeforeInputChars(e,t){switch(e){case"topCompositionEnd":return getDataFromCustomEvent(t);case"topKeyPress":return t.which!==f?null:(v=!0,g);case"topTextInput":var n=t.data;return n===g&&v?null:n;default:return null}}function getFallbackBeforeInputChars(e,t){if(y){if("topCompositionEnd"===e||!l&&isFallbackCompositionEnd(e,t)){var n=y.getData();return o.release(y),y=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!isKeypressCommand(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return h?null:t.data;default:return null}}function extractBeforeInputEvent(e,t,n,i){var o;if(!(o=p?getNativeBeforeInputChars(e,n):getFallbackBeforeInputChars(e,n)))return null;var a=s.getPooled(m.beforeInput,t,n,i);return a.data=o,r.accumulateTwoPhaseDispatches(a),a}var r=n(87),i=n(18),o=n(366),a=n(367),s=n(368),c=[9,13,27,32],u=229,l=i.canUseDOM&&"CompositionEvent"in window,d=null;i.canUseDOM&&"documentMode"in document&&(d=document.documentMode);var p=i.canUseDOM&&"TextEvent"in window&&!d&&!isPresto(),h=i.canUseDOM&&(!l||d&&d>8&&d<=11),f=32,g=String.fromCharCode(f),m={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},v=!1,y=null,_={eventTypes:m,extractEvents:function(e,t,n,r){return[extractCompositionEvent(e,t,n,r),extractBeforeInputEvent(e,t,n,r)]}};e.exports=_},function(e,t,n){"use strict";function FallbackCompositionState(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var r=n(9),i=n(53),o=n(217);r(FallbackCompositionState.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t=this._startText,n=t.length,r,i=this.getText(),o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);var s=r>1?1-r:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),i.addPoolingTo(FallbackCompositionState),e.exports=FallbackCompositionState},function(e,t,n){"use strict";function SyntheticCompositionEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(45),i={data:null};r.augmentClass(SyntheticCompositionEvent,i),e.exports=SyntheticCompositionEvent},function(e,t,n){"use strict";function SyntheticInputEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(45),i={data:null};r.augmentClass(SyntheticInputEvent,i),e.exports=SyntheticInputEvent},function(e,t,n){"use strict";function createAndAccumulateChangeEvent(e,t,n){var r=c.getPooled(h.change,e,t,n);return r.type="change",i.accumulateTwoPhaseDispatches(r),r}function shouldUseChangeEvent(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function manualDispatchChangeEvent(e){var t=createAndAccumulateChangeEvent(g,e,l(e));s.batchedUpdates(runEventInBatch,t)}function runEventInBatch(e){r.enqueueEvents(e),r.processEventQueue(!1)}function startWatchingForChangeEventIE8(e,t){g=t,(f=e).attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){f&&(f.detachEvent("onchange",manualDispatchChangeEvent),f=null,g=null)}function getInstIfValueChanged(e,t){var n=u.updateValueIfChanged(e),r=!0===t.simulated&&y._allowSimulatedPassThrough;if(n||r)return e}function getTargetInstForChangeEvent(e,t){if("topChange"===e)return t}function handleEventsForChangeEventIE8(e,t,n){"topFocus"===e?(stopWatchingForChangeEventIE8(),startWatchingForChangeEventIE8(t,n)):"topBlur"===e&&stopWatchingForChangeEventIE8()}function startWatchingForValueChange(e,t){g=t,(f=e).attachEvent("onpropertychange",handlePropertyChange)}function stopWatchingForValueChange(){f&&(f.detachEvent("onpropertychange",handlePropertyChange),f=null,g=null)}function handlePropertyChange(e){"value"===e.propertyName&&getInstIfValueChanged(g,e)&&manualDispatchChangeEvent(e)}function handleEventsForInputEventPolyfill(e,t,n){"topFocus"===e?(stopWatchingForValueChange(),startWatchingForValueChange(t,n)):"topBlur"===e&&stopWatchingForValueChange()}function getTargetInstForInputEventPolyfill(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return getInstIfValueChanged(g,n)}function shouldUseClickEvent(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function getTargetInstForClickEvent(e,t,n){if("topClick"===e)return getInstIfValueChanged(t,n)}function getTargetInstForInputOrChangeEvent(e,t,n){if("topInput"===e||"topChange"===e)return getInstIfValueChanged(t,n)}function handleControlledInputBlur(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}var r=n(88),i=n(87),o=n(18),a=n(11),s=n(35),c=n(45),u=n(220),l=n(140),d=n(141),p=n(221),h={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},f=null,g=null,m=!1;o.canUseDOM&&(m=d("change")&&(!document.documentMode||document.documentMode>8));var v=!1;o.canUseDOM&&(v=d("input")&&(!("documentMode"in document)||document.documentMode>9));var y={eventTypes:h,_allowSimulatedPassThrough:!0,_isInputEventSupported:v,extractEvents:function(e,t,n,r){var i=t?a.getNodeFromInstance(t):window,o,s;if(shouldUseChangeEvent(i)?m?o=getTargetInstForChangeEvent:s=handleEventsForChangeEventIE8:p(i)?v?o=getTargetInstForInputOrChangeEvent:(o=getTargetInstForInputEventPolyfill,s=handleEventsForInputEventPolyfill):shouldUseClickEvent(i)&&(o=getTargetInstForClickEvent),o){var c=o(e,t,n);if(c)return createAndAccumulateChangeEvent(c,n,r)}s&&s(e,i,t),"topBlur"===e&&handleControlledInputBlur(t,i)}};e.exports=y},function(e,t,n){"use strict";function attachRef(e,t,n){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,n)}function detachRef(e,t,n){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,n)}var r=n(371),i={};i.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&attachRef(n,e,t._owner)}},i.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var i=null,o=null;return null!==t&&"object"==typeof t&&(i=t.ref,o=t._owner),n!==i||"string"==typeof i&&o!==r},i.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&detachRef(n,e,t._owner)}},e.exports=i},function(e,t,n){"use strict";function isValidOwner(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var r=n(6),i=n(2),o={addComponentAsRefTo:function(e,t,n){isValidOwner(n)||r("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){isValidOwner(n)||r("120");var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=o},function(e,t,n){"use strict";var r=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];e.exports=r},function(e,t,n){"use strict";var r=n(87),i=n(11),o=n(99),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var c;if(s.window===s)c=s;else{var u=s.ownerDocument;c=u?u.defaultView||u.parentWindow:window}var l,d;if("topMouseOut"===e){l=t;var p=n.relatedTarget||n.toElement;d=p?i.getClosestInstanceFromNode(p):null}else l=null,d=t;if(l===d)return null;var h=null==l?c:i.getNodeFromInstance(l),f=null==d?c:i.getNodeFromInstance(d),g=o.getPooled(a.mouseLeave,l,n,s);g.type="mouseleave",g.target=h,g.relatedTarget=f;var m=o.getPooled(a.mouseEnter,d,n,s);return m.type="mouseenter",m.target=f,m.relatedTarget=h,r.accumulateEnterLeaveDispatches(g,m,l,d),[g,m]}};e.exports=s},function(e,t,n){"use strict";var r=n(73),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,c=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,u={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:c,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};e.exports=u},function(e,t,n){"use strict";var r=n(143),i={processChildrenUpdates:n(380).dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=i},function(e,t,n){"use strict";var r=n(6),i=n(75),o=n(18),a=n(377),s=n(25),c=n(2),u={dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM||r("56"),t||r("57"),"HTML"===e.nodeName&&r("58"),"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}};e.exports=u},function(e,t,n){"use strict";function getNodeName(e){var t=e.match(c);return t&&t[1].toLowerCase()}function createNodesFromMarkup(e,t){var n=s;s||a(!1);var r=getNodeName(e),c=r&&o(r);if(c){n.innerHTML=c[1]+e+c[2];for(var u=c[0];u--;)n=n.lastChild}else n.innerHTML=e;var l=n.getElementsByTagName("script");l.length&&(t||a(!1),i(l).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var r=n(18),i=n(378),o=n(379),a=n(2),s=r.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=createNodesFromMarkup},function(e,t,n){"use strict";function toArray(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"==typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}function hasArrayNature(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function createArrayFromMixed(e){return hasArrayNature(e)?Array.isArray(e)?e.slice():toArray(e):[e]}var r=n(2);e.exports=createArrayFromMixed},function(e,t,n){"use strict";function getMarkupWrap(e){return o||i(!1),d.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||(o.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",a[e]=!o.firstChild),a[e]?d[e]:null}var r=n(18),i=n(2),o=r.canUseDOM?document.createElement("div"):null,a={},s=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:u,th:u};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){d[e]=l,a[e]=!0}),e.exports=getMarkupWrap},function(e,t,n){"use strict";var r=n(143),i=n(11),o={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=o},function(e,t,n){"use strict";function getDeclarationErrorAddendum(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function friendlyStringify(e){if("object"==typeof e){if(Array.isArray(e))return"["+e.map(friendlyStringify).join(", ")+"]";var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=/^[a-z$_][\w$_]*$/i.test(n)?n:JSON.stringify(n);t.push(r+": "+friendlyStringify(e[n]))}return"{"+t.join(", ")+"}"}return"string"==typeof e?JSON.stringify(e):"function"==typeof e?"[function object]":String(e)}function checkAndWarnForMutatedStyle(e,t,n){if(null!=e&&null!=t&&!x(e,t)){var r=n._tag,i=n._currentElement._owner,o;i&&(o=i.getName());var a=o+"|"+r;B.hasOwnProperty(a)||(B[a]=!0)}}function assertValidProps(e,t){t&&(G[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&U in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",getDeclarationErrorAddendum(e)))}function enqueuePutListener(e,t,n,r){if(!(r instanceof w)){var i=e._hostContainerInfo,o=i._node&&i._node.nodeType===W?i._node:i._ownerDocument;N(t,o),r.getReactMountReady().enqueue(putListener,{inst:e,registrationName:t,listener:n})}}function putListener(){var e=this;d.putListener(e.inst,e.registrationName,e.listener)}function inputPostMount(){var e=this;m.postMountWrapper(e)}function textareaPostMount(){var e=this;_.postMountWrapper(e)}function optionPostMount(){var e=this;v.postMountWrapper(e)}function trackInputValue(){I.track(this)}function trapBubbledEventsLocal(){var e=this;e._rootNodeID||r("63");var t=M(e);switch(t||r("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[h.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in z)z.hasOwnProperty(n)&&e._wrapperState.listeners.push(h.trapBubbledEvent(n,z[n],t));break;case"source":e._wrapperState.listeners=[h.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[h.trapBubbledEvent("topError","error",t),h.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[h.trapBubbledEvent("topReset","reset",t),h.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[h.trapBubbledEvent("topInvalid","invalid",t)]}}function postUpdateSelectWrapper(){y.postUpdateWrapper(this)}function validateDangerousTag(e){K.call(X,e)||($.test(e)||r("65",e),X[e]=!0)}function isCustomComponent(e,t){return e.indexOf("-")>=0||null!=t.is}function ReactDOMComponent(e){var t=e.type;validateDangerousTag(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var r=n(6),i=n(9),o=n(382),a=n(383),s=n(75),c=n(144),u=n(73),l=n(226),d=n(88),p=n(137),h=n(102),f=n(214),g=n(11),m=n(393),v=n(395),y=n(227),_=n(396),b=n(30),S=n(397),w=n(404),C=n(25),T=n(101),E=n(2),k=n(141),x=n(148),I=n(220),R=n(152),O=n(5),P=f,A=d.deleteListener,M=g.getNodeFromInstance,N=h.listenTo,D=p.registrationNameModules,L={string:!0,number:!0},F="style",U="__html",j={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},W=11,B={},H=C,z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},q={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},V={listing:!0,pre:!0,textarea:!0},G=i({menuitem:!0},q),$=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,X={},K={}.hasOwnProperty,Y=1;ReactDOMComponent.displayName="ReactDOMComponent",i(ReactDOMComponent.prototype,ReactDOMComponent.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=Y++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"input":m.mountWrapper(this,i,t),i=m.getHostProps(this,i),e.getReactMountReady().enqueue(trackInputValue,this),e.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"option":v.mountWrapper(this,i,t),i=v.getHostProps(this,i);break;case"select":y.mountWrapper(this,i,t),i=y.getHostProps(this,i),e.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"textarea":_.mountWrapper(this,i,t),i=_.getHostProps(this,i),e.getReactMountReady().enqueue(trackInputValue,this),e.getReactMountReady().enqueue(trapBubbledEventsLocal,this)}assertValidProps(this,i);var a,u;null!=t?(a=t._namespaceURI,u=t._tag):n._tag&&(a=n._namespaceURI,u=n._tag),(null==a||a===c.svg&&"foreignobject"===u)&&(a=c.html),a===c.html&&("svg"===this._tag?a=c.svg:"math"===this._tag&&(a=c.mathml)),this._namespaceURI=a;var d,p;if(e.useCreateElement){var h=n._ownerDocument,f;if(a===c.html)if("script"===this._tag){var b=h.createElement("div"),S=this._currentElement.type;b.innerHTML="<"+S+"></"+S+">",f=b.removeChild(b.firstChild)}else f=i.is?h.createElement(this._currentElement.type,i.is):h.createElement(this._currentElement.type);else f=h.createElementNS(a,this._currentElement.type);g.precacheNode(this,f),this._flags|=P.hasCachedChildNodes,this._hostParent||l.setAttributeForRoot(f),this._updateDOMProperties(null,i,e);var w=s(f);this._createInitialChildren(e,i,r,w),p=w}else{var C=this._createOpenTagMarkupAndPutListeners(e,i),T=this._createContentMarkup(e,i,r);p=!T&&q[this._tag]?C+"/>":C+">"+T+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(inputPostMount,this),i.autoFocus&&e.getReactMountReady().enqueue(o.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(textareaPostMount,this),i.autoFocus&&e.getReactMountReady().enqueue(o.focusDOMComponent,this);break;case"select":case"button":i.autoFocus&&e.getReactMountReady().enqueue(o.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(optionPostMount,this)}return p},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(D.hasOwnProperty(r))o&&enqueuePutListener(this,r,o,e);else{r===F&&(o&&(o=this._previousStyleCopy=i({},t.style)),o=a.createMarkupForStyles(o,this));var s=null;null!=this._tag&&isCustomComponent(this._tag,t)?j.hasOwnProperty(r)||(s=l.createMarkupForCustomAttribute(r,o)):s=l.createMarkupForProperty(r,o),s&&(n+=" "+s)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+l.createMarkupForRoot()),n+=" "+l.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=L[typeof t.children]?t.children:null,a=null!=o?null:t.children;null!=o?r=T(o):null!=a&&(r=this.mountChildren(a,e,n).join(""))}return V[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&s.queueHTML(r,i.__html);else{var o=L[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)""!==o&&s.queueText(r,o);else if(null!=a)for(var c=this.mountChildren(a,e,n),u=0;u<c.length;u++)s.queueChild(r,c[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,o=this._currentElement.props;switch(this._tag){case"input":i=m.getHostProps(this,i),o=m.getHostProps(this,o);break;case"option":i=v.getHostProps(this,i),o=v.getHostProps(this,o);break;case"select":i=y.getHostProps(this,i),o=y.getHostProps(this,o);break;case"textarea":i=_.getHostProps(this,i),o=_.getHostProps(this,o)}switch(assertValidProps(this,o),this._updateDOMProperties(i,o,e),this._updateDOMChildren(i,o,e,r),this._tag){case"input":m.updateWrapper(this);break;case"textarea":_.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(postUpdateSelectWrapper,this)}},_updateDOMProperties:function(e,t,n){var r,o,s;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===F){var c=this._previousStyleCopy;for(o in c)c.hasOwnProperty(o)&&((s=s||{})[o]="");this._previousStyleCopy=null}else D.hasOwnProperty(r)?e[r]&&A(this,r):isCustomComponent(this._tag,e)?j.hasOwnProperty(r)||l.deleteValueForAttribute(M(this),r):(u.properties[r]||u.isCustomAttribute(r))&&l.deleteValueForProperty(M(this),r);for(r in t){var d=t[r],p=r===F?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&d!==p&&(null!=d||null!=p))if(r===F)if(d?d=this._previousStyleCopy=i({},d):this._previousStyleCopy=null,p){for(o in p)!p.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||((s=s||{})[o]="");for(o in d)d.hasOwnProperty(o)&&p[o]!==d[o]&&((s=s||{})[o]=d[o])}else s=d;else if(D.hasOwnProperty(r))d?enqueuePutListener(this,r,d,n):p&&A(this,r);else if(isCustomComponent(this._tag,t))j.hasOwnProperty(r)||l.setValueForAttribute(M(this),r,d);else if(u.properties[r]||u.isCustomAttribute(r)){var h=M(this);null!=d?l.setValueForProperty(h,r,d):l.deleteValueForProperty(h,r)}}s&&a.setValueForStyles(M(this),s,this)},_updateDOMChildren:function(e,t,n,r){var i=L[typeof e.children]?e.children:null,o=L[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,c=null!=i?null:e.children,u=null!=o?null:t.children,l=null!=i||null!=a,d=null!=o||null!=s;null!=c&&null==u?this.updateChildren(null,n,r):l&&!d&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,r)},getHostNode:function(){return M(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"input":case"textarea":I.stopTracking(this);break;case"html":case"head":case"body":r("66",this._tag)}this.unmountChildren(e),g.uncacheNode(this),d.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return M(this)}},S.Mixin),e.exports=ReactDOMComponent},function(e,t,n){"use strict";var r=n(11),i=n(224),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=o},function(e,t,n){"use strict";var r=n(225),i=n(18),o=n(30),a=n(384),s=n(386),c=n(387),u=n(389),l=n(5),d=u(function(e){return c(e)}),p=!1,h="cssFloat";if(i.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(e){p=!0}void 0===document.documentElement.style.cssFloat&&(h="styleFloat")}var g,m,v,y,_,b,S,w,C,T,E,k={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=0===r.indexOf("--"),o=e[r];null!=o&&(n+=d(r)+":",n+=s(r,o,t,i)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var o in t)if(t.hasOwnProperty(o)){var a=0===o.indexOf("--"),c=s(o,t[o],n,a);if("float"!==o&&"cssFloat"!==o||(o=h),a)i.setProperty(o,c);else if(c)i[o]=c;else{var u=p&&r.shorthandPropertyExpansions[o];if(u)for(var l in u)i[l]="";else i[o]=""}}}};e.exports=k},function(e,t,n){"use strict";function camelizeStyleName(e){return r(e.replace(i,"ms-"))}var r=n(385),i=/^-ms-/;e.exports=camelizeStyleName},function(e,t,n){"use strict";function camelize(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=camelize},function(e,t,n){"use strict";function dangerousStyleValue(e,t,n,r){if(null==t||"boolean"==typeof t||""===t)return"";var i=isNaN(t);if(r||i||0===t||o.hasOwnProperty(e)&&o[e])return""+t;if("string"==typeof t){var a,s,c,u;t=t.trim()}return t+"px"}var r=n(225),i=n(5),o=r.isUnitlessNumber,a={};e.exports=dangerousStyleValue},function(e,t,n){"use strict";function hyphenateStyleName(e){return r(e).replace(i,"-ms-")}var r=n(388),i=/^ms-/;e.exports=hyphenateStyleName},function(e,t,n){"use strict";function hyphenate(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=hyphenate},function(e,t,n){"use strict";function memoizeStringOnly(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=memoizeStringOnly},function(e,t,n){"use strict";function quoteAttributeValueForBrowser(e){return'"'+r(e)+'"'}var r=n(101);e.exports=quoteAttributeValueForBrowser},function(e,t,n){"use strict";function runEventQueueInBatch(e){r.enqueueEvents(e),r.processEventQueue(!1)}var r=n(88),i={handleTopLevel:function(e,t,n,i){runEventQueueInBatch(r.extractEvents(e,t,n,i))}};e.exports=i},function(e,t,n){"use strict";function makePrefixMap(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function getVendorPrefixedEventName(e){if(o[e])return o[e];if(!i[e])return e;var t=i[e];for(var n in t)if(t.hasOwnProperty(n)&&n in a)return o[e]=t[n];return""}var r=n(18),i={animationend:makePrefixMap("Animation","AnimationEnd"),animationiteration:makePrefixMap("Animation","AnimationIteration"),animationstart:makePrefixMap("Animation","AnimationStart"),transitionend:makePrefixMap("Transition","TransitionEnd")},o={},a={};r.canUseDOM&&(a=document.createElement("div").style,"AnimationEvent"in window||(delete i.animationend.animation,delete i.animationiteration.animation,delete i.animationstart.animation),"TransitionEvent"in window||delete i.transitionend.transition),e.exports=getVendorPrefixedEventName},function(e,t,n){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&v.updateWrapper(this)}function isControlled(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function _handleChange(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);c.asap(forceUpdateIfMounted,this);var i=t.name;if("radio"===t.type&&null!=i){for(var o=s.getNodeFromInstance(this),u=o;u.parentNode;)u=u.parentNode;for(var l=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),d=0;d<l.length;d++){var p=l[d];if(p!==o&&p.form===o.form){var h=s.getInstanceFromNode(p);h||r("90"),c.asap(forceUpdateIfMounted,h)}}}return n}var r=n(6),i=n(9),o=n(226),a=n(146),s=n(11),c=n(35),u=n(2),l=n(5),d=!1,p=!1,h=!1,f=!1,g=!1,m=!1,v={getHostProps:function(e,t){var n=a.getValue(t),r=a.getChecked(t);return i({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n,r=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:r,listeners:null,onChange:_handleChange.bind(e),controlled:isControlled(t)}},updateWrapper:function(e){var t=e._currentElement.props,n,r,i=t.checked;null!=i&&o.setValueForProperty(s.getNodeFromInstance(e),"checked",i||!1);var c=s.getNodeFromInstance(e),u=a.getValue(t);if(null!=u)if(0===u&&""===c.value)c.value="0";else if("number"===t.type){var l=parseFloat(c.value,10)||0;(u!=l||u==l&&c.value!=u)&&(c.value=""+u)}else c.value!==""+u&&(c.value=""+u);else null==t.value&&null!=t.defaultValue&&c.defaultValue!==""+t.defaultValue&&(c.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(c.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=s.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}};e.exports=v},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t,n){"use strict";function flattenChildren(e){var t="";return i.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:c||(c=!0))}),t}var r=n(9),i=n(70),o=n(11),a=n(227),s=n(5),c=!1,u={mountWrapper:function(e,t,n){var r=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(r=a.getSelectValueContext(i))}var o=null;if(null!=r){var s;if(s=null!=t.value?t.value+"":flattenChildren(t.children),o=!1,Array.isArray(r)){for(var c=0;c<r.length;c++)if(""+r[c]===s){o=!0;break}}else o=""+r===s}e._wrapperState={selected:o}},postMountWrapper:function(e){var t=e._currentElement.props;null!=t.value&&o.getNodeFromInstance(e).setAttribute("value",t.value)},getHostProps:function(e,t){var n=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i=flattenChildren(t.children);return i&&(n.children=i),n}};e.exports=u},function(e,t,n){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&p.updateWrapper(this)}function _handleChange(e){var t=this._currentElement.props,n=o.executeOnChange(t,e);return s.asap(forceUpdateIfMounted,this),n}var r=n(6),i=n(9),o=n(146),a=n(11),s=n(35),c=n(2),u=n(5),l=!1,d=!1,p={getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=o.getValue(t),i=n;if(null==n){var a=t.defaultValue,s=t.children;null!=s&&(null!=a&&r("92"),Array.isArray(s)&&(s.length<=1||r("93"),s=s[0]),a=""+s),null==a&&(a=""),i=a}e._wrapperState={initialValue:""+i,listeners:null,onChange:_handleChange.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=a.getNodeFromInstance(e),r=o.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=a.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}};e.exports=p},function(e,t,n){"use strict";function makeInsertMarkup(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function makeMove(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:c.getHostNode(e),toIndex:n,afterNode:t}}function makeRemove(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function makeSetMarkup(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function makeTextContent(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function enqueue(e,t){return t&&(e=e||[]).push(t),e}function processQueue(e,t){i.processChildrenUpdates(e,t)}var r=n(6),i=n(147),o=n(90),a=n(30),s=n(44),c=n(74),u=n(398),l=n(25),d=n(403),p=n(2),h=l,f,g={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){var r;return u.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i,o){var a,s=0;return a=d(t,s),u.updateChildren(e,a,n,r,i,this,this._hostContainerInfo,o,s),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=0,l=c.mountComponent(s,t,this,this._hostContainerInfo,n,u);s._mountIndex=o++,i.push(l)}return i},updateTextContent:function(e){var t=this._renderedChildren;u.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&r("118");processQueue(this,[makeTextContent(e)])},updateMarkup:function(e){var t=this._renderedChildren;u.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&r("118");processQueue(this,[makeSetMarkup(e)])},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},o=[],a=this._reconcilerUpdateChildren(r,e,o,i,t,n);if(a||r){var s=null,u,l=0,d=0,p=0,h=null;for(u in a)if(a.hasOwnProperty(u)){var f=r&&r[u],g=a[u];f===g?(s=enqueue(s,this.moveChild(f,h,l,d)),d=Math.max(f._mountIndex,d),f._mountIndex=l):(f&&(d=Math.max(f._mountIndex,d)),s=enqueue(s,this._mountChildAtIndex(g,o[p],h,l,t,n)),p++),l++,h=c.getHostNode(g)}for(u in i)i.hasOwnProperty(u)&&(s=enqueue(s,this._unmountChild(r[u],i[u])));s&&processQueue(this,s),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;u.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return makeMove(e,t,n)},createChild:function(e,t,n){return makeInsertMarkup(n,t,e._mountIndex)},removeChild:function(e,t){return makeRemove(e,t)},_mountChildAtIndex:function(e,t,n,r,i,o){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}};e.exports=g},function(e,t,n){"use strict";(function(t){function instantiateChild(e,t,n,r){var o=void 0===e[n];null!=t&&o&&(e[n]=i(t,!0))}var r=n(74),i=n(228),o=n(150),a=n(149),s=n(232),c=n(5),u;void 0!==t&&Object({NODE_ENV:"production",BABEL_ENV:"production"});var l={instantiateChildren:function(e,t,n,r){if(null==e)return null;var i={};return s(e,instantiateChild,i),i},updateChildren:function(e,t,n,o,s,c,u,l,d){if(t||e){var p,h;for(p in t)if(t.hasOwnProperty(p)){var f=(h=e&&e[p])&&h._currentElement,g=t[p];if(null!=h&&a(f,g))r.receiveComponent(h,g,s,l),t[p]=h;else{h&&(o[p]=r.getHostNode(h),r.unmountComponent(h,!1));var m=i(g,!0);t[p]=m;var v=r.mountComponent(m,s,c,u,l,d);n.push(v)}}for(p in e)!e.hasOwnProperty(p)||t&&t.hasOwnProperty(p)||(h=e[p],o[p]=r.getHostNode(h),r.unmountComponent(h,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];r.unmountComponent(i,t)}}};e.exports=l}).call(t,n(126))},function(e,t,n){"use strict";function StatelessComponent(e){}function warnIfInvalidElement(e,t){}function shouldConstruct(e){return!(!e.prototype||!e.prototype.isReactComponent)}function isPureComponent(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}function measureLifeCyclePerf(e,t,n){if(0===t)return e();l.debugTool.onBeginLifeCycleTimer(t,n);try{return e()}finally{l.debugTool.onEndLifeCycleTimer(t,n)}}var r=n(6),i=n(9),o=n(70),a=n(147),s=n(44),c=n(139),u=n(90),l=n(30),d=n(229),p=n(74),h,f=n(97),g=n(2),m=n(148),v=n(149),y=n(5),_={ImpureClass:0,PureClass:1,StatelessFunctional:2};StatelessComponent.prototype.render=function(){var e=u.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return warnIfInvalidElement(e,t),t};var b=1,S={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,i){var a=this;this._context=i,this._mountOrder=b++,this._hostParent=t,this._hostContainerInfo=n;var s=this._currentElement.props,c=this._processContext(i),l=this._currentElement.type,d=e.getUpdateQueue(),p=shouldConstruct(l),h=this._constructComponent(p,s,c,d),g;p||null!=h&&null!=h.render?isPureComponent(l)?this._compositeType=_.PureClass:this._compositeType=_.ImpureClass:(warnIfInvalidElement(l,g=h),null===h||!1===h||o.isValidElement(h)||r("105",l.displayName||l.name||"Component"),h=new StatelessComponent(l),this._compositeType=_.StatelessFunctional);var m,v;h.props=s,h.context=c,h.refs=f,h.updater=d,this._instance=h,u.set(h,this);var y=h.state;void 0===y&&(h.state=y=null),("object"!=typeof y||Array.isArray(y))&&r("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var S;return S=h.unstable_handleError?this.performInitialMountWithErrorHandling(g,t,n,e,i):this.performInitialMount(g,t,n,e,i),h.componentDidMount&&e.getReactMountReady().enqueue(h.componentDidMount,h),S},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var i=this._currentElement.type;return e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(e,t,n,r,i)}return o},performInitialMount:function(e,t,n,r,i){var o=this._instance,a=0;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());var s=d.getType(e);this._renderedNodeType=s;var c=this._instantiateReactComponent(e,s!==d.EMPTY);this._renderedComponent=c;var u;return p.mountComponent(c,r,t,n,this._processChildContext(i),a)},getHostNode:function(){return p.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";c.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(p.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,u.remove(t)}},_maskContext:function(e){var t=this._currentElement.type.contextTypes;if(!t)return f;var n={};for(var r in t)n[r]=e[r];return n},_processContext:function(e){var t=this._maskContext(e),n;return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,o;if(n.getChildContext&&(o=n.getChildContext()),o){"object"!=typeof t.childContextTypes&&r("107",this.getName()||"ReactCompositeComponent");for(var a in o)a in t.childContextTypes||r("108",this.getName()||"ReactCompositeComponent",a);return i({},e,o)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?p.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,i,o){var a=this._instance;null==a&&r("136",this.getName()||"ReactCompositeComponent");var s=!1,c;this._context===o?c=a.context:(c=this._processContext(o),s=!0);var u=t.props,l=n.props;t!==n&&(s=!0),s&&a.componentWillReceiveProps&&a.componentWillReceiveProps(l,c);var d=this._processPendingState(l,c),p=!0;this._pendingForceUpdate||(a.shouldComponentUpdate?p=a.shouldComponentUpdate(l,d,c):this._compositeType===_.PureClass&&(p=!m(u,l)||!m(a.state,d))),this._updateBatchNumber=null,p?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,l,d,c,e,o)):(this._currentElement=n,this._context=o,a.props=l,a.state=d,a.context=c)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var a=i({},o?r[0]:n.state),s=o?1:0;s<r.length;s++){var c=r[s];i(a,"function"==typeof c?c.call(n,a,e,t):c)}return a},_performComponentUpdate:function(e,t,n,r,i,o){var a=this,s=this._instance,c=Boolean(s.componentDidUpdate),u,l,d;c&&(u=s.props,l=s.state,d=s.context),s.componentWillUpdate&&s.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,s.props=t,s.state=n,s.context=r,this._updateRenderedComponent(i,o),c&&i.getReactMountReady().enqueue(s.componentDidUpdate.bind(s,u,l,d),s)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent(),o=0;if(v(r,i))p.receiveComponent(n,i,e,this._processChildContext(t));else{var a=p.getHostNode(n);p.unmountComponent(n,!1);var s=d.getType(i);this._renderedNodeType=s;var c=this._instantiateReactComponent(i,s!==d.EMPTY);this._renderedComponent=c;var u=p.mountComponent(c,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),o),l;this._replaceNodeWithMarkup(a,u,n)}},_replaceNodeWithMarkup:function(e,t,n){a.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t;return t=e.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==_.StatelessFunctional){s.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||o.isValidElement(e)||r("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&r("110");var i=t.getPublicInstance(),o;(n.refs===f?n.refs={}:n.refs)[e]=i},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===_.StatelessFunctional?null:e},_instantiateReactComponent:null};e.exports=S},function(e,t,n){"use strict";function getNextDebugID(){return r++}var r=1;e.exports=getNextDebugID},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";function getIteratorFn(e){var t=e&&(r&&e[r]||e[i]);if("function"==typeof t)return t}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=getIteratorFn},function(e,t,n){"use strict";(function(t){function flattenSingleChildIntoContext(e,t,n,r){if(e&&"object"==typeof e){var i=e,o=void 0===i[n];o&&null!=t&&(i[n]=t)}}function flattenChildren(e,t){if(null==e)return e;var n={};return i(e,flattenSingleChildIntoContext,n),n}var r=n(150),i=n(232),o=n(5),a;void 0!==t&&Object({NODE_ENV:"production",BABEL_ENV:"production"}),e.exports=flattenChildren}).call(t,n(126))},function(e,t,n){"use strict";function ReactServerRenderingTransaction(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var r=n(9),i=n(53),o=n(98),a=n(30),s=n(405),c=[],u={enqueue:function(){}};r(ReactServerRenderingTransaction.prototype,o,{getTransactionWrappers:function(){return c},getReactMountReady:function(){return u},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}}),i.addPoolingTo(ReactServerRenderingTransaction),e.exports=ReactServerRenderingTransaction},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function warnNoop(e,t){var n}var r=n(151),i=n(5),o=function(){function ReactServerUpdateQueue(e){_classCallCheck(this,ReactServerUpdateQueue),this.transaction=e}return ReactServerUpdateQueue.prototype.isMounted=function isMounted(e){return!1},ReactServerUpdateQueue.prototype.enqueueCallback=function enqueueCallback(e,t,n){this.transaction.isInTransaction()&&r.enqueueCallback(e,t,n)},ReactServerUpdateQueue.prototype.enqueueForceUpdate=function enqueueForceUpdate(e){this.transaction.isInTransaction()?r.enqueueForceUpdate(e):warnNoop(e,"forceUpdate")},ReactServerUpdateQueue.prototype.enqueueReplaceState=function enqueueReplaceState(e,t){this.transaction.isInTransaction()?r.enqueueReplaceState(e,t):warnNoop(e,"replaceState")},ReactServerUpdateQueue.prototype.enqueueSetState=function enqueueSetState(e,t){this.transaction.isInTransaction()?r.enqueueSetState(e,t):warnNoop(e,"setState")},ReactServerUpdateQueue}();e.exports=o},function(e,t,n){"use strict";var r=n(9),i=n(75),o=n(11),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var c=n._ownerDocument.createComment(s);return o.precacheNode(this,c),i(c)}return e.renderToStaticMarkup?"":"\x3c!--"+s+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},function(e,t,n){"use strict";function getLowestCommonAncestor(e,t){"_hostNode"in e||r("33"),"_hostNode"in t||r("33");for(var n=0,i=e;i;i=i._hostParent)n++;for(var o=0,a=t;a;a=a._hostParent)o++;for(;n-o>0;)e=e._hostParent,n--;for(;o-n>0;)t=t._hostParent,o--;for(var s=n;s--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function isAncestor(e,t){"_hostNode"in e||r("35"),"_hostNode"in t||r("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function getParentInstance(e){return"_hostNode"in e||r("36"),e._hostParent}function traverseTwoPhase(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var i;for(i=r.length;i-- >0;)t(r[i],"captured",n);for(i=0;i<r.length;i++)t(r[i],"bubbled",n)}function traverseEnterLeave(e,t,n,r,i){for(var o=e&&t?getLowestCommonAncestor(e,t):null,a=[];e&&e!==o;)a.push(e),e=e._hostParent;for(var s=[];t&&t!==o;)s.push(t),t=t._hostParent;var c;for(c=0;c<a.length;c++)n(a[c],"bubbled",r);for(c=s.length;c-- >0;)n(s[c],"captured",i)}var r=n(6),i=n(2);e.exports={isAncestor:isAncestor,getLowestCommonAncestor:getLowestCommonAncestor,getParentInstance:getParentInstance,traverseTwoPhase:traverseTwoPhase,traverseEnterLeave:traverseEnterLeave}},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(143),a=n(75),s=n(11),c=n(101),u=n(2),l=n(152),d=function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null};i(d.prototype,{mountComponent:function(e,t,n,r){var i,o=n._idCounter++,u=" react-text: "+o+" ",l=" /react-text ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var d=n._ownerDocument,p=d.createComment(u),h=d.createComment(l),f=a(d.createDocumentFragment());return a.queueChild(f,a(p)),this._stringText&&a.queueChild(f,a(d.createTextNode(this._stringText))),a.queueChild(f,a(h)),s.precacheNode(this,p),this._closingComment=h,f}var g=c(this._stringText);return e.renderToStaticMarkup?g:"\x3c!--"+u+"--\x3e"+g+"\x3c!--"+l+"--\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this).nextSibling;;){if(null==t&&r("67",this._domID),8===t.nodeType&&" /react-text "===t.nodeValue){this._closingComment=t;break}t=t.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=d},function(e,t,n){"use strict";function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}var r=n(9),i=n(35),o=n(98),a=n(25),s={initialize:a,close:function(){l.isBatchingUpdates=!1}},c=[{initialize:a,close:i.flushBatchedUpdates.bind(i)},s];r(ReactDefaultBatchingStrategyTransaction.prototype,o,{getTransactionWrappers:function(){return c}});var u=new ReactDefaultBatchingStrategyTransaction,l={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=l.isBatchingUpdates;return l.isBatchingUpdates=!0,a?e(t,n,r,i,o):u.perform(e,null,t,n,r,i,o)}};e.exports=l},function(e,t,n){"use strict";function findParent(e){for(;e._hostParent;)e=e._hostParent;var t=s.getNodeFromInstance(e).parentNode;return s.getClosestInstanceFromNode(t)}function TopLevelCallbackBookKeeping(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function handleTopLevelImpl(e){var t=u(e.nativeEvent),n=s.getClosestInstanceFromNode(t),r=n;do{e.ancestors.push(r),r=r&&findParent(r)}while(r);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],d._handleTopLevel(e.topLevelType,n,e.nativeEvent,u(e.nativeEvent))}function scrollValueMonitor(e){e(l(window))}var r=n(9),i=n(234),o=n(18),a=n(53),s=n(11),c=n(35),u=n(140),l=n(411);r(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),a.addPoolingTo(TopLevelCallbackBookKeeping,a.twoArgumentPooler);var d={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:o.canUseDOM?window:null,setHandleTopLevel:function(e){d._handleTopLevel=e},setEnabled:function(e){d._enabled=!!e},isEnabled:function(){return d._enabled},trapBubbledEvent:function(e,t,n){return n?i.listen(n,t,d.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?i.capture(n,t,d.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=scrollValueMonitor.bind(null,e);i.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(d._enabled){var n=TopLevelCallbackBookKeeping.getPooled(e,t);try{c.batchedUpdates(handleTopLevelImpl,n)}finally{TopLevelCallbackBookKeeping.release(n)}}}};e.exports=d},function(e,t,n){"use strict";function getUnboundedScrollPosition(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=getUnboundedScrollPosition},function(e,t,n){"use strict";var r=n(73),i=n(88),o=n(138),a=n(147),s=n(230),c=n(102),u=n(231),l=n(35),d={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:c.injection,HostComponent:u.injection,Updates:l.injection};e.exports=d},function(e,t,n){"use strict";function ReactReconcileTransaction(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var r=n(9),i=n(218),o=n(53),a=n(102),s=n(235),c=n(30),u=n(98),l=n(151),d=[{initialize:s.getSelectionInformation,close:s.restoreSelection},{initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];r(ReactReconcileTransaction.prototype,u,{getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return l},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}}),o.addPoolingTo(ReactReconcileTransaction),e.exports=ReactReconcileTransaction},function(e,t,n){"use strict";function isCollapsed(e,t,n,r){return e===n&&t===r}function getIEOffsets(e){var t=document.selection.createRange(),n=t.text.length,r=t.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",t);var i=r.text.length;return{start:i,end:i+n}}function getModernOffsets(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,i=t.focusNode,o=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(e){return null}var s=isCollapsed(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)?0:a.toString().length,c=a.cloneRange();c.selectNodeContents(e),c.setEnd(a.startContainer,a.startOffset);var u=isCollapsed(c.startContainer,c.startOffset,c.endContainer,c.endOffset)?0:c.toString().length,l=u+s,d=document.createRange();d.setStart(n,r),d.setEnd(i,o);var p=d.collapsed;return{start:p?l:u,end:p?u:l}}function setIEOffsets(e,t){var n=document.selection.createRange().duplicate(),r,i;void 0===t.end?i=r=t.start:t.start>t.end?(r=t.end,i=t.start):(r=t.start,i=t.end),n.moveToElementText(e),n.moveStart("character",r),n.setEndPoint("EndToStart",n),n.moveEnd("character",i-r),n.select()}function setModernOffsets(e,t){if(window.getSelection){var n=window.getSelection(),r=e[o()].length,a=Math.min(t.start,r),s=void 0===t.end?a:Math.min(t.end,r);if(!n.extend&&a>s){var c=s;s=a,a=c}var u=i(e,a),l=i(e,s);if(u&&l){var d=document.createRange();d.setStart(u.node,u.offset),n.removeAllRanges(),a>s?(n.addRange(d),n.extend(l.node,l.offset)):(d.setEnd(l.node,l.offset),n.addRange(d))}}}var r=n(18),i=n(415),o=n(217),a=r.canUseDOM&&"selection"in document&&!("getSelection"in window),s={getOffsets:a?getIEOffsets:getModernOffsets,setOffsets:a?setIEOffsets:setModernOffsets};e.exports=s},function(e,t,n){"use strict";function getLeafNode(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function getSiblingNode(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function getNodeForCharacterOffset(e,t){for(var n=getLeafNode(e),r=0,i=0;n;){if(3===n.nodeType){if(i=r+n.textContent.length,r<=t&&i>=t)return{node:n,offset:t-r};r=i}n=getLeafNode(getSiblingNode(n))}}e.exports=getNodeForCharacterOffset},function(e,t,n){"use strict";function containsNode(e,t){return!(!e||!t)&&(e===t||!r(e)&&(r(t)?containsNode(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var r=n(417);e.exports=containsNode},function(e,t,n){"use strict";function isTextNode(e){return r(e)&&3==e.nodeType}var r=n(418);e.exports=isTextNode},function(e,t,n){"use strict";function isNode(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=isNode},function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(i).forEach(function(e){o.Properties[e]=0,i[e]&&(o.DOMAttributeNames[e]=i[e])}),e.exports=o},function(e,t,n){"use strict";function getSelection(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function constructSelectEvent(e,t){if(m||null==h||h!==c())return null;var n=getSelection(h);if(!g||!l(g,n)){g=n;var i=s.getPooled(p.select,f,e,t);return i.type="select",i.target=h,r.accumulateTwoPhaseDispatches(i),i}return null}var r=n(87),i=n(18),o=n(11),a=n(235),s=n(45),c=n(236),u=n(221),l=n(148),d=i.canUseDOM&&"documentMode"in document&&document.documentMode<=11,p={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},h=null,f=null,g=null,m=!1,v=!1,y={eventTypes:p,extractEvents:function(e,t,n,r){if(!v)return null;var i=t?o.getNodeFromInstance(t):window;switch(e){case"topFocus":(u(i)||"true"===i.contentEditable)&&(h=i,f=t,g=null);break;case"topBlur":h=null,f=null,g=null;break;case"topMouseDown":m=!0;break;case"topContextMenu":case"topMouseUp":return m=!1,constructSelectEvent(n,r);case"topSelectionChange":if(d)break;case"topKeyDown":case"topKeyUp":return constructSelectEvent(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(v=!0)}};e.exports=y},function(e,t,n){"use strict";function getDictionaryKey(e){return"."+e._rootNodeID}function isInteractive(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var r=n(6),i=n(234),o=n(87),a=n(11),s=n(422),c=n(423),u=n(45),l=n(424),d=n(425),p=n(99),h=n(427),f=n(428),g=n(429),m=n(89),v=n(430),y=n(25),_=n(153),b=n(2),S={},w={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,i={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};S[e]=i,w[r]=i});var C={},T={eventTypes:S,extractEvents:function(e,t,n,i){var a=w[e];if(!a)return null;var y;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":y=u;break;case"topKeyPress":if(0===_(n))return null;case"topKeyDown":case"topKeyUp":y=d;break;case"topBlur":case"topFocus":y=l;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":y=p;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":y=h;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":y=f;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":y=s;break;case"topTransitionEnd":y=g;break;case"topScroll":y=m;break;case"topWheel":y=v;break;case"topCopy":case"topCut":case"topPaste":y=c}y||r("86",e);var b=y.getPooled(a,t,n,i);return o.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,n){if("onClick"===t&&!isInteractive(e._tag)){var r=getDictionaryKey(e),o=a.getNodeFromInstance(e);C[r]||(C[r]=i.listen(o,"click",y))}},willDeleteListener:function(e,t){if("onClick"===t&&!isInteractive(e._tag)){var n=getDictionaryKey(e);C[n].remove(),delete C[n]}}};e.exports=T},function(e,t,n){"use strict";function SyntheticAnimationEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(45),i={animationName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(SyntheticAnimationEvent,i),e.exports=SyntheticAnimationEvent},function(e,t,n){"use strict";function SyntheticClipboardEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(45),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(SyntheticClipboardEvent,i),e.exports=SyntheticClipboardEvent},function(e,t,n){"use strict";function SyntheticFocusEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(89),i={relatedTarget:null};r.augmentClass(SyntheticFocusEvent,i),e.exports=SyntheticFocusEvent},function(e,t,n){"use strict";function SyntheticKeyboardEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(89),i=n(153),o={key:n(426),location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:n(142),charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};r.augmentClass(SyntheticKeyboardEvent,o),e.exports=SyntheticKeyboardEvent},function(e,t,n){"use strict";function getEventKey(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=r(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var r=n(153),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=getEventKey},function(e,t,n){"use strict";function SyntheticDragEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(99),i={dataTransfer:null};r.augmentClass(SyntheticDragEvent,i),e.exports=SyntheticDragEvent},function(e,t,n){"use strict";function SyntheticTouchEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(89),i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:n(142)};r.augmentClass(SyntheticTouchEvent,i),e.exports=SyntheticTouchEvent},function(e,t,n){"use strict";function SyntheticTransitionEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(45),i={propertyName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(SyntheticTransitionEvent,i),e.exports=SyntheticTransitionEvent},function(e,t,n){"use strict";function SyntheticWheelEvent(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(99),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(SyntheticWheelEvent,i),e.exports=SyntheticWheelEvent},function(e,t,n){"use strict";function ReactDOMContainerInfo(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var r=n(152),i=9;e.exports=ReactDOMContainerInfo},function(e,t,n){"use strict";var r={useCreateElement:!0,useFiber:!1};e.exports=r},function(e,t,n){"use strict";var r=n(434),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return o.test(e)?e:e.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};e.exports=a},function(e,t,n){"use strict";function adler32(e){for(var t=1,n=0,i=0,o=e.length,a=-4&o;i<a;){for(var s=Math.min(i+4096,a);i<s;i+=4)n+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=r,n%=r}for(;i<o;i++)n+=t+=e.charCodeAt(i);return t%=r,n%=r,t|n<<16}var r=65521;e.exports=adler32},function(e,t,n){"use strict";e.exports="15.6.1"},function(e,t,n){"use strict";function findDOMNode(e){var t;if(null==e)return null;if(1===e.nodeType)return e;var n=a.get(e);if(n)return(n=s(n))?o.getNodeFromInstance(n):null;"function"==typeof e.render?r("44"):r("45",Object.keys(e))}var r=n(6),i=n(44),o=n(11),a=n(90),s=n(238),c=n(2),u=n(5);e.exports=findDOMNode},function(e,t,n){"use strict";var r=n(237);e.exports=r.renderSubtreeIntoContainer},function(e,t){function arrayFilter(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=arrayFilter},function(e,t,n){function baseToString(e){if("string"==typeof e)return e;if(o(e))return i(e,baseToString)+"";if(a(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}var r=n(96),i=n(202),o=n(46),a=n(130),s=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;e.exports=baseToString},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNKNOWN="unknown";var r="missingTimeSlot",i="missingRequest",o="missingLanguage",a="missingTimeZone",s="noMoreQuestions",c="slotNotFound",u="slotAlreadyExists",l="slotInformationIsMissing",d="slotNotAvailableForScheduling",p="requestNotFound",h="requestAlreadyExistsInSlot",f="requestInformationIsMissing",g="requestNotOwnedByUser",m="lockedRequest";t.USER_NOT_FOUND="userNotFound",t.COMPANY_NOT_FOUND="companyNotFound",t.USER_INFORMATION_IS_MISSING="userInformationIsMissing",t.WRONG_PASSWORD="wrongPassword",t.PASSWORD_MISMATCH="passwordMismatch",t.MISSING_FIRST_NAME="missingFirstName",t.MISSING_LAST_NAME="missingLastName",t.MISSING_EMAIL="missingEmail",t.MISSING_PASSWORD="missingPassword",t.INVALID_EMAIL="invalidEmail",t.INVALID_PROVIDER_TOKEN="invalidProviderToken",t.EMAIL_ALREADY_USED="emailAlreadyUsed",t.PLACEMENT_FEEDBACK_NOT_FOUND="placementFeedbackNotFound",t.CONNECTION_REFUSED="connectionRefused",t.errorToMessage=function(e){switch(e){case t.UNKNOWN:return"An unexpected error occurred, please try again or contact us at team@pramp.com";case"missingTimeSlot":return"Please click Cancel button and select a time slot";case i:return"Please select the request you'd like to cancel";case o:return"Please select at least 1 language to interview in";case"missingTimeZone":return"Please select your timezone from the list";case"noMoreQuestions":return"We're sorry, but we seem to have run out of new questions for you...\n      Please stay tuned, and we'll email you as soon as new content is available!";case"slotNotFound":return"Sorry, but we can't seem to find the time slot information";case"slotAlreadyExists":return"There's already a time slot configured for that time";case"slotInformationIsMissing":return"We need some information to retrieve the time slot";case"slotNotAvailableForScheduling":return"Sorry, the slot is no longer available for scheduling, please choose another";case"requestNotFound":return"Sorry, but we can't seem to find your interview request";case"requestAlreadyExistsInSlot":return"You already have another request scheduled for that time slot";case"requestInformationIsMissing":return"We need some information to retrieve the request";case"requestNotOwnedByUser":return"You're not the owner of this request, so we can't let you cancel it, sorry!";case m:return"Seems like this request is locked, contact us via email to make changes!";case t.USER_INFORMATION_IS_MISSING:return"User info is missing";case t.INVALID_PROVIDER_TOKEN:return"Invalid token";case t.MISSING_EMAIL:return"Email is missing";case t.INVALID_EMAIL:return"Please enter a valid email address";case t.EMAIL_ALREADY_USED:return"The email you entered is already taken :(";case t.USER_NOT_FOUND:case t.COMPANY_NOT_FOUND:return"The email or password you entered is incorrect";case t.MISSING_PASSWORD:return"Password is missing";case t.WRONG_PASSWORD:return"Password is incorrect";case t.PASSWORD_MISMATCH:return"Password is mismatched";case t.MISSING_FIRST_NAME:return"First name is missing";case t.MISSING_LAST_NAME:return"Last name is missing";case t.CONNECTION_REFUSED:return"The service seems to be unavailable";case t.PLACEMENT_FEEDBACK_NOT_FOUND:return"\n      We're sorry, we're having some issues retrieving the information you're looking for.\n      If the problem persists, please contact us at team@pramp.com";default:return""}},t.getFirstErrorMessage=function(e){return[].concat(e).reduce(function(e,n){return e.length?e:t.errorToMessage(n)},"")}},function(e,t){},function(e,t){function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=baseTimes},,,function(e,t){},function(e,t,n){"use strict";(function(e){function define(e,n,r){e[n]||Object[t](e,n,{writable:!0,configurable:!0,value:r})}if(n(448),n(645),n(646),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var t="defineProperty";define(String.prototype,"padLeft","".padStart),define(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&define(Array,e,Function.call.bind([][e]))})}).call(t,n(37))},function(e,t,n){n(449),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(529),n(530),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(180),n(553),n(554),n(261),n(555),n(556),n(557),n(558),n(559),n(264),n(266),n(267),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),e.exports=n(38)},function(e,t,n){"use strict";var r=n(4),i=n(20),o=n(12),a=n(0),s=n(22),c=n(51).KEY,u=n(7),l=n(109),d=n(81),p=n(56),h=n(10),f=n(244),g=n(160),m=n(450),v=n(112),y=n(3),_=n(27),b=n(39),S=n(55),w=n(60),C=n(247),T=n(28),E=n(13),k=n(58),x=T.f,I=E.f,R=C.f,O=r.Symbol,P=r.JSON,A=P&&P.stringify,M="prototype",N=h("_hidden"),D=h("toPrimitive"),L={}.propertyIsEnumerable,F=l("symbol-registry"),U=l("symbols"),j=l("op-symbols"),W=Object[M],B="function"==typeof O,H=r.QObject,z=!H||!H[M]||!H[M].findChild,q=o&&u(function(){return 7!=w(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=x(W,t);r&&delete W[t],I(e,t,n),r&&e!==W&&I(W,t,r)}:I,V=function(e){var t=U[e]=w(O[M]);return t._k=e,t},G=B&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},$=function defineProperty(e,t,n){return e===W&&$(j,t,n),y(e),t=b(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=w(n,{enumerable:S(0,!1)})):(i(e,N)||I(e,N,S(1,{})),e[N][t]=!0),q(e,t,n)):I(e,t,n)},X=function defineProperties(e,t){y(e);for(var n=m(t=_(t)),r=0,i=n.length,o;i>r;)$(e,o=n[r++],t[o]);return e},K=function create(e,t){return void 0===t?w(e):X(w(e),t)},Y=function propertyIsEnumerable(e){var t=L.call(this,e=b(e,!0));return!(this===W&&i(U,e)&&!i(j,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,N)&&this[N][e])||t)},Q=function getOwnPropertyDescriptor(e,t){if(e=_(e),t=b(t,!0),e!==W||!i(U,t)||i(j,t)){var n=x(e,t);return!n||!i(U,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},J=function getOwnPropertyNames(e){for(var t=R(_(e)),n=[],r=0,o;t.length>r;)i(U,o=t[r++])||o==N||o==c||n.push(o);return n},Z=function getOwnPropertySymbols(e){for(var t=e===W,n=R(t?j:_(e)),r=[],o=0,a;n.length>o;)!i(U,a=n[o++])||t&&!i(W,a)||r.push(U[a]);return r};B||(s((O=function Symbol(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===W&&t.call(j,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),q(this,e,S(1,n))};return o&&z&&q(W,e,{configurable:!0,set:t}),V(e)})[M],"toString",function toString(){return this._k}),T.f=Q,E.f=$,n(61).f=C.f=J,n(92).f=Y,n(111).f=Z,o&&!n(57)&&s(W,"propertyIsEnumerable",Y,!0),f.f=function(e){return V(h(e))}),a(a.G+a.W+a.F*!B,{Symbol:O});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ne=k(h.store),re=0;ne.length>re;)g(ne[re++]);a(a.S+a.F*!B,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=O(e)},keyFor:function keyFor(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!B,"Object",{create:K,defineProperty:$,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),P&&a(a.S+a.F*(!B||u(function(){var e=O();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))})),"JSON",{stringify:function stringify(e){if(void 0!==e&&!G(e)){for(var t=[e],n=1,r,i;arguments.length>n;)t.push(arguments[n++]);return"function"==typeof(r=t[1])&&(i=r),!i&&v(r)||(r=function(e,t){if(i&&(t=i.call(this,e,t)),!G(t))return t}),t[1]=r,A.apply(P,t)}}}),O[M][D]||n(21)(O[M],D,O[M].valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(58),i=n(111),o=n(92);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a=n(e),s=o.f,c=0,u;a.length>c;)s.call(e,u=a[c++])&&t.push(u);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(60)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(12),"Object",{defineProperty:n(13).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(12),"Object",{defineProperties:n(246)})},function(e,t,n){var r=n(27),i=n(28).f;n(42)("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(e,t){return i(r(e),t)}})},function(e,t,n){var r=n(16),i=n(29);n(42)("getPrototypeOf",function(){return function getPrototypeOf(e){return i(r(e))}})},function(e,t,n){var r=n(16),i=n(58);n(42)("keys",function(){return function keys(e){return i(r(e))}})},function(e,t,n){n(42)("getOwnPropertyNames",function(){return n(247).f})},function(e,t,n){var r=n(8),i=n(51).onFreeze;n(42)("freeze",function(e){return function freeze(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(8),i=n(51).onFreeze;n(42)("seal",function(e){return function seal(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(8),i=n(51).onFreeze;n(42)("preventExtensions",function(e){return function preventExtensions(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(8);n(42)("isFrozen",function(e){return function isFrozen(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(8);n(42)("isSealed",function(e){return function isSealed(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(8);n(42)("isExtensible",function(e){return function isExtensible(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(248)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(466)})},function(e,t){e.exports=Object.is||function is(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(164).set})},function(e,t,n){"use strict";var r=n(93),i={};i[n(10)("toStringTag")]="z",i+""!="[object z]"&&n(22)(Object.prototype,"toString",function toString(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(249)})},function(e,t,n){var r=n(13).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(12)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(8),i=n(29),o=n(10)("hasInstance"),a=Function.prototype;o in a||n(13).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),i=n(251);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(0),i=n(252);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){"use strict";var r=n(4),i=n(20),o=n(33),a=n(166),s=n(39),c=n(7),u=n(61).f,l=n(28).f,d=n(13).f,p=n(82).trim,h="Number",f=r[h],g=f,m=f.prototype,v=o(n(60)(m))==h,y="trim"in String.prototype,_=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n=(t=y?t.trim():p(t,3)).charCodeAt(0),r,i,o;if(43===n||45===n){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(var a=t.slice(2),c=0,u=a.length,l;c<u;c++)if((l=a.charCodeAt(c))<48||l>o)return NaN;return parseInt(a,i)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function Number(e){var t=arguments.length<1?0:e,n=this;return n instanceof f&&(v?c(function(){m.valueOf.call(n)}):o(n)!=h)?a(new g(_(t)),n,f):_(t)};for(var b=n(12)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0,w;b.length>S;S++)i(g,w=b[S])&&!i(f,w)&&d(f,w,l(g,w));f.prototype=m,m.constructor=f,n(22)(r,h,f)}},function(e,t,n){"use strict";var r=n(0),i=n(41),o=n(253),a=n(167),s=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",d="0",p=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*u[n],u[n]=r%1e7,r=c(r/1e7)},h=function(e){for(var t=6,n=0;--t>=0;)n+=u[t],u[t]=c(n/e),n=n%e*1e7},f=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},g=function(e,t,n){return 0===t?n:t%2==1?g(e,t-1,n*e):g(e*e,t/2,n)},m=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(7)(function(){s.call({})})),"Number",{toFixed:function toFixed(e){var t=o(this,l),n=i(e),r="",s="0",c,u,d,v;if(n<0||n>20)throw RangeError(l);if(t!=t)return"NaN";if(t<=-1e21||t>=1e21)return String(t);if(t<0&&(r="-",t=-t),t>1e-21)if(c=m(t*g(2,69,1))-69,u=c<0?t*g(2,-c,1):t/g(2,c,1),u*=4503599627370496,(c=52-c)>0){for(p(0,u),d=n;d>=7;)p(1e7,0),d-=7;for(p(g(10,d,1),0),d=c-1;d>=23;)h(1<<23),d-=23;h(1<<d),p(1,1),h(2),s=f()}else p(0,u),p(1<<-c,0),s=f()+a.call("0",n);return s=n>0?r+((v=s.length)<=n?"0."+a.call("0",n-v)+s:s.slice(0,v-n)+"."+s.slice(v-n)):r+s}})},function(e,t,n){"use strict";var r=n(0),i=n(7),o=n(253),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function toPrecision(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),i=n(4).isFinite;r(r.S,"Number",{isFinite:function isFinite(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(254)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function isNaN(e){return e!=e}})},function(e,t,n){var r=n(0),i=n(254),o=Math.abs;r(r.S,"Number",{isSafeInteger:function isSafeInteger(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),i=n(252);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(0),i=n(251);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(0),i=n(255),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function acosh(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,n){function asinh(e){return isFinite(e=+e)&&0!=e?e<0?-asinh(-e):Math.log(e+Math.sqrt(e*e+1)):e}var r=n(0),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:asinh})},function(e,t,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function atanh(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),i=n(168);r(r.S,"Math",{cbrt:function cbrt(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function clz32(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function cosh(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(0),i=n(169);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(256)})},function(e,t,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function hypot(e,t){for(var n=0,r=0,o=arguments.length,a=0,s,c;r<o;)a<(s=i(arguments[r++]))?(n=n*(c=a/s)*c+1,a=s):n+=s>0?(c=s/a)*c:s;return a===1/0?1/0:a*Math.sqrt(n)}})},function(e,t,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(7)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function imul(e,t){var n=65535,r=+e,i=+t,o=65535&r,a=65535&i;return 0|o*a+((65535&r>>>16)*a+o*(65535&i>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function log10(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(255)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function log2(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(168)})},function(e,t,n){var r=n(0),i=n(169),o=Math.exp;r(r.S+r.F*n(7)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function sinh(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),i=n(169),o=Math.exp;r(r.S,"Math",{tanh:function tanh(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function trunc(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),i=n(59),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function fromCodePoint(e){for(var t=[],n=arguments.length,r=0,a;n>r;){if(a=+arguments[r++],i(a,1114111)!==a)throw RangeError(a+" is not a valid code point");t.push(a<65536?o(a):o(55296+((a-=65536)>>10),a%1024+56320))}return t.join("")}})},function(e,t,n){var r=n(0),i=n(27),o=n(14);r(r.S,"String",{raw:function raw(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(82)("trim",function(e){return function trim(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(170)(!0);n(171)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i,n;return t>=e.length?{value:void 0,done:!0}:(n=r(e,t),this._i+=n.length,{value:n,done:!1})})},function(e,t,n){"use strict";var r=n(0),i=n(170)(!1);r(r.P,"String",{codePointAt:function codePointAt(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(14),o=n(173),a="endsWith",s=""[a];r(r.P+r.F*n(174)(a),"String",{endsWith:function endsWith(e){var t=o(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),c=void 0===n?r:Math.min(i(n),r),u=String(e);return s?s.call(t,u,c):t.slice(c-u.length,c)===u}})},function(e,t,n){"use strict";var r=n(0),i=n(173),o="includes";r(r.P+r.F*n(174)(o),"String",{includes:function includes(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(167)})},function(e,t,n){"use strict";var r=n(0),i=n(14),o=n(173),a="startsWith",s=""[a];r(r.P+r.F*n(174)(a),"String",{startsWith:function startsWith(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(23)("anchor",function(e){return function anchor(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(23)("big",function(e){return function big(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(23)("blink",function(e){return function blink(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(23)("bold",function(e){return function bold(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(23)("fixed",function(e){return function fixed(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(23)("fontcolor",function(e){return function fontcolor(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(23)("fontsize",function(e){return function fontsize(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(23)("italics",function(e){return function italics(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(23)("link",function(e){return function link(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(23)("small",function(e){return function small(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(23)("strike",function(e){return function strike(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(23)("sub",function(e){return function sub(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(23)("sup",function(e){return function sup(){return e(this,"sup","","")}})},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),i=n(16),o=n(39);r(r.P+r.F*n(7)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function toJSON(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),i=n(528);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(7),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function toISOString(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n(22)(r,o,function toString(){var e=s.call(this);return e===e?a.call(this):i})},function(e,t,n){var r=n(10)("toPrimitive"),i=Date.prototype;r in i||n(21)(i,r,n(531))},function(e,t,n){"use strict";var r=n(3),i=n(39),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(112)})},function(e,t,n){"use strict";var r=n(32),i=n(0),o=n(16),a=n(257),s=n(175),c=n(14),u=n(176),l=n(177);i(i.S+i.F*!n(114)(function(e){Array.from(e)}),"Array",{from:function from(e){var t=o(e),n="function"==typeof this?this:Array,i=arguments.length,d=i>1?arguments[1]:void 0,p=void 0!==d,h=0,f=l(t),g,m,v,y;if(p&&(d=r(d,i>2?arguments[2]:void 0,2)),void 0==f||n==Array&&s(f))for(m=new n(g=c(t.length));g>h;h++)u(m,h,p?d(t[h],h):t[h]);else for(y=f.call(t),m=new n;!(v=y.next()).done;h++)u(m,h,p?a(y,d,[v.value,h],!0):v.value);return m.length=h,m}})},function(e,t,n){"use strict";var r=n(0),i=n(176);r(r.S+r.F*n(7)(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function of(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),i=n(27),o=[].join;r(r.P+r.F*(n(91)!=Object||!n(34)(o)),"Array",{join:function join(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),i=n(163),o=n(33),a=n(59),s=n(14),c=[].slice;r(r.P+r.F*n(7)(function(){i&&c.call(i)}),"Array",{slice:function slice(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return c.call(this,e,t);for(var i=a(e,n),u=a(t,n),l=s(u-i),d=Array(l),p=0;p<l;p++)d[p]="String"==r?this.charAt(i+p):this[i+p];return d}})},function(e,t,n){"use strict";var r=n(0),i=n(19),o=n(16),a=n(7),s=[].sort,c=[1,2,3];r(r.P+r.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!n(34)(s)),"Array",{sort:function sort(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){"use strict";var r=n(0),i=n(43)(0),o=n(34)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function forEach(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(8),i=n(112),o=n(10)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),i=n(43)(1);r(r.P+r.F*!n(34)([].map,!0),"Array",{map:function map(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(43)(2);r(r.P+r.F*!n(34)([].filter,!0),"Array",{filter:function filter(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(43)(3);r(r.P+r.F*!n(34)([].some,!0),"Array",{some:function some(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(43)(4);r(r.P+r.F*!n(34)([].every,!0),"Array",{every:function every(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(258);r(r.P+r.F*!n(34)([].reduce,!0),"Array",{reduce:function reduce(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(258);r(r.P+r.F*!n(34)([].reduceRight,!0),"Array",{reduceRight:function reduceRight(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(110)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(34)(o)),"Array",{indexOf:function indexOf(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(27),o=n(41),a=n(14),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(34)(s)),"Array",{lastIndexOf:function lastIndexOf(e){if(c)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(259)}),n(52)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(179)}),n(52)("fill")},function(e,t,n){"use strict";var r=n(0),i=n(43)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function find(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(52)(o)},function(e,t,n){"use strict";var r=n(0),i=n(43)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function findIndex(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(52)(o)},function(e,t,n){n(62)("Array")},function(e,t,n){var r=n(4),i=n(166),o=n(13).f,a=n(61).f,s=n(113),c=n(115),u=r.RegExp,l=u,d=u.prototype,p=/a/g,h=/a/g,f=new u(p)!==p;if(n(12)&&(!f||n(7)(function(){return h[n(10)("match")]=!1,u(p)!=p||u(h)==h||"/a/i"!=u(p,"i")}))){u=function RegExp(e,t){var n=this instanceof u,r=s(e),o=void 0===t;return!n&&r&&e.constructor===u&&o?e:i(f?new l(r&&!o?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&o?c.call(e):t),n?this:d,u)};for(var g=function(e){e in u||o(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},m=a(l),v=0;m.length>v;)g(m[v++]);d.constructor=u,u.prototype=d,n(22)(r,"RegExp",u)}n(62)("RegExp")},function(e,t,n){"use strict";n(261);var r=n(3),i=n(115),o=n(12),a="toString",s=/./[a],c=function(e){n(22)(RegExp.prototype,a,e,!0)};n(7)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function toString(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):s.name!=a&&c(function toString(){return s.call(this)})},function(e,t,n){n(116)("match",1,function(e,t,n){return[function match(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(116)("replace",2,function(e,t,n){return[function replace(r,i){"use strict";var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(e,t,n){n(116)("search",1,function(e,t,n){return[function search(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(116)("split",2,function(e,t,r){"use strict";var i=n(113),o=r,a=[].push,s="split",c="length",u="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[c]||2!="ab"[s](/(?:ab)*/)[c]||4!="."[s](/(.?)(.?)/)[c]||"."[s](/()()/)[c]>1||""[s](/.?/)[c]){var l=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(n,e,t);var r=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,s+"g"),f,g,m,v,y;for(l||(f=new RegExp("^"+h.source+"$(?!\\s)",s));(g=h.exec(n))&&!((m=g.index+g[0][c])>d&&(r.push(n.slice(d,g.index)),!l&&g[c]>1&&g[0].replace(f,function(){for(y=1;y<arguments[c]-2;y++)void 0===arguments[y]&&(g[y]=void 0)}),g[c]>1&&g.index<n[c]&&a.apply(r,g.slice(1)),v=g[0][c],d=m,r[c]>=p));)h[u]===g.index&&h[u]++;return d===n[c]?!v&&h.test("")||r.push(""):r.push(n.slice(d)),r[c]>p?r.slice(0,p):r}}else"0"[s](void 0,0)[c]&&(r=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function split(n,i){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(e,t,n){"use strict";var r=n(57),i=n(4),o=n(32),a=n(93),s=n(0),c=n(8),u=n(19),l=n(63),d=n(64),p=n(117),h=n(181).set,f=n(182)(),g=n(183),m=n(262),v=n(263),y="Promise",_=i.TypeError,b=i.process,S=i[y],w="process"==a(b),C=function(){},T,E,k,x,I=E=g.f,R=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[n(10)("species")]=function(e){e(C,C)};return(w||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t}catch(e){}}(),O=function(e){var t;return!(!c(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;f(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n=i?t.ok:t.fail,o=t.resolve,a=t.reject,s=t.domain,c,u;try{n?(i||(2==e._h&&N(e),e._h=1),!0===n?c=r:(s&&s.enter(),c=n(r),s&&s.exit()),c===t.promise?a(_("Promise-chain cycle")):(u=O(c))?u.call(c,o,a):o(c)):a(r)}catch(e){a(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&A(e)})}},A=function(e){h.call(i,function(){var t=e._v,n=M(e),r,o,a;if(n&&(r=m(function(){w?b.emit("unhandledRejection",t,e):(o=i.onunhandledrejection)?o({promise:e,reason:t}):(a=i.console)&&a.error&&a.error("Unhandled promise rejection",t)}),e._h=w||M(e)?2:1),e._a=void 0,n&&r.e)throw r.v})},M=function(e){if(1==e._h)return!1;for(var t=e._a||e._c,n=0,r;t.length>n;)if((r=t[n++]).fail||!M(r.promise))return!1;return!0},N=function(e){h.call(i,function(){var t;w?b.emit("rejectionHandled",e):(t=i.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},L=function(e){var t=this,n;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw _("Promise can't be resolved itself");(n=O(e))?f(function(){var r={_w:t,_d:!1};try{n.call(e,o(L,r,1),o(D,r,1))}catch(e){D.call(r,e)}}):(t._v=e,t._s=1,P(t,!1))}catch(e){D.call({_w:t,_d:!1},e)}}};R||(S=function Promise(e){l(this,S,y,"_h"),u(e),T.call(this);try{e(o(L,this,1),o(D,this,1))}catch(e){D.call(this,e)}},(T=function Promise(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(65)(S.prototype,{then:function then(e,t){var n=I(p(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=w?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),k=function(){var e=new T;this.promise=e,this.resolve=o(L,e,1),this.reject=o(D,e,1)},g.f=I=function(e){return e===S||e===x?new k(e):E(e)}),s(s.G+s.W+s.F*!R,{Promise:S}),n(81)(S,y),n(62)(y),x=n(38)[y],s(s.S+s.F*!R,y,{reject:function reject(e){var t=I(this);return(0,t.reject)(e),t.promise}}),s(s.S+s.F*(r||!R),y,{resolve:function resolve(e){return v(r&&this===x?S:this,e)}}),s(s.S+s.F*!(R&&n(114)(function(e){S.all(e).catch(C)})),y,{all:function all(e){var t=this,n=I(t),r=n.resolve,i=n.reject,o=m(function(){var n=[],o=0,a=1;d(e,!1,function(e){var s=o++,c=!1;n.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function race(e){var t=this,n=I(t),r=n.reject,i=m(function(){d(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){"use strict";var r=n(268),i=n(84),o="WeakSet";n(118)(o,function(e){return function WeakSet(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),i=n(119),o=n(184),a=n(3),s=n(59),c=n(14),u=n(8),l=n(4).ArrayBuffer,d=n(117),p=o.ArrayBuffer,h=o.DataView,f=i.ABV&&l.isView,g=p.prototype.slice,m=i.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(l!==p),{ArrayBuffer:p}),r(r.S+r.F*!i.CONSTR,v,{isView:function isView(e){return f&&f(e)||u(e)&&m in e}}),r(r.P+r.U+r.F*n(7)(function(){return!new p(2).slice(1,void 0).byteLength}),v,{slice:function slice(e,t){if(void 0!==g&&void 0===t)return g.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(d(this,p))(c(i-r)),u=new h(this),l=new h(o),f=0;r<i;)l.setUint8(f++,u.getUint8(r++));return o}}),n(62)(v)},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(119).ABV,{DataView:n(184).DataView})},function(e,t,n){n(49)("Int8",1,function(e){return function Int8Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Uint8",1,function(e){return function Uint8Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Uint8",1,function(e){return function Uint8ClampedArray(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(49)("Int16",2,function(e){return function Int16Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Uint16",2,function(e){return function Uint16Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Int32",4,function(e){return function Int32Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Uint32",4,function(e){return function Uint32Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Float32",4,function(e){return function Float32Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Float64",8,function(e){return function Float64Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(0),i=n(19),o=n(3),a=(n(4).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(7)(function(){a(function(){})}),"Reflect",{apply:function apply(e,t,n){var r=i(e),c=o(n);return a?a(r,t,c):s.call(r,t,c)}})},function(e,t,n){var r=n(0),i=n(60),o=n(19),a=n(3),s=n(8),c=n(7),u=n(249),l=(n(4).Reflect||{}).construct,d=c(function(){function F(){}return!(l(function(){},[],F)instanceof F)}),p=!c(function(){l(function(){})});r(r.S+r.F*(d||p),"Reflect",{construct:function construct(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(p&&!d)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var c=n.prototype,h=i(s(c)?c:Object.prototype),f=Function.apply.call(e,h,t);return s(f)?f:h}})},function(e,t,n){var r=n(13),i=n(0),o=n(3),a=n(39);i(i.S+i.F*n(7)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function defineProperty(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),i=n(28).f,o=n(3);r(r.S,"Reflect",{deleteProperty:function deleteProperty(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(0),i=n(3),o=function(e){this._t=i(e),this._i=0;var t=this._k=[],n;for(n in e)t.push(n)};n(172)(o,"Object",function(){var e=this,t=e._k,n;do{if(e._i>=t.length)return{value:void 0,done:!0}}while(!((n=t[e._i++])in e._t));return{value:n,done:!1}}),r(r.S,"Reflect",{enumerate:function enumerate(e){return new o(e)}})},function(e,t,n){function get(e,t){var n=arguments.length<3?e:arguments[2],a,u;return c(e)===n?e[t]:(a=r.f(e,t))?o(a,"value")?a.value:void 0!==a.get?a.get.call(n):void 0:s(u=i(e))?get(u,t,n):void 0}var r=n(28),i=n(29),o=n(20),a=n(0),s=n(8),c=n(3);a(a.S,"Reflect",{get:get})},function(e,t,n){var r=n(28),i=n(0),o=n(3);i(i.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(0),i=n(29),o=n(3);r(r.S,"Reflect",{getPrototypeOf:function getPrototypeOf(e){return i(o(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function has(e,t){return t in e}})},function(e,t,n){var r=n(0),i=n(3),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function isExtensible(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(270)})},function(e,t,n){var r=n(0),i=n(3),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function preventExtensions(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){function set(e,t,n){var s=arguments.length<4?e:arguments[3],d=i.f(u(e),t),p,h;if(!d){if(l(h=o(e)))return set(h,t,n,s);d=c(0)}return a(d,"value")?!(!1===d.writable||!l(s))&&(p=i.f(s,t)||c(0),p.value=n,r.f(s,t,p),!0):void 0!==d.set&&(d.set.call(s,n),!0)}var r=n(13),i=n(28),o=n(29),a=n(20),s=n(0),c=n(55),u=n(3),l=n(8);s(s.S,"Reflect",{set:set})},function(e,t,n){var r=n(0),i=n(164);i&&r(r.S,"Reflect",{setPrototypeOf:function setPrototypeOf(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),i=n(110)(!0);r(r.P,"Array",{includes:function includes(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(52)("includes")},function(e,t,n){"use strict";var r=n(0),i=n(271),o=n(16),a=n(14),s=n(19),c=n(178);r(r.P,"Array",{flatMap:function flatMap(e){var t=o(this),n,r;return s(e),n=a(t.length),r=c(t,0),i(r,t,t,n,0,1,e,arguments[1]),r}}),n(52)("flatMap")},function(e,t,n){"use strict";var r=n(0),i=n(271),o=n(16),a=n(14),s=n(41),c=n(178);r(r.P,"Array",{flatten:function flatten(){var e=arguments[0],t=o(this),n=a(t.length),r=c(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(52)("flatten")},function(e,t,n){"use strict";var r=n(0),i=n(170)(!0);r(r.P,"String",{at:function at(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(272);r(r.P,"String",{padStart:function padStart(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(272);r(r.P,"String",{padEnd:function padEnd(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(82)("trimLeft",function(e){return function trimLeft(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(82)("trimRight",function(e){return function trimRight(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(0),i=n(40),o=n(14),a=n(113),s=n(115),c=RegExp.prototype,u=function(e,t){this._r=e,this._s=t};n(172)(u,"RegExp String",function next(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function matchAll(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in c?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new u(r,t)}})},function(e,t,n){n(160)("asyncIterator")},function(e,t,n){n(160)("observable")},function(e,t,n){var r=n(0),i=n(270),o=n(27),a=n(28),s=n(176);r(r.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(e){for(var t=o(e),n=a.f,r=i(t),c={},u=0,l,d;r.length>u;)void 0!==(d=n(t,l=r[u++]))&&s(c,l,d);return c}})},function(e,t,n){var r=n(0),i=n(273)(!1);r(r.S,"Object",{values:function values(e){return i(e)}})},function(e,t,n){var r=n(0),i=n(273)(!0);r(r.S,"Object",{entries:function entries(e){return i(e)}})},function(e,t,n){"use strict";var r=n(0),i=n(16),o=n(19),a=n(13);n(12)&&r(r.P+n(120),"Object",{__defineGetter__:function __defineGetter__(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(16),o=n(19),a=n(13);n(12)&&r(r.P+n(120),"Object",{__defineSetter__:function __defineSetter__(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(16),o=n(39),a=n(29),s=n(28).f;n(12)&&r(r.P+n(120),"Object",{__lookupGetter__:function __lookupGetter__(e){var t=i(this),n=o(e,!0),r;do{if(r=s(t,n))return r.get}while(t=a(t))}})},function(e,t,n){"use strict";var r=n(0),i=n(16),o=n(39),a=n(29),s=n(28).f;n(12)&&r(r.P+n(120),"Object",{__lookupSetter__:function __lookupSetter__(e){var t=i(this),n=o(e,!0),r;do{if(r=s(t,n))return r.set}while(t=a(t))}})},function(e,t,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(274)("Map")})},function(e,t,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(274)("Set")})},function(e,t,n){n(121)("Map")},function(e,t,n){n(121)("Set")},function(e,t,n){n(121)("WeakMap")},function(e,t,n){n(121)("WeakSet")},function(e,t,n){n(122)("Map")},function(e,t,n){n(122)("Set")},function(e,t,n){n(122)("WeakMap")},function(e,t,n){n(122)("WeakSet")},function(e,t,n){var r=n(0);r(r.G,{global:n(4)})},function(e,t,n){var r=n(0);r(r.S,"System",{global:n(4)})},function(e,t,n){var r=n(0),i=n(33);r(r.S,"Error",{isError:function isError(e){return"Error"===i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clamp:function clamp(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function degrees(e){return e*i}})},function(e,t,n){var r=n(0),i=n(276),o=n(256);r(r.S,"Math",{fscale:function fscale(e,t,n,r,a){return o(i(e,t,n,r,a))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{iaddh:function iaddh(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{isubh:function isubh(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{imulh:function imulh(e,t){var n=65535,r=+e,i=+t,o=65535&r,a=65535&i,s=r>>16,c=i>>16,u=(s*a>>>0)+(o*a>>>16);return s*c+(u>>16)+((o*c>>>0)+(65535&u)>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function radians(e){return e*i}})},function(e,t,n){var r=n(0);r(r.S,"Math",{scale:n(276)})},function(e,t,n){var r=n(0);r(r.S,"Math",{umulh:function umulh(e,t){var n=65535,r=+e,i=+t,o=65535&r,a=65535&i,s=r>>>16,c=i>>>16,u=(s*a>>>0)+(o*a>>>16);return s*c+(u>>>16)+((o*c>>>0)+(65535&u)>>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{signbit:function signbit(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var r=n(0),i=n(38),o=n(4),a=n(117),s=n(263);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(0),i=n(183),o=n(262);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(50),i=n(3),o=r.key,a=r.set;r.exp({defineMetadata:function defineMetadata(e,t,n,r){a(e,t,i(n),o(r))}})},function(e,t,n){var r=n(50),i=n(3),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function deleteMetadata(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var c=s.get(t);return c.delete(n),!!c.size||s.delete(t)}})},function(e,t,n){var r=n(50),i=n(3),o=n(29),a=r.has,s=r.get,c=r.key,u=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?u(e,r,n):void 0};r.exp({getMetadata:function getMetadata(e,t){return u(e,i(t),arguments.length<3?void 0:c(arguments[2]))}})},function(e,t,n){var r=n(266),i=n(275),o=n(50),a=n(3),s=n(29),c=o.keys,u=o.key,l=function(e,t){var n=c(e,t),o=s(e);if(null===o)return n;var a=l(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function getMetadataKeys(e){return l(a(e),arguments.length<2?void 0:u(arguments[1]))}})},function(e,t,n){var r=n(50),i=n(3),o=r.get,a=r.key;r.exp({getOwnMetadata:function getOwnMetadata(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(50),i=n(3),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function getOwnMetadataKeys(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){var r=n(50),i=n(3),o=n(29),a=r.has,s=r.key,c=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&c(e,r,n)};r.exp({hasMetadata:function hasMetadata(e,t){return c(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(50),i=n(3),o=r.has,a=r.key;r.exp({hasOwnMetadata:function hasOwnMetadata(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(50),i=n(3),o=n(19),a=r.key,s=r.set;r.exp({metadata:function metadata(e,t){return function decorator(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},function(e,t,n){var r=n(0),i=n(182)(),o=n(4).process,a="process"==n(33)(o);r(r.G,{asap:function asap(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(0),i=n(4),o=n(38),a=n(182)(),s=n(10)("observable"),c=n(19),u=n(3),l=n(63),d=n(65),p=n(21),h=n(64),f=h.RETURN,g=function(e){return null==e?void 0:c(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},y=function(e){v(e)||(e._o=void 0,m(e))},_=function(e,t){u(e),this._c=void 0,this._o=e,e=new b(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:c(n),this._c=n)}catch(t){return void e.error(t)}v(this)&&m(this)};_.prototype=d({},{unsubscribe:function unsubscribe(){y(this)}});var b=function(e){this._s=e};b.prototype=d({},{next:function next(e){var t=this._s;if(!v(t)){var n=t._o;try{var r=g(n.next);if(r)return r.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function error(e){var t=this._s;if(v(t))throw e;var n=t._o;t._o=void 0;try{var r=g(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function complete(e){var t=this._s;if(!v(t)){var n=t._o;t._o=void 0;try{var r=g(n.complete);e=r?r.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var S=function Observable(e){l(this,S,"Observable","_f")._f=c(e)};d(S.prototype,{subscribe:function subscribe(e){return new _(e,this._f)},forEach:function forEach(e){var t=this;return new(o.Promise||i.Promise)(function(n,r){c(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})})}}),d(S,{from:function from(e){var t="function"==typeof this?this:S,n=g(u(e)[s]);if(n){var r=u(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(h(e,!1,function(e){if(t.next(e),n)return f})===f)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function of(){for(var e=0,t=arguments.length,n=Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:S)(function(e){var t=!1;return a(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),p(S.prototype,s,function(){return this}),r(r.G,{Observable:S}),n(62)("Observable")},function(e,t,n){var r=n(4),i=n(0),o=r.navigator,a=[].slice,s=!!o&&/MSIE .\./.test(o.userAgent),c=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(e,t,n){var r=n(0),i=n(181);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(180),i=n(58),o=n(22),a=n(4),s=n(21),c=n(83),u=n(10),l=u("iterator"),d=u("toStringTag"),p=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(h),g=0;g<f.length;g++){var m=f[g],v=h[m],y=a[m],_=y&&y.prototype,b;if(_&&(_[l]||s(_,l,p),_[d]||s(_,d,m),c[m]=p,v))for(b in r)_[b]||o(_,b,r[b],!0)}},function(e,t,n){(function(t){!function(t){"use strict";function wrap(e,t,n,r){var i=t&&t.prototype instanceof Generator?t:Generator,o=Object.create(i.prototype),a=new Context(r||[]);return o._invoke=makeInvokeMethod(e,n,a),o}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function AsyncIterator(e){function invoke(t,n,i,o){var a=tryCatch(e[t],e,n);if("throw"!==a.type){var s=a.arg,c=s.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(e){invoke("next",e,i,o)},function(e){invoke("throw",e,i,o)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},o)}o(a.arg)}function enqueue(e,t){function callInvokeWithMethodAndArg(){return new Promise(function(n,r){invoke(e,t,n,r)})}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}"object"==typeof t.process&&t.process.domain&&(invoke=t.process.domain.bind(invoke));var n;this._invoke=enqueue}function makeInvokeMethod(e,t,n){var r=d;return function invoke(i,o){if(r===h)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return doneResult()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=maybeInvokeDelegate(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=tryCatch(e,t,n);if("normal"===c.type){if(r=n.done?f:p,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}function maybeInvokeDelegate(e,t){var n=e.iterator[t.method];if(n===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,maybeInvokeDelegate(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=tryCatch(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,g):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=i,next.done=!0,next};return o.next=o}}return{next:doneResult}}function doneResult(){return{value:i,done:!0}}var n=Object.prototype,r=n.hasOwnProperty,i,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=wrap;var d="suspendedStart",p="suspendedYield",h="executing",f="completed",g={},m={};m[a]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(values([])));y&&y!==n&&r.call(y,a)&&(m=y);var _=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);GeneratorFunction.prototype=_.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[c]=GeneratorFunction.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(_),e},l.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[s]=function(){return this},l.AsyncIterator=AsyncIterator,l.async=function(e,t,n,r){var i=new AsyncIterator(wrap(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},defineIteratorMethods(_),_[c]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function next(){for(;t.length;){var n=t.pop();if(n in e)return next.value=n,next.done=!1,next}return next.done=!0,next}},l.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function handle(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=i),!!r}if(this.done)throw e;for(var t=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;resetTryEntry(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:values(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=i),g}}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n(37))},function(e,t,n){n(647),e.exports=n(38).RegExp.escape},function(e,t,n){var r=n(0),i=n(648)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function escape(e){return i(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){function baseKeys(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}var r=n(197),i=n(708),o=Object.prototype.hasOwnProperty;e.exports=baseKeys},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(946),t.VideoSettingsLayout=function(e){var t=e.children;return r.createElement("div",{className:"video-settings-layout"},t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(947),t.VideoSettingsHeader=function(e){var t=e.children,n=e.onClose;return r.createElement("div",{className:"video-settings-header"},r.createElement("span",{className:"video-settings-header__title"},t||"Audio/Video preferences"),r.createElement("span",{className:"video-settings-header__close",onClick:n},"X"))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(973),t.VideoSettingsLabel=function(e){var t=e.children;return r.createElement("div",{className:"video-settings-label"},t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(242),i=function isDisconnected(e){return e.video.status===r.STATUS_DISCONNECTED&&!e.editor.editorConnected&&!e.webSocket.connected};t.selfStatusSelector=function(e){var t=e.video.status,n=e.editor.editorConnected,i=e.webSocket.connected;return-1!==[r.STATUS_NO_ACCESS,r.STATUS_NO_ACCESS_CAM,r.STATUS_NO_ACCESS_MIC,r.STATUS_CONNECTION_FAILED].indexOf(t)?t:t===r.STATUS_DISCONNECTED&&i?r.STATUS_CONNECTED:t===r.STATUS_CONNECTED&&n?r.STATUS_OK:r.STATUS_DISCONNECTED},t.peerStatusSelector=function(e){return i(e)?r.STATUS_DISCONNECTED:e.video.peerStatus},t.showRunCodeHintSelector=function(e){return e.session.showRunCodeHint&&!e.session.isInterviewer&&t.selfStatusSelector(e)===r.STATUS_OK},t.showRunCodeHintAcknowledgedSelector=function(e){return!e.session.showRunCodeHint};var o=function normalizeFirebaseLink(e){return e.replace("#","_sharp")};t.linkSelector=function(e){return e.session.code.language?["/firepads",e.session.rootPath,e.session.intervieweeUserId,o(e.session.code.language)].join("/"):""},t.placementSessionLinkSelector=function(e){return e.session.code.language?["/firepads","placement",e.session.rootPath,o(e.session.code.language)].join("/"):""}},function(e,t,n){"use strict";function isPrefixedValue(e){return"string"==typeof e&&r.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=isPrefixedValue;var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,n){(function(t,n){var i=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=void 0;if(void 0!==e)r=e;else if("undefined"!=typeof self)r=self;else try{r=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var i=r.Promise||n(8);t.local={Promise:i,GoogPromise:i}}).call(t,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(0,n(5).createFirebaseNamespace)();t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return i(void 0,e)}function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=i(e[n],t[n]));return e}function o(e,t,n){e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=r,t.deepExtend=i,t.patchProperty=o},function(t,n,o){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=s;return s=e,t}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.patchCapture=i;var s=Error.captureStackTrace,c=function e(t,n){if(r(this,e),this.code=t,this.message=n,s)s(this,u.prototype.create);else{var i=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return i.stack}})}};(c.prototype=Object.create(Error.prototype)).constructor=c,c.prototype.name="FirebaseError";var u=n.ErrorFactory=function(){function e(t,n,i){r(this,e),this.service=t,this.serviceName=n,this.errors=i,this.pattern=/\{\$([^}]+)}/g}return a(e,[{key:"create",value:function(e,t){void 0===t&&(t={});var n=this.errors[e],r=this.service+"/"+e,i=void 0;i=void 0===n?"Error":n.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),i=this.serviceName+": "+i+" ("+r+").";var o=new c(r,i);for(var a in t)t.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=t[a]);return o}}]),e}()},function(a,s,c){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){function e(e){var t=r[e=e||g];return void 0===t&&o("no-app",{name:e}),t}function t(e,t){Object.keys(a).forEach(function(r){var i=n(e,r);null!==i&&s[i]&&s[i](t,e)})}function n(e,t){if("serverAuth"===t)return null;var n=t,r=e.options;return"auth"===t&&(r.serviceAccount||r.credential)&&(n="serverAuth","serverAuth"in a||o("sa-not-supported")),n}var r={},a={},s={},c={__esModule:!0,initializeApp:function(e,n){void 0===n?n=g:"string"==typeof n&&""!==n||o("bad-app-name",{name:n+""}),void 0!==r[n]&&o("duplicate-app",{name:n});var i=new m(e,n,c);return r[n]=i,t(i,"create"),void 0!=i.INTERNAL&&void 0!=i.INTERNAL.getToken||(0,l.deepExtend)(i,{INTERNAL:{getUid:function(){return null},getToken:function(){return f.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}}),i},app:e,apps:null,Promise:f,SDK_VERSION:"3.9.0",INTERNAL:{registerService:function(t,n,r,i,u){a[t]&&o("duplicate-service",{name:t}),a[t]=u?n:function(e,t){return n(e,t,g)},i&&(s[t]=i);var d=void 0;return d=function(n){return void 0===n&&(n=e()),"function"!=typeof n[t]&&o("invalid-app-argument",{name:t}),n[t]()},void 0!==r&&(0,l.deepExtend)(d,r),c[t]=d,d},createFirebaseNamespace:i,extendNamespace:function(e){(0,l.deepExtend)(c,e)},createSubscribe:d.createSubscribe,ErrorFactory:p.ErrorFactory,removeApp:function(e){t(r[e],"delete"),delete r[e]},factories:a,useAsService:n,Promise:h.local.GoogPromise,deepExtend:l.deepExtend}};return(0,l.patchProperty)(c,"default",c),Object.defineProperty(c,"apps",{get:function(){return Object.keys(r).map(function(e){return r[e]})}}),(0,l.patchProperty)(e,"App",m),c}function o(e,t){throw y.create(e,t)}Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();s.createFirebaseNamespace=i;var l=c(3),d=c(6),p=c(4),h=c(0),f=h.local.Promise,g="[DEFAULT]",m=function(){function e(t,n,i){var o=this;r(this,e),this.firebase_=i,this.isDeleted_=!1,this.services_={},this.name_=n,this.options_=(0,l.deepCopy)(t);var a="credential"in this.options_,s="serviceAccount"in this.options_;if(a||s)var c=s?"serviceAccount":"credential";Object.keys(i.INTERNAL.factories).forEach(function(e){var t=i.INTERNAL.useAsService(o,e);if(null!==t){var n=o.getService.bind(o,t);(0,l.patchProperty)(o,e,n)}})}return u(e,[{key:"delete",value:function(){var e=this;return new f(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(r){t.push(e.services_[n][r])})}),f.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})}},{key:"getService",value:function(e,t){this.checkDestroyed_(),void 0===this.services_[e]&&(this.services_[e]={});var n=t||g;if(void 0===this.services_[e][n]){var r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),t);return this.services_[e][n]=r,r}return this.services_[e][n]}},{key:"extendApp",value:function(e){(0,l.deepExtend)(this,e)}},{key:"checkDestroyed_",value:function(){this.isDeleted_&&o("app-deleted",{name:this.name_})}},{key:"name",get:function(){return this.checkDestroyed_(),this.name_}},{key:"options",get:function(){return this.checkDestroyed_(),this.options_}}]),e}();m.prototype.name&&m.prototype.options||m.prototype.delete;var v={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},y=new p.ErrorFactory("app","Firebase",v)},function(t,n,s){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=new p(e,t);return n.subscribe.bind(n)}function o(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];d.resolve(!0).then(function(){e.apply(void 0,r)}).catch(function(e){t&&t(e)})}}function a(e,t){if("object"!==(void 0===e?"undefined":u(e))||null===e)return!1;var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s in e&&"function"==typeof e[s])return!0}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return!1}function c(){}Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.createSubscribe=i,n.async=o;var d=s(0).local.Promise,p=function(){function e(t,n){var i=this;r(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=d.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(e){i.error(e)})}return l(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r=this,i=void 0;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=a(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=c),void 0===i.error&&(i.error=c),void 0===i.complete&&(i.complete=c);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(e){}}),this.observers.push(i),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}()},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){g&&h&&(g=!1,h.length?f=h.concat(f):m=-1,f.length&&c())}function c(){if(!g){var e=i(a);g=!0;for(var t=f.length;t;){for(h=f,f=[];++m<t;)h&&h[m].run();m=-1,t=f.length}h=null,g=!1,o(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,d,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var h,f=[],g=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new s(e,t)),1!==f.length||g||i(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){(function(t){!function(n){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}c(t.promise,r)}else(1===e._state?c:s)(t.promise,e._value)})):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void l(i(n,t),e)}e._state=1,e._value=t,u(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var d=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new f(e,t,n)),n},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}t[o]=a,0==--i&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){d(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(t,n(10).setImmediate)},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[c]=r,s(c),c++}function i(e){delete u[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=u[e];if(t){l=!0;try{o(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,c=1,u={},l=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?s=function(e){t.nextTick(function(){a(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var n=d.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():s=function(e){setTimeout(a,0,e)},p.setImmediate=r,p.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(1),n(7))},function(e,i,o){function r(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;i.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},i.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},i._unrefActive=i.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(9),i.setImmediate=t,i.clearImmediate=n},function(e,t,n){e.exports=n(2)}]);e.exports=i}).call(t,n(828).setImmediate,n(828).clearImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_INDEX=t.KeyIndex=void 0;var r=n(780),i=n(154),o=n(36),a=n(31),s=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c,u=function(e){function KeyIndex(){return null!==e&&e.apply(this,arguments)||this}return s(KeyIndex,e),Object.defineProperty(KeyIndex,"__EMPTY_NODE",{get:function get(){return c},set:function set(e){c=e},enumerable:!0,configurable:!0}),KeyIndex.prototype.compare=function(e,t){return(0,o.nameCompare)(e.name,t.name)},KeyIndex.prototype.isDefinedOn=function(e){throw(0,a.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},KeyIndex.prototype.indexedValueChanged=function(e,t){return!1},KeyIndex.prototype.minPost=function(){return i.NamedNode.MIN},KeyIndex.prototype.maxPost=function(){return new i.NamedNode(o.MAX_NAME,c)},KeyIndex.prototype.makePost=function(e,t){return(0,a.assert)("string"==typeof e,"KeyIndex indexValue must always be a string."),new i.NamedNode(e,c)},KeyIndex.prototype.toString=function(){return".key"},KeyIndex}(r.Index);t.KeyIndex=u;var l=t.KEY_INDEX=new u},function(e,t,n){"use strict";function nodeFromJSON(e,t){if(void 0===t&&(t=null),null===e)return i.ChildrenNode.EMPTY_NODE;if("object"===(void 0===e?"undefined":r(e))&&".priority"in e&&(t=e[".priority"]),(0,c.assert)(null===t||"string"==typeof t||"number"==typeof t||"object"===(void 0===t?"undefined":r(t))&&".sv"in t,"Invalid priority type found: "+(void 0===t?"undefined":r(t))),"object"===(void 0===e?"undefined":r(e))&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==(void 0===e?"undefined":r(e))||".sv"in e){var n=e;return new o.LeafNode(n,nodeFromJSON(t))}if(e instanceof Array||!h){var f=i.ChildrenNode.EMPTY_NODE,g=e;return(0,s.forEach)(g,function(e,t){if((0,s.contains)(g,e)&&"."!==e.substring(0,1)){var n=nodeFromJSON(t);!n.isLeafNode()&&n.isEmpty()||(f=f.updateImmediateChild(e,n))}}),f.updatePriority(nodeFromJSON(t))}var m=[],v=!1,y=e;if((0,s.forEach)(y,function(e,t){if("string"!=typeof e||"."!==e.substring(0,1)){var n=nodeFromJSON(y[e]);n.isEmpty()||(v=v||!n.getPriority().isEmpty(),m.push(new a.NamedNode(e,n)))}}),0==m.length)return i.ChildrenNode.EMPTY_NODE;var _=(0,u.buildChildSet)(m,l.NAME_ONLY_COMPARATOR,function(e){return e.name},l.NAME_COMPARATOR);if(v){var b=(0,u.buildChildSet)(m,p.PRIORITY_INDEX.getCompare());return new i.ChildrenNode(_,nodeFromJSON(t),new d.IndexMap({".priority":b},{".priority":p.PRIORITY_INDEX}))}return new i.ChildrenNode(_,nodeFromJSON(t),d.IndexMap.Default)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.nodeFromJSON=nodeFromJSON;var i=n(132),o=n(781),a=n(154),s=n(54),c=n(31),u=n(1012),l=n(1013),d=n(1011),p=n(124),h=!0;(0,p.setNodeFromJSON)(nodeFromJSON)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){var r=n(1054),i=n(852);e.exports=Object.keys||function keys(e){return r(e,i)}},function(e,t){function baseUnary(e){return function(t){return e(t)}}e.exports=baseUnary},function(e,t,n){var r=n(76)(n(48),"Set");e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},,function(e,t,n){"use strict";function checkStatus(e){return e.status>=200&&e.status<300?e:Promise.resolve().then(function(){return e.json()}).then(function(t){throw 401===e.status&&t.redirectUrl&&(window.location.href=t.redirectUrl),a(e.statusText,t)})}function parseJSON(e){return e.json()}function get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.stringify(Object.assign({},t,r.parse(window.location.search))),o=""+i.API+e+(n?"?":"")+n;return fetch(o,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then(checkStatus).then(parseJSON).catch(s)}function postJSON(e,t){return fetch(buildUrl(e),{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(checkStatus).then(parseJSON).catch(s)}function putJSON(e,t){return fetch(buildUrl(e),{method:"PUT",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(checkStatus).then(parseJSON).catch(s)}function postForm(e,t){return fetch(buildUrl(e),{method:"POST",credentials:"same-origin",body:t}).then(checkStatus).then(parseJSON).catch(s)}function buildUrl(e){return""+i.API+e+(window.location.search||"")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(800),i=n(108),o=n(441),a=function error(e,t){var n=new Error(e);return n.response=t,n},s=function handleErrors(e){throw e instanceof TypeError?a(e.message,{errors:[o.CONNECTION_REFUSED]}):e};t.API={get:get,postForm:postForm,postJSON:postJSON,putJSON:putJSON}},function(e,t,n){"use strict";var r=n(25),i=n(2),o=n(241);e.exports=function(){function shim(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return e.checkPropTypes=r,e.PropTypes=e,e}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(37))},function(e,t,n){e.exports=n(669)},function(e,t,n){"use strict";(function(e,r){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=_interopRequireDefault(n(670)),o;o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=(0,i.default)(o);t.default=a}).call(t,n(37),n(103)(e))},function(e,t,n){"use strict";function symbolObservablePonyfill(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=symbolObservablePonyfill},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(189),i=n(672),o=n(674),a=[n(675).default,i.default()],s;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.createStore(e,t,r.applyMiddleware.apply(r,a))}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function promiseMiddleware(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).promiseTypeSuffixes||s;return function(t){var n=t.dispatch;return function(t){return function(s){if(!s.payload)return t(s);if(!(0,a.default)(s.payload)&&!(0,a.default)(s.payload.promise))return t(s);var c=s.type,u=s.payload,l=s.meta,d=o(e,3),p=d[0],h=d[1],f=d[2],g=function getAction(e,t){return i({type:c+"_"+(t?f:h)},null===e||void 0===e?{}:{payload:e},void 0!==l?{meta:l}:{},t?{error:!0}:{})},m=void 0,v=void 0;(0,a.default)(s.payload)||"object"!==r(s.payload)?(m=u,v=void 0):(m=u.promise,v=u.data),t(i({type:c+"_"+p},void 0!==v?{payload:v}:{},void 0!==l?{meta:l}:{}));var y=function transformFulfill(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{value:e,action:g(e,!1)}},_=function handleReject(e){var t=g(e,!0);n(t)},b=function handleFulfill(e){n(e.action)},S=m.then(y);return S.then(b,_).then(function(){return S},function(){return S})}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.REJECTED=t.FULFILLED=t.PENDING=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function sliceIterator(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=promiseMiddleware;var a=_interopRequireDefault(n(673)),s=[t.PENDING="PENDING",t.FULFILLED="FULFILLED",t.REJECTED="REJECTED"]},function(e,t,n){"use strict";function isPromise(e){return null!==e&&"object"===(void 0===e?"undefined":r(e))&&(e&&"function"==typeof e.then)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=isPromise},function(e,t,n){(function(e){!function(e,n){n(t)}(this,function(_){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function n(e,t,r){n.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function f(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function u(e){var t=void 0===e?"undefined":O(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,r,s,c,d,p){c=c||[],p=p||[];var h=c.slice(0);if(void 0!==d){if(s){if("function"==typeof s&&s(h,d))return;if("object"===(void 0===s?"undefined":O(s))){if(s.prefilter&&s.prefilter(h,d))return;if(s.normalize){var g=s.normalize(h,d,e,t);g&&(e=g[0],t=g[1])}}}h.push(d)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var m=void 0===e?"undefined":O(e),v=void 0===t?"undefined":O(t),y="undefined"!==m||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(d),_="undefined"!==v||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(d);if(!y&&_)r(new o(h,t));else if(!_&&y)r(new i(h,e));else if(u(e)!==u(t))r(new n(h,e,t));else if("date"===u(e)&&e-t!=0)r(new n(h,e,t));else if("object"===m&&null!==e&&null!==t)if(p.filter(function(t){return t.lhs===e}).length)e!==t&&r(new n(h,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?r(new a(h,b,new i(void 0,e[b]))):l(e[b],t[b],r,s,h,b,p);for(;b<t.length;)r(new a(h,b,new o(void 0,t[b++])))}else{var S=Object.keys(e),w=Object.keys(t);S.forEach(function(n,i){var o=w.indexOf(n);o>=0?(l(e[n],t[n],r,s,h,n,p),w=f(w,o)):l(e[n],void 0,r,s,h,n,p)}),w.forEach(function(e){l(void 0,t[e],r,s,h,e,p)})}p.length=p.length-1}else e!==t&&("number"===m&&isNaN(e)&&isNaN(t)||r(new n(h,e,t)))}function c(e,t,n,r){return r=r||[],l(e,t,function(e){e&&r.push(e)},n),r.length?r:void 0}function s(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":s(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":s(e[t],n.index,n.item);break;case"D":e=f(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":s(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=f(e,t)}return e}function g(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":p(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function h(e,t,n){e&&t&&l(e,t,function(r){n&&!n(e,t,r)||d(e,t,r)})}function y(e){return"color: "+M[e].color+"; font-weight: bold"}function v(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,o=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"→",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}function b(e,t,n,r){var i=c(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach(function(e){var t=e.kind,r=v(e);n.log.apply(n,["%c "+M[t].text,y(t)].concat(P(r)))}):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function m(e,t,n,r){switch(void 0===e?"undefined":O(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,P(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,o=void 0===i?w(t):i,a=t.collapsed,s=t.colors,c=t.level,u=t.diff,l=void 0===t.titleFormatter;e.forEach(function(i,d){var p=i.started,h=i.startedTime,f=i.action,g=i.prevState,v=i.error,y=i.took,_=i.nextState,S=e[d+1];S&&(_=S.prevState,y=S.started-p);var w=r(f),C="function"==typeof a?a(function(){return _},f,i):a,T=I(h),E=s.title?"color: "+s.title(w)+";":"",k=["color: gray; font-weight: lighter;"];k.push(E),t.timestamp&&k.push("color: gray; font-weight: lighter;"),t.duration&&k.push("color: gray; font-weight: lighter;");var x=o(w,T,y);try{C?s.title&&l?n.groupCollapsed.apply(n,["%c "+x].concat(k)):n.groupCollapsed(x):s.title&&l?n.group.apply(n,["%c "+x].concat(k)):n.group(x)}catch(e){n.log(x)}var R=m(c,w,[g],"prevState"),O=m(c,w,[w],"action"),P=m(c,w,[v,g],"error"),A=m(c,w,[_],"nextState");if(R)if(s.prevState){var M="color: "+s.prevState(g)+"; font-weight: bold";n[R]("%c prev state",M,g)}else n[R]("prev state",g);if(O)if(s.action){var N="color: "+s.action(w)+"; font-weight: bold";n[O]("%c action    ",N,w)}else n[O]("action    ",w);if(v&&P)if(s.error){var D="color: "+s.error(v,g)+"; font-weight: bold;";n[P]("%c error     ",D,v)}else n[P]("error     ",v);if(A)if(s.nextState){var L="color: "+s.nextState(_)+"; font-weight: bold";n[A]("%c next state",L,_)}else n[A]("next state",_);u&&b(g,_,n,C);try{n.groupEnd()}catch(e){n.log("—— log end ——")}})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},N,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,o=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return function(){return function(e){return function(t){return e(t)}}};var c=[];return function(e){var n=e.getState;return function(e){return function(u){if("function"==typeof o&&!o(n,u))return e(u);var l={};c.push(l),l.started=R.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=u;var d=void 0;if(a)try{d=e(u)}catch(e){l.error=i(e)}else d=e(u);l.took=R.now()-l.started,l.nextState=r(n());var p=t.diff&&"function"==typeof s?s(n,u):t.diff;if(x(c,Object.assign({},t,{diff:p})),c.length=0,l.error)throw l.error;return d}}}}var C,T,E=function(e,t){return new Array(t+1).join(e)},k=function(e,t){return E("0",t-e.toString().length)+e},I=function(e){return k(e.getHours(),2)+":"+k(e.getMinutes(),2)+":"+k(e.getSeconds(),2)+"."+k(e.getMilliseconds(),3)},R="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},A=[];C="object"===(void 0===e?"undefined":O(e))&&e?e:"undefined"!=typeof window?window:{},(T=C.DeepDiff)&&A.push(function(){void 0!==T&&C.DeepDiff===c&&(C.DeepDiff=T,T=void 0)}),t(n,r),t(o,r),t(i,r),t(a,r),Object.defineProperties(c,{diff:{value:c,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:h,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:g,enumerable:!0},isConflict:{value:function(){return void 0!==T},enumerable:!0},noConflict:{value:function(){return A&&(A.forEach(function(e){e()}),A=null),c},enumerable:!0}});var M={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},N={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?S()({dispatch:t,getState:n}):void 0};_.defaults=N,_.createLogger=S,_.logger=D,_.default=D,Object.defineProperty(_,"__esModule",{value:!0})})}).call(t,n(37))},function(e,t,n){"use strict";function createThunkMiddleware(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}t.__esModule=!0;var r=createThunkMiddleware();r.withExtraArgument=createThunkMiddleware,t.default=r},function(e,t){function listCacheClear(){this.__data__=[],this.size=0}e.exports=listCacheClear},function(e,t,n){function listCacheDelete(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}var r=n(134),i=Array.prototype.splice;e.exports=listCacheDelete},function(e,t,n){function listCacheGet(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}var r=n(134);e.exports=listCacheGet},function(e,t,n){function listCacheHas(e){return r(this.__data__,e)>-1}var r=n(134);e.exports=listCacheHas},function(e,t,n){function listCacheSet(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var r=n(134);e.exports=listCacheSet},function(e,t,n){function stackClear(){this.__data__=new r,this.size=0}var r=n(133);e.exports=stackClear},function(e,t){function stackDelete(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=stackDelete},function(e,t){function stackGet(e){return this.__data__.get(e)}e.exports=stackGet},function(e,t){function stackHas(e){return this.__data__.has(e)}e.exports=stackHas},function(e,t,n){function stackSet(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}var r=n(133),i=n(191),o=n(194),a=200;e.exports=stackSet},function(e,t,n){function baseIsNative(e){return!(!o(e)||i(e))&&(r(e)?h:c).test(a(e))}var r=n(94),i=n(689),o=n(67),a=n(288),s=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,d=u.toString,p=l.hasOwnProperty,h=RegExp("^"+d.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=baseIsNative},function(e,t,n){function getRawTag(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}var r=n(96),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=getRawTag},function(e,t){function objectToString(e){return n.call(e)}var n=Object.prototype.toString;e.exports=objectToString},function(e,t,n){function isMasked(e){return!!i&&i in e}var r=n(690),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=isMasked},function(e,t,n){var r=n(48)["__core-js_shared__"];e.exports=r},function(e,t){function getValue(e,t){return null==e?void 0:e[t]}e.exports=getValue},function(e,t,n){function mapCacheClear(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}var r=n(693),i=n(133),o=n(191);e.exports=mapCacheClear},function(e,t,n){function Hash(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var r=n(694),i=n(695),o=n(696),a=n(697),s=n(698);Hash.prototype.clear=r,Hash.prototype.delete=i,Hash.prototype.get=o,Hash.prototype.has=a,Hash.prototype.set=s,e.exports=Hash},function(e,t,n){function hashClear(){this.__data__=r?r(null):{},this.size=0}var r=n(135);e.exports=hashClear},function(e,t){function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=hashDelete},function(e,t,n){function hashGet(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}var r=n(135),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=hashGet},function(e,t,n){function hashHas(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}var r=n(135),i=Object.prototype.hasOwnProperty;e.exports=hashHas},function(e,t,n){function hashSet(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}var r=n(135),i="__lodash_hash_undefined__";e.exports=hashSet},function(e,t,n){function mapCacheDelete(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=n(136);e.exports=mapCacheDelete},function(e,t){function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=isKeyable},function(e,t,n){function mapCacheGet(e){return r(this,e).get(e)}var r=n(136);e.exports=mapCacheGet},function(e,t,n){function mapCacheHas(e){return r(this,e).has(e)}var r=n(136);e.exports=mapCacheHas},function(e,t,n){function mapCacheSet(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var r=n(136);e.exports=mapCacheSet},function(e,t,n){function baseIsArguments(e){return i(e)&&r(e)==o}var r=n(79),i=n(80),o="[object Arguments]";e.exports=baseIsArguments},function(e,t){function stubFalse(){return!1}e.exports=stubFalse},function(e,t,n){function baseIsTypedArray(e){return o(e)&&i(e.length)&&!!R[r(e)]}var r=n(79),i=n(195),o=n(80),a="[object Arguments]",s="[object Array]",c="[object Boolean]",u="[object Date]",l="[object Error]",d="[object Function]",p="[object Map]",h="[object Number]",f="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",S="[object Float64Array]",w="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",x="[object Uint16Array]",I="[object Uint32Array]",R={};R["[object Float32Array]"]=R[S]=R[w]=R[C]=R[T]=R[E]=R[k]=R[x]=R[I]=!0,R[a]=R[s]=R[_]=R[c]=R[b]=R[u]=R[l]=R[d]=R[p]=R[h]=R[f]=R[g]=R[m]=R[v]=R[y]=!1,e.exports=baseIsTypedArray},function(e,t,n){(function(e){var r=n(287),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(t,n(103)(e))},function(e,t,n){var r=n(292)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(76)(n(48),"DataView");e.exports=r},function(e,t,n){var r=n(76)(n(48),"Promise");e.exports=r},function(e,t,n){var r=n(76)(n(48),"WeakMap");e.exports=r},function(e,t,n){var r=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n(713)(function(e){var t=[];return r.test(e)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},function(e,t,n){function memoizeCapped(e){var t=r(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}var r=n(311),i=500;e.exports=memoizeCapped},function(e,t,n){function hasPath(e,t,n){for(var u=-1,l=(t=r(t,e)).length,d=!1;++u<l;){var p=c(t[u]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(p,l)&&(o(e)||i(e))}var r=n(127),i=n(200),o=n(46),a=n(239),s=n(195),c=n(104);e.exports=hasPath},function(e,t,n){function toFinite(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*o:e===e?e:0:0===e?e:0}var r=n(345),i=1/0,o=1.7976931348623157e308;e.exports=toFinite},function(e,t,n){function baseKeysIn(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}var r=n(67),i=n(197),o=n(717),a=Object.prototype.hasOwnProperty;e.exports=baseKeysIn},function(e,t){function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=nativeKeysIn},function(e,t,n){function SetCache(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=n(194),i=n(734),o=n(735);SetCache.prototype.add=SetCache.prototype.push=i,SetCache.prototype.has=o,e.exports=SetCache},function(e,t){function cacheHas(e,t){return e.has(t)}e.exports=cacheHas},,function(e,t,n){function findIndex(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:o(n);return c<0&&(c=a(s+c,0)),r(e,i(t,3),c)}var r=n(334),i=n(203),o=n(294),a=Math.max;e.exports=findIndex},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346),i="video-settings",o=function get(){var e=localStorage.getItem("video-settings");return null===e?void 0:Object.assign({},r.initialState,JSON.parse(e))},a=function save(e){localStorage.setItem("video-settings",JSON.stringify(e))};t.VideoSettingsLS={get:o,save:a}},function(e,t,n){function createCompounder(e){return function(t){return r(o(i(t).replace(s,"")),e,"")}}var r=n(347),i=n(958),o=n(961),a="['’]",s=RegExp("['’]","g");e.exports=createCompounder},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1187),__export(n(1188)),__export(n(1190))},function(e,t,n){function baseMatches(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}var r=n(732),i=n(739),o=n(317);e.exports=baseMatches},function(e,t,n){function baseIsMatch(e,t,n,s){var c=n.length,u=c,l=!s;if(null==e)return!u;for(e=Object(e);c--;){var d=n[c];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++c<u;){var p=(d=n[c])[0],h=e[p],f=d[1];if(l&&d[2]){if(void 0===h&&!(p in e))return!1}else{var g=new r;if(s)var m=s(h,f,p,e,t,g);if(!(void 0===m?i(f,h,o|a,s,g):m))return!1}}return!0}var r=n(240),i=n(277),o=1,a=2;e.exports=baseIsMatch},function(e,t,n){function baseIsEqualDeep(e,t,n,m,v,y){var _=c(e),b=c(t),S=_?h:s(e),w=b?h:s(t),C=(S=S==p?f:S)==f,T=(w=w==p?f:w)==f,E=S==w;if(E&&u(e)){if(!u(t))return!1;_=!0,C=!1}if(E&&!C)return y||(y=new r),_||l(e)?i(e,t,n,m,v,y):o(e,t,S,n,m,v,y);if(!(n&d)){var k=C&&g.call(e,"__wrapped__"),x=T&&g.call(t,"__wrapped__");if(k||x){var I=k?e.value():e,R=x?t.value():t;return y||(y=new r),v(I,R,n,m,y)}}return!!E&&(y||(y=new r),a(e,t,n,m,v,y))}var r=n(240),i=n(313),o=n(737),a=n(738),s=n(315),c=n(46),u=n(201),l=n(284),d=1,p="[object Arguments]",h="[object Array]",f="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=baseIsEqualDeep},function(e,t){function setCacheAdd(e){return this.__data__.set(e,n),this}var n="__lodash_hash_undefined__";e.exports=setCacheAdd},function(e,t){function setCacheHas(e){return this.__data__.has(e)}e.exports=setCacheHas},function(e,t){function arraySome(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=arraySome},function(e,t,n){function equalByTag(e,t,n,r,w,T,E){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!T(new i(e),new i(t)));case d:case p:case g:return o(+e,+t);case h:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case f:var k=s;case v:var x=r&u;if(k||(k=c),e.size!=t.size&&!x)return!1;var I=E.get(e);if(I)return I==t;r|=l,E.set(e,t);var R=a(k(e),k(t),r,w,T,E);return E.delete(e),R;case _:if(C)return C.call(e)==C.call(t)}return!1}var r=n(96),i=n(330),o=n(186),a=n(313),s=n(331),c=n(314),u=1,l=2,d="[object Boolean]",p="[object Date]",h="[object Error]",f="[object Map]",g="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",_="[object Symbol]",b="[object ArrayBuffer]",S="[object DataView]",w=r?r.prototype:void 0,C=w?w.valueOf:void 0;e.exports=equalByTag},function(e,t,n){function equalObjects(e,t,n,a,s,c){var u=n&i,l=r(e),d=l.length;if(d!=r(t).length&&!u)return!1;for(var p=d;p--;){var h=l[p];if(!(u?h in t:o.call(t,h)))return!1}var f=c.get(e);if(f&&c.get(t))return f==t;var g=!0;c.set(e,t),c.set(t,e);for(var m=u;++p<d;){var v=e[h=l[p]],y=t[h];if(a)var _=u?a(y,v,h,t,e,c):a(v,y,h,e,t,c);if(!(void 0===_?v===y||s(v,y,n,a,c):_)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var b=e.constructor,S=t.constructor;b!=S&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S)&&(g=!1)}return c.delete(e),c.delete(t),g}var r=n(332),i=1,o=Object.prototype.hasOwnProperty;e.exports=equalObjects},function(e,t,n){function getMatchData(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}var r=n(316),i=n(95);e.exports=getMatchData},function(e,t,n){function baseMatchesProperty(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,l|d)}}var r=n(277),i=n(741),o=n(742),a=n(198),s=n(316),c=n(317),u=n(104),l=1,d=2;e.exports=baseMatchesProperty},function(e,t,n){function get(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}var r=n(192);e.exports=get},function(e,t,n){function hasIn(e,t){return null!=e&&i(e,t,r)}var r=n(743),i=n(714);e.exports=hasIn},function(e,t){function baseHasIn(e,t){return null!=e&&t in Object(e)}e.exports=baseHasIn},function(e,t,n){function property(e){return o(e)?r(a(e)):i(e)}var r=n(745),i=n(746),o=n(198),a=n(104);e.exports=property},function(e,t){function baseProperty(e){return function(t){return null==t?void 0:t[e]}}e.exports=baseProperty},function(e,t,n){function basePropertyDeep(e){return function(t){return r(t,e)}}var r=n(192);e.exports=basePropertyDeep},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function getParentElement(e){return e()}Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=n(1),a=_interopRequireDefault(o),s=_interopRequireDefault(n(72)),c=_interopRequireDefault(n(17)),u=_interopRequireDefault(n(748)),l=_interopRequireWildcard(n(319)),d=_interopRequireDefault(n(321)),p=t.portalClassName="ReactModalPortal",h=t.bodyOpenClassName="ReactModal__Body--open",f=s.default.unstable_renderSubtreeIntoContainer,g=function(e){function Modal(){var e,t,n,i;_classCallCheck(this,Modal);for(var o=arguments.length,c=Array(o),l=0;l<o;l++)c[l]=arguments[l];return t=n=_possibleConstructorReturn(this,(e=Modal.__proto__||Object.getPrototypeOf(Modal)).call.apply(e,[this].concat(c))),n.removePortal=function(){s.default.unmountComponentAtNode(n.node),getParentElement(n.props.parentSelector).removeChild(n.node)},n.renderPortal=function(e){n.portal=f(n,a.default.createElement(u.default,r({defaultStyles:Modal.defaultStyles},e)),n.node)},i=t,_possibleConstructorReturn(n,i)}return _inherits(Modal,e),i(Modal,[{key:"componentDidMount",value:function componentDidMount(){this.node=document.createElement("div"),this.node.className=this.props.portalClassName,getParentElement(this.props.parentSelector).appendChild(this.node),this.renderPortal(this.props)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=e.isOpen;if(this.props.isOpen||t){var n=getParentElement(this.props.parentSelector),r=getParentElement(e.parentSelector);r!==n&&(n.removeChild(this.node),r.appendChild(this.node)),this.renderPortal(e)}}},{key:"componentWillUpdate",value:function componentWillUpdate(e){e.portalClassName!==this.props.portalClassName&&(this.node.className=e.portalClassName)}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.node){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function render(){return null}}],[{key:"setAppElement",value:function setAppElement(e){l.setElement(e)}},{key:"injectCSS",value:function injectCSS(){}}]),Modal}(o.Component);g.propTypes={isOpen:c.default.bool.isRequired,style:c.default.shape({content:c.default.object,overlay:c.default.object}),portalClassName:c.default.string,bodyOpenClassName:c.default.string,className:c.default.oneOfType([c.default.string,c.default.object]),overlayClassName:c.default.oneOfType([c.default.string,c.default.object]),appElement:c.default.instanceOf(d.default),onAfterOpen:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,ariaHideApp:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,parentSelector:c.default.func,aria:c.default.object,role:c.default.string,contentLabel:c.default.string.isRequired},g.defaultProps={isOpen:!1,portalClassName:p,bodyOpenClassName:h,ariaHideApp:!0,closeTimeoutMS:0,shouldCloseOnOverlayClick:!0,parentSelector:function parentSelector(){return document.body}},g.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},t.default=g},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),a=n(1),s=_interopRequireDefault(a),c=n(17),u=_interopRequireWildcard(n(749)),l=_interopRequireDefault(n(750)),d=_interopRequireWildcard(n(319)),p=_interopRequireWildcard(n(320)),h=_interopRequireWildcard(n(751)),f=_interopRequireDefault(n(321)),g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},m=9,v=27,y=function(e){function ModalPortal(e){_classCallCheck(this,ModalPortal);var t=_possibleConstructorReturn(this,(ModalPortal.__proto__||Object.getPrototypeOf(ModalPortal)).call(this,e));return t.setFocusAfterRender=function(e){t.focusAfterRender=e},t.setOverlayRef=function(e){t.overlay=e},t.setContentRef=function(e){t.content=e},t.afterClose=function(){u.returnFocus(),u.teardownScopedFocus()},t.open=function(){t.beforeOpen(),t.state.afterOpen&&t.state.beforeClose?(clearTimeout(t.closeTimer),t.setState({beforeClose:!1})):(u.setupScopedFocus(t.node),u.markForFocusLater(),t.setState({isOpen:!0},function(){t.setState({afterOpen:!0}),t.props.isOpen&&t.props.onAfterOpen&&t.props.onAfterOpen()}))},t.close=function(){t.beforeClose(),t.props.closeTimeoutMS>0?t.closeWithTimeout():t.closeWithoutTimeout()},t.focusContent=function(){return t.content&&!t.contentHasFocus()&&t.content.focus()},t.closeWithTimeout=function(){var e=Date.now()+t.props.closeTimeoutMS;t.setState({beforeClose:!0,closesAt:e},function(){t.closeTimer=setTimeout(t.closeWithoutTimeout,t.state.closesAt-Date.now())})},t.closeWithoutTimeout=function(){t.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},t.afterClose)},t.handleKeyDown=function(e){e.keyCode===m&&(0,l.default)(t.content,e),e.keyCode===v&&(e.preventDefault(),t.requestClose(e))},t.handleOverlayOnClick=function(e){null===t.shouldClose&&(t.shouldClose=!0),t.shouldClose&&t.props.shouldCloseOnOverlayClick&&(t.ownerHandlesClose()?t.requestClose(e):t.focusContent()),t.shouldClose=null},t.handleContentOnClick=function(){t.shouldClose=!1},t.requestClose=function(e){return t.ownerHandlesClose()&&t.props.onRequestClose(e)},t.ownerHandlesClose=function(){return t.props.onRequestClose},t.shouldBeClosed=function(){return!t.state.isOpen&&!t.state.beforeClose},t.contentHasFocus=function(){return document.activeElement===t.content||t.content.contains(document.activeElement)},t.buildClassName=function(e,n){var r="object"===(void 0===n?"undefined":i(n))?n:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},o=r.base;return t.state.afterOpen&&(o=o+" "+r.afterOpen),t.state.beforeClose&&(o=o+" "+r.beforeClose),"string"==typeof n&&n?o+" "+n:o},t.ariaAttributes=function(e){return Object.keys(e).reduce(function(t,n){return t["aria-"+n]=e[n],t},{})},t.state={afterOpen:!1,beforeClose:!1},t.shouldClose=null,t}return _inherits(ModalPortal,e),o(ModalPortal,[{key:"componentDidMount",value:function componentDidMount(){this.props.isOpen&&(this.setFocusAfterRender(!0),this.open())}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){!this.props.isOpen&&e.isOpen?(this.setFocusAfterRender(!0),this.open()):this.props.isOpen&&!e.isOpen&&this.close()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.focusAfterRender&&(this.focusContent(),this.setFocusAfterRender(!1))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.beforeClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function beforeOpen(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.bodyOpenClassName;h.add(r),n&&d.hide(t)}},{key:"beforeClose",value:function beforeClose(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.bodyOpenClassName;h.remove(r),n&&p.totalCount()<1&&d.show(t)}},{key:"render",value:function render(){var e=this.props,t=e.className,n=e.overlayClassName,i=e.defaultStyles,o=t?{}:i.content,a=n?{}:i.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",n),style:r({},a,this.props.style.overlay),onClick:this.handleOverlayOnClick},s.default.createElement("div",r({ref:this.setContentRef,style:r({},o,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.ariaAttributes(this.props.aria||{})),this.props.children))}}]),ModalPortal}(a.Component);y.defaultProps={style:{overlay:{},content:{}}},y.propTypes={isOpen:c.PropTypes.bool.isRequired,defaultStyles:c.PropTypes.shape({content:c.PropTypes.object,overlay:c.PropTypes.object}),style:c.PropTypes.shape({content:c.PropTypes.object,overlay:c.PropTypes.object}),className:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.object]),overlayClassName:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.object]),bodyOpenClassName:c.PropTypes.string,ariaHideApp:c.PropTypes.bool,appElement:c.PropTypes.instanceOf(f.default),onAfterOpen:c.PropTypes.func,onRequestClose:c.PropTypes.func,closeTimeoutMS:c.PropTypes.number,shouldCloseOnOverlayClick:c.PropTypes.bool,role:c.PropTypes.string,contentLabel:c.PropTypes.string,aria:c.PropTypes.object,children:c.PropTypes.node},t.default=y},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function handleBlur(){a=!0}function handleFocus(){if(a){if(a=!1,!o)return;setTimeout(function(){o.contains(document.activeElement)||((0,r.default)(o)[0]||o).focus()},0)}}function markForFocusLater(){i.push(document.activeElement)}function returnFocus(){var e=null;try{return void(e=i.pop()).focus()}catch(e){}}function setupScopedFocus(e){o=e,window.addEventListener?(window.addEventListener("blur",handleBlur,!1),document.addEventListener("focus",handleFocus,!0)):(window.attachEvent("onBlur",handleBlur),document.attachEvent("onFocus",handleFocus))}function teardownScopedFocus(){o=null,window.addEventListener?(window.removeEventListener("blur",handleBlur),document.removeEventListener("focus",handleFocus)):(window.detachEvent("onBlur",handleBlur),document.detachEvent("onFocus",handleFocus))}Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=handleBlur,t.handleFocus=handleFocus,t.markForFocusLater=markForFocusLater,t.returnFocus=returnFocus,t.setupScopedFocus=setupScopedFocus,t.teardownScopedFocus=teardownScopedFocus;var r=_interopRequireDefault(n(318)),i=[],o=null,a=!1},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function scopeTab(e,t){var n=(0,r.default)(e);n.length?(n[t.shiftKey?0:n.length-1]===document.activeElement||e===document.activeElement)&&(t.preventDefault(),n[t.shiftKey?n.length-1:0].focus()):t.preventDefault()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=scopeTab;var r=_interopRequireDefault(n(318))},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function add(e){e.split(" ").map(r.add).forEach(function(e){return document.body.classList.add(e)})}function remove(e){var t=r.get();e.split(" ").map(r.remove).filter(function(e){return 0===t[e]}).forEach(function(e){return document.body.classList.remove(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.add=add,t.remove=remove;var r=_interopRequireWildcard(n(320))},function(e,t,n){var r;!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0!==(r=function(){return o}.call(t,n,t,e))&&(e.exports=r)}()},function(e,t,n){"use strict";e.exports=n(754)},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=_interopRequireDefault(n(1)),o=_interopRequireDefault(n(17)),a=_interopRequireDefault(n(755)),s=_interopRequireDefault(n(758)),c=n(322),u={transitionName:c.nameShape.isRequired,transitionAppear:o.default.bool,transitionEnter:o.default.bool,transitionLeave:o.default.bool,transitionAppearTimeout:(0,c.transitionTimeout)("Appear"),transitionEnterTimeout:(0,c.transitionTimeout)("Enter"),transitionLeaveTimeout:(0,c.transitionTimeout)("Leave")},l={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},d=function(e){function CSSTransitionGroup(){var t,n,r;_classCallCheck(this,CSSTransitionGroup);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n._wrapChild=function(e){return i.default.createElement(s.default,{name:n.props.transitionName,appear:n.props.transitionAppear,enter:n.props.transitionEnter,leave:n.props.transitionLeave,appearTimeout:n.props.transitionAppearTimeout,enterTimeout:n.props.transitionEnterTimeout,leaveTimeout:n.props.transitionLeaveTimeout},e)},r=t,_possibleConstructorReturn(n,r)}return _inherits(CSSTransitionGroup,e),CSSTransitionGroup.prototype.render=function render(){return i.default.createElement(a.default,r({},this.props,{childFactory:this._wrapChild}))},CSSTransitionGroup}(i.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps=l,t.default=d,e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=_interopRequireDefault(n(756)),o=_interopRequireDefault(n(1)),a=_interopRequireDefault(n(17)),s=_interopRequireDefault(n(123)),c=n(757),u={component:a.default.any,childFactory:a.default.func,children:a.default.node},l={component:"span",childFactory:function childFactory(e){return e}},d=function(e){function TransitionGroup(t,n){_classCallCheck(this,TransitionGroup);var i=_possibleConstructorReturn(this,e.call(this,t,n));return i.performAppear=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e,t)):i._handleDoneAppearing(e,t)},i._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=(0,c.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performEnter=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e,t)):i._handleDoneEntering(e,t)},i._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=(0,c.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performLeave=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e,t)):i._handleDoneLeaving(e,t)},i._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=(0,c.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)?i.keysToEnter.push(e):i.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},i.childRefs=Object.create(null),i.state={children:(0,c.getChildMapping)(t.children)},i}return _inherits(TransitionGroup,e),TransitionGroup.prototype.componentWillMount=function componentWillMount(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},TransitionGroup.prototype.componentDidMount=function componentDidMount(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},TransitionGroup.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=(0,c.getChildMapping)(e.children),n=this.state.children;this.setState({children:(0,c.mergeChildMappings)(n,t)});for(var r in t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var a=t&&t.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},TransitionGroup.prototype.componentDidUpdate=function componentDidUpdate(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},TransitionGroup.prototype.render=function render(){var e=this,t=[],n=function _loop(n){var r=e.state.children[n];if(r){var a="string"!=typeof r.ref,s=e.props.childFactory(r),c=function ref(t){e.childRefs[n]=t};s===r&&a&&(c=(0,i.default)(r.ref,c)),t.push(o.default.cloneElement(s,{key:n,ref:c}))}};for(var a in this.state.children)n(a);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,o.default.createElement(this.props.component,s,t)},TransitionGroup}(o.default.Component);d.displayName="TransitionGroup",d.propTypes={},d.defaultProps=l,t.default=d,e.exports=t.default},function(e,t){e.exports=function chain(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function chainedFunction(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";function getChildMapping(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function mergeChildMappings(e,t){function getValueForKey(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var n={},r=[];for(var i in e)t.hasOwnProperty(i)?r.length&&(n[i]=r,r=[]):r.push(i);var o=void 0,a={};for(var s in t){if(n.hasOwnProperty(s))for(o=0;o<n[s].length;o++){var c=n[s][o];a[n[s][o]]=getValueForKey(c)}a[s]=getValueForKey(s)}for(o=0;o<r.length;o++)a[r[o]]=getValueForKey(r[o]);return a}t.__esModule=!0,t.getChildMapping=getChildMapping,t.mergeChildMappings=mergeChildMappings;var r=n(1)},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function addEndListener(e,t){return p.length?p.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){p.length&&p.forEach(function(n){return e.removeEventListener(n,t,!1)})}}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=_interopRequireDefault(n(759)),o=_interopRequireDefault(n(761)),a=_interopRequireDefault(n(762)),s=n(763),c=_interopRequireDefault(n(1)),u=_interopRequireDefault(n(17)),l=n(72),d=n(322),p=[];s.transitionEnd&&p.push(s.transitionEnd),s.animationEnd&&p.push(s.animationEnd);var h={children:u.default.node,name:d.nameShape.isRequired,appear:u.default.bool,enter:u.default.bool,leave:u.default.bool,appearTimeout:u.default.number,enterTimeout:u.default.number,leaveTimeout:u.default.number},f=function(e){function CSSTransitionGroupChild(){var t,n,r;_classCallCheck(this,CSSTransitionGroupChild);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(o))),n.componentWillAppear=function(e){n.props.appear?n.transition("appear",e,n.props.appearTimeout):e()},n.componentWillEnter=function(e){n.props.enter?n.transition("enter",e,n.props.enterTimeout):e()},n.componentWillLeave=function(e){n.props.leave?n.transition("leave",e,n.props.leaveTimeout):e()},r=t,_possibleConstructorReturn(n,r)}return _inherits(CSSTransitionGroupChild,e),CSSTransitionGroupChild.prototype.componentWillMount=function componentWillMount(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},CSSTransitionGroupChild.prototype.componentWillUnmount=function componentWillUnmount(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},CSSTransitionGroupChild.prototype.transition=function transition(e,t,n){var r=(0,l.findDOMNode)(this);if(r){var a=this.props.name[e]||this.props.name+"-"+e,c=this.props.name[e+"Active"]||a+"-active",u=null,d=void 0;(0,i.default)(r,a),this.queueClassAndNode(c,r);var p=function finish(e){e&&e.target!==r||(clearTimeout(u),d&&d(),(0,o.default)(r,a),(0,o.default)(r,c),d&&d(),t&&t())};n?(u=setTimeout(p,n),this.transitionTimeouts.push(u)):s.transitionEnd&&(d=addEndListener(r,p))}else t&&t()},CSSTransitionGroupChild.prototype.queueClassAndNode=function queueClassAndNode(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,a.default)(function(){return n.flushClassNameAndNodeQueue()}))},CSSTransitionGroupChild.prototype.flushClassNameAndNodeQueue=function flushClassNameAndNodeQueue(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,i.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},CSSTransitionGroupChild.prototype.render=function render(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,c.default.cloneElement(c.default.Children.only(this.props.children),e)},CSSTransitionGroupChild}(c.default.Component);f.displayName="CSSTransitionGroupChild",f.propTypes={},t.default=f,e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function addClass(e,t){e.classList?e.classList.add(t):(0,r.default)(e)||(e.className=e.className+" "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=addClass;var r=_interopRequireDefault(n(760));e.exports=t.default},function(e,t,n){"use strict";function hasClass(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=hasClass,e.exports=t.default},function(e,t,n){"use strict";e.exports=function removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function fallback(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r}Object.defineProperty(t,"__esModule",{value:!0});var r=["","webkit","moz","o","ms"],i="clearTimeout",o=fallback,a=void 0,s=function getKey(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};_interopRequireDefault(n(286)).default&&r.some(function(e){var t=s(e,"request");if(t in window)return i=s(e,"cancel"),o=function raf(e){return window[t](e)}});var c=(new Date).getTime();(a=function compatRaf(e){return o(e)}).cancel=function(e){window[i]&&"function"==typeof window[i]&&window[i](e)},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getTransitionProperties(){for(var e=document.createElement("div").style,t={O:function O(e){return"o"+e.toLowerCase()},Moz:function Moz(e){return e.toLowerCase()},Webkit:function Webkit(e){return"webkit"+e},ms:function ms(e){return"MS"+e}},n=Object.keys(t),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){o="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),i=t[s]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:r,prefix:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r="transform",i=void 0,o=void 0,a=void 0,s=void 0,c=void 0,u=void 0,l=void 0,d=void 0,p=void 0,h=void 0,f=void 0;if(_interopRequireDefault(n(286)).default){var g=getTransitionProperties();i=g.prefix,t.transitionEnd=o=g.transitionEnd,t.animationEnd=a=g.animationEnd,t.transform=r=i+"-"+r,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=c=i+"-transition-duration",t.transitionDelay=l=i+"-transition-delay",t.transitionTiming=u=i+"-transition-timing-function",t.animationName=d=i+"-animation-name",t.animationDuration=p=i+"-animation-duration",t.animationTiming=h=i+"-animation-delay",t.animationDelay=f=i+"-animation-timing-function"}t.transform=r,t.transitionProperty=s,t.transitionTiming=u,t.transitionDelay=l,t.transitionDuration=c,t.transitionEnd=o,t.animationName=d,t.animationDuration=p,t.animationTiming=h,t.animationDelay=f,t.animationEnd=a,t.default={transform:r,end:o,property:s,timing:u,delay:l,duration:c}},function(e,t){},,,,,function(e,t){},function(e,t,n){function baseIndexOf(e,t,n){return t===t?o(e,t,n):r(e,i,n)}var r=n(334),i=n(819),o=n(820);e.exports=baseIndexOf},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(929);t.connectEditor=function(){return{type:r.EDITOR_CONNECTED}},t.disconnectEditor=function(){return{type:r.EDITOR_DISCONNECTED}},t.changeCode=function(e){return{type:r.CHANGE_CODE,payload:{value:e}}},t.resetCode=function(){return{type:r.RESET_CODE}}},,function(e,t){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E44\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){"use strict";function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},Ruler.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))})})},Ruler.prototype.at=function(e,t,n){var r=this.__find__(e),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=i.alt||[],this.__cache__=null},Ruler.prototype.before=function(e,t,n,r){var i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Ruler.prototype.after=function(e,t,n,r){var i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Ruler.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},Ruler.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},Ruler.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},Ruler.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},Ruler.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=Ruler},function(e,t,n){"use strict";function Token(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function attrIndex(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},Token.prototype.attrPush=function attrPush(e){this.attrs?this.attrs.push(e):this.attrs=[e]},Token.prototype.attrSet=function attrSet(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},Token.prototype.attrGet=function attrGet(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},Token.prototype.attrJoin=function attrJoin(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=Token},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"4.2.0"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStorage=t.PersistentStorage=void 0;var r=n(1350),i=n(1351),o=function createStoragefor(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new r.DOMStorageWrapper(t)}}catch(e){}return new i.MemoryStorage},a=t.PersistentStorage=o("localStorage"),s=t.SessionStorage=o("sessionStorage")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.PROTOCOL_VERSION="5",i=t.VERSION_PARAM="v",o=t.TRANSPORT_SESSION_PARAM="s",a=t.REFERER_PARAM="r",s=t.FORGE_REF="f",c=t.FORGE_DOMAIN="firebaseio.com",u=t.LAST_SESSION_PARAM="ls",l=t.WEBSOCKET="websocket",d=t.LONG_POLLING="long_polling"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Index=void 0;var r=n(154),i=n(36),o=function(){function Index(){}return Index.prototype.getCompare=function(){return this.compare.bind(this)},Index.prototype.indexedValueChanged=function(e,t){var n=new r.NamedNode(i.MIN_NAME,e),o=new r.NamedNode(i.MIN_NAME,t);return 0!==this.compare(n,o)},Index.prototype.minPost=function(){return r.NamedNode.MIN},Index}();t.Index=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafNode=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(31),o=n(36),a=n(1009),s,c=function(){function LeafNode(e,t){void 0===t&&(t=LeafNode.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,i.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),(0,a.validatePriorityNode)(this.priorityNode_)}return Object.defineProperty(LeafNode,"__childrenNodeConstructor",{get:function get(){return s},set:function set(e){s=e},enumerable:!0,configurable:!0}),LeafNode.prototype.isLeafNode=function(){return!0},LeafNode.prototype.getPriority=function(){return this.priorityNode_},LeafNode.prototype.updatePriority=function(e){return new LeafNode(this.value_,e)},LeafNode.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE},LeafNode.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE},LeafNode.prototype.hasChild=function(){return!1},LeafNode.prototype.getPredecessorChildName=function(e,t){return null},LeafNode.prototype.updateImmediateChild=function(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},LeafNode.prototype.updateChild=function(e,t){var n=e.getFront();return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,i.assert)(".priority"!==n||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),t)))},LeafNode.prototype.isEmpty=function(){return!1},LeafNode.prototype.numChildren=function(){return 0},LeafNode.prototype.forEachChild=function(e,t){return!1},LeafNode.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},LeafNode.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+(0,a.priorityHashText)(this.priorityNode_.val())+":");var t=r(this.value_);e+=t+":",e+="number"===t?(0,o.doubleToIEEE754String)(this.value_):this.value_,this.lazyHash_=(0,o.sha1)(e)}return this.lazyHash_},LeafNode.prototype.getValue=function(){return this.value_},LeafNode.prototype.compareTo=function(e){return e===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof LeafNode.__childrenNodeConstructor?-1:((0,i.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},LeafNode.prototype.compareToLeafNode_=function(e){var t=r(e.value_),n=r(this.value_),o=LeafNode.VALUE_TYPE_ORDER.indexOf(t),a=LeafNode.VALUE_TYPE_ORDER.indexOf(n);return(0,i.assert)(o>=0,"Unknown leaf type: "+t),(0,i.assert)(a>=0,"Unknown leaf type: "+n),o===a?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o},LeafNode.prototype.withIndex=function(){return this},LeafNode.prototype.isIndexed=function(){return!0},LeafNode.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"],LeafNode}();t.LeafNode=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Repo=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1016),o=n(657),a=n(77),s=n(1017),c=n(1357),u=n(1368),l=n(193),d=n(36),p=n(54),h=n(1369),f=n(835),g=n(1371),m=n(1022),v=n(1372),y=n(1023),_=n(1378),b=n(1005),S="repo_interrupt",w=function(){function Repo(e,t,n){var i=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new v.EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new s.SparseSnapshotTree,this.persistentConnection_=null;var o=new h.AuthTokenProvider(n);if(this.stats_=f.StatsManager.getCollection(e),t||(0,d.beingCrawled)())this.server_=new _.ReadonlyRestClient(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(void 0!==a&&null!==a){if("object"!==(void 0===a?"undefined":r(a)))throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,l.stringify)(a)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new y.PersistentConnection(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,a),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(e){i.server_.refreshAuthToken(e)}),this.statsReporter_=f.StatsManager.getOrCreateReporter(e,function(){return new g.StatsReporter(i.stats_,i.server_)}),this.transactions_init_(),this.infoData_=new u.SnapshotHolder,this.infoSyncTree_=new c.SyncTree({startListening:function startListening(e,t,n,r){var o=[],a=i.infoData_.getNode(e.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){r("ok")},0)),o},stopListening:function stopListening(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new c.SyncTree({startListening:function startListening(e,t,n,r){return i.server_.listen(e,n,t,function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function stopListening(e,t){i.server_.unlisten(e,t)}})}return Repo.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},Repo.prototype.name=function(){return this.repoInfo_.namespace},Repo.prototype.serverTime=function(){var e=this.infoData_.getNode(new a.Path(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},Repo.prototype.generateServerValues=function(){return(0,i.generateWithValues)({timestamp:this.serverTime()})},Repo.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new a.Path(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var s=[];if(r)if(n){var c=(0,p.map)(t,function(e){return(0,o.nodeFromJSON)(e)});s=this.serverSyncTree_.applyTaggedQueryMerge(i,c,r)}else{var u=(0,o.nodeFromJSON)(t);s=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var l=(0,p.map)(t,function(e){return(0,o.nodeFromJSON)(e)});s=this.serverSyncTree_.applyServerMerge(i,l)}else{var d=(0,o.nodeFromJSON)(t);s=this.serverSyncTree_.applyServerOverwrite(i,d)}var h=i;s.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,s)},Repo.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},Repo.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},Repo.prototype.onServerInfoUpdate_=function(e){var t=this;(0,d.each)(e,function(e,n){t.updateInfo_(n,e)})},Repo.prototype.updateInfo_=function(e,t){var n=new a.Path("/.info/"+e),r=(0,o.nodeFromJSON)(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},Repo.prototype.getNextWriteId_=function(){return this.nextWriteId_++},Repo.prototype.setWithPriority=function(e,t,n,r){var a=this;this.log_("set",{path:e.toString(),value:t,priority:n});var s=this.generateServerValues(),c=(0,o.nodeFromJSON)(t,n),u=(0,i.resolveDeferredValueSnapshot)(c,s),l=this.getNextWriteId_(),p=this.serverSyncTree_.applyUserOverwrite(e,u,l,!0);this.eventQueue_.queueEvents(p),this.server_.put(e.toString(),c.val(!0),function(t,n){var i="ok"===t;i||(0,d.warn)("set at "+e+" failed: "+t);var o=a.serverSyncTree_.ackUserWrite(l,!i);a.eventQueue_.raiseEventsForChangedPath(e,o),a.callOnCompleteCallback(r,t,n)});var h=this.abortTransactions_(e);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},Repo.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var a=!0,s=this.generateServerValues(),c={};if((0,p.forEach)(t,function(e,t){a=!1;var n=(0,o.nodeFromJSON)(t);c[e]=(0,i.resolveDeferredValueSnapshot)(n,s)}),a)(0,d.log)("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(e,c,u);this.eventQueue_.queueEvents(l),this.server_.merge(e.toString(),t,function(t,i){var o="ok"===t;o||(0,d.warn)("update at "+e+" failed: "+t);var a=r.serverSyncTree_.ackUserWrite(u,!o),s=a.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,t,i)}),(0,p.forEach)(t,function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},Repo.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=[];(0,i.resolveDeferredValueTree)(this.onDisconnect_,t).forEachTree(a.Path.Empty,function(t,r){n=n.concat(e.serverSyncTree_.applyServerOverwrite(t,r));var i=e.abortTransactions_(t);e.rerunTransactions_(i)}),this.onDisconnect_=new s.SparseSnapshotTree,this.eventQueue_.raiseEventsForChangedPath(a.Path.Empty,n)},Repo.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)})},Repo.prototype.onDisconnectSet=function(e,t,n){var r=this,i=(0,o.nodeFromJSON)(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)})},Repo.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,a=(0,o.nodeFromJSON)(t,n);this.server_.onDisconnectPut(e.toString(),a.val(!0),function(t,n){"ok"===t&&i.onDisconnect_.remember(e,a),i.callOnCompleteCallback(r,t,n)})},Repo.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if((0,p.isEmpty)(t))return(0,d.log)("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,function(i,a){"ok"===i&&(0,p.forEach)(t,function(t,n){var i=(0,o.nodeFromJSON)(n);r.onDisconnect_.remember(e.child(t),i)}),r.callOnCompleteCallback(n,i,a)})},Repo.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},Repo.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},Repo.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},Repo.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},Repo.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new m.StatsListener(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);(0,p.forEach)(t,function(e,t){for(var r=e.length;r<n+2;r++)e+=" "})}},Repo.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},Repo.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),d.log.apply(void 0,[n].concat(e))},Repo.prototype.callOnCompleteCallback=function(e,t,n){e&&(0,d.exceptionGuard)(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}})},Object.defineProperty(Repo.prototype,"database",{get:function get(){return this.__database||(this.__database=new b.Database(this))},enumerable:!0,configurable:!0}),Repo}();t.Repo=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function CacheNode(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return CacheNode.prototype.isFullyInitialized=function(){return this.fullyInitialized_},CacheNode.prototype.isFiltered=function(){return this.filtered_},CacheNode.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},CacheNode.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},CacheNode.prototype.getNode=function(){return this.node_},CacheNode}();t.CacheNode=r},function(e,t,n){"use strict";function setDomainBase(e){e=e}Object.defineProperty(t,"__esModule",{value:!0}),t.setDomainBase=setDomainBase;var r=t.domainBase="https://firebasestorage.googleapis.com",i=t.downloadBase="https://firebasestorage.googleapis.com",o=t.apiBaseUrl="/v0",a=t.apiUploadBaseUrl="/v0",s=t.configOption="storageBucket",c=t.shortMaxOperationRetryTime=6e4,u=t.defaultMaxOperationRetryTime=12e4,l=t.defaultMaxUploadRetryTime=6e4,d=t.minSafeInteger=-9007199254740991},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Location=void 0;var r=_interopRequireWildcard(n(207)),i=function(){function Location(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(Location.prototype,"path",{get:function get(){return this.path_},enumerable:!0,configurable:!0}),Location.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},Location.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},Location.makeFromBucketSpec=function(e){var t;try{t=Location.makeFromUrl(e)}catch(t){return new Location(e,"")}if(""===t.path)return t;throw r.invalidDefaultBucket(e)},Location.makeFromUrl=function(e){function gsModify(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}function httpModify(e){e.path_=decodeURIComponent(e.path)}for(var t=null,n="([A-Za-z0-9.\\-]+)",i="(/(.*))?$",o="(/([^?#]*).*)?$",a="v[A-Za-z0-9_]+",s=[{regex:new RegExp("^gs://"+n+i,"i"),indices:{bucket:1,path:3},postModify:gsModify},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/"+a+"/b/"+n+"/o"+o,"i"),indices:{bucket:1,path:3},postModify:httpModify}],c=0;c<s.length;c++){var u=s[c],l=u.regex.exec(e);if(l){var d=l[u.indices.bucket],p=l[u.indices.path];p||(p=""),t=new Location(d,p),u.postModify(t);break}}if(null==t)throw r.invalidUrl(e);return t},Location}();t.Location=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},i=(o={},o[r.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",o[r.AVAILABLE_IN_SW]="This method is available in a service worker context.",o[r.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",o[r.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",o[r.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",o[r.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",o[r.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",o[r.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",o[r.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",o[r.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",o[r.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",o[r.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",o[r.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",o[r.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",o[r.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",o[r.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",o[r.USE_SW_BEFORE_GET_TOKEN]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",o[r.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",o[r.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",o[r.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",o[r.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",o[r.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",o[r.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",o[r.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",o[r.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",o[r.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",o[r.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",o[r.BAD_SCOPE]="The service worker scope must be a string with at least one character.",o[r.BAD_VAPID_KEY]="The public VAPID key must be a string with at least one character.",o[r.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",o[r.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",o[r.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",o[r.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",o);t.default={codes:r,map:i};var o;e.exports=t.default},function(e,t,n){var r=n(842);e.exports=function(e){return Object(r(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){"use strict";function LocalAudioTrack(e,t){if(!(this instanceof LocalAudioTrack))return new LocalAudioTrack(e,t);o.call(this,r,e,t)}var r=n(1068),i=n(24).inherits,o=n(1069);i(LocalAudioTrack,r),LocalAudioTrack.prototype._end=o.prototype._end,LocalAudioTrack.prototype.toString=function toString(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"},LocalAudioTrack.prototype.attach=function attach(e){return e=r.prototype.attach.call(this,e),e.muted=!0,e},LocalAudioTrack.prototype.disable=o.prototype.disable,LocalAudioTrack.prototype.enable=o.prototype.enable,LocalAudioTrack.prototype.stop=o.prototype.stop,e.exports=LocalAudioTrack},function(e,t,n){"use strict";function Log(e,t,n){if(!(this instanceof Log))return new Log(e,t,n);if("string"!=typeof e)throw new i.INVALID_TYPE("moduleName","string");if(!t)throw new i.REQUIRED_ARGUMENT("component");"object"!=typeof n&&(n={}),validateLogLevels(n),Object.defineProperties(this,{_logLevels:{value:n},logLevel:{get:function get(){return Log.getLevelByName(n[e]||r)}},name:{get:t.toString.bind(t)}})}function validateLogLevel(e){if(!(e in o))throw new i.INVALID_VALUE("level",s)}function validateLogLevels(e){Object.keys(e).forEach(function(t){validateLogLevel(e[t].toUpperCase())})}var r=n(156).DEFAULT_LOG_LEVEL,i=n(156).typeErrors;Object.defineProperties(Log,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:[{name:"DEBUG",logFn:console.log},{name:"INFO",logFn:console.info},{name:"WARN",logFn:console.warn},{name:"ERROR",logFn:console.error},{name:"OFF",logFn:function noop(){}}]}});var o={},a=[],s=Log._levels.map(function(e,t){return o[e.name]=!0,a.push(t),e.name});Log.getLevelByName=function getLevelByName(e){return isNaN(e)?(e=e.toUpperCase(),validateLogLevel(e),Log[e]):parseInt(e,10)},Log.prototype.createLog=function createLog(e,t){return new Log(e,t,this._logLevels)},Log.prototype.setLevels=function setLevels(e){return validateLogLevels(e),Object.assign(this._logLevels,e),this},Log.prototype.log=function log(e,t){var n=Log._levels[e];if(!n)throw new i.INVALID_VALUE("logLevel",a);if(this.logLevel<=e){var r=n.name,o=(new Date).toISOString().split("T").concat(["|",r,"in",this.name+":"]);n.logFn.apply(console,o.concat(t))}return this},Log.prototype.debug=function debug(){return this.log(Log.DEBUG,[].slice.call(arguments))},Log.prototype.info=function info(){return this.log(Log.INFO,[].slice.call(arguments))},Log.prototype.warn=function warn(){return this.log(Log.WARN,[].slice.call(arguments))},Log.prototype.error=function error(){return this.log(Log.ERROR,[].slice.call(arguments))},Log.prototype.throw=function throwFn(e,t){throw e.clone&&(e=e.clone(t)),this.log(Log.ERROR,e),e},e.exports=Log},function(e,t,n){"use strict";function LocalVideoTrack(e,t){if(!(this instanceof LocalVideoTrack))return new LocalVideoTrack(e,t);i.call(this,o,e,t)}var r=n(24).inherits,i=n(1069),o=n(1071);r(LocalVideoTrack,o),LocalVideoTrack.prototype._end=i.prototype._end,LocalVideoTrack.prototype.toString=function toString(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"},LocalVideoTrack.prototype.enable=i.prototype.enable,LocalVideoTrack.prototype.disable=i.prototype.disable,LocalVideoTrack.prototype.stop=i.prototype.stop,e.exports=LocalVideoTrack},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(1230)),__export(n(1231)),__export(n(1201)),__export(n(1232)),__export(n(772)),__export(n(348))},function(e,t,n){var r=n(797),i;"undefined"!=typeof navigator&&navigator&&(i=navigator.userAgent),e.exports=r(i)},function(e,t){e.exports=function detectBrowser(e){return e?[["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/]].map(function(t){if(t[1].test(e)){var n=t[1].exec(e),r=n&&n[1].split(/[._]/).slice(0,3);return r&&r.length<3&&Array.prototype.push.apply(r,1==r.length?[0,0]:[0]),{name:t[0],version:r.join(".")}}}).filter(Boolean).shift():null}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(94),i=navigator.userAgent.includes("Firefox"),o=r(navigator.mediaDevices.getSupportedConstraints)?navigator.mediaDevices.getSupportedConstraints():{},a={high:{maxFrameRate:60},good:{maxFrameRate:30},low:{maxFrameRate:10}},s={maxHeight:180,minHeight:180,maxWidth:180,minWidth:180},c=function frameRate(e){return o.frameRate?i?{frameRate:{max:a[e].maxFrameRate}}:a[e]:{}};t.videoConstraints=function(e,t,n){if(i){var r=s.maxWidth,o=s.maxHeight;return Object.assign({},n?{width:r,height:o}:{},c(t),{deviceId:e})}return{mandatory:Object.assign({},n?s:{},c(t)),optional:[{sourceId:e||void 0}]}}},function(e,t,n){"use strict";function encoderForArrayFormat(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[encode(t,e),"[",r,"]"].join(""):[encode(t,e),"[",encode(r,e),"]=",encode(n,e)].join("")};case"bracket":return function(t,n){return null===n?encode(t,e):[encode(t,e),"[]=",encode(n,e)].join("")};default:return function(t,n){return null===n?encode(t,e):[encode(t,e),"=",encode(n,e)].join("")}}}function parserForArrayFormat(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function encode(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function keysSorter(e){return Array.isArray(e)?e.sort():"object"==typeof e?keysSorter(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var r=n(663),i=n(9),o=n(801);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=parserForArrayFormat(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:o(a),n(o(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=keysSorter(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){var n=encoderForArrayFormat(t=i({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map(function(r){var i=e[r];if(void 0===i)return"";if(null===i)return encode(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return encode(r,t)+"="+encode(i,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){"use strict";function decodeComponents(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],decodeComponents(n),decodeComponents(r))}function decode(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i),n=1;n<t.length;n++)e=decodeComponents(t,n).join(""),t=e.match(i);return e}}function customDecodeURIComponent(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=decode(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),a=0;a<i.length;a++){var s=i[a];e=e.replace(new RegExp(s,"g"),t[s])}return e}var r="%[a-f0-9]{2}",i=new RegExp(r,"gi"),o=new RegExp("("+r+")+","gi");e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return customDecodeURIComponent(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXPERIMENTS=window.__EXPERIMENTS__||Object({})||{}},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(94),i=function BaseTracker(){_classCallCheck(this,BaseTracker),this.track=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];r(n)&&n()},this.getDistinctId=function(){return"none"}};t.BaseTracker=i},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(805),i=function MixpanelTracker(e,t,n,i){var o=this;_classCallCheck(this,MixpanelTracker),this.track=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];r.track(e,Object.assign({},t,o.prefixExperiments),n)},this.getDistinctId=function(){return r.get_distinct_id()},r.init(e,{api_host:t,autotrack:!1,disable_notifications:!0,loaded:function loaded(){n&&r.identify(n)}}),this.prefixExperiments={},Object.keys(i).forEach(function(e){o.prefixExperiments["exp_"+e]=i[e].group})};t.MixpanelTracker=i},function(e,t,n){"use strict";function init_as_module(){return E=x,k=new ee,ae(),k.init(),se(),k}var r={DEBUG:!1,LIB_VERSION:"2.13.0"},i;i="undefined"==typeof window?{navigator:{}}:window;var o=Array.prototype,a=Function.prototype,s=Object.prototype,c=o.slice,u=s.toString,l=s.hasOwnProperty,d=i.console,p=i.navigator,h=i.document,f=p.userAgent,g=a.bind,m=o.forEach,v=o.indexOf,y=Array.isArray,_={},b={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},S={log:function(){if(r.DEBUG&&!b.isUndefined(d)&&d)try{d.log.apply(d,arguments)}catch(e){b.each(arguments,function(e){d.log(e)})}},error:function(){if(r.DEBUG&&!b.isUndefined(d)&&d){var e=["Mixpanel error:"].concat(b.toArray(arguments));try{d.error.apply(d,e)}catch(t){b.each(e,function(e){d.error(e)})}}},critical:function(){if(!b.isUndefined(d)&&d){var e=["Mixpanel error:"].concat(b.toArray(arguments));try{d.error.apply(d,e)}catch(t){b.each(e,function(e){d.error(e)})}}}};b.bind=function(e,t){var n,r;if(g&&e.bind===g)return g.apply(e,c.call(arguments,1));if(!b.isFunction(e))throw new TypeError;return n=c.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(c.call(arguments)));var i={};i.prototype=e.prototype;var o=new i;i.prototype=null;var a=e.apply(o,n.concat(c.call(arguments)));return Object(a)===a?a:o}},b.bind_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=b.bind(e[t],e))},b.each=function(e,t,n){if(null!==e&&void 0!==e)if(m&&e.forEach===m)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e)===_)return}else for(var o in e)if(l.call(e,o)&&t.call(n,e[o],o,e)===_)return},b.escapeHTML=function(e){var t=e;return t&&b.isString(t)&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),t},b.extend=function(e){return b.each(c.call(arguments,1),function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])}),e},b.isArray=y||function(e){return"[object Array]"===u.call(e)},b.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},b.isArguments=function(e){return!(!e||!l.call(e,"callee"))},b.toArray=function(e){return e?e.toArray?e.toArray():b.isArray(e)?c.call(e):b.isArguments(e)?c.call(e):b.values(e):[]},b.values=function(e){var t=[];return null===e?t:(b.each(e,function(e){t[t.length]=e}),t)},b.identity=function(e){return e},b.include=function(e,t){var n=!1;return null===e?n:v&&e.indexOf===v?-1!=e.indexOf(t):(b.each(e,function(e){if(n||(n=e===t))return _}),n)},b.includes=function(e,t){return-1!==e.indexOf(t)},b.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},b.isObject=function(e){return e===Object(e)&&!b.isArray(e)},b.isEmptyObject=function(e){if(b.isObject(e)){for(var t in e)if(l.call(e,t))return!1;return!0}return!1},b.isUndefined=function(e){return void 0===e},b.isString=function(e){return"[object String]"==u.call(e)},b.isDate=function(e){return"[object Date]"==u.call(e)},b.isNumber=function(e){return"[object Number]"==u.call(e)},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.encodeDates=function(e){return b.each(e,function(t,n){b.isDate(t)?e[n]=b.formatDate(t):b.isObject(t)&&(e[n]=b.encodeDates(t))}),e},b.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},b.formatDate=function(e){function pad(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+pad(e.getUTCMonth()+1)+"-"+pad(e.getUTCDate())+"T"+pad(e.getUTCHours())+":"+pad(e.getUTCMinutes())+":"+pad(e.getUTCSeconds())},b.safewrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){S.critical("Implementation error. Please contact support@mixpanel.com.")}}},b.safewrap_class=function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=b.safewrap(e.prototype[t[n]])},b.safewrap_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=b.safewrap(e[t]))},b.strip_empty_properties=function(e){var t={};return b.each(e,function(e,n){b.isString(e)&&e.length>0&&(t[n]=e)}),t},b.truncate=function(e,t){var n;return"string"==typeof e?n=e.slice(0,t):b.isArray(e)?(n=[],b.each(e,function(e){n.push(b.truncate(e,t))})):b.isObject(e)?(n={},b.each(e,function(e,r){n[r]=b.truncate(e,t)})):n=e,n},b.JSONEncode=function(e){var t=function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},n=function(e,r){var i="",o="    ",a=0,s="",c="",d=0,p=i,h=[],f=r[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(e)),typeof f){case"string":return t(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(i+="    ",h=[],"[object Array]"===u.apply(f)){for(d=f.length,a=0;a<d;a+=1)h[a]=n(a,f)||"null";return c=0===h.length?"[]":i?"[\n"+i+h.join(",\n"+i)+"\n"+p+"]":"["+h.join(",")+"]",i=p,c}for(s in f)l.call(f,s)&&(c=n(s,f))&&h.push(t(s)+(i?": ":":")+c);return c=0===h.length?"{}":i?"{"+h.join(",")+p+"}":"{"+h.join(",")+"}",i=p,c}};return n("",{"":e})},b.JSONDecode=function(){var e,t,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},r,i=function(t){throw{name:"SyntaxError",message:t,at:e,text:r}},o=function(n){return n&&n!==t&&i("Expected '"+n+"' instead of '"+t+"'"),t=r.charAt(e),e+=1,t},a=function(){var e,n="";for("-"===t&&(n="-",o("-"));t>="0"&&t<="9";)n+=t,o();if("."===t)for(n+=".";o()&&t>="0"&&t<="9";)n+=t;if("e"===t||"E"===t)for(n+=t,o(),"-"!==t&&"+"!==t||(n+=t,o());t>="0"&&t<="9";)n+=t,o();if(e=+n,isFinite(e))return e;i("Bad number")},s=function(){var e,r,a="",s;if('"'===t)for(;o();){if('"'===t)return o(),a;if("\\"===t)if(o(),"u"===t){for(s=0,r=0;r<4&&(e=parseInt(o(),16),isFinite(e));r+=1)s=16*s+e;a+=String.fromCharCode(s)}else{if("string"!=typeof n[t])break;a+=n[t]}else a+=t}i("Bad string")},c=function(){for(;t&&t<=" ";)o()},u=function(){switch(t){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}i('Unexpected "'+t+'"')},l,d=function(){var e=[];if("["===t){if(o("["),c(),"]"===t)return o("]"),e;for(;t;){if(e.push(l()),c(),"]"===t)return o("]"),e;o(","),c()}}i("Bad array")},p=function(){var e,n={};if("{"===t){if(o("{"),c(),"}"===t)return o("}"),n;for(;t;){if(e=s(),c(),o(":"),Object.hasOwnProperty.call(n,e)&&i('Duplicate key "'+e+'"'),n[e]=l(),c(),"}"===t)return o("}"),n;o(","),c()}}i("Bad object")};return l=function(){switch(c(),t){case"{":return p();case"[":return d();case'"':return s();case"-":return a();default:return t>="0"&&t<="9"?a():u()}},function(n){var o;return r=n,e=0,t=" ",o=l(),c(),t&&i("Syntax error"),o}}(),b.base64Encode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n,r,i,o,a,s,c,u,l=0,d=0,p="",h=[];if(!e)return e;e=b.utf8Encode(e);do{o=(u=(n=e.charCodeAt(l++))<<16|(r=e.charCodeAt(l++))<<8|(i=e.charCodeAt(l++)))>>18&63,a=u>>12&63,s=u>>6&63,c=63&u,h[d++]=t.charAt(o)+t.charAt(a)+t.charAt(s)+t.charAt(c)}while(l<e.length);switch(p=h.join(""),e.length%3){case 1:p=p.slice(0,-2)+"==";break;case 2:p=p.slice(0,-1)+"="}return p},b.utf8Encode=function(e){var t="",n,r,i=0,o;for(n=r=0,i=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,o=0;o<i;o++){var a=e.charCodeAt(o),s=null;a<128?r++:s=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==s&&(r>n&&(t+=e.substring(n,r)),t+=s,n=r=o+1)}return r>n&&(t+=e.substring(n,e.length)),t},b.UUID=function(){var e=function(){for(var e=1*new Date,t=0;e==1*new Date;)t++;return e.toString(16)+t.toString(16)},t=function(){return Math.random().toString(16).replace(".","")},n=function(){function xor(e,t){var n,i=0;for(n=0;n<t.length;n++)i|=r[n]<<8*n;return e^i}var e=f,t,n,r=[],i=0;for(t=0;t<e.length;t++)n=e.charCodeAt(t),r.unshift(255&n),r.length>=4&&(i=xor(i,r),r=[]);return r.length>0&&(i=xor(i,r)),i.toString(16)};return function(){var r=(screen.height*screen.width).toString(16);return e()+"-"+t()+"-"+n()+"-"+r+"-"+e()}}(),b.isBlockedUA=function(e){return!!/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(e)},b.HTTPBuildQuery=function(e,t){var n,r,i=[];return b.isUndefined(t)&&(t="&"),b.each(e,function(e,t){n=encodeURIComponent(e.toString()),r=encodeURIComponent(t),i[i.length]=r+"="+n}),i.join(t)},b.getQueryParam=function(e,t){var n="[\\?&]"+(t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)",r=new RegExp(n).exec(e);return null===r||r&&"string"!=typeof r[1]&&r[1].length?"":decodeURIComponent(r[1]).replace(/\+/g," ")},b.getHashParam=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},b.cookie={get:function(e){for(var t=e+"=",n=h.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=b.JSONDecode(b.cookie.get(e))||{}}catch(e){}return t},set_seconds:function(e,t,n,r,i){var o="",a="",s="";if(r){var c=h.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),u=c?c[0]:"";o=u?"; domain=."+u:""}if(n){var l=new Date;l.setTime(l.getTime()+1e3*n),a="; expires="+l.toGMTString()}i&&(s="; secure"),h.cookie=e+"="+encodeURIComponent(t)+a+"; path=/"+o+s},set:function(e,t,n,r,i){var o="",a="",s="";if(r){var c=h.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),u=c?c[0]:"";o=u?"; domain=."+u:""}if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),a="; expires="+l.toGMTString()}i&&(s="; secure");var d=e+"="+encodeURIComponent(t)+a+"; path=/"+o+s;return h.cookie=d,d},remove:function(e,t){b.cookie.set(e,"",-1,t)}},b.localStorage={error:function(e){S.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(e){b.localStorage.error(e)}return null},parse:function(e){try{return b.JSONDecode(b.localStorage.get(e))||{}}catch(e){}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(e){b.localStorage.error(e)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(e){b.localStorage.error(e)}}},b.register_event=function(){function makeHandler(e,t,n){return function(r){if(r=r||fixEvent(window.event)){var i=!0,o,a;return b.isFunction(n)&&(o=n(r)),a=t.call(e,r),!1!==o&&!1!==a||(i=!1),i}}}function fixEvent(e){return e&&(e.preventDefault=fixEvent.preventDefault,e.stopPropagation=fixEvent.stopPropagation),e}var e=function(e,t,n,r,i){if(e)if(e.addEventListener&&!r)e.addEventListener(t,n,!!i);else{var o="on"+t,a=e[o];e[o]=makeHandler(e,n,a)}else S.error("No valid element provided to register_event")};return fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0},e}(),b.dom_query=function(){function getAllChildren(e){return e.all?e.all:e.getElementsByTagName("*")}function hasClass(t,n){var r=" "+n+" ";return(" "+t.className+" ").replace(e," ").indexOf(r)>=0}function getElementsBySelector(e){if(!h.getElementsByTagName)return[];var t=e.split(" "),n,r,i,o,a,s,c,u,l,d,p=[h];for(s=0;s<t.length;s++)if((n=t[s].replace(/^\s+/,"").replace(/\s+$/,"")).indexOf("#")>-1){i=(r=n.split("#"))[0];var f=r[1],g=h.getElementById(f);if(!g||i&&g.nodeName.toLowerCase()!=i)return[];p=[g]}else if(n.indexOf(".")>-1){i=(r=n.split("."))[0];var m=r[1];for(i||(i="*"),o=[],a=0,c=0;c<p.length;c++)for(l="*"==i?getAllChildren(p[c]):p[c].getElementsByTagName(i),u=0;u<l.length;u++)o[a++]=l[u];for(p=[],d=0,c=0;c<o.length;c++)o[c].className&&b.isString(o[c].className)&&hasClass(o[c],m)&&(p[d++]=o[c])}else{var v=n.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/);if(v){i=v[1];var y=v[2],_=v[3],S=v[4];for(i||(i="*"),o=[],a=0,c=0;c<p.length;c++)for(l="*"==i?getAllChildren(p[c]):p[c].getElementsByTagName(i),u=0;u<l.length;u++)o[a++]=l[u];p=[],d=0;var w;switch(_){case"=":w=function(e){return e.getAttribute(y)==S};break;case"~":w=function(e){return e.getAttribute(y).match(new RegExp("\\b"+S+"\\b"))};break;case"|":w=function(e){return e.getAttribute(y).match(new RegExp("^"+S+"-?"))};break;case"^":w=function(e){return 0===e.getAttribute(y).indexOf(S)};break;case"$":w=function(e){return e.getAttribute(y).lastIndexOf(S)==e.getAttribute(y).length-S.length};break;case"*":w=function(e){return e.getAttribute(y).indexOf(S)>-1};break;default:w=function(e){return e.getAttribute(y)}}for(p=[],d=0,c=0;c<o.length;c++)w(o[c])&&(p[d++]=o[c])}else{for(i=n,o=[],a=0,c=0;c<p.length;c++)for(l=p[c].getElementsByTagName(i),u=0;u<l.length;u++)o[a++]=l[u];p=o}}return p}var e=/[\t\r\n]/g;return function(e){return b.isElement(e)?[e]:b.isObject(e)&&!b.isUndefined(e.length)?e:getElementsBySelector.call(this,e)}}(),b.info={campaignParams:function(){var e="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),t="",n={};return b.each(e,function(e){(t=b.getQueryParam(h.URL,e)).length&&(n[e]=t)}),n},searchEngine:function(e){return 0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(e){var t=b.info.searchEngine(e),n="yahoo"!=t?"q":"p",r={};if(null!==t){r.$search_engine=t;var i=b.getQueryParam(e,n);i.length&&(r.mp_keyword=i)}return r},browser:function(e,t,n){return t=t||"",n||b.includes(e," OPR/")?b.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":b.includes(e,"IEMobile")||b.includes(e,"WPDesktop")?"Internet Explorer Mobile":b.includes(e,"Edge")?"Microsoft Edge":b.includes(e,"FBIOS")?"Facebook Mobile":b.includes(e,"Chrome")?"Chrome":b.includes(e,"CriOS")?"Chrome iOS":b.includes(e,"UCWEB")||b.includes(e,"UCBrowser")?"UC Browser":b.includes(e,"FxiOS")?"Firefox iOS":b.includes(t,"Apple")?b.includes(e,"Mobile")?"Mobile Safari":"Safari":b.includes(e,"Android")?"Android Mobile":b.includes(e,"Konqueror")?"Konqueror":b.includes(e,"Firefox")?"Firefox":b.includes(e,"MSIE")||b.includes(e,"Trident/")?"Internet Explorer":b.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,n){var r={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[b.info.browser(e,t,n)];if(void 0===r)return null;var i=e.match(r);return i?parseFloat(i[i.length-2]):null},os:function(){var e=f;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},properties:function(){return b.extend(b.strip_empty_properties({$os:b.info.os(),$browser:b.info.browser(f,p.vendor,window.opera),$referrer:h.referrer,$referring_domain:b.info.referringDomain(h.referrer),$device:b.info.device(f)}),{$current_url:window.location.href,$browser_version:b.info.browserVersion(f,p.vendor,window.opera),$screen_height:screen.height,$screen_width:screen.width,mp_lib:"web",$lib_version:r.LIB_VERSION})},people_properties:function(){return b.extend(b.strip_empty_properties({$os:b.info.os(),$browser:b.info.browser(f,p.vendor,window.opera)}),{$browser_version:b.info.browserVersion(f,p.vendor,window.opera)})},pageviewInfo:function(e){return b.strip_empty_properties({mp_page:e,mp_referrer:h.referrer,mp_browser:b.info.browser(f,p.vendor,window.opera),mp_platform:b.info.os()})}},b.toArray=b.toArray,b.isObject=b.isObject,b.JSONEncode=b.JSONEncode,b.JSONDecode=b.JSONDecode,b.isBlockedUA=b.isBlockedUA,b.isEmptyObject=b.isEmptyObject,b.info=b.info,b.info.device=b.info.device,b.info.browser=b.info.browser,b.info.properties=b.info.properties;var w=1,C=3,T={_initializedTokens:[],_previousElementSibling:function(e){if(e.previousElementSibling)return e.previousElementSibling;do{e=e.previousSibling}while(e&&1!==e.nodeType);return e},_loadScript:function(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.onload=t;var r=document.getElementsByTagName("script");r.length>0?r[0].parentNode.insertBefore(n,r[0]):document.body.appendChild(n)},_getClassName:function(e){switch(typeof e.className){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}},_getPropertiesFromElement:function(e){var t={classes:this._getClassName(e).split(" "),tag_name:e.tagName.toLowerCase()};if(b.includes(["input","select","textarea"],e.tagName.toLowerCase())){var n=this._getFormFieldValue(e);this._includeProperty(e,n)&&(t.value=n)}b.each(e.attributes,function(e){t["attr__"+e.name]=e.value});for(var r=1,i=1,o=e;o=this._previousElementSibling(o);)r++,o.tagName===e.tagName&&i++;return t.nth_child=r,t.nth_of_type=i,t},_isTag:function(e,t){return e&&e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()},_shouldTrackDomEvent:function(e,t){if(!e||this._isTag(e,"html")||1!==e.nodeType)return!1;switch(e.tagName.toLowerCase()){case"html":return!1;case"form":return"submit"===t.type;case"input":return-1===["button","submit"].indexOf(e.getAttribute("type"))?"change"===t.type:"click"===t.type;case"select":case"textarea":return"change"===t.type;default:return"click"===t.type}},_getDefaultProperties:function(e){return{$event_type:e,$ce_version:1,$host:window.location.host,$pathname:window.location.pathname}},_getInputValue:function(e){var t=null;switch(e.type.toLowerCase()){case"checkbox":e.checked&&(t=[e.value]);break;case"radio":e.checked&&(t=e.value);break;default:t=e.value}return t},_getSelectValue:function(e){var t;if(e.multiple){var n=[];b.each(e.querySelectorAll("[selected]"),function(e){n.push(e.value)}),t=n}else t=e.value;return t},_includeProperty:function(e,t){for(var n=e;n.parentNode&&!this._isTag(n,"body");n=n.parentNode){var r=this._getClassName(n).split(" ");if(b.includes(r,"mp-sensitive")||b.includes(r,"mp-no-track"))return!1}if(b.includes(this._getClassName(e).split(" "),"mp-include"))return!0;if(null===t)return!1;switch((e.type||"").toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))return!1;if("string"==typeof t){if(/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((t||"").replace(/[\- ]/g,"")))return!1;if(/(^\d{3}-?\d{2}-?\d{4}$)/.test(t))return!1}return!0},_getFormFieldValue:function(e){var t;switch(e.tagName.toLowerCase()){case"input":t=this._getInputValue(e);break;case"select":t=this._getSelectValue(e);break;default:t=e.value||e.textContent}return this._includeProperty(e,t)?t:null},_getFormFieldProperties:function(e){var t={};return b.each(e.elements,function(e){var n=e.getAttribute("name")||e.getAttribute("id");if(null!==n){n="$form_field__"+n;var r=this._getFormFieldValue(e);if(this._includeProperty(e,r)){var i=t[n];t[n]=void 0!==i?[].concat(i,r):r}}},this),t},_extractCustomPropertyValue:function(e){var t=[];return b.each(document.querySelectorAll(e.css_selector),function(e){["input","select"].indexOf(e.tagName.toLowerCase())>-1?t.push(e.value):e.textContent&&t.push(e.textContent)}),t.join(", ")},_getCustomProperties:function(e){var t={};return b.each(this._customProperties,function(n){b.each(n.event_selectors,function(r){var i=document.querySelectorAll(r);b.each(i,function(r){b.includes(e,r)&&(t[n.name]=this._extractCustomPropertyValue(n))},this)},this)},this),t},_getEventTarget:function(e){return void 0===e.target?e.srcElement:e.target},_trackEvent:function(e,t){var n=this._getEventTarget(e);if(3===n.nodeType&&(n=n.parentNode),this._shouldTrackDomEvent(n,e)){for(var r=[n],i=n;i.parentNode&&!this._isTag(i,"body");)r.push(i.parentNode),i=i.parentNode;var o=[],a,s,c,u=!1;if(b.each(r,function(e,t){if("a"===e.tagName.toLowerCase()?a=e.getAttribute("href"):"form"===e.tagName.toLowerCase()&&(c=e),!s&&t<5&&e.textContent){var n=b.trim(e.textContent);n&&(s=n.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}var r=this._getClassName(e).split(" ");b.includes(r,"mp-no-track")&&(u=!0),o.push(this._getPropertiesFromElement(e))},this),u)return!1;var l=b.extend(this._getDefaultProperties(e.type),{$elements:o,$el_attr__href:a,$el_text:s},this._getCustomProperties(r));return!c||"submit"!==e.type&&"click"!==e.type||b.extend(l,this._getFormFieldProperties(c)),t.track("$web_event",l),!0}},_navigate:function(e){window.location.href=e},_addDomEventHandlers:function(e){var t=b.bind(function(t){t=t||window.event,this._trackEvent(t,e)},this);b.register_event(document,"submit",t,!1,!0),b.register_event(document,"change",t,!1,!0),b.register_event(document,"click",t,!1,!0)},_customProperties:{},init:function(e){if(document&&document.body){var t=e.get_config("token");if(!(this._initializedTokens.indexOf(t)>-1||(this._initializedTokens.push(t),this._maybeLoadEditor(e)))){var n=b.bind(function(t){t&&t.config&&!0===t.config.enable_collect_everything?(t.custom_properties&&(this._customProperties=t.custom_properties),e.track("$web_event",b.extend({$title:document.title},this._getDefaultProperties("pageview"))),this._addDomEventHandlers(e)):e.__autotrack_enabled=!1},this);e._send_request(e.get_config("api_host")+"/decide/",{verbose:!0,version:"1",lib:"web",token:t},e._prepare_callback(n))}}else{var r=this;setTimeout(function(){r.init(e)},500)}},_editorParamsFromHash:function(e,t){var n;try{var r=b.getHashParam(t,"state");r=JSON.parse(decodeURIComponent(r));var i=b.getHashParam(t,"expires_in");n={accessToken:b.getHashParam(t,"access_token"),accessTokenExpiresAt:(new Date).getTime()+1e3*Number(i),bookmarkletMode:!!r.bookmarkletMode,projectId:r.projectId,projectOwnerId:r.projectOwnerId,projectToken:r.token,readOnly:r.readOnly,userFlags:r.userFlags,userId:r.userId},window.sessionStorage.setItem("editorParams",JSON.stringify(n)),r.desiredHash?window.location.hash=r.desiredHash:window.history?history.replaceState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}catch(e){}return n},_maybeLoadEditor:function(e){try{var t=!1;if(b.getHashParam(window.location.hash,"state")){var n=b.getHashParam(window.location.hash,"state");t="mpeditor"===(n=JSON.parse(decodeURIComponent(n))).action}var r=!!window.sessionStorage.getItem("_mpcehash"),i;return t?i=this._editorParamsFromHash(e,window.location.hash):r?(i=this._editorParamsFromHash(e,window.sessionStorage.getItem("_mpcehash")),window.sessionStorage.removeItem("_mpcehash")):i=JSON.parse(window.sessionStorage.getItem("editorParams")||"{}"),!(!i.projectToken||e.get_config("token")!==i.projectToken)&&(this._loadEditor(e,i),!0)}catch(e){return!1}},_loadEditor:function(e,t){if(!window._mpEditorLoaded){window._mpEditorLoaded=!0;var n=e.get_config("app_host")+"/js-bundle/reports/collect-everything/editor.js?_ts="+(new Date).getTime();return this._loadScript(n,function(){window.mp_load_editor(t)}),!0}return!1},enabledForProject:function(e,t,n){t=b.isUndefined(t)?10:t,n=b.isUndefined(n)?10:n;for(var r=0,i=0;i<e.length;i++)r+=e.charCodeAt(i);return r%t<n},isBrowserSupported:function(){return b.isFunction(document.querySelectorAll)}};b.bind_instance_methods(T),b.safewrap_instance_methods(T);var E,k,x=0,I=1,R="mixpanel",O="__mps",P="__mpso",A="__mpa",M="__mpap",N="__mpu",D="$set",L="$set_once",F="$add",U="$append",j="$union",W="$people_distinct_id",B="__alias",H="__cmpns",z="__timers",q=["__mps","__mpso","__mpa","__mpap","__mpu","$people_distinct_id","__alias","__cmpns","__timers"],V="https:"===document.location.protocol?"https://":"http://",G=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,$=!G&&-1===f.indexOf("MSIE")&&-1===f.indexOf("Mozilla"),X={api_host:V+"api.mixpanel.com",app_host:V+"mixpanel.com",autotrack:!0,cdn:V+"cdn.mxpnl.com",cross_subdomain_cookie:!0,persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,track_pageview:!0,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,property_blacklist:[]},K=!1,Y=function(){};Y.prototype.create_properties=function(){},Y.prototype.event_handler=function(){},Y.prototype.after_track_handler=function(){},Y.prototype.init=function(e){return this.mp=e,this},Y.prototype.track=function(e,t,n,r){var i=this,o=b.dom_query(e);if(0!==o.length)return b.each(o,function(e){b.register_event(e,this.override_event,function(e){var o={},a=i.create_properties(n,this),s=i.mp.get_config("track_links_timeout");i.event_handler(e,this,o),window.setTimeout(i.track_callback(r,a,o,!0),s),i.mp.track(t,a,i.track_callback(r,a,o))})},this),!0;S.error("The DOM query ("+e+") returned 0 elements")},Y.prototype.track_callback=function(e,t,n,r){r=r||!1;var i=this;return function(){n.callback_fired||(n.callback_fired=!0,e&&!1===e(r,t)||i.after_track_handler(t,n,r))}},Y.prototype.create_properties=function(e,t){var n;return n="function"==typeof e?e(t):b.extend({},e)};var Q=function(){this.override_event="click"};b.inherit(Q,Y),Q.prototype.create_properties=function(e,t){var n=Q.superclass.create_properties.apply(this,arguments);return t.href&&(n.url=t.href),n},Q.prototype.event_handler=function(e,t,n){n.new_tab=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target,n.href=t.href,n.new_tab||e.preventDefault()},Q.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var J=function(){this.override_event="submit"};b.inherit(J,Y),J.prototype.event_handler=function(e,t,n){n.element=t,e.preventDefault()},J.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var Z=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;"cookie"!==t&&"localStorage"!==t&&(S.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),"localStorage"===t&&function(){var e=!0;try{var t="__mplssupport__",n="xyz";b.localStorage.set(t,n),b.localStorage.get(t)!==n&&(e=!1),b.localStorage.remove(t)}catch(t){e=!1}return e||S.error("localStorage unsupported; falling back to cookie store"),e}()?this.storage=b.localStorage:this.storage=b.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};Z.prototype.properties=function(){var e={};return b.each(this.props,function(t,n){b.include(q,n)||(e[n]=t)}),e},Z.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=b.extend({},e))}},Z.prototype.upgrade=function(e){var t=e.upgrade,n,r;t&&(n="mp_super_properties","string"==typeof t&&(n=t),r=this.storage.parse(n),this.storage.remove(n),this.storage.remove(n,!0),r&&(this.props=b.extend(this.props,r.all,r.events))),e.cookie_name||"mixpanel"===e.name||(n="mp_"+e.token+"_"+e.name,(r=this.storage.parse(n))&&(this.storage.remove(n),this.storage.remove(n,!0),this.register_once(r))),this.storage===b.localStorage&&(r=b.cookie.parse(this.name),b.cookie.remove(this.name),b.cookie.remove(this.name,!0),r&&this.register_once(r))},Z.prototype.save=function(){this.disabled||(this._expire_notification_campaigns(),this.storage.set(this.name,b.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure))},Z.prototype.remove=function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)},Z.prototype.clear=function(){this.remove(),this.props={}},Z.prototype.register_once=function(e,t,n){return!!b.isObject(e)&&(void 0===t&&(t="None"),this.expire_days=void 0===n?this.default_expiry:n,b.each(e,function(e,n){this.props[n]&&this.props[n]!==t||(this.props[n]=e)},this),this.save(),!0)},Z.prototype.register=function(e,t){return!!b.isObject(e)&&(this.expire_days=void 0===t?this.default_expiry:t,b.extend(this.props,e),this.save(),!0)},Z.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save())},Z.prototype._expire_notification_campaigns=b.safewrap(function(){var e=this.props.__cmpns,t=r.DEBUG?6e4:36e5;if(e){for(var n in e)1*new Date-e[n]>t&&delete e[n];b.isEmptyObject(e)&&delete this.props.__cmpns}}),Z.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(b.info.campaignParams()),this.campaign_params_saved=!0)},Z.prototype.update_search_keyword=function(e){this.register(b.info.searchInfo(e))},Z.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:b.info.referringDomain(e)||"$direct"},"")},Z.prototype.get_referrer_info=function(){return b.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},Z.prototype.safe_merge=function(e){return b.each(this.props,function(t,n){n in e||(e[n]=t)}),e},Z.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)},Z.prototype.set_disabled=function(e){this.disabled=e,this.disabled&&this.remove()},Z.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())},Z.prototype.get_cross_subdomain=function(){return this.cross_subdomain},Z.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())},Z.prototype._add_to_people_queue=function(e,t){var n=this._get_queue_key(e),r=t[e],i=this._get_or_create_queue("$set"),o=this._get_or_create_queue("$set_once"),a=this._get_or_create_queue("$add"),s=this._get_or_create_queue("$union"),c=this._get_or_create_queue("$append",[]);"__mps"===n?(b.extend(i,r),this._pop_from_people_queue("$add",r),this._pop_from_people_queue("$union",r)):"__mpso"===n?b.each(r,function(e,t){t in o||(o[t]=e)}):"__mpa"===n?b.each(r,function(e,t){t in i?i[t]+=e:(t in a||(a[t]=0),a[t]+=e)},this):"__mpu"===n?b.each(r,function(e,t){b.isArray(e)&&(t in s||(s[t]=[]),s[t]=s[t].concat(e))}):"__mpap"===n&&c.push(r),S.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),S.log(t),this.save()},Z.prototype._pop_from_people_queue=function(e,t){var n=this._get_queue(e);b.isUndefined(n)||(b.each(t,function(e,t){delete n[t]},this),this.save())},Z.prototype._get_queue_key=function(e){return"$set"===e?"__mps":"$set_once"===e?"__mpso":"$add"===e?"__mpa":"$append"===e?"__mpap":"$union"===e?"__mpu":void S.error("Invalid queue:",e)},Z.prototype._get_queue=function(e){return this.props[this._get_queue_key(e)]},Z.prototype._get_or_create_queue=function(e,t){var n=this._get_queue_key(e);return t=b.isUndefined(t)?{}:t,this.props[n]||(this.props[n]=t)},Z.prototype.set_event_timer=function(e,t){var n=this.props.__timers||{};n[e]=t,this.props.__timers=n,this.save()},Z.prototype.remove_event_timer=function(e){var t=(this.props.__timers||{})[e];return b.isUndefined(t)||(delete this.props.__timers[e],this.save()),t};var ee=function(){},te=function(){},ne,re=function(e,t,n){var i,o="mixpanel"===n?k:k[n];if(o&&E===x)i=o;else{if(o&&!b.isArray(o))return void S.error("You have already initialized "+n);i=new ee}if(i._init(e,t,n),i.people=new te,i.people._init(i),r.DEBUG=r.DEBUG||i.get_config("debug"),i.__autotrack_enabled=i.get_config("autotrack"),i.get_config("autotrack")){var a=100,s=100;T.enabledForProject(i.get_config("token"),100,100)?T.isBrowserSupported()?T.init(i):(i.__autotrack_enabled=!1,S.log("Disabling Automatic Event Collection because this browser is not supported")):(i.__autotrack_enabled=!1,S.log("Not in active bucket: disabling Automatic Event Collection."));try{ce(i)}catch(e){S.error(e)}}return!b.isUndefined(o)&&b.isArray(o)&&(i._execute_array.call(i.people,o.people),i._execute_array(o)),i};ee.prototype.init=function(e,t,n){if(b.isUndefined(n))S.error("You must name your new library: init(token, config, name)");else{if("mixpanel"!==n){var r=re(e,t,n);return k[n]=r,r._loaded(),r}S.error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet")}},ee.prototype._init=function(e,t,n){this.__loaded=!0,this.config={},this.set_config(b.extend({},X,t,{name:n,token:e,callback_fn:("mixpanel"===n?n:"mixpanel."+n)+"._jsc"})),this._jsc=function(){},this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.persistence=this.cookie=new Z(this.config),this.register_once({distinct_id:b.UUID()},"")},ee.prototype._loaded=function(){this.get_config("loaded")(this),this.get_config("track_pageview")&&this.track_pageview()},ee.prototype._dom_loaded=function(){b.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),b.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue},ee.prototype._track_dom=function(e,t){if(this.get_config("img"))return S.error("You can't use DOM tracking functions with img = true."),!1;if(!K)return this.__dom_loaded_queue.push([e,t]),!1;var n=(new e).init(this);return n.track.apply(n,t)},ee.prototype._prepare_callback=function(e,t){if(b.isUndefined(e))return null;if(G)return function(n){e(n,t)};var n=this._jsc,r=""+Math.floor(1e8*Math.random()),i=this.get_config("callback_fn")+"["+r+"]";return n[r]=function(i){delete n[r],e(i,t)},i},ee.prototype._send_request=function(e,t,n){if($)this.__request_queue.push(arguments);else{var r=this.get_config("verbose");if(t.verbose&&(r=!0),this.get_config("test")&&(t.test=1),r&&(t.verbose=1),this.get_config("img")&&(t.img=1),G||(n?t.callback=n:(r||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=(new Date).getTime().toString(),e+="?"+b.HTTPBuildQuery(t),"img"in t){var i=document.createElement("img");i.src=e,document.body.appendChild(i)}else if(G)try{var o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=!0,o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)n&&n(r?b.JSONDecode(o.responseText):Number(o.responseText));else{var e="Bad HTTP status: "+o.status+" "+o.statusText;S.error(e),n&&n(r?{status:0,error:e}:0)}},o.send(null)}catch(e){S.error(e)}else{var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.defer=!0,a.src=e;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s)}}},ee.prototype._execute_array=function(e){var t,n=[],r=[],i=[];b.each(e,function(e){e&&(t=e[0],"function"==typeof e?e.call(this):b.isArray(e)&&"alias"===t?n.push(e):b.isArray(e)&&-1!==t.indexOf("track")&&"function"==typeof this[t]?i.push(e):r.push(e))},this);var o=function(e,t){b.each(e,function(e){this[e[0]].apply(this,e.slice(1))},t)};o(n,this),o(r,this),o(i,this)},ee.prototype.push=function(e){this._execute_array([e])},ee.prototype.disable=function(e){void 0===e?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)},ee.prototype.track=function(e,t,n){if("function"!=typeof n&&(n=function(){}),b.isUndefined(e))S.error("No event name provided to mixpanel.track");else{if(!this._event_is_disabled(e)){(t=t||{}).token=this.get_config("token");var r=this.persistence.remove_event_timer(e);if(!b.isUndefined(r)){var i=(new Date).getTime()-r;t.$duration=parseFloat((i/1e3).toFixed(3))}this.persistence.update_search_keyword(document.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(document.referrer),t=b.extend({},b.info.properties(),this.persistence.properties(),t);try{this.get_config("autotrack")&&"mp_page_view"!==e&&"$create_alias"!==e&&(t=b.extend({},t,this.mp_counts),this.mp_counts={$__c:0},b.cookie.set("mp_"+this.get_config("name")+"__c",0,1,!0))}catch(e){S.error(e)}var o=this.get_config("property_blacklist");b.isArray(o)?b.each(o,function(e){delete t[e]}):S.error("Invalid value for property_blacklist config: "+o);var a={event:e,properties:t},s=b.truncate(a,255),c=b.JSONEncode(s),u=b.base64Encode(c);return S.log("MIXPANEL REQUEST:"),S.log(s),this._send_request(this.get_config("api_host")+"/track/",{data:u},this._prepare_callback(n,s)),s}n(0)}},ee.prototype.track_pageview=function(e){b.isUndefined(e)&&(e=document.location.href),this.track("mp_page_view",b.info.pageviewInfo(e))},ee.prototype.track_links=function(){return this._track_dom.call(this,Q,arguments)},ee.prototype.track_forms=function(){return this._track_dom.call(this,J,arguments)},ee.prototype.time_event=function(e){b.isUndefined(e)?S.error("No event name provided to mixpanel.time_event"):this._event_is_disabled(e)||this.persistence.set_event_timer(e,(new Date).getTime())},ee.prototype.register=function(e,t){this.persistence.register(e,t)},ee.prototype.register_once=function(e,t,n){this.persistence.register_once(e,t,n)},ee.prototype.unregister=function(e){this.persistence.unregister(e)},ee.prototype._register_single=function(e,t){var n={};n[e]=t,this.register(n)},ee.prototype.identify=function(e,t,n,r,i,o){e!==this.get_distinct_id()&&e!==this.get_property("__alias")&&(this.unregister("__alias"),this._register_single("distinct_id",e)),this._check_and_handle_notifications(this.get_distinct_id()),this._flags.identify_called=!0,this.people._flush(t,n,r,i,o)},ee.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1,this.register_once({distinct_id:b.UUID()},"")},ee.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},ee.prototype.alias=function(e,t){if(e===this.get_property("$people_distinct_id"))return S.critical("Attempting to create alias for existing People user - aborting."),-2;var n=this;return b.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single("__alias",e),this.track("$create_alias",{alias:e,distinct_id:t},function(){n.identify(e)})):(S.error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)},ee.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)},ee.prototype.set_config=function(e){b.isObject(e)&&(b.extend(this.config,e),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),r.DEBUG=r.DEBUG||this.get_config("debug"))},ee.prototype.get_config=function(e){return this.config[e]},ee.prototype.get_property=function(e){return this.persistence.props[e]},ee.prototype.toString=function(){var e=this.get_config("name");return"mixpanel"!==e&&(e="mixpanel."+e),e},ee.prototype._event_is_disabled=function(e){return b.isBlockedUA(f)||this._flags.disable_all_events||b.include(this.__disabled_events,e)},ee.prototype._check_and_handle_notifications=function(e){if(e&&!this._flags.identify_called&&!this.get_config("disable_notifications")){S.log("MIXPANEL NOTIFICATION CHECK");var t={verbose:!0,version:"2",lib:"web",token:this.get_config("token"),distinct_id:e},n=this;this._send_request(this.get_config("api_host")+"/decide/",t,this._prepare_callback(function(e){e.notifications&&e.notifications.length>0&&n._show_notification.call(n,e.notifications[0])}))}},ee.prototype._show_notification=function(e){new ne(e,this).show()},te.prototype._init=function(e){this._mixpanel=e},te.prototype.set=function(e,t,n){var r={},i={};return b.isObject(e)?(b.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),n=t):i[e]=t,this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),i=b.extend({},b.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),i),r.$set=i,this._send_request(r,n)},te.prototype.set_once=function(e,t,n){var r={},i={};return b.isObject(e)?(b.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),n=t):i[e]=t,r.$set_once=i,this._send_request(r,n)},te.prototype.increment=function(e,t,n){var r={},i={};return b.isObject(e)?(b.each(e,function(e,t){if(!this._is_reserved_property(t)){if(isNaN(parseFloat(e)))return void S.error("Invalid increment value passed to mixpanel.people.increment - must be a number");i[t]=e}},this),n=t):(b.isUndefined(t)&&(t=1),i[e]=t),r.$add=i,this._send_request(r,n)},te.prototype.append=function(e,t,n){var r={},i={};return b.isObject(e)?(b.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),n=t):i[e]=t,r.$append=i,this._send_request(r,n)},te.prototype.union=function(e,t,n){var r={},i={};return b.isObject(e)?(b.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=b.isArray(e)?e:[e])},this),n=t):i[e]=b.isArray(t)?t:[t],r.$union=i,this._send_request(r,n)},te.prototype.track_charge=function(e,t,n){if(b.isNumber(e)||(e=parseFloat(e),!isNaN(e)))return this.append("$transactions",b.extend({$amount:e},t),n);S.error("Invalid value passed to mixpanel.people.track_charge - must be a number")},te.prototype.clear_charges=function(e){return this.set("$transactions",[],e)},te.prototype.delete_user=function(){if(this._identify_called()){var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)}S.error("mixpanel.people.delete_user() requires you to call identify() first")},te.prototype.toString=function(){return this._mixpanel.toString()+".people"},te.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var n=b.encodeDates(e),r=b.truncate(n,255),i=b.JSONEncode(n),o=b.base64Encode(i);return this._identify_called()?(S.log("MIXPANEL PEOPLE REQUEST:"),S.log(r),this._mixpanel._send_request(this._get_config("api_host")+"/engage/",{data:o},this._mixpanel._prepare_callback(t,r)),r):(this._enqueue(e),b.isUndefined(t)||t(this._get_config("verbose")?{status:-1,error:null}:-1),r)},te.prototype._get_config=function(e){return this._mixpanel.get_config(e)},te.prototype._identify_called=function(){return!0===this._mixpanel._flags.identify_called},te.prototype._enqueue=function(e){"$set"in e?this._mixpanel.persistence._add_to_people_queue("$set",e):"$set_once"in e?this._mixpanel.persistence._add_to_people_queue("$set_once",e):"$add"in e?this._mixpanel.persistence._add_to_people_queue("$add",e):"$append"in e?this._mixpanel.persistence._add_to_people_queue("$append",e):"$union"in e?this._mixpanel.persistence._add_to_people_queue("$union",e):S.error("Invalid call to _enqueue():",e)},te.prototype._flush=function(e,t,n,r,i){var o=this,a=b.extend({},this._mixpanel.persistence._get_queue("$set")),s=b.extend({},this._mixpanel.persistence._get_queue("$set_once")),c=b.extend({},this._mixpanel.persistence._get_queue("$add")),u=this._mixpanel.persistence._get_queue("$append"),l=b.extend({},this._mixpanel.persistence._get_queue("$union"));if(b.isUndefined(a)||!b.isObject(a)||b.isEmptyObject(a)||(o._mixpanel.persistence._pop_from_people_queue("$set",a),this.set(a,function(t,n){0===t&&o._mixpanel.persistence._add_to_people_queue("$set",a),b.isUndefined(e)||e(t,n)})),b.isUndefined(s)||!b.isObject(s)||b.isEmptyObject(s)||(o._mixpanel.persistence._pop_from_people_queue("$set_once",s),this.set_once(s,function(e,t){0===e&&o._mixpanel.persistence._add_to_people_queue("$set_once",s),b.isUndefined(r)||r(e,t)})),b.isUndefined(c)||!b.isObject(c)||b.isEmptyObject(c)||(o._mixpanel.persistence._pop_from_people_queue("$add",c),this.increment(c,function(e,n){0===e&&o._mixpanel.persistence._add_to_people_queue("$add",c),b.isUndefined(t)||t(e,n)})),b.isUndefined(l)||!b.isObject(l)||b.isEmptyObject(l)||(o._mixpanel.persistence._pop_from_people_queue("$union",l),this.union(l,function(e,t){0===e&&o._mixpanel.persistence._add_to_people_queue("$union",l),b.isUndefined(i)||i(e,t)})),!b.isUndefined(u)&&b.isArray(u)&&u.length){for(var d,p=function(e,t){0===e&&o._mixpanel.persistence._add_to_people_queue("$append",d),b.isUndefined(n)||n(e,t)},h=u.length-1;h>=0;h--)d=u.pop(),o.append(d,p);o._mixpanel.persistence.save()}},te.prototype._is_reserved_property=function(e){return"$distinct_id"===e||"$token"===e},ee._Notification=function(e,t){b.bind_instance_methods(this),this.mixpanel=t,this.persistence=this.mixpanel.persistence,this.campaign_id=b.escapeHTML(e.id),this.message_id=b.escapeHTML(e.message_id),this.body=(b.escapeHTML(e.body)||"").replace(/\n/g,"<br/>"),this.cta=b.escapeHTML(e.cta)||"Close",this.notif_type=b.escapeHTML(e.type)||"takeover",this.style=b.escapeHTML(e.style)||"light",this.title=b.escapeHTML(e.title)||"",this.video_width=ne.VIDEO_WIDTH,this.video_height=ne.VIDEO_HEIGHT,this.dest_url=e.cta_url||null,this.image_url=e.image_url||null,this.thumb_image_url=e.thumb_image_url||null,this.video_url=e.video_url||null,this.clickthrough=!0,this.dest_url||(this.dest_url="#dismiss",this.clickthrough=!1),this.mini="mini"===this.notif_type,this.mini||(this.notif_type="takeover"),this.notif_width=this.mini?ne.NOTIF_WIDTH_MINI:ne.NOTIF_WIDTH,this._set_client_config(),this.imgs_to_preload=this._init_image_html(),this._init_video()},(ne=ee._Notification).ANIM_TIME=200,ne.MARKUP_PREFIX="mixpanel-notification",ne.BG_OPACITY=.6,ne.NOTIF_TOP=25,ne.NOTIF_START_TOP=200,ne.NOTIF_WIDTH=388,ne.NOTIF_WIDTH_MINI=420,ne.NOTIF_HEIGHT_MINI=85,ne.THUMB_BORDER_SIZE=5,ne.THUMB_IMG_SIZE=60,ne.THUMB_OFFSET=Math.round(ne.THUMB_IMG_SIZE/2),ne.VIDEO_WIDTH=595,ne.VIDEO_HEIGHT=334,ne.prototype.show=function(){var e=this;this._set_client_config(),this.body_el?(this._init_styles(),this._init_notification_el(),this._preload_images(this._attach_and_animate)):setTimeout(function(){e.show()},300)},ne.prototype.dismiss=b.safewrap(function(){this.marked_as_shown||this._mark_delivery({invisible:!0});var e=this.showing_video?this._get_el("video"):this._get_notification_display_el();if(this.use_transitions)this._remove_class("bg","visible"),this._add_class(e,"exiting"),setTimeout(this._remove_notification_el,ne.ANIM_TIME);else{var t,n,r;this.mini?(t="right",n=20,r=-100):(t="top",n=ne.NOTIF_TOP,r=ne.NOTIF_START_TOP+ne.NOTIF_TOP),this._animate_els([{el:this._get_el("bg"),attr:"opacity",start:ne.BG_OPACITY,goal:0},{el:e,attr:"opacity",start:1,goal:0},{el:e,attr:t,start:n,goal:r}],ne.ANIM_TIME,this._remove_notification_el)}}),ne.prototype._add_class=b.safewrap(function(e,t){t=ne.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className?~(" "+e.className+" ").indexOf(" "+t+" ")||(e.className+=" "+t):e.className=t}),ne.prototype._remove_class=b.safewrap(function(e,t){t=ne.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className&&(e.className=(" "+e.className+" ").replace(" "+t+" ","").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""))}),ne.prototype._animate_els=b.safewrap(function(e,t,n,r){var i=this,o=!1,a,s,c=1*new Date,u;for(u=c-(r=r||c),a=0;a<e.length;a++)if(void 0===(s=e[a]).val&&(s.val=s.start),s.val!==s.goal){o=!0;var l=s.goal-s.start,d=s.goal>=s.start?1:-1;s.val=s.start+l*u/t,"opacity"!==s.attr&&(s.val=Math.round(s.val)),(d>0&&s.val>=s.goal||d<0&&s.val<=s.goal)&&(s.val=s.goal)}if(o){for(a=0;a<e.length;a++)if((s=e[a]).el){var p="opacity"===s.attr?"":"px";s.el.style[s.attr]=String(s.val)+p}setTimeout(function(){i._animate_els(e,t,n,r)},10)}else n&&n()}),ne.prototype._attach_and_animate=b.safewrap(function(){var e=this;if(!this.shown&&!this._get_shown_campaigns()[this.campaign_id]){this.shown=!0,this.body_el.appendChild(this.notification_el),setTimeout(function(){var t=e._get_notification_display_el();if(e.use_transitions)e.mini||e._add_class("bg","visible"),e._add_class(t,"visible"),e._mark_as_shown();else{var n,r,i;e.mini?(n="right",r=-100,i=20):(n="top",r=ne.NOTIF_START_TOP+ne.NOTIF_TOP,i=ne.NOTIF_TOP),e._animate_els([{el:e._get_el("bg"),attr:"opacity",start:0,goal:ne.BG_OPACITY},{el:t,attr:"opacity",start:0,goal:1},{el:t,attr:n,start:r,goal:i}],ne.ANIM_TIME,e._mark_as_shown)}},100),b.register_event(e._get_el("cancel"),"click",function(t){t.preventDefault(),e.dismiss()});var t=e._get_el("button")||e._get_el("mini-content");b.register_event(t,"click",function(t){t.preventDefault(),e.show_video?(e._track_event("$campaign_open",{$resource_type:"video"}),e._switch_to_video()):(e.dismiss(),e.clickthrough&&e._track_event("$campaign_open",{$resource_type:"link"},function(){window.location.href=e.dest_url}))})}}),ne.prototype._get_el=function(e){return document.getElementById(ne.MARKUP_PREFIX+"-"+e)},ne.prototype._get_notification_display_el=function(){return this._get_el(this.notif_type)},ne.prototype._get_shown_campaigns=function(){return this.persistence.props.__cmpns||(this.persistence.props.__cmpns={})},ne.prototype._browser_lte=function(e,t){return this.browser_versions[e]&&this.browser_versions[e]<=t},ne.prototype._init_image_html=function(){var e=[];return this.mini?(this.thumb_image_url=this.thumb_image_url||"//cdn.mxpnl.com/site_media/images/icons/notifications/mini-news-dark.png",e.push(this.thumb_image_url)):(this.image_url?(e.push(this.image_url),this.img_html='<img id="img" src="'+this.image_url+'"/>'):this.img_html="",this.thumb_image_url?(e.push(this.thumb_image_url),this.thumb_img_html='<div id="thumbborder-wrapper"><div id="thumbborder"></div></div><img id="thumbnail" src="'+this.thumb_image_url+'" width="'+ne.THUMB_IMG_SIZE+'" height="'+ne.THUMB_IMG_SIZE+'"/><div id="thumbspacer"></div>'):this.thumb_img_html=""),e},ne.prototype._init_notification_el=function(){var e="",t="",n="",r='<div id="cancel"><div id="cancel-icon"></div></div>';if(this.notification_el=document.createElement("div"),this.notification_el.id=ne.MARKUP_PREFIX+"-wrapper",this.mini)e='<div id="mini"><div id="mainbox">'+r+'<div id="mini-content"><div id="mini-icon"><div id="mini-icon-img"></div></div><div id="body"><div id="body-text"><div>'+this.body+'</div></div></div></div></div><div id="mini-border"></div></div>';else{var i=this.clickthrough||this.show_video?"":'<div id="button-close"></div>',o=this.show_video?'<div id="button-play"></div>':"";this._browser_lte("ie",7)&&(i="",o=""),e='<div id="takeover">'+this.thumb_img_html+'<div id="mainbox">'+r+'<div id="content">'+this.img_html+'<div id="title">'+this.title+'</div><div id="body">'+this.body+'</div><div id="tagline"><a href="http://mixpanel.com?from=inapp" target="_blank">POWERED BY MIXPANEL</a></div></div><div id="button">'+i+'<a id="button-link" href="'+this.dest_url+'">'+this.cta+"</a>"+o+"</div></div></div>"}this.youtube_video?(t="//www.youtube.com/embed/"+this.youtube_video+"?wmode=transparent&showinfo=0&modestbranding=0&rel=0&autoplay=1&loop=0&vq=hd1080",this.yt_custom&&(t+="&enablejsapi=1&html5=1&controls=0",n='<div id="video-controls"><div id="video-progress" class="video-progress-el"><div id="video-progress-total" class="video-progress-el"></div><div id="video-elapsed" class="video-progress-el"></div></div><div id="video-time" class="video-progress-el"></div></div>')):this.vimeo_video&&(t="//player.vimeo.com/video/"+this.vimeo_video+"?autoplay=1&title=0&byline=0&portrait=0"),this.show_video&&(this.video_iframe='<iframe id="'+ne.MARKUP_PREFIX+'-video-frame" width="'+this.video_width+'" height="'+this.video_height+'"  src="'+t+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen="1" scrolling="no"></iframe>',n='<div id="video-'+(this.flip_animate?"":"no")+'flip"><div id="video"><div id="video-holder"></div>'+n+"</div></div>");var a=n+e;this.flip_animate&&(a=(this.mini?e:"")+'<div id="flipcontainer"><div id="flipper">'+(this.mini?n:a)+"</div></div>"),this.notification_el.innerHTML=('<div id="overlay" class="'+this.notif_type+'"><div id="campaignid-'+this.campaign_id+'"><div id="bgwrapper"><div id="bg"></div>'+a+"</div></div></div>").replace(/class=\"/g,'class="'+ne.MARKUP_PREFIX+"-").replace(/id=\"/g,'id="'+ne.MARKUP_PREFIX+"-")},ne.prototype._init_styles=function(){"dark"===this.style?this.style_vals={bg:"#1d1f25",bg_actions:"#282b32",bg_hover:"#3a4147",bg_light:"#4a5157",border_gray:"#32353c",cancel_opacity:"0.4",mini_hover:"#2a3137",text_title:"#fff",text_main:"#9498a3",text_tagline:"#464851",text_hover:"#ddd"}:this.style_vals={bg:"#fff",bg_actions:"#e7eaee",bg_hover:"#eceff3",bg_light:"#f5f5f5",border_gray:"#e4ecf2",cancel_opacity:"1.0",mini_hover:"#fafafa",text_title:"#5c6578",text_main:"#8b949b",text_tagline:"#ced9e6",text_hover:"#7c8598"};var e="0px 0px 35px 0px rgba(45, 49, 56, 0.7)",t=e,n=e,r=ne.THUMB_IMG_SIZE+2*ne.THUMB_BORDER_SIZE,i=ne.ANIM_TIME/1e3+"s";this.mini&&(e="none");var o={};o["@media only screen and (max-width: "+(ne.NOTIF_WIDTH_MINI+20-1)+"px)"]={"#overlay":{display:"none"}};var a={".flipped":{transform:"rotateY(180deg)"},"#overlay":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",overflow:"auto","text-align":"center","z-index":"10000","font-family":'"Helvetica", "Arial", sans-serif',"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},"#overlay.mini":{height:"0",overflow:"visible"},"#overlay a":{width:"initial",padding:"0","text-decoration":"none","text-transform":"none",color:"inherit"},"#bgwrapper":{position:"relative",width:"100%",height:"100%"},"#bg":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","min-width":4*this.doc_width+"px","min-height":4*this.doc_height+"px","background-color":"black",opacity:"0.0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)",filter:"alpha(opacity=60)",transition:"opacity "+i},"#bg.visible":{opacity:ne.BG_OPACITY},".mini #bg":{width:"0",height:"0","min-width":"0"},"#flipcontainer":{perspective:"1000px",position:"absolute",width:"100%"},"#flipper":{position:"relative","transform-style":"preserve-3d",transition:"0.3s"},"#takeover":{position:"absolute",left:"50%",width:ne.NOTIF_WIDTH+"px","margin-left":Math.round(-ne.NOTIF_WIDTH/2)+"px","backface-visibility":"hidden",transform:"rotateY(0deg)",opacity:"0.0",top:ne.NOTIF_START_TOP+"px",transition:"opacity "+i+", top "+i},"#takeover.visible":{opacity:"1.0",top:ne.NOTIF_TOP+"px"},"#takeover.exiting":{opacity:"0.0",top:ne.NOTIF_START_TOP+"px"},"#thumbspacer":{height:ne.THUMB_OFFSET+"px"},"#thumbborder-wrapper":{position:"absolute",top:-ne.THUMB_BORDER_SIZE+"px",left:ne.NOTIF_WIDTH/2-ne.THUMB_OFFSET-ne.THUMB_BORDER_SIZE+"px",width:r+"px",height:r/2+"px",overflow:"hidden"},"#thumbborder":{position:"absolute",width:r+"px",height:r+"px","border-radius":r+"px","background-color":this.style_vals.bg_actions,opacity:"0.5"},"#thumbnail":{position:"absolute",top:"0px",left:ne.NOTIF_WIDTH/2-ne.THUMB_OFFSET+"px",width:ne.THUMB_IMG_SIZE+"px",height:ne.THUMB_IMG_SIZE+"px",overflow:"hidden","z-index":"100","border-radius":ne.THUMB_IMG_SIZE+"px"},"#mini":{position:"absolute",right:"20px",top:ne.NOTIF_TOP+"px",width:this.notif_width+"px",height:2*ne.NOTIF_HEIGHT_MINI+"px","margin-top":20-ne.NOTIF_HEIGHT_MINI+"px","backface-visibility":"hidden",opacity:"0.0",transform:"rotateX(90deg)",transition:"opacity 0.3s, transform 0.3s, right 0.3s"},"#mini.visible":{opacity:"1.0",transform:"rotateX(0deg)"},"#mini.exiting":{opacity:"0.0",right:"-150px"},"#mainbox":{"border-radius":"4px","box-shadow":e,"text-align":"center","background-color":this.style_vals.bg,"font-size":"14px",color:this.style_vals.text_main},"#mini #mainbox":{height:ne.NOTIF_HEIGHT_MINI+"px","margin-top":ne.NOTIF_HEIGHT_MINI+"px","border-radius":"3px",transition:"background-color "+i},"#mini-border":{height:ne.NOTIF_HEIGHT_MINI+6+"px",width:ne.NOTIF_WIDTH_MINI+6+"px",position:"absolute",top:"-3px",left:"-3px","margin-top":ne.NOTIF_HEIGHT_MINI+"px","border-radius":"6px",opacity:"0.25","background-color":"#fff","z-index":"-1","box-shadow":n},"#mini-icon":{position:"relative",display:"inline-block",width:"75px",height:ne.NOTIF_HEIGHT_MINI+"px","border-radius":"3px 0 0 3px","background-color":this.style_vals.bg_actions,background:"linear-gradient(135deg, "+this.style_vals.bg_light+" 0%, "+this.style_vals.bg_actions+" 100%)",transition:"background-color "+i},"#mini:hover #mini-icon":{"background-color":this.style_vals.mini_hover},"#mini:hover #mainbox":{"background-color":this.style_vals.mini_hover},"#mini-icon-img":{position:"absolute","background-image":"url("+this.thumb_image_url+")",width:"48px",height:"48px",top:"20px",left:"12px"},"#content":{padding:"30px 20px 0px 20px"},"#mini-content":{"text-align":"left",height:ne.NOTIF_HEIGHT_MINI+"px",cursor:"pointer"},"#img":{width:"328px","margin-top":"30px","border-radius":"5px"},"#title":{"max-height":"600px",overflow:"hidden","word-wrap":"break-word",padding:"25px 0px 20px 0px","font-size":"19px","font-weight":"bold",color:this.style_vals.text_title},"#body":{"max-height":"600px","margin-bottom":"25px",overflow:"hidden","word-wrap":"break-word","line-height":"21px","font-size":"15px","font-weight":"normal","text-align":"left"},"#mini #body":{display:"inline-block","max-width":"250px",margin:"0 0 0 30px",height:ne.NOTIF_HEIGHT_MINI+"px","font-size":"16px","letter-spacing":"0.8px",color:this.style_vals.text_title},"#mini #body-text":{display:"table",height:ne.NOTIF_HEIGHT_MINI+"px"},"#mini #body-text div":{display:"table-cell","vertical-align":"middle"},"#tagline":{"margin-bottom":"15px","font-size":"10px","font-weight":"600","letter-spacing":"0.8px",color:"#ccd7e0","text-align":"left"},"#tagline a":{color:this.style_vals.text_tagline,transition:"color "+i},"#tagline a:hover":{color:this.style_vals.text_hover},"#cancel":{position:"absolute",right:"0",width:"8px",height:"8px",padding:"10px","border-radius":"20px",margin:"12px 12px 0 0","box-sizing":"content-box",cursor:"pointer",transition:"background-color "+i},"#mini #cancel":{margin:"7px 7px 0 0"},"#cancel-icon":{width:"8px",height:"8px",overflow:"hidden","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/cancel-x.png)",opacity:this.style_vals.cancel_opacity},"#cancel:hover":{"background-color":this.style_vals.bg_hover},"#button":{display:"block",height:"60px","line-height":"60px","text-align":"center","background-color":this.style_vals.bg_actions,"border-radius":"0 0 4px 4px",overflow:"hidden",cursor:"pointer",transition:"background-color "+i},"#button-close":{display:"inline-block",width:"9px",height:"60px","margin-right":"8px","vertical-align":"top","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/close-x-"+this.style+".png)","background-repeat":"no-repeat","background-position":"0px 25px"},"#button-play":{display:"inline-block",width:"30px",height:"60px","margin-left":"15px","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/play-"+this.style+"-small.png)","background-repeat":"no-repeat","background-position":"0px 15px"},"a#button-link":{display:"inline-block","vertical-align":"top","text-align":"center","font-size":"17px","font-weight":"bold",overflow:"hidden","word-wrap":"break-word",color:this.style_vals.text_title,transition:"color "+i},"#button:hover":{"background-color":this.style_vals.bg_hover,color:this.style_vals.text_hover},"#button:hover a":{color:this.style_vals.text_hover},"#video-noflip":{position:"relative",top:2*-this.video_height+"px"},"#video-flip":{"backface-visibility":"hidden",transform:"rotateY(180deg)"},"#video":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",top:ne.NOTIF_TOP+"px","margin-top":"100px",left:"50%","margin-left":Math.round(-this.video_width/2)+"px",overflow:"hidden","border-radius":"5px","box-shadow":t,transform:"translateZ(1px)",transition:"opacity "+i+", top "+i},"#video.exiting":{opacity:"0.0",top:this.video_height+"px"},"#video-holder":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",overflow:"hidden","border-radius":"5px"},"#video-frame":{"margin-left":"-1px",width:this.video_width+"px"},"#video-controls":{opacity:"0",transition:"opacity 0.5s"},"#video:hover #video-controls":{opacity:"1.0"},"#video .video-progress-el":{position:"absolute",bottom:"0",height:"25px","border-radius":"0 0 0 5px"},"#video-progress":{width:"90%"},"#video-progress-total":{width:"100%","background-color":this.style_vals.bg,opacity:"0.7"},"#video-elapsed":{width:"0","background-color":"#6cb6f5",opacity:"0.9"},"#video #video-time":{width:"10%",right:"0","font-size":"11px","line-height":"25px",color:this.style_vals.text_main,"background-color":"#666","border-radius":"0 0 5px 0"}};this._browser_lte("ie",8)&&b.extend(a,{"* html #overlay":{position:"absolute"},"* html #bg":{position:"absolute"},"html, body":{height:"100%"}}),this._browser_lte("ie",7)&&b.extend(a,{"#mini #body":{display:"inline",zoom:"1",border:"1px solid "+this.style_vals.bg_hover},"#mini #body-text":{padding:"20px"},"#mini #mini-icon":{display:"none"}});var s=["backface-visibility","border-radius","box-shadow","opacity","perspective","transform","transform-style","transition"],c=["khtml","moz","ms","o","webkit"];for(var u in a)for(var l=0;l<s.length;l++){var d=s[l];if(d in a[u])for(var p=a[u][d],h=0;h<c.length;h++)a[u]["-"+c[h]+"-"+d]=p}(function(e,t){var n=function(e){var t="";for(var n in e){t+="\n"+n.replace(/#/g,"#"+ne.MARKUP_PREFIX+"-").replace(/\./g,"."+ne.MARKUP_PREFIX+"-")+" {";var r=e[n];for(var i in r)t+=i+":"+r[i]+";";t+="}"}return t},r=function(e){var t="";for(var r in e)t+="\n"+r+" {"+n(e[r])+"\n}";return t},i=n(e)+r(t),o=document.head||document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("style");o.appendChild(a),a.setAttribute("type","text/css"),a.styleSheet?a.styleSheet.cssText=i:a.textContent=i})(a,o)},ne.prototype._init_video=b.safewrap(function(){if(this.video_url){var e=this;e.yt_custom="postMessage"in window,e.dest_url=e.video_url;var t=e.video_url.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i),n=e.video_url.match(/vimeo\.com\/.*?(\d+)/i);if(t){if(e.show_video=!0,e.youtube_video=t[1],e.yt_custom){window.onYouTubeIframeAPIReady=function(){e._get_el("video-frame")&&e._yt_video_ready()};var r=document.createElement("script");r.src="//www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)}}else n&&(e.show_video=!0,e.vimeo_video=n[1]);(e._browser_lte("ie",7)||e._browser_lte("firefox",3))&&(e.show_video=!1,e.clickthrough=!0)}}),ne.prototype._mark_as_shown=b.safewrap(function(){var e=this;b.register_event(e._get_el("bg"),"click",function(){e.dismiss()});var t=function(e,t){var n={};return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,null):e.currentStyle&&(n=e.currentStyle),n[t]};if(this.campaign_id){var n=this._get_el("overlay");n&&"hidden"!==t(n,"visibility")&&"none"!==t(n,"display")&&this._mark_delivery()}}),ne.prototype._mark_delivery=b.safewrap(function(e){this.marked_as_shown||(this.marked_as_shown=!0,this.campaign_id&&(this._get_shown_campaigns()[this.campaign_id]=1*new Date,this.persistence.save()),this._track_event("$campaign_delivery",e),this.mixpanel.people.append({$campaigns:this.campaign_id,$notifications:{campaign_id:this.campaign_id,message_id:this.message_id,type:"web",time:new Date}}))}),ne.prototype._preload_images=function(e){var t=this;if(0!==this.imgs_to_preload.length){for(var n=0,r=[],i=function(){++n===t.imgs_to_preload.length&&e&&(e(),e=null)},o=0;o<this.imgs_to_preload.length;o++){var a=new Image;a.onload=i,a.src=this.imgs_to_preload[o],a.complete&&i(),r.push(a)}this._browser_lte("ie",7)&&setTimeout(function(){var t=!0;for(o=0;o<r.length;o++)r[o].complete||(t=!1);t&&e&&(e(),e=null)},500)}else e()},ne.prototype._remove_notification_el=b.safewrap(function(){window.clearInterval(this._video_progress_checker),this.notification_el.style.visibility="hidden",this.body_el.removeChild(this.notification_el)}),ne.prototype._set_client_config=function(){var e=function(e){var t=navigator.userAgent.match(e);return t&&t[1]};this.browser_versions={},this.browser_versions.chrome=e(/Chrome\/(\d+)/),this.browser_versions.firefox=e(/Firefox\/(\d+)/),this.browser_versions.ie=e(/MSIE (\d+).+/),!this.browser_versions.ie&&!window.ActiveXObject&&"ActiveXObject"in window&&(this.browser_versions.ie=11),this.body_el=document.body||document.getElementsByTagName("body")[0],this.body_el&&(this.doc_width=Math.max(this.body_el.scrollWidth,document.documentElement.scrollWidth,this.body_el.offsetWidth,document.documentElement.offsetWidth,this.body_el.clientWidth,document.documentElement.clientWidth),this.doc_height=Math.max(this.body_el.scrollHeight,document.documentElement.scrollHeight,this.body_el.offsetHeight,document.documentElement.offsetHeight,this.body_el.clientHeight,document.documentElement.clientHeight));var t=this.browser_versions.ie,n=document.createElement("div").style,r=function(e){if(e in n)return!0;if(!t)for(var r=["O"+(e=e[0].toUpperCase()+e.slice(1)),"Webkit"+e,"Moz"+e],i=0;i<r.length;i++)if(r[i]in n)return!0;return!1};this.use_transitions=this.body_el&&r("transition")&&r("transform"),this.flip_animate=(this.browser_versions.chrome>=33||this.browser_versions.firefox>=15)&&this.body_el&&r("backfaceVisibility")&&r("perspective")&&r("transform")},ne.prototype._switch_to_video=b.safewrap(function(){var e=this,t=[{el:e._get_notification_display_el(),attr:"opacity",start:1,goal:0},{el:e._get_notification_display_el(),attr:"top",start:ne.NOTIF_TOP,goal:-500},{el:e._get_el("video-noflip"),attr:"opacity",start:0,goal:1},{el:e._get_el("video-noflip"),attr:"top",start:2*-e.video_height,goal:0}];if(e.mini){var n=e._get_el("bg"),r=e._get_el("overlay");n.style.width="100%",n.style.height="100%",r.style.width="100%",e._add_class(e._get_notification_display_el(),"exiting"),e._add_class(n,"visible"),t.push({el:e._get_el("bg"),attr:"opacity",start:0,goal:ne.BG_OPACITY})}e._get_el("video-holder").innerHTML=e.video_iframe;var i=function(){window.YT&&window.YT.loaded&&e._yt_video_ready(),e.showing_video=!0,e._get_notification_display_el().style.visibility="hidden"};e.flip_animate?(e._add_class("flipper","flipped"),setTimeout(i,ne.ANIM_TIME)):e._animate_els(t,ne.ANIM_TIME,i)}),ne.prototype._track_event=function(e,t,n){this.campaign_id?(t=t||{},t=b.extend(t,{campaign_id:this.campaign_id,message_id:this.message_id,message_type:"web_inapp",message_subtype:this.notif_type}),this.mixpanel.track(e,t,n)):n&&n.call()},ne.prototype._yt_video_ready=b.safewrap(function(){var e=this;if(!e.video_inited){e.video_inited=!0;var t=e._get_el("video-elapsed"),n=e._get_el("video-time"),r=e._get_el("video-progress");new window.YT.Player(ne.MARKUP_PREFIX+"-video-frame",{events:{onReady:function(i){var o=i.target,a=o.getDuration(),s=function(e){return("00"+e).slice(-2)},c=function(e){var t=Math.round(a-e),r=Math.floor(t/60),i=Math.floor(r/60);t-=60*r,r-=60*i,n.innerHTML="-"+(i?i+":":"")+s(r)+":"+s(t)};c(0),e._video_progress_checker=window.setInterval(function(){var e=o.getCurrentTime();t.style.width=e/a*100+"%",c(e)},250),b.register_event(r,"click",function(e){var t=Math.max(0,e.pageX-r.getBoundingClientRect().left);o.seekTo(a*t/r.clientWidth,!0)})}}})}}),ee.prototype.init=ee.prototype.init,ee.prototype.reset=ee.prototype.reset,ee.prototype.disable=ee.prototype.disable,ee.prototype.time_event=ee.prototype.time_event,ee.prototype.track=ee.prototype.track,ee.prototype.track_links=ee.prototype.track_links,ee.prototype.track_forms=ee.prototype.track_forms,ee.prototype.track_pageview=ee.prototype.track_pageview,ee.prototype.register=ee.prototype.register,ee.prototype.register_once=ee.prototype.register_once,ee.prototype.unregister=ee.prototype.unregister,ee.prototype.identify=ee.prototype.identify,ee.prototype.alias=ee.prototype.alias,ee.prototype.name_tag=ee.prototype.name_tag,ee.prototype.set_config=ee.prototype.set_config,ee.prototype.get_config=ee.prototype.get_config,ee.prototype.get_property=ee.prototype.get_property,ee.prototype.get_distinct_id=ee.prototype.get_distinct_id,ee.prototype.toString=ee.prototype.toString,ee.prototype._check_and_handle_notifications=ee.prototype._check_and_handle_notifications,ee.prototype._show_notification=ee.prototype._show_notification,Z.prototype.properties=Z.prototype.properties,Z.prototype.update_search_keyword=Z.prototype.update_search_keyword,Z.prototype.update_referrer_info=Z.prototype.update_referrer_info,Z.prototype.get_cross_subdomain=Z.prototype.get_cross_subdomain,Z.prototype.clear=Z.prototype.clear,te.prototype.set=te.prototype.set,te.prototype.set_once=te.prototype.set_once,te.prototype.increment=te.prototype.increment,te.prototype.append=te.prototype.append,te.prototype.union=te.prototype.union,te.prototype.track_charge=te.prototype.track_charge,te.prototype.clear_charges=te.prototype.clear_charges,te.prototype.delete_user=te.prototype.delete_user,te.prototype.toString=te.prototype.toString,b.safewrap_class(ee,["identify","_check_and_handle_notifications","_show_notification"]);var ie={},oe=function(){b.each(ie,function(e,t){"mixpanel"!==t&&(k[t]=e)}),k._=b},ae=function(){k.init=function(e,t,n){if(n)return k[n]||(k[n]=ie[n]=re(e,t,n),k[n]._loaded()),k[n];var r=k;ie.mixpanel?r=ie.mixpanel:e&&((r=re(e,t,"mixpanel"))._loaded(),ie.mixpanel=r),k=r,1===E&&(window.mixpanel=k),oe()}},se=function(){function dom_loaded_handler(){dom_loaded_handler.done||(dom_loaded_handler.done=!0,K=!0,$=!1,b.each(ie,function(e){e._dom_loaded()}))}function do_scroll_check(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(do_scroll_check,1)}dom_loaded_handler()}if(document.addEventListener)"complete"===document.readyState?dom_loaded_handler():document.addEventListener("DOMContentLoaded",dom_loaded_handler,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",dom_loaded_handler);var e=!1;try{e=null===window.frameElement}catch(e){}document.documentElement.doScroll&&e&&do_scroll_check()}b.register_event(window,"load",dom_loaded_handler,!0)},ce=function(e){var t=e.get_config("name");e.mp_counts=e.mp_counts||{},e.mp_counts.$__c=parseInt(b.cookie.get("mp_"+t+"__c"))||0;var n=function(){e.mp_counts.$__c=(e.mp_counts.$__c||0)+1,b.cookie.set("mp_"+t+"__c",e.mp_counts.$__c,1,!0)},r=function(){try{e.mp_counts=e.mp_counts||{},n()}catch(e){S.error(e)}};b.register_event(document,"submit",r),b.register_event(document,"change",r);var i=null;b.register_event(document,"mousedown",function(e){i=e.target}),b.register_event(document,"mouseup",function(e){e.target===i&&r(e)})},ue=init_as_module();e.exports=ue},function(e,t,n){function uniqueId(e){var t=++i;return r(e)+t}var r=n(128),i=0;e.exports=uniqueId},function(e,t){function hasUnicode(e){return u.test(e)}var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",a="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",s="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+n+a+s+"]");e.exports=hasUnicode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RUNNING="running",t.OUTPUT_LIMIT=5e3,t.CONSOLE_CLEAR="CONSOLE_CLEAR",t.CONSOLE_RESULT="CONSOLE_RESULT"},,,,,,function(e,t){},function(e,t){},function(e,t,n){function baseUnset(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}var r=n(127),i=n(817),o=n(818),a=n(104);e.exports=baseUnset},function(e,t){function last(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=last},function(e,t,n){function parent(e,t){return t.length<2?e:r(e,i(t,0,-1))}var r=n(192),i=n(328);e.exports=parent},function(e,t){function baseIsNaN(e){return e!==e}e.exports=baseIsNaN},function(e,t){function strictIndexOf(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=strictIndexOf},function(e,t,n){function castSlice(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}var r=n(328);e.exports=castSlice},function(e,t,n){function stringToArray(e){return i(e)?o(e):r(e)}var r=n(956),i=n(807),o=n(957);e.exports=stringToArray},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=_interopRequireDefault(n(1243)),i=_interopRequireDefault(n(1248)),o=_interopRequireDefault(n(1249)),a=_interopRequireDefault(n(1250)),s=_interopRequireDefault(n(1251)),c=_interopRequireDefault(n(1252)),u=_interopRequireDefault(n(1253)),l=_interopRequireDefault(n(1254)),d=_interopRequireDefault(n(1255)),p=_interopRequireDefault(n(1256)),h=_interopRequireDefault(n(1257)),f=_interopRequireDefault(n(1259)),g=_interopRequireDefault(n(1273)),m=[o.default,i.default,a.default,c.default,u.default,l.default,d.default,p.default,h.default,s.default],v=(0,r.default)({prefixMap:g.default.prefixMap,plugins:m},f.default);t.default=v,e.exports=t.default},function(e,t,n){"use strict";function capitalizeString(e){return e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=capitalizeString,e.exports=t.default},function(e,t,n){var r=n(1274),i=n(17);e.exports=function(e,t,n){var i=e[t];if(i){var o=[];if(Object.keys(i).forEach(function(e){-1===r.indexOf(e)&&o.push(e)}),o.length)throw new Error("Prop "+t+" passed to "+n+". Has invalid keys "+o.join(", "))}},e.exports.isRequired=function(t,n,r){if(!t[n])throw new Error("Prop "+n+" passed to "+r+" is required");return e.exports(t,n,r)},e.exports.supportingArrays=i.oneOfType([i.arrayOf(e.exports),e.exports])},function(e,t,n){function isString(e){return"string"==typeof e||!i(e)&&o(e)&&r(e)==a}var r=n(79),i=n(46),o=n(80),a="[object String]";e.exports=isString},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);t.Popover=function(e){var t=e.visible,n=e.message,o=e.isHint,a=e.className,s=e.children;return r.createElement("div",{className:i("popover-component","popover-component_bottom",{"popover-component_hidden":!t,"popover-component_hint":o},a)},n||s)}},function(e,t,n){function Timeout(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;t.setTimeout=function(){return new Timeout(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function onTimeout(){e._onTimeout&&e._onTimeout()},t))},n(1334),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";function patchCapture(e){var t=i;return i=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.patchCapture=patchCapture;var r="FirebaseError",i=Error.captureStackTrace,o=function(){function FirebaseError(e,t){this.code=e,this.message=t;var n;if(i)i(this,a.prototype.create);else{var o=Error.apply(this,arguments);this.name=r,Object.defineProperty(this,"stack",{get:function get(){return o.stack}})}}return FirebaseError}();t.FirebaseError=o,o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.name=r;var a=function(){function ErrorFactory(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return ErrorFactory.prototype.create=function(e,t){void 0===t&&(t={});var n=this.errors[e],r=this.service+"/"+e,i;i=void 0===n?"Error":n.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),i=this.serviceName+": "+i+" ("+r+").";var a=new o(r,i);for(var s in t)t.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(a[s]=t[s]);return a},ErrorFactory}();t.ErrorFactory=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringLength=t.stringToByteArray=void 0;var r=n(31),i=t.stringToByteArray=function stringToByteArray(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=55296&&o<=56319){var a=o-55296;i++,(0,r.assert)(i<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(i)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},o=t.stringLength=function stringLength(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reference=void 0;var r=n(1352),i=n(1353),o=n(36),a=n(1354),s=n(1008),c=n(782),u=n(77),l=n(1380),d=n(301),p=n(300),h=n(299),f=n(1020),g=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),m=function(e){function Reference(t,n){var r=this;if(!(t instanceof c.Repo))throw new Error("new Reference() no longer supported - use app.database().");return r=e.call(this,t,n,l.QueryParams.DEFAULT,!1)||this}return g(Reference,e),Reference.prototype.getKey=function(){return(0,p.validateArgCount)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},Reference.prototype.child=function(e){return(0,p.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof u.Path||(null===this.path.getFront()?(0,d.validateRootPathString)("Reference.child",1,e,!1):(0,d.validatePathString)("Reference.child",1,e,!1)),new Reference(this.repo,this.path.child(e))},Reference.prototype.getParent=function(){(0,p.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new Reference(this.repo,e)},Reference.prototype.getRoot=function(){(0,p.validateArgCount)("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},Reference.prototype.databaseProp=function(){return this.repo.database},Reference.prototype.set=function(e,t){(0,p.validateArgCount)("Reference.set",1,2,arguments.length),(0,d.validateWritablePath)("Reference.set",this.path),(0,d.validateFirebaseDataArg)("Reference.set",1,e,this.path,!1),(0,p.validateCallback)("Reference.set",2,t,!0);var n=new h.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},Reference.prototype.update=function(e,t){if((0,p.validateArgCount)("Reference.update",1,2,arguments.length),(0,d.validateWritablePath)("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,(0,o.warn)("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,d.validateFirebaseMergeDataArg)("Reference.update",1,e,this.path,!1),(0,p.validateCallback)("Reference.update",2,t,!0);var i=new h.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},Reference.prototype.setWithPriority=function(e,t,n){if((0,p.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,d.validateWritablePath)("Reference.setWithPriority",this.path),(0,d.validateFirebaseDataArg)("Reference.setWithPriority",1,e,this.path,!1),(0,d.validatePriority)("Reference.setWithPriority",2,t,!1),(0,p.validateCallback)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new h.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},Reference.prototype.remove=function(e){return(0,p.validateArgCount)("Reference.remove",0,1,arguments.length),(0,d.validateWritablePath)("Reference.remove",this.path),(0,p.validateCallback)("Reference.remove",1,e,!0),this.set(null,e)},Reference.prototype.transaction=function(e,t,n){if((0,p.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,d.validateWritablePath)("Reference.transaction",this.path),(0,p.validateCallback)("Reference.transaction",1,e,!1),(0,p.validateCallback)("Reference.transaction",2,t,!0),(0,d.validateBoolean)("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new h.Deferred;"function"==typeof t&&(0,h.attachDummyErrorHandler)(r.promise);var o=function promiseComplete(e,n,o){e?r.reject(e):r.resolve(new i.TransactionResult(n,o)),"function"==typeof t&&t(e,n,o)};return this.repo.startTransaction(this.path,e,o,n),r.promise},Reference.prototype.setPriority=function(e,t){(0,p.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,d.validateWritablePath)("Reference.setPriority",this.path),(0,d.validatePriority)("Reference.setPriority",1,e,!1),(0,p.validateCallback)("Reference.setPriority",2,t,!0);var n=new h.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},Reference.prototype.push=function(e,t){(0,p.validateArgCount)("Reference.push",0,2,arguments.length),(0,d.validateWritablePath)("Reference.push",this.path),(0,d.validateFirebaseDataArg)("Reference.push",1,e,this.path,!0),(0,p.validateCallback)("Reference.push",2,t,!0);var n=this.repo.serverTime(),r=(0,a.nextPushId)(n),i=this.child(r),o=this.child(r),s;return s=null!=e?i.set(e,t).then(function(){return o}):h.PromiseImpl.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),"function"==typeof t&&(0,h.attachDummyErrorHandler)(s),i},Reference.prototype.onDisconnect=function(){return(0,d.validateWritablePath)("Reference.onDisconnect",this.path),new r.OnDisconnect(this.repo,this.path)},Object.defineProperty(Reference.prototype,"database",{get:function get(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"key",{get:function get(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"parent",{get:function get(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"root",{get:function get(){return this.getRoot()},enumerable:!0,configurable:!0}),Reference}(s.Query);t.Reference=m,s.Query.__referenceConstructor=m,f.SyncPoint.__referenceConstructor=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function SortedMapIterator(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return SortedMapIterator.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_.pop(),t;if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},SortedMapIterator.prototype.hasNext=function(){return this.nodeStack_.length>0},SortedMapIterator.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},SortedMapIterator}();t.SortedMapIterator=r;var i=function(){function LLRBNode(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:LLRBNode.RED,this.left=null!=r?r:a.EMPTY_NODE,this.right=null!=i?i:a.EMPTY_NODE}return LLRBNode.prototype.copy=function(e,t,n,r,i){return new LLRBNode(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},LLRBNode.prototype.count=function(){return this.left.count()+1+this.right.count()},LLRBNode.prototype.isEmpty=function(){return!1},LLRBNode.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},LLRBNode.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},LLRBNode.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},LLRBNode.prototype.minKey=function(){return this.min_().key},LLRBNode.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},LLRBNode.prototype.insert=function(e,t,n){var r,i;return i=this,r=n(e,i.key),(i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()},LLRBNode.prototype.removeMin_=function(){if(this.left.isEmpty())return a.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},LLRBNode.prototype.remove=function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return a.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},LLRBNode.prototype.isRed_=function(){return this.color},LLRBNode.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},LLRBNode.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},LLRBNode.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},LLRBNode.prototype.rotateLeft_=function(){var e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},LLRBNode.prototype.rotateRight_=function(){var e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},LLRBNode.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},LLRBNode.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},LLRBNode.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},LLRBNode.RED=!0,LLRBNode.BLACK=!1,LLRBNode}();t.LLRBNode=i;var o=function(){function LLRBEmptyNode(){}return LLRBEmptyNode.prototype.copy=function(e,t,n,r,i){return this},LLRBEmptyNode.prototype.insert=function(e,t,n){return new i(e,t,null)},LLRBEmptyNode.prototype.remove=function(e,t){return this},LLRBEmptyNode.prototype.count=function(){return 0},LLRBEmptyNode.prototype.isEmpty=function(){return!0},LLRBEmptyNode.prototype.inorderTraversal=function(e){return!1},LLRBEmptyNode.prototype.reverseTraversal=function(e){return!1},LLRBEmptyNode.prototype.minKey=function(){return null},LLRBEmptyNode.prototype.maxKey=function(){return null},LLRBEmptyNode.prototype.check_=function(){return 0},LLRBEmptyNode.prototype.isRed_=function(){return!1},LLRBEmptyNode}();t.LLRBEmptyNode=o;var a=function(){function SortedMap(e,t){void 0===t&&(t=SortedMap.EMPTY_NODE),this.comparator_=e,this.root_=t}return SortedMap.prototype.insert=function(e,t){return new SortedMap(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,i.BLACK,null,null))},SortedMap.prototype.remove=function(e){return new SortedMap(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,i.BLACK,null,null))},SortedMap.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},SortedMap.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},SortedMap.prototype.isEmpty=function(){return this.root_.isEmpty()},SortedMap.prototype.count=function(){return this.root_.count()},SortedMap.prototype.minKey=function(){return this.root_.minKey()},SortedMap.prototype.maxKey=function(){return this.root_.maxKey()},SortedMap.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},SortedMap.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},SortedMap.prototype.getIterator=function(e){return new r(this.root_,null,this.comparator_,!1,e)},SortedMap.prototype.getIteratorFrom=function(e,t){return new r(this.root_,e,this.comparator_,!1,t)},SortedMap.prototype.getReverseIteratorFrom=function(e,t){return new r(this.root_,e,this.comparator_,!0,t)},SortedMap.prototype.getReverseIterator=function(e){return new r(this.root_,null,this.comparator_,!0,e)},SortedMap.EMPTY_NODE=new o,SortedMap}();t.SortedMap=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImmutableTree=void 0;var r=n(832),i=n(77),o=n(36),a=n(54),s,c=function EmptyChildren(){return s||(s=new r.SortedMap(o.stringCompare)),s},u=function(){function ImmutableTree(e,t){void 0===t&&(t=c()),this.value=e,this.children=t}return ImmutableTree.fromObject=function(e){var t=ImmutableTree.Empty;return(0,a.forEach)(e,function(e,n){t=t.set(new i.Path(e),n)}),t},ImmutableTree.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},ImmutableTree.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:i.Path.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=o?{path:new i.Path(n).child(o.path),value:o.value}:null}return null},ImmutableTree.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},ImmutableTree.prototype.subtree=function(e){if(e.isEmpty())return this;var t=e.getFront(),n=this.children.get(t);return null!==n?n.subtree(e.popFront()):ImmutableTree.Empty},ImmutableTree.prototype.set=function(e,t){if(e.isEmpty())return new ImmutableTree(t,this.children);var n=e.getFront(),r=(this.children.get(n)||ImmutableTree.Empty).set(e.popFront(),t),i=this.children.insert(n,r);return new ImmutableTree(this.value,i)},ImmutableTree.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?ImmutableTree.Empty:new ImmutableTree(null,this.children);var t=e.getFront(),n=this.children.get(t);if(n){var r=n.remove(e.popFront()),i=void 0;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?ImmutableTree.Empty:new ImmutableTree(this.value,i)}return this},ImmutableTree.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},ImmutableTree.prototype.setTree=function(e,t){if(e.isEmpty())return t;var n=e.getFront(),r=(this.children.get(n)||ImmutableTree.Empty).setTree(e.popFront(),t),i=void 0;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new ImmutableTree(this.value,i)},ImmutableTree.prototype.fold=function(e){return this.fold_(i.Path.Empty,e)},ImmutableTree.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(e.child(r),t)}),t(e,this.value,n)},ImmutableTree.prototype.findOnPath=function(e,t){return this.findOnPath_(e,i.Path.Empty,t)},ImmutableTree.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},ImmutableTree.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,i.Path.Empty,t)},ImmutableTree.prototype.foreachOnPath_=function(e,t,n){if(e.isEmpty())return this;this.value&&n(t,this.value);var r=e.getFront(),i=this.children.get(r);return i?i.foreachOnPath_(e.popFront(),t.child(r),n):ImmutableTree.Empty},ImmutableTree.prototype.foreach=function(e){this.foreach_(i.Path.Empty,e)},ImmutableTree.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},ImmutableTree.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},ImmutableTree.Empty=new ImmutableTree(null),ImmutableTree}();t.ImmutableTree=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedFilter=void 0;var r=n(31),i=n(338),o=n(132),a=n(124),s=function(){function IndexedFilter(e){this.index_=e}return IndexedFilter.prototype.updateChild=function(e,t,n,o,a,s){(0,r.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=e.getImmediateChild(t);return c.getChild(o).equals(n.getChild(o))&&c.isEmpty()==n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(i.Change.childRemovedChange(t,c)):(0,r.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?s.trackChildChange(i.Change.childAddedChange(t,n)):s.trackChildChange(i.Change.childChangedChange(t,n,c))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},IndexedFilter.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(a.PRIORITY_INDEX,function(e,r){t.hasChild(e)||n.trackChildChange(i.Change.childRemovedChange(e,r))}),t.isLeafNode()||t.forEachChild(a.PRIORITY_INDEX,function(t,r){if(e.hasChild(t)){var o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(i.Change.childChangedChange(t,r,o))}else n.trackChildChange(i.Change.childAddedChange(t,r))})),t.withIndex(this.index_)},IndexedFilter.prototype.updatePriority=function(e,t){return e.isEmpty()?o.ChildrenNode.EMPTY_NODE:e.updatePriority(t)},IndexedFilter.prototype.filtersNodes=function(){return!1},IndexedFilter.prototype.getIndexedFilter=function(){return this},IndexedFilter.prototype.getIndex=function(){return this.index_},IndexedFilter}();t.IndexedFilter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsManager=void 0;var r=n(1370),i=function(){function StatsManager(){}return StatsManager.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new r.StatsCollection),this.collections_[t]},StatsManager.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},StatsManager.collections_={},StatsManager.reporters_={},StatsManager}();t.StatsManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RepoManager=void 0;var r=n(54),i=n(782),o=n(36),a=n(1006),s=n(301);n(1382);var c="databaseURL",u,l=function(){function RepoManager(){this.repos_={},this.useRestClient_=!1}return RepoManager.getInstance=function(){return u||(u=new RepoManager),u},RepoManager.prototype.interrupt=function(){for(var e in this.repos_)this.repos_[e].interrupt()},RepoManager.prototype.resume=function(){for(var e in this.repos_)this.repos_[e].resume()},RepoManager.prototype.databaseFromApp=function(e){var t=e.options.databaseURL;void 0===t&&(0,o.fatal)("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var n=(0,a.parseRepoInfo)(t),r=n.repoInfo;return(0,s.validateUrl)("Invalid Firebase Database URL",1,n),n.path.isEmpty()||(0,o.fatal)("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(r,e).database},RepoManager.prototype.deleteRepo=function(e){(0,r.safeGet)(this.repos_,e.app.name)!==e&&(0,o.fatal)("Database "+e.app.name+" has already been deleted."),e.interrupt(),delete this.repos_[e.app.name]},RepoManager.prototype.createRepo=function(e,t){var n=(0,r.safeGet)(this.repos_,t.name);return n&&(0,o.fatal)("FIREBASE INTERNAL ERROR: Database initialized multiple times."),n=new i.Repo(e,this.useRestClient_,t),this.repos_[t.name]=n,n},RepoManager.prototype.forceRestClient=function(e){this.useRestClient_=e},RepoManager}();t.RepoManager=l},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function formatValidator(e){switch(e){case i.RAW:case i.BASE64:case i.BASE64URL:case i.DATA_URL:return;default:throw"Expected one of the event types: ["+i.RAW+", "+i.BASE64+", "+i.BASE64URL+", "+i.DATA_URL+"]."}}function dataFromString(e,t){switch(e){case i.RAW:return new o(utf8Bytes_(t));case i.BASE64:case i.BASE64URL:return new o(base64Bytes_(e,t));case i.DATA_URL:return new o(dataURLBytes_(t),dataURLContentType_(t))}throw r.unknown()}function utf8Bytes_(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function percentEncodedBytes_(e){var t;try{t=decodeURIComponent(e)}catch(e){throw r.invalidFormat(i.DATA_URL,"Malformed data URL.")}return utf8Bytes_(t)}function base64Bytes_(e,t){switch(e){case i.BASE64:var n=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(n||o){var a=n?"-":"_";throw r.invalidFormat(e,"Invalid character '"+a+"' found: is it base64url encoded?")}break;case i.BASE64URL:var s=-1!==t.indexOf("+"),c=-1!==t.indexOf("/");if(s||c){var a=s?"+":"/";throw r.invalidFormat(e,"Invalid character '"+a+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/")}var u;try{u=atob(t)}catch(t){throw r.invalidFormat(e,"Invalid character found")}for(var l=new Uint8Array(u.length),d=0;d<u.length;d++)l[d]=u.charCodeAt(d);return l}function dataURLBytes_(e){var t=new a(e);return t.base64?base64Bytes_(i.BASE64,t.rest):percentEncodedBytes_(t.rest)}function dataURLContentType_(e){return new a(e).contentType}function endsWith(e,t){return!!(e.length>=t.length)&&e.substring(e.length-t.length)===t}Object.defineProperty(t,"__esModule",{value:!0}),t.StringData=t.StringFormat=void 0,t.formatValidator=formatValidator,t.dataFromString=dataFromString,t.utf8Bytes_=utf8Bytes_,t.percentEncodedBytes_=percentEncodedBytes_,t.base64Bytes_=base64Bytes_,t.dataURLBytes_=dataURLBytes_,t.dataURLContentType_=dataURLContentType_;var r=_interopRequireWildcard(n(207)),i=t.StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},o=function(){function StringData(e,t){this.data=e,this.contentType=t||null}return StringData}();t.StringData=o;var a=function(){function DataURLParts(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw r.invalidFormat(i.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=endsWith(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}return DataURLParts}()},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function validate(e,t,n){for(var i=t.length,o=t.length,a=0;a<t.length;a++)if(t[a].optional){i=a;break}if(!(i<=n.length&&n.length<=o))throw r.invalidArgumentCount(i,o,e,n.length);for(var a=0;a<n.length;a++)try{t[a].validator(n[a])}catch(t){throw t instanceof Error?r.invalidArgument(a,e,t.message):r.invalidArgument(a,e,t)}}function and_(e,t){return function(n){e(n),t(n)}}function stringSpec(e,t){function stringValidator(e){if(!o.isString(e))throw"Expected string."}var n;return n=e?and_(stringValidator,e):stringValidator,new a(n,t)}function uploadDataSpec(){function validator(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||o.isNativeBlobDefined()&&e instanceof Blob))throw"Expected Blob or File."}return new a(validator)}function metadataSpec(e){return new a(i.metadataValidator,e)}function nonNegativeNumberSpec(){function validator(e){if(!(o.isNumber(e)&&e>=0))throw"Expected a number 0 or greater."}return new a(validator)}function looseObjectSpec(e,t){function validator(t){if(!(null===t||o.isDef(t)&&t instanceof Object))throw"Expected an Object.";void 0!==e&&null!==e&&e(t)}return new a(validator,t)}function nullFunctionSpec(e){function validator(e){if(!(null===e||o.isFunction(e)))throw"Expected a Function."}return new a(validator,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ArgSpec=void 0,t.validate=validate,t.and_=and_,t.stringSpec=stringSpec,t.uploadDataSpec=uploadDataSpec,t.metadataSpec=metadataSpec,t.nonNegativeNumberSpec=nonNegativeNumberSpec,t.looseObjectSpec=looseObjectSpec,t.nullFunctionSpec=nullFunctionSpec;var r=_interopRequireWildcard(n(207)),i=_interopRequireWildcard(n(839)),o=_interopRequireWildcard(n(155)),a=function(){function ArgSpec(e,t){var n=this;this.validator=function(t){n.optional&&!o.isJustDef(t)||e(t)},this.optional=!!t}return ArgSpec}();t.ArgSpec=a},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function noXform_(e,t){return t}function xformPath(e){return!a.isString(e)||e.length<2?e:(e=e,o.lastComponent(e))}function getMappings(){function mappingsXformPath(e,t){return xformPath(t)}function xformSize(e,t){return a.isDef(t)?+t:t}function xformTokens(e,t){if(!(a.isString(t)&&t.length>0))return[];var n=encodeURIComponent;return t.split(",").map(function(t){var r=e.bucket,i=e.fullPath,o="/b/"+n(r)+"/o/"+n(i);return s.makeDownloadUrl(o)+s.makeQueryString({alt:"media",token:t})})}if(u)return u;var e=[];e.push(new c("bucket")),e.push(new c("generation")),e.push(new c("metageneration")),e.push(new c("name","fullPath",!0));var t=new c("name");t.xform=mappingsXformPath,e.push(t);var n=new c("size");return n.xform=xformSize,e.push(n),e.push(new c("timeCreated")),e.push(new c("updated")),e.push(new c("md5Hash",null,!0)),e.push(new c("cacheControl",null,!0)),e.push(new c("contentDisposition",null,!0)),e.push(new c("contentEncoding",null,!0)),e.push(new c("contentLanguage",null,!0)),e.push(new c("contentType",null,!0)),e.push(new c("metadata","customMetadata",!0)),e.push(new c("downloadTokens","downloadURLs",!1,xformTokens)),u=e}function addRef(e,t){function generateRef(){var n=e.bucket,r=e.fullPath,o=new i.Location(n,r);return t.makeStorageReference(o)}Object.defineProperty(e,"ref",{get:generateRef})}function fromResource(e,t,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return addRef(r,e),r}function fromResourceString(e,t,n){var i=r.jsonObjectOrNull(t);return null===i?null:fromResource(e,i,n)}function toResourceString(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function metadataValidator(e){if(!(e&&a.isObject(e)))throw"Expected Metadata object.";for(var t in e){var n=e[t];if("customMetadata"===t){if(!a.isObject(n))throw"Expected object for 'customMetadata' mapping."}else if(a.isNonNullObject(n))throw"Mapping for '"+t+"' cannot be an object."}}Object.defineProperty(t,"__esModule",{value:!0}),t.Mapping=void 0,t.noXform_=noXform_,t.xformPath=xformPath,t.getMappings=getMappings,t.addRef=addRef,t.fromResource=fromResource,t.fromResourceString=fromResourceString,t.toResourceString=toResourceString,t.metadataValidator=metadataValidator;var r=_interopRequireWildcard(n(1389)),i=n(785),o=_interopRequireWildcard(n(1033)),a=_interopRequireWildcard(n(155)),s=_interopRequireWildcard(n(840)),c=function(){function Mapping(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||noXform_}return Mapping}();t.Mapping=c;var u=null},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function makeNormalUrl(e){return r.domainBase+r.apiBaseUrl+e}function makeDownloadUrl(e){return r.downloadBase+r.apiBaseUrl+e}function makeUploadUrl(e){return r.domainBase+r.apiUploadBaseUrl+e}function makeQueryString(e){var t=encodeURIComponent,n="?";return i.forEach(e,function(e,r){var i=t(e)+"="+t(r);n=n+i+"&"}),n=n.slice(0,-1)}Object.defineProperty(t,"__esModule",{value:!0}),t.makeNormalUrl=makeNormalUrl,t.makeDownloadUrl=makeDownloadUrl,t.makeUploadUrl=makeUploadUrl,t.makeQueryString=makeQueryString;var r=_interopRequireWildcard(n(784)),i=_interopRequireWildcard(n(339))},function(e,t,n){"use strict";function contains(e,t){return-1!==e.indexOf(t)}function clone(e){return Array.prototype.slice.call(e)}function remove(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}Object.defineProperty(t,"__esModule",{value:!0}),t.contains=contains,t.clone=clone,t.remove=remove},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(844)("keys"),i=n(788);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(281),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(305),i=n(125),o=n(342);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(658);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";var r=n(1440)(!0);n(1052)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i,n;return t>=e.length?{value:void 0,done:!0}:(n=r(e,t),this._i+=n.length,{value:n,done:!1})})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=!0},function(e,t,n){var r=n(341),i=n(1442),o=n(852),a=n(843)("IE_PROTO"),s=function(){},c="prototype",u=function(){var e=n(1050)("iframe"),t=o.length,r="<",i=">",a;for(e.style.display="none",n(1446).appendChild(e),e.src="javascript:",(a=e.contentWindow.document).open(),a.write("<script>document.F=Object<\/script>"),a.close(),u=a.F;t--;)delete u[c][o[t]];return u()};e.exports=Object.create||function create(e,t){var n;return null!==e?(s[c]=r(e),n=new s,s[c]=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(306).f,i=n(304),o=n(208)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){n(1447);for(var r=n(281),i=n(340),o=n(659),a=n(208)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=r[u],d=l&&l.prototype;d&&!d[a]&&i(d,a,u),o[u]=o.Array}},function(e,t,n){t.f=n(208)},function(e,t,n){var r=n(281),i=n(125),o=n(849),a=n(855),s=n(306).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(790),i=n(789),o=n(308),a=n(846),s=n(304),c=n(1049),u=Object.getOwnPropertyDescriptor;t.f=n(307)?u:function getOwnPropertyDescriptor(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){e.exports={_args:[[{raw:"twilio-video@1.1.0",scope:null,escapedName:"twilio-video",name:"twilio-video",rawSpec:"1.1.0",spec:"1.1.0",type:"version"},"/Users/matanzg/work/components"]],_from:"twilio-video@1.1.0",_id:"twilio-video@1.1.0",_inCache:!0,_location:"/twilio-video",_nodeVersion:"7.10.1",_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/twilio-video-1.1.0.tgz_1499877105044_0.43504130258224905"},_npmUser:{name:"markandrus",email:"markandrusroberts@gmail.com"},_npmVersion:"4.2.0",_phantomChildren:{},_requested:{raw:"twilio-video@1.1.0",scope:null,escapedName:"twilio-video",name:"twilio-video",rawSpec:"1.1.0",spec:"1.1.0",type:"version"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/twilio-video/-/twilio-video-1.1.0.tgz",_shasum:"efd66b17fd731a1531803430592cbbe89c56335e",_shrinkwrap:null,_spec:"twilio-video@1.1.0",_where:"/Users/matanzg/work/components",author:{name:"Mark Andrus Roberts",email:"mroberts@twilio.com"},browser:{ws:"./src/ws.js",xmlhttprequest:"./src/xmlhttprequest.js"},bugs:{url:"https://github.com/twilio/twilio-video.js/issues"},contributors:[{name:"Ryan Rowland",email:"rrowland@twilio.com"},{name:"Manjesh Malavalli",email:"mmalavalli@twilio.com"}],dependencies:{"sip.js":"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",ws:"^2.3.1",xmlhttprequest:"^1.8.0"},description:"Twilio Video JavaScript library",devDependencies:{browserify:"^14.3.0",cheerio:"^0.22.0",chromedriver:"2.28.0",envify:"^4.0.0",eslint:"^3.19.0",geckodriver:"1.4.0","ink-docstrap":"^1.3.0",istanbul:"^0.4.5",jsdoc:"^3.4.3",karma:"^1.6.0","karma-browserify":"^5.1.1","karma-chrome-launcher":"^2.0.0","karma-firefox-launcher":"^1.0.1","karma-mocha":"^1.3.0","karma-spec-reporter":"^0.0.31",mocha:"^3.2.0","mock-browser":"^0.92.14","npm-run-all":"^4.0.2",phantom:"^4.0.2","release-tool":"^0.2.2",requirejs:"^2.3.3",rimraf:"^2.6.1","selenium-webdriver":"3.3.0",sinon:"^2.1.0","travis-multirunner":"^3.1.0",twilio:"^2.11.1","uglify-js":"^2.8.22","vinyl-fs":"^2.4.4","vinyl-source-stream":"^1.1.0","webrtc-adapter":"^4.1.1"},directories:{},dist:{shasum:"efd66b17fd731a1531803430592cbbe89c56335e",tarball:"https://registry.npmjs.org/twilio-video/-/twilio-video-1.1.0.tgz"},engines:{node:">=0.12"},gitHead:"ed6cc64ba774263db86045088c6a311fabcc2303",homepage:"https://twilio.com",keywords:["twilio","webrtc","library","javascript","video","rooms"],license:"BSD-3-Clause",main:"./lib/index.js",maintainers:[{name:"markandrus",email:"markandrusroberts@gmail.com"}],name:"twilio-video",optionalDependencies:{},readme:"twilio-video.js\n===============\n\n[![NPM](https://img.shields.io/npm/v/twilio-video.svg)](https://www.npmjs.com/package/twilio-video) [![Linux Build Status](https://travis-ci.org/twilio/twilio-video.js.svg?branch=master)](https://travis-ci.org/twilio/twilio-video.js) [![Windows Build status](https://ci.appveyor.com/api/projects/status/gi5cj6dpfudsqhtg?svg=true)](https://ci.appveyor.com/project/markandrus/twilio-video-js)\n\ntwilio-video.js allows you to add real-time voice and video to your web apps.\n\n* [API Docs](//media.twiliocdn.com/sdk/js/video/v1/docs)\n* [Quickstart and Examples](//github.com/twilio/video-quickstart-js)\n* [Common Issues](COMMON_ISSUES.md)\n\n**We want your feedback!** Email\n[video-product@twilio.com](mailto:video-product@twilio.com) with suggested\nimprovements, feature requests and general feedback, or feel free to open a\nGitHub issue. If you need technical support, contact\n[help@twilio.com](mailto:help@twilio.com).\n\nInstallation\n------------\n\n### NPM\n\n```\nnpm install twilio-video --save\n```\n\nUsing this method, you can `require` twilio-video.js like so:\n\n```js\nconst Video = require('twilio-video');\n```\n\n### Bower\n\n```\nbower install twilio-video --save\n```\n\n### CDN\n\nReleases of twilio-video.js are hosted on a CDN, and you can include these\ndirectly in your web app using a &lt;script&gt; tag.\n\n```html\n<script src=\"//media.twiliocdn.com/sdk/js/video/v1/twilio-video.min.js\"><\/script>\n```\n\nUsing this method, twilio-video.js will set a browser global:\n\n```js\nconst Video = Twilio.Video;\n```\n\nUsage\n-----\n\nThe following is a simple example showing a Client connecting to a Room. For\nmore information, refer to the\n[API Docs](//media.twiliocdn.com/sdk/js/video/v1/docs).\n\n```js\nconst Video = require('twilio-video');\n\nVideo.connect('$TOKEN', { name: 'room-name' }).then(room => {\n  console.log('Connected to Room \"%s\"', room.name);\n\n  room.participants.forEach(participantConnected);\n  room.on('participantConnected', participantConnected);\n\n  room.on('participantDisconnected', participantDisconnected);\n  room.once('disconnected', error => room.participants.forEach(participantDisconnected));\n});\n\nfunction participantConnected(participant) {\n  console.log('Participant \"%s\" connected', participant.identity);\n\n  const div = document.createElement('div');\n  div.id = participant.sid;\n  div.innerText = participant.identity;\n\n  participant.on('trackAdded', track => trackAdded(div, track));\n  participant.tracks.forEach(track => trackAdded(div, track));\n  participant.on('trackRemoved', trackRemoved);\n\n  document.body.appendChild(div);\n}\n\nfunction participantDisconnected(participant) {\n  console.log('Participant \"%s\" disconnected', participant.identity);\n\n  participant.tracks.forEach(trackRemoved);\n  document.getElementById(participant.sid).remove();\n}\n\nfunction trackAdded(div, track) {\n  div.appendChild(track.attach());\n}\n\nfunction trackRemoved(track) {\n  track.detach().forEach(element => element.remove());\n}\n```\n\nChangelog\n---------\n\nSee [CHANGELOG.md](https://github.com/twilio/twilio-video.js/blob/master/CHANGELOG.md).\n\nLicense\n-------\n\nSee [LICENSE.md](https://github.com/twilio/twilio-video.js/blob/master/LICENSE.md).\n\nBuilding\n--------\n\nFork and clone the repository. Then, install dependencies with\n\n```\nnpm install\n```\n\nThen run the `build` script:\n\n```\nnpm run build\n```\n\nThe builds and docs will be placed in the `dist/` directory.\n\nContributing\n------------\n\nBug fixes welcome! If you're not familiar with the GitHub pull\nrequest/contribution process,\n[this is a nice tutorial](https://gun.io/blog/how-to-github-fork-branch-and-pull-request/).\n",readmeFilename:"README.md",repository:{type:"git",url:"git+https://github.com/twilio/twilio-video.js.git"},scripts:{build:"npm-run-all clean lint docs cover test:webrtc test:integration build:js build:min.js test:umd","build:js":"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js","build:min.js":'uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments "/^! twilio-video.js/" -b beautify=false,ascii_only=true',"build:quick":"npm-run-all clean lint docs build:js build:min.js","build:travis":"npm-run-all clean lint docs cover test:webrtc test:integration:travis build:js build:min.js test:umd test:framework",clean:"rimraf ./coverage ./dist",cover:"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js",docs:"node ./scripts/docs.js ./dist/docs",lint:"eslint ./lib",test:"npm-run-all test:unit test:integration","test:framework":"npm-run-all test:framework:angular test:framework:meteor test:framework:no-framework test:framework:react","test:framework:angular":"npm-run-all test:framework:angular:*","test:framework:angular:install":"cd ./test/framework/twilio-video-angular && rimraf ./node_modules && npm install","test:framework:angular:run":"mocha ./test/framework/twilio-video-angular.js","test:framework:angular:test":"node ./scripts/framework.js twilio-video-angular","test:framework:meteor":"npm-run-all test:framework:meteor:*","test:framework:meteor:install":"cd ./test/framework/twilio-video-meteor && rimraf ./node_modules && npm install","test:framework:meteor:run":"mocha ./test/framework/twilio-video-meteor.js","test:framework:meteor:test":"node ./scripts/framework.js twilio-video-meteor","test:framework:no-framework":"npm-run-all test:framework:no-framework:*","test:framework:no-framework:run":"mocha ./test/framework/twilio-video-no-framework.js","test:framework:react":"npm-run-all test:framework:react:*","test:framework:react:build":"cd ./test/framework/twilio-video-react && npm run build","test:framework:react:install":"cd ./test/framework/twilio-video-react && rimraf ./node_modules && npm install","test:framework:react:run":"mocha ./test/framework/twilio-video-react.js","test:framework:react:test":"node ./scripts/framework.js twilio-video-react","test:integration":"npm-run-all test:integration:node test:integration:browser","test:integration:browser":"node ./scripts/karma.js karma/integration.conf.js","test:integration:browser:adapter":"node ./scripts/karma.js karma/integration.adapter.conf.js","test:integration:node":"mocha ./test/integration/index.js","test:integration:travis":"node ./scripts/integration.js","test:umd":"mocha ./test/umd/index.js","test:unit":"mocha ./test/unit/index.js","test:webrtc":"npm-run-all test:webrtc:*","test:webrtc:adapter":"karma start karma/webrtc.adapter.conf.js","test:webrtc:native":"karma start karma/webrtc.conf.js"},title:"Twilio Video",version:"1.1.0"}},function(e,t,n){"use strict";function CancelablePromise(e,t){var n=this;Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:t}}),Object.defineProperty(this,"_promise",{value:new Promise(function(t,r){e(function _resolve(e){n._isCancelable=!1,t(e)},function _reject(e){n._isCancelable=!1,r(e)},function isCanceled(){return n._isCanceled})})})}CancelablePromise.reject=function reject(e){return new CancelablePromise(function rejected(t,n){n(e)},function onCancel(){})},CancelablePromise.resolve=function resolve(e){return new CancelablePromise(function resolved(t){t(e)},function onCancel(){})},CancelablePromise.prototype.cancel=function cancel(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this},CancelablePromise.prototype.catch=function _catch(){var e=[].slice.call(arguments),t=this._promise;return new CancelablePromise(function onCreate(n,r){t.catch.apply(t,e).then(n,r)},this._onCancel)},CancelablePromise.prototype.then=function then(){var e=[].slice.call(arguments),t=this._promise;return new CancelablePromise(function onCreate(n,r){t.then.apply(t,e).then(n,r)},this._onCancel)},e.exports=CancelablePromise},function(e,t,n){"use strict";function createLocalTracks(e){var t=!(e&&("audio"in e||"video"in e));e=Object.assign({audio:t,getUserMedia:o,logLevel:l,LocalAudioTrack:a,LocalVideoTrack:s,MediaStreamTrack:c,Log:u,video:t},e);var n="[createLocalTracks #"+ ++d+"]",p=i(e.logLevel),h=new e.Log("default",n,p);return!1===e.audio&&!1===e.video?(h.info("Neither audio nor video requested, so returning empty LocalTracks"),Promise.resolve([])):e.tracks?(h.info("Adding user-provided LocalTracks"),h.debug("LocalTracks:",e.tracks),Promise.resolve(e.tracks)):e.getUserMedia({audio:e.audio,video:e.video}).then(function(t){var n=t.getTracks();return h.info("Call to getUserMedia successful; got MediaStreamTracks:",n),n.map(function(t){return r(t,Object.assign({log:h},e))})},function(e){throw h.warn("Call to getUserMedia failed:",e),e})}var r=n(85).asLocalTrack,i=n(85).buildLogLevels,o=n(1525),a=n(792),s=n(794),c=n(864),u=n(793),l=n(156).DEFAULT_LOG_LEVEL,d=0;e.exports=createLocalTracks},function(e,t,n){"use strict";function Track(e,t,n){r.call(this);var o=!1;n=Object.assign({MediaStream:i},n),Object.defineProperties(this,{_attachments:{value:new Set},_instanceId:{value:++a},_isStarted:{get:function(){return o},set:function(e){o=e}},_log:{value:n.log.createLog("media",this)},_signaling:{value:t},_MediaStream:{value:n.MediaStream},id:{enumerable:!0,value:e.id},isEnabled:{enumerable:!0,get:function(){return t.isEnabled}},isStarted:{get:function(){return o}},kind:{enumerable:!0,value:e.kind},mediaStreamTrack:{enumerable:!0,value:e}}),this._initialize()}var r=n(129).EventEmitter,i=n(863),o=n(24).inherits,a=0;Track.DISABLED="disabled",Track.ENABLED="enabled";var s=Track.STARTED="started";o(Track,r),Track.prototype._start=function _start(){this._log.debug("Started"),this._isStarted=!0,this._detachElement(this._dummyEl),this._dummyEl.oncanplay=null,this.emit(s,this)},Track.prototype._initialize=function _initialize(){var e=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack.addEventListener("ended",function onended(){e._end(),e.mediaStreamTrack.removeEventListener("ended",onended)}),this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._reemit=function reemmit(){e.emit(e.isEnabled?"enabled":"disabled",e)},this._signaling.on("updated",this._reemit),this._attach(this._dummyEl),this._attachments.delete(this._dummyEl)},Track.prototype._end=function _end(){this._log.debug("Ended"),this._signaling.removeListener("updated",this._reemit),this._detachElement(this._dummyEl),this._dummyEl.oncanplay=null},Track.prototype.attach=function attach(e){return"string"==typeof e?e=this._selectElement(e):e||(e=this._createElement()),this._log.debug("Attempting to attach to element:",e),e=this._attach(e)},Track.prototype._attach=function _attach(e){var t=e.srcObject;t instanceof this._MediaStream||(t=new this._MediaStream);var n="audio"===this.mediaStreamTrack.kind?"getAudioTracks":"getVideoTracks";return t[n]().forEach(function(e){t.removeTrack(e)}),t.addTrack(this.mediaStreamTrack),e.srcObject=t,e.autoplay=!0,this._attachments.has(e)||this._attachments.add(e),e},Track.prototype._selectElement=function _selectElement(e){var t=document.querySelector(e);if(!t)throw new Error("Selector matched no element: "+e);return t},Track.prototype._createElement=function _createElement(){return document.createElement(this.kind)},Track.prototype.detach=function _detach(e){var t;return t="string"==typeof e?[this._selectElement(e)]:e?[e]:this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",t),this._detachElements(t),e?t[0]:t},Track.prototype._detachElements=function _detachElements(e){return e.map(this._detachElement.bind(this))},Track.prototype._detachElement=function _detachElement(e){if(!this._attachments.has(e))return e;var t=e.srcObject;return t instanceof this._MediaStream&&t.removeTrack(this.mediaStreamTrack),this._attachments.delete(e),e},Track.prototype._getAllAttachedElements=function _getAllAttachedElements(){var e=[];return this._attachments.forEach(function(t){e.push(t)}),e},e.exports=Track},function(e,t,n){"use strict";"undefined"!=typeof webkitMediaStream?e.exports=webkitMediaStream:"undefined"!=typeof MediaStream?e.exports=MediaStream:e.exports=function MediaStream(){throw new Error("WebRTC is not supported in this browser")}},function(e,t,n){"use strict";"undefined"!=typeof MediaStreamTrack?e.exports=MediaStreamTrack:e.exports=function MediaStreamTrack(){throw new Error("WebRTC is not supported in this browser")}},function(e,t,n){"use strict";function ParticipantSignaling(){i.call(this,"connecting",o),Object.defineProperties(this,{_identity:{writable:!0,value:null},_sid:{writable:!0,value:null},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}})}var r=n(24).inherits,i=n(343),o={connecting:["connected"],connected:["disconnected"],disconnected:[]};r(ParticipantSignaling,i),ParticipantSignaling.prototype.addTrack=function addTrack(e){return this.tracks.set(e.id,e),this.emit("trackAdded",e),this},ParticipantSignaling.prototype.disconnect=function disconnect(){return"disconnected"!==this.state&&(this.preempt("disconnected"),!0)},ParticipantSignaling.prototype.removeTrack=function removeTrack(e){var t=this.tracks.delete(e.id);return t&&this.emit("trackRemoved",e),t},ParticipantSignaling.prototype.connect=function connect(e,t){return"connecting"===this.state&&(this._sid=e,this._identity=t,this.preempt("connected"),!0)},e.exports=ParticipantSignaling},function(e,t,n){"use strict";(function(t){var r=t.window||t,i=n(1563),o=r.WebSocket?r.WebSocket:n(1083),a=r.addEventListener?r.addEventListener.bind(r):null;e.exports=n(1564)({addEventListener:a,console:r.console,Promise:r.Promise,WebSocket:o,timers:r,Transport:i})}).call(t,n(37))},function(e,t,n){"use strict";function audioEnabled(e){var t=!0,n=!1,r=void 0;try{for(var i=e.audioTracks.values()[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0)if(o.value.isEnabled)return!0}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return!1}function videoEnabled(e){var t=!0,n=!1,r=void 0;try{for(var i=e.videoTracks.values()[Symbol.iterator](),o;!(t=(o=i.next()).done);t=!0)if(o.value.isEnabled)return!0}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return!1}function enableAudio(e,t){e.audioTracks.forEach(function(e){r.LocalAudioTrack.prototype.enable.call(e,t)})}function enableVideo(e,t){e.videoTracks.forEach(function(e){r.LocalVideoTrack.prototype.enable.call(e,t)})}function detachTracks(e){e.tracks.forEach(function(e){e.detach().forEach(function(e){e.remove()})})}function assignMicActivityLevel(e,t,n){var r=e.createAnalyser(),o=e.createMediaStreamSource(t._dummyEl.srcObject),a=e.createScriptProcessor(2048,1,1);r.smoothingTimeConstant=.3,r.fftSize=1024,o.connect(r),r.connect(a),a.connect(e.destination);var c=i(function(){if(n){var e=new Uint8Array(r.frequencyBinCount);r.getByteFrequencyData(e);var t=createWave(e.reduce(function(e,t){return e+t})/e.length/s);n.appendChild(t),setTimeout(function(){return n.removeChild(t)},1e3)}},200);a.addEventListener("audioprocess",c),t.mediaStreamTrack.addEventListener("ended",function(){a.removeEventListener("audioprocess",c)})}function createWave(e){var t=document.createElement("div");return t.className="video-placeholder__wave",t.style.opacity=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1067),i=n(1599),o=n(242),a=n(799),s=200;t.localTracks=function(e,t,n){return r.createLocalTracks({audio:{deviceId:e},video:a.videoConstraints(t,n)})},t.audioEnabled=audioEnabled,t.videoEnabled=videoEnabled,t.enableAudio=enableAudio,t.enableVideo=enableVideo,t.detachTracks=detachTracks,t.assignMicActivityLevel=assignMicActivityLevel,t.statusToColor=function(e){switch(e){case o.STATUS_OK:return"green";case o.STATUS_CONNECTED:case o.STATUS_NO_ACCESS:case o.STATUS_NO_ACCESS_CAM:case o.STATUS_NO_ACCESS_MIC:return"yellow";case o.STATUS_DISCONNECTED:case o.STATUS_CONNECTION_FAILED:default:return"grey"}},t.selfStatusToMessage=function(e){switch(e){case o.STATUS_NO_ACCESS:case o.STATUS_NO_ACCESS_CAM:case o.STATUS_NO_ACCESS_MIC:return{show:!0,loader:!1,videoVisible:!0,title:"We need access to your camera and microphone to get started",message:"Click the camera icon in the address bar to give Pramp access to your computer's camera and microphone."};case o.STATUS_CONNECTION_FAILED:return{show:!0,loader:!1,videoVisible:!1,title:"We seem to have a problem with your connection",message:"Please try and refresh your browser. If that doesn't help, please close all open browser windows and return to this page via the link on your dashboard"};case o.STATUS_CONNECTED:return{show:!0,loader:!0,videoVisible:!1,title:"Connecting to server...",message:""};case o.STATUS_DISCONNECTED:return{show:!0,loader:!0,videoVisible:!0,title:"Reconnecting...",message:""};case o.STATUS_OK:default:return{show:!1,loader:!1,videoVisible:!0,title:"",message:""}}},t.peerStatusToMessage=function(e,t,n,r,i){var a=Date.now(),s="placement"===i?r?"interviewee":"interviewer":"peer";switch(e){case o.STATUS_NO_ACCESS:case o.STATUS_NO_ACCESS_CAM:case o.STATUS_NO_ACCESS_MIC:return{show:!0,loader:!1,videoVisible:!0,title:"Your "+s+" has joined",message:"placement"===i?"Please wait while they're configuring their video & audio settings. If it takes more than few minutes, contact us at team@pramp.com.":"Please wait while they're configuring their video & audio settings. If it takes more than few minutes, consider ending the interview."};case o.STATUS_CONNECTION_FAILED:return{show:!0,loader:!1,videoVisible:!0,title:"Your "+s+" is having connection problems",message:"We're helping them resolve the issue, please wait a minute while we get everything worked out"};case o.STATUS_CONNECTED:return{show:!0,loader:!0,videoVisible:!0,title:"Connecting your "+s+"...",message:""};case o.STATUS_DISCONNECTED:var c=t&&a-t.getTime()>=5e3,u=n&&a-n.getTime()>=27e5;if(c){var l={show:!0,loader:!1,videoVisible:!0,title:"Your "+s+" seems to be offline",message:""};return"placement"===i?Object.assign({},l,{message:"If you think there's a problem, contact us at team@pramp.com. Otherwise, let's cross our fingers and wait for your "+s+" to return."}):u?Object.assign({},l,{message:'If the interview is over, go ahead and click the "End Interview" button. Otherwise, let\'s cross our fingers and wait for your peer to return.'}):Object.assign({},l,{message:'Please sit back and wait until they reconnect. If you feel like they\'re not coming back, go ahead and click the "End Interview" button.'})}return{show:!0,loader:!0,videoVisible:!0,title:"Reconnecting your "+s+"...",message:""};case o.STATUS_OK:default:return{show:!1,loader:!1,videoVisible:!0,title:"",message:""}}}},,,,,,,function(e,t,n){function baseFlatten(e,t,n,o,a){var s=-1,c=e.length;for(n||(n=i),a||(a=[]);++s<c;){var u=e[s];t>0&&n(u)?t>1?baseFlatten(u,t-1,n,o,a):r(a,u):o||(a[a.length]=u)}return a}var r=n(204),i=n(918);e.exports=baseFlatten},function(e,t,n){function overRest(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(c),r(e,this,u)}}var r=n(919),i=Math.max;e.exports=overRest},function(e,t,n){var r=n(920),i=n(922)(r);e.exports=i},,function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(72),a=n(15),s=n(1116),c=n(1171),u=n(1172),l=n(1173),d=n(1174),p=n(1175),h=n(1176),f=s({typographer:!0}).use(h,{target:"_blank"}).use(p,"image-wrapper").use(p,"variable").use(p,"variable-inline").use(p,"display-inline").use(p,"table--bordered").use(p,"hints-wrap").use(l()).use(d).use(c).use(u),g=n(1177),m=n(1178),v=n(826);g.registerLanguage("pramp",m.default),g.configure({tabReplace:"  "}),n(1179),n(1180);var y=function(e){function NavTabPanel(){return _classCallCheck(this,NavTabPanel),_possibleConstructorReturn(this,(NavTabPanel.__proto__||Object.getPrototypeOf(NavTabPanel)).apply(this,arguments))}return _inherits(NavTabPanel,e),r(NavTabPanel,[{key:"render",value:function render(){var e=this.props,t=e.markdown,n=e.isActive,r=e.children,o=a("nav-tab-panel",{"nav-tab-panel_active":n,"nav-tab-panel_markdown":t});return this.isText()?i.createElement("div",{className:o,dangerouslySetInnerHTML:{__html:this.html()}}):i.createElement("div",{className:o},r)}},{key:"componentDidMount",value:function componentDidMount(){this.loadMathJax(),this.highlight()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.highlight()}},{key:"isText",value:function isText(){return this.props.markdown||v(this.props.children)}},{key:"html",value:function html(){var e=this.props,t=e.markdown,n=e.children;return t?f.render(n):n}},{key:"loadMathJax",value:function loadMathJax(){if(!NavTabPanel.mathJaxLoaded){NavTabPanel.mathJaxLoaded=!0;var e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML",e.async=!0,e.defer=!0,document.body.appendChild(e)}}},{key:"highlight",value:function highlight(){var e=o.findDOMNode(this),t=!0,n=!1,r=void 0;try{for(var i=e.querySelectorAll("pre code")[Symbol.iterator](),a;!(t=(a=i.next()).done);t=!0){var s=a.value;s.className.includes("hljs")||g.highlightBlock(s)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}}]),NavTabPanel}(i.Component);y.mathJaxLoaded=!1,t.NavTabPanel=y},function(e,t,n){"use strict";e.exports=n(1118)},function(e,t,n){"use strict";e.exports.encode=n(1119),e.exports.decode=n(1120),e.exports.format=n(1121),e.exports.parse=n(1122)},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},function(e,t,n){"use strict";var r="'[^']*'",i='"[^"]*"',o="<[A-Za-z][A-Za-z0-9\\-]*"+("(?:\\s+"+"[a-zA-Z_:][a-zA-Z0-9:._-]*"+"(?:\\s*=\\s*"+("(?:"+"[^\"'=<>`\\x00-\\x20]+"+"|'[^']*'|\"[^\"]*\")")+")?)")+"*\\s*\\/?>",a="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",s="\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e",c="<[?].*?[?]>",u="<![A-Z]+\\s+[^>]*>",l="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",d=new RegExp("^(?:"+o+"|"+a+"|"+s+"|"+c+"|"+u+"|"+l+")"),p=new RegExp("^(?:"+o+"|"+a+")");e.exports.HTML_TAG_RE=d,e.exports.HTML_OPEN_CLOSE_TAG_RE=p},function(e,t,n){"use strict";e.exports.tokenize=function strikethrough(e,t){var n,r,i,o,a,s=e.pos,c=e.src.charCodeAt(s);if(t)return!1;if(126!==c)return!1;if(r=e.scanDelims(e.pos,!0),o=r.length,a=String.fromCharCode(c),o<2)return!1;for(o%2&&((i=e.push("text","",0)).content=a,o--),n=0;n<o;n+=2)(i=e.push("text","",0)).content=a+a,e.delimiters.push({marker:c,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function strikethrough(e){var t,n,r,i,o,a=[],s=e.delimiters,c=e.delimiters.length;for(t=0;t<c;t++)126===(r=s[t]).marker&&-1!==r.end&&(i=s[r.end],(o=e.tokens[r.token]).type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",(o=e.tokens[i.token]).type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&a.push(i.token-1));for(;a.length;){for(n=(t=a.pop())+1;n<e.tokens.length&&"s_close"===e.tokens[n].type;)n++;t!==--n&&(o=e.tokens[n],e.tokens[n]=e.tokens[t],e.tokens[t]=o)}}},function(e,t,n){"use strict";e.exports.tokenize=function emphasis(e,t){var n,r,i,o=e.pos,a=e.src.charCodeAt(o);if(t)return!1;if(95!==a&&42!==a)return!1;for(r=e.scanDelims(e.pos,42===a),n=0;n<r.length;n++)(i=e.push("text","",0)).content=String.fromCharCode(a),e.delimiters.push({marker:a,length:r.length,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function emphasis(e){var t,n,r,i,o,a,s=e.delimiters,c=e.delimiters.length;for(t=0;t<c;t++)95!==(n=s[t]).marker&&42!==n.marker||-1!==n.end&&(r=s[n.end],a=t+1<c&&s[t+1].end===n.end-1&&s[t+1].token===n.token+1&&s[n.end-1].token===r.token-1&&s[t+1].marker===n.marker,o=String.fromCharCode(n.marker),(i=e.tokens[n.token]).type=a?"strong_open":"em_open",i.tag=a?"strong":"em",i.nesting=1,i.markup=a?o+o:o,i.content="",(i=e.tokens[r.token]).type=a?"strong_close":"em_close",i.tag=a?"strong":"em",i.nesting=-1,i.markup=a?o+o:o,i.content="",a&&(e.tokens[s[t+1].token].content="",e.tokens[s[n.end-1].token].content="",t++))}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function withContentRect(e){return function(t){var n,a;return a=n=function(n){function _class(){var t,n,r,i;_classCallCheck(this,_class);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=_possibleConstructorReturn(this,(t=_class.__proto__||Object.getPrototypeOf(_class)).call.apply(t,[this].concat(a))),r.state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},r.measure=function(t){var n=(0,l.default)(r._node,e||(0,u.default)(r.props));t&&(n.entry=t[0].contentRect),r.setState({contentRect:n}),"function"==typeof r.props.onResize&&r.props.onResize(n)},r._handleRef=function(e){r._resizeObserver&&(e?r._resizeObserver.observe(e):r._resizeObserver.disconnect(r._node)),r._node=e,"function"==typeof r.props.innerRef&&r.props.innerRef(e)},i=n,_possibleConstructorReturn(r,i)}return _inherits(_class,n),i(_class,[{key:"componentWillMount",value:function componentWillMount(){this._resizeObserver=new c.default(this.measure)}},{key:"render",value:function render(){var e=this.props,n=e.innerRef,i=e.onResize,a=_objectWithoutProperties(e,["innerRef","onResize"]);return(0,o.createElement)(t,r({},a,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))}}]),_class}(o.Component),n.propTypes={client:s.default.bool,offset:s.default.bool,scroll:s.default.bool,bounds:s.default.bool,margin:s.default.bool,innerRef:s.default.func,onResize:s.default.func,children:s.default.func},a}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=n(1),a=_interopRequireDefault(o),s=_interopRequireDefault(n(17)),c=_interopRequireDefault(n(1184)),u=_interopRequireDefault(n(1185)),l=_interopRequireDefault(n(1186));t.default=withContentRect,e.exports=t.default},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(1307)),__export(n(1040)),__export(n(1041)),__export(n(1042)),__export(n(1045)),__export(n(1046)),__export(n(1062)),__export(n(1064)),__export(n(1066)),__export(n(1513))},,,,,function(e,t,n){var r=n(202),i=n(894),o=n(816),a=n(127),s=n(199),c=n(914),u=n(916),l=n(324),d=1,p=2,h=4,f=u(function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,function(t){return t=a(t,e),u||(u=t.length>1),t}),s(e,l(e),n),u&&(n=i(n,7,c));for(var d=t.length;d--;)o(n,t[d]);return n});e.exports=f},function(e,t,n){function baseClone(e,t,n,k,x,I){var R,A=t&w,M=t&C,D=t&T;if(n&&(R=x?n(e,k,x,I):n(e)),void 0!==R)return R;if(!b(e))return e;var L=y(e);if(L){if(R=g(e),!A)return u(e,R)}else{var F=f(e),U=F==O||F==P;if(_(e))return c(e,A);if(F==N||F==E||U&&!x){if(R=M||U?{}:v(e),!A)return M?d(e,s(R,e)):l(e,a(R,e))}else{if(!Q[F])return x?e:{};R=m(e,F,baseClone,A)}}I||(I=new r);var j=I.get(e);if(j)return j;I.set(e,R);var W=D?M?h:p:M?keysIn:S,B=L?void 0:W(e);return i(B||e,function(r,i){B&&(r=e[i=r]),o(R,i,baseClone(r,t,n,i,e,I))}),R}var r=n(240),i=n(895),o=n(323),a=n(896),s=n(897),c=n(898),u=n(899),l=n(900),d=n(901),p=n(332),h=n(324),f=n(315),g=n(902),m=n(903),v=n(912),y=n(46),_=n(201),b=n(67),S=n(95),w=1,C=2,T=4,E="[object Arguments]",k="[object Array]",x="[object Boolean]",I="[object Date]",R="[object Error]",O="[object Function]",P="[object GeneratorFunction]",A="[object Map]",M="[object Number]",N="[object Object]",D="[object RegExp]",L="[object Set]",F="[object String]",U="[object Symbol]",j="[object WeakMap]",W="[object ArrayBuffer]",B="[object DataView]",H="[object Float32Array]",z="[object Float64Array]",q="[object Int8Array]",V="[object Int16Array]",G="[object Int32Array]",$="[object Uint8Array]",X="[object Uint8ClampedArray]",K="[object Uint16Array]",Y="[object Uint32Array]",Q={};Q[E]=Q[k]=Q[W]=Q[B]=Q[x]=Q[I]=Q[H]=Q[z]=Q[q]=Q[V]=Q[G]=Q[A]=Q[M]=Q[N]=Q[D]=Q[L]=Q[F]=Q[U]=Q[$]=Q[X]=Q[K]=Q[Y]=!0,Q[R]=Q[O]=Q[j]=!1,e.exports=baseClone},function(e,t){function arrayEach(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=arrayEach},function(e,t,n){function baseAssign(e,t){return e&&r(t,i(t),e)}var r=n(199),i=n(95);e.exports=baseAssign},function(e,t,n){function baseAssignIn(e,t){return e&&r(t,i(t),e)}var r=n(199),i=n(326);e.exports=baseAssignIn},function(e,t,n){(function(e){function cloneBuffer(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}var r=n(48),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=cloneBuffer}).call(t,n(103)(e))},function(e,t){function copyArray(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=copyArray},function(e,t,n){function copySymbols(e,t){return r(e,i(e),t)}var r=n(199),i=n(205);e.exports=copySymbols},function(e,t,n){function copySymbolsIn(e,t){return r(e,i(e),t)}var r=n(199),i=n(327);e.exports=copySymbolsIn},function(e,t){function initCloneArray(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var n=Object.prototype.hasOwnProperty;e.exports=initCloneArray},function(e,t,n){function initCloneByTag(e,t,n,R){var O=e.constructor;switch(t){case y:return r(e);case l:case d:return new O(+e);case _:return i(e,R);case b:case S:case w:case C:case T:case E:case k:case x:case I:return u(e,R);case p:return o(e,R,n);case h:case m:return new O(e);case f:return a(e);case g:return s(e,R,n);case v:return c(e)}}var r=n(335),i=n(904),o=n(905),a=n(907),s=n(908),c=n(910),u=n(911),l="[object Boolean]",d="[object Date]",p="[object Map]",h="[object Number]",f="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",w="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",x="[object Uint16Array]",I="[object Uint32Array]";e.exports=initCloneByTag},function(e,t,n){function cloneDataView(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var r=n(335);e.exports=cloneDataView},function(e,t,n){function cloneMap(e,t,n){var s=t?n(o(e),a):o(e);return i(s,r,new e.constructor)}var r=n(906),i=n(347),o=n(331),a=1;e.exports=cloneMap},function(e,t){function addMapEntry(e,t){return e.set(t[0],t[1]),e}e.exports=addMapEntry},function(e,t){function cloneRegExp(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}var n=/\w*$/;e.exports=cloneRegExp},function(e,t,n){function cloneSet(e,t,n){var s=t?n(o(e),a):o(e);return i(s,r,new e.constructor)}var r=n(909),i=n(347),o=n(314),a=1;e.exports=cloneSet},function(e,t){function addSetEntry(e,t){return e.add(t),e}e.exports=addSetEntry},function(e,t,n){function cloneSymbol(e){return o?Object(o.call(e)):{}}var r=n(96),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=cloneSymbol},function(e,t,n){function cloneTypedArray(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var r=n(335);e.exports=cloneTypedArray},function(e,t,n){function initCloneObject(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}var r=n(913),i=n(280),o=n(197);e.exports=initCloneObject},function(e,t,n){var r=n(67),i=Object.create,o=function(){function object(){}return function(e){if(!r(e))return{};if(i)return i(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}();e.exports=o},function(e,t,n){function customOmitClone(e){return r(e)?void 0:e}var r=n(915);e.exports=customOmitClone},function(e,t,n){function isPlainObject(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}var r=n(79),i=n(280),o=n(80),a="[object Object]",s=Function.prototype,c=Object.prototype,u=s.toString,l=c.hasOwnProperty,d=u.call(Object);e.exports=isPlainObject},function(e,t,n){function flatRest(e){return o(i(e,void 0,r),e+"")}var r=n(917),i=n(875),o=n(876);e.exports=flatRest},function(e,t,n){function flatten(e){return(null==e?0:e.length)?r(e,1):[]}var r=n(874);e.exports=flatten},function(e,t,n){function isFlattenable(e){return o(e)||i(e)||!!(a&&e&&e[a])}var r=n(96),i=n(200),o=n(46),a=r?r.isConcatSpreadable:void 0;e.exports=isFlattenable},function(e,t){function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=apply},function(e,t,n){var r=n(921),i=n(325),o=n(293),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){function constant(e){return function(){return e}}e.exports=constant},function(e,t){function shortOut(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var n=800,r=16,i=Date.now;e.exports=shortOut},,,,function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var i=n(94),o=n(728),a=n(799),s=n(927),c=n(336),u=function normalizeDevice(e){return{value:e.deviceId,label:e.label}},l=function getMediaDevices(){return r(void 0,void 0,void 0,regeneratorRuntime.mark(function _callee(){var e,t,n,r,i;return regeneratorRuntime.wrap(function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,navigator.mediaDevices.enumerateDevices();case 2:return e=o.sent,t=function filterBy(e){return function(t){return t.kind===e.toLowerCase()&&t.label&&t.label.length}},n=e.filter(t(c.AUDIO_OUTPUT)).map(u),r=e.filter(t(c.VIDEO_INPUT)).map(u),i=e.filter(t(c.AUDIO_INPUT)).map(u),o.abrupt("return",{audioOutputDevices:n,videoInputDevices:r,audioInputDevices:i});case 8:case"end":return o.stop()}},_callee,this)}))},d=function getMediaStream(e){var t=e.audioInputDeviceId,n=e.videoInputDeviceId,r=e.videoQualityId;return navigator.mediaDevices.getUserMedia({video:a.videoConstraints(n,r,!0),audio:{deviceId:t||void 0}})},p=function formatDeviceErrorMessage(e){var t=e.name,n=e.message;if(s.ERRORS[t])return s.ERRORS[t];var r=n||t;return""+"Your browser is blocking access to your audio/video devices"+(r?".":", here's some more info: "+r)};t.loadMedia=function(e){var t=e.audioInputDeviceId,n=e.videoInputDeviceId,o=e.videoQualityId;return function(e){return r(void 0,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var r,a,s,u,h,f,g,m;return regeneratorRuntime.wrap(function _callee2$(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,e({type:c.LOAD_MEDIA_START}),v.next=4,d({videoInputDeviceId:n,audioInputDeviceId:t,videoQualityId:o});case 4:return a=v.sent,s=i(document.createElement)&&"setSinkId"in document.createElement("video"),v.next=8,l();case 8:u=v.sent,h=u.audioOutputDevices,f=u.audioInputDevices,g=u.videoInputDevices,_defineProperty(r={isSetSinkIdSupported:s,audioOutputDevices:h,audioInputDevices:f,videoInputDevices:g},c.AUDIO_INPUT,{deviceId:t,error:""}),_defineProperty(r,c.VIDEO_INPUT,{deviceId:n,error:""}),_defineProperty(r,"stream",a),m=r,e({type:c.LOAD_MEDIA_SUCCESS,payload:m}),v.next=19;break;case 16:v.prev=16,v.t0=v.catch(0),e({type:c.LOAD_MEDIA_FAIL,payload:_defineProperty({screenType:c.ERROR_SCREEN},c.ERROR,p(v.t0))});case 19:case"end":return v.stop()}},_callee2,this,[[0,16]])}))}},t.selectMediaInput=function(e){var t=e.videoInputDeviceId,n=e.audioInputDeviceId,r=e.videoQualityId,i=e.type;return function(e){var o;e({type:c.SET_MEDIA_INPUT_START});var a=(o={},_defineProperty(o,c.AUDIO_INPUT,n),_defineProperty(o,c.VIDEO_INPUT,t),o),s=function action(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e({type:t,payload:{deviceId:a[i],stream:n,error:r,type:i}})};d({videoInputDeviceId:t,audioInputDeviceId:n,videoQualityId:r}).then(function(e){return s(c.SET_MEDIA_INPUT_SUCCESS,e)}).catch(function(e){var t=e.name,n=e.message;return s(c.SET_MEDIA_INPUT_FAIL,null,n||t)})}},t.selectAudioOutput=function(e){var t=e.element,n=e.audioOutputDeviceId;return function(e){e({type:c.SET_AUDIO_OUTPUT_START});var r=function action(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e({type:t,payload:{deviceId:n,error:r}})};t.setSinkId(n).then(function(){return r(c.SET_AUDIO_OUTPUT_SUCCESS)}).catch(function(e){var t=e.name,n=e.message;return r(c.SET_AUDIO_OUTPUT_FAIL,n||t)})}},t.setVideoQuality=function(e){var t=e.videoInputDeviceId,n=e.audioInputDeviceId,r=e.videoQualityId;return function(e){e({type:c.SET_VIDEO_QUALITY_START});var i=function action(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e({type:t,payload:{stream:n,error:i,videoQualityId:r}})};d({videoInputDeviceId:t,audioInputDeviceId:n,videoQualityId:r}).then(function(e){return i(c.SET_VIDEO_QUALITY_SUCCESS,e)}).catch(function(e){var t=e.name,n=e.message;return i(c.SET_VIDEO_QUALITY_FAIL,null,n||t)})}},t.saveVideoSettings=function(e){return function(t){o.VideoSettingsLS.save(e),t({type:c.SAVE_VIDEO_SETTINGS,payload:e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS={PermissionDismissedError:"\n    We can't seem to detect a camera and a microphone.\n    Try connecting a webcam or a microphone to join the conversation.\n    If the problem continues, please clear your cookies, close all browser windows and try again.\n  ",PermissionDeniedError:"\n    The browser is blocking your camera and microphone.\n    To enter the the video conversation, please refresh the page and allow Pramp access to your audio/video.\n    If the problem continues, please clear your cookies, close all browser windows and try again.\n  ",NotAllowedError:"\n    We couldn't find any devices, please make sure they are connected and that you've approved access.\n    If the problem continues, please clear your cookies, close all browser windows and try again.\n  ",NotReadableError:"\n    We can't seem to detect a camera and a microphone.\n    please make sure they are connected and that you've approved access.\n    If the problem continues, please clear your cookies, close all browser windows and try again.\n  "}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOGGLE_LEFT_BAR="TOGGLE_LEFT_BAR",t.TOGGLE_BOTTOM_BAR="TOGGLE_BOTTOM_BAR"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EDITOR_CONNECTED="EDITOR_CONNECTED",t.EDITOR_DISCONNECTED="EDITOR_DISCONNECTED",t.RUN_CODE="RUN_CODE",t.REQUEST_START="REQUEST_START",t.REQUEST_END="REQUEST_START",t.SELECT_LANGUAGE="SELECT_LANGUAGE",t.CHANGE_CODE="CHANGE_CODE",t.RESET_CODE="RESET_CODE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(1237),t.SessionLayout=function(e){var t=e.children;return r.createElement("div",{className:"session-layout"},t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(1277),t.SessionHeader=function(e){var t=e.children;return r.createElement("div",{className:"session-header"},t)}},function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);n(1278),t.SessionTitle=function(e){var t=e.children,n=e.align,o=i("session-title",_defineProperty({},"session-title_"+n,n));return r.createElement("div",{className:o},t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(1296),t.SessionDashboardButton=function(e){var t=e.url,n=e.target;return r.createElement("a",{href:t,className:"session-dashboard-button",target:n||"_blank"},r.createElement("i",{className:"fa fa-angle-left session-dashboard-button__icon"}),r.createElement("span",{className:"session-dashboard-button__label"},"Dashboard"))}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1304),__export(n(1305))},,function(e,t,n){var r=n(953),i=n(729)(function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)});e.exports=i},,,,,function(e,t,n){function isEqual(e,t){return r(e,t)}var r=n(277);e.exports=isEqual},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(943))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(944),o=n(196),a=function mapStateToProps(e){var t=e.videoSettings;return{isSetSinkIdSupported:t.isSetSinkIdSupported,audioOutputDeviceId:t.audioOutput.deviceId||t.audioOutputDeviceId,audioInputDeviceId:t.audioInput.deviceId||t.audioInputDeviceId,videoInputDeviceId:t.videoInput.deviceId||t.videoInputDeviceId,audioOutputDevices:t.audioOutputDevices,audioInputDevices:t.audioInputDevices,videoInputDevices:t.videoInputDevices,videoQualityError:t.videoQuality.error,audioOutputError:t.audioOutput.error,audioInputError:t.audioInput.error,videoInputError:t.videoInput.error,videoQualityId:t.videoQuality.value||t.videoQualityId,screenType:t.screenType,isLoading:t.isLoading,stream:t.stream,error:t.error}},s={saveVideoSettings:o.saveVideoSettings,selectAudioOutput:o.selectAudioOutput,selectMediaInput:o.selectMediaInput,setVideoQuality:o.setVideoQuality,loadMedia:o.loadMedia};t.VideoSettings=r.connect(a,s)(i.VideoSettingsContainer)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(1),a=n(945),s=n(949),c=n(951),u=n(986),l=n(295),d=n(196),p="video-settings",h=function(e){function Container(){_classCallCheck(this,Container);var e=_possibleConstructorReturn(this,(Container.__proto__||Object.getPrototypeOf(Container)).apply(this,arguments));return e.onClose=function(){e.props.track("video settings closed"),e.props.router?e.props.router.push("/"):e.props.onClose()},e.onOpen=function(){e.props.track("video settings opened")},e.onSave=function(t){if(e.props.track("video settings saved",t),e.props.router){var n=e.props.router;n.goBack(),n.replace(p,"")}else e.props.onSave()},e.onLoad=function(t){if(t){var n=e.props,r=n.audioInputDeviceId,i=n.videoInputDeviceId,o=n.videoQualityId;(0,n.loadMedia)({audioInputDeviceId:r,videoInputDeviceId:i,videoQualityId:o})}},e.screen=function(){var t=e.props,n=t.screenType,r=t.error;switch(n){case d.LOADER_SCREEN:return i.createElement(a.VideoSettingsLoaderScreen,{onClose:e.onClose});case d.ERROR_SCREEN:return i.createElement(s.VideoSettingsErrorScreen,{message:r,onClose:e.onClose});default:return i.createElement(c.VideoSettings,Object.assign({},e.props,{onClose:e.onClose,onSave:e.onSave}))}},e}return _inherits(Container,e),r(Container,[{key:"componentDidMount",value:function componentDidMount(){this.onLoad(this.props.isOpen)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){e.isOpen!==this.props.isOpen&&this.onLoad(e.isOpen)}},{key:"render",value:function render(){var e=this.props.isOpen;return i.createElement(u.VideoSettingsModal,{isOpen:e,onAfterOpen:this.onOpen,onClose:this.onClose},this.screen())}}]),Container}(o.Component);h.defaultProps={isOpen:!0},t.VideoSettingsContainer=l.connectTracker(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(650),o=n(651);n(948),t.VideoSettingsLoaderScreen=function(e){var t=e.onClose;return r.createElement(i.VideoSettingsLayout,null,r.createElement(o.VideoSettingsHeader,{onClose:t},"Loading"),r.createElement("div",{className:"video-settings-loader-screen"},r.createElement("div",{className:"video-settings-loader-screen__icon"})))}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(650),o=n(651);n(950),t.VideoSettingsErrorScreen=function(e){var t=e.message,n=e.onClose;return r.createElement(i.VideoSettingsLayout,null,r.createElement(o.VideoSettingsHeader,{onClose:n}),r.createElement("div",{className:"video-settings-error-screen"},t))}},function(e,t){},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(952),a=n(1),s=n(650),c=n(651),u=n(966),l=n(968),d=n(970),p=n(972),h=n(976),f=n(979),g=n(982),m=n(984),v=n(196),y=function(e){function VideoSettings(){_classCallCheck(this,VideoSettings);var e=_possibleConstructorReturn(this,(VideoSettings.__proto__||Object.getPrototypeOf(VideoSettings)).apply(this,arguments));return e.selectVideoQuality=function(t){var n=t.value,r=e.props,i=r.audioInputDeviceId,o=r.videoInputDeviceId,a=r.setVideoQuality;e.stopStream(),a({audioInputDeviceId:i,videoInputDeviceId:o,videoQualityId:n})},e.selectVideoInput=function(t){var n=t.value,r=e.props,i=r.audioInputDeviceId,o=r.audioInputError,a=r.videoQualityId,s=r.selectMediaInput;e.stopStream(),s({audioInputDeviceId:o?null:i,videoInputDeviceId:n,videoQualityId:a,type:v.VIDEO_INPUT})},e.selectAudioInput=function(t){var n=t.value,r=e.props,i=r.videoInputDeviceId,o=r.videoInputError,a=r.videoQualityId,s=r.selectMediaInput;e.stopStream(),s({audioInputDeviceId:n,videoInputDeviceId:o?null:i,videoQualityId:a,type:v.AUDIO_INPUT})},e.selectAudioOutput=function(t){var n=t.value;e.props.selectAudioOutput({element:e.mediaElement,audioOutputDeviceId:n})},e.stopStream=function(){var t=e.props.stream;t&&t.getTracks().forEach(function(e){return e.stop()}),e.mediaElement&&(e.mediaElement.srcObject=null)},e.startStream=function(){e.props.stream&&(e.mediaElement.srcObject=e.props.stream,e.mediaElement.muted=!0)},e.setAudioOutput=function(){var t=e.props,n=t.isSetSinkIdSupported,r=t.audioOutputDeviceId,i=t.stream,o=t.selectAudioOutput;i&&n&&o({element:e.mediaElement,audioOutputDeviceId:r})},e.onSave=function(){var t=e.props,n=t.audioOutputDeviceId,r=t.audioInputDeviceId,i=t.videoInputDeviceId,a=t.videoQualityId,s=t.saveVideoSettings,c=t.onSave,u={audioOutputDeviceId:n,audioInputDeviceId:r,videoInputDeviceId:i,videoQualityId:a},l=o.getSettingsChanges(u);s(u),c(l),location.reload()},e}return _inherits(VideoSettings,e),r(VideoSettings,[{key:"render",value:function render(){var e=this,t=this.props,n=t.isSetSinkIdSupported,r=t.audioOutputDeviceId,o=t.audioInputDeviceId,a=t.videoInputDeviceId,y=t.audioOutputDevices,_=t.videoQualityError,b=t.audioInputDevices,S=t.videoInputDevices,w=t.audioOutputError,C=t.audioInputError,T=t.videoInputError,E=t.videoQualityId,k=t.isLoading,x=t.stream,I=t.error,R=t.onClose;return i.createElement(s.VideoSettingsLayout,null,i.createElement(c.VideoSettingsHeader,{onClose:R}),i.createElement(l.VideoSettingsSection,{column:!0,middle:!0},i.createElement(g.VideoSettingsCameraPreview,{mediaElementRef:function mediaElementRef(t){return e.mediaElement=t},disabled:k}),i.createElement(m.VideoSettingsAudioMeter,{disabled:k,stream:x}),i.createElement(u.VideoSettingsText,null,"If you are having problems, try restarting your browser.")),i.createElement(l.VideoSettingsSection,null,i.createElement(d.VideoSettingsColumn,null,i.createElement(h.VideoSettingsMediaInput,{deviceId:a,devices:S,label:"Camera",error:T,type:v.VIDEO_INPUT,onChange:this.selectVideoInput})),i.createElement(d.VideoSettingsColumn,null,i.createElement(h.VideoSettingsMediaInput,{deviceId:o,devices:b,label:"Microphone",error:C,type:v.AUDIO_INPUT,onChange:this.selectAudioInput}))),i.createElement(l.VideoSettingsSection,null,i.createElement(d.VideoSettingsColumn,null,i.createElement(f.VideoSettingsVideoQuality,{videoQualityId:E,hidden:!S.length,error:_,onChange:this.selectVideoQuality})),i.createElement(d.VideoSettingsColumn,null,i.createElement(p.VideoSettingsSoundOutput,{isSetSinkIdSupported:n,deviceId:r,devices:y,error:w,onChange:this.selectAudioOutput}))),i.createElement(l.VideoSettingsSection,{middle:!0},i.createElement(d.VideoSettingsColumn,{size:7},i.createElement(u.VideoSettingsText,null,"Updating preferences will refresh your browser window."),i.createElement(u.VideoSettingsText,null,"You will automatically rejoin the session.")),i.createElement(d.VideoSettingsColumn,{size:3},i.createElement("button",{className:"btn btn_lg btn_violet",disabled:k||!!I,onClick:this.onSave},"Save"))))}},{key:"componentDidMount",value:function componentDidMount(){this.props.stream&&(this.startStream(),this.setAudioOutput())}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.stopStream()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){(this.props.stream?this.props.stream.id:"")!==(e.stream?e.stream.id:"")&&this.startStream()}}]),VideoSettings}(a.Component);t.VideoSettings=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(936),i=n(965),o=n(196),a=function normalizeKey(e){return r(e).replace(/DeviceId|Id/,"")};t.getSettingsChanges=function(e){var t=o.VideoSettingsLS.get();return t?Object.keys(e).reduce(function(n,r){var o=a(r);return e[r]!==t[r]&&(n[o]=i(o)+" has been changed from "+(t[r]||"default")+" to "+e[r]),n},{}):{}}},function(e,t,n){function capitalize(e){return i(r(e).toLowerCase())}var r=n(128),i=n(954);e.exports=capitalize},function(e,t,n){var r=n(955)("toUpperCase");e.exports=r},function(e,t,n){function createCaseFirst(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return s[e]()+c}}var r=n(821),i=n(807),o=n(822),a=n(128);e.exports=createCaseFirst},function(e,t){function asciiToArray(e){return e.split("")}e.exports=asciiToArray},function(e,t){function unicodeToArray(e){return e.match(y)||[]}var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",a="\\ufe0e\\ufe0f",s="[\\ud800-\\udfff]",c="["+"\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff"+"]",u="\\ud83c[\\udffb-\\udfff]",l="[^\\ud800-\\udfff]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",f="(?:"+c+"|"+u+")"+"?",g="[\\ufe0e\\ufe0f]?",m=g+f+("(?:\\u200d(?:"+[l,d,p].join("|")+")"+g+f+")*"),v="(?:"+[l+c+"?",c,d,p,s].join("|")+")",y=RegExp(u+"(?="+u+")|"+v+m,"g");e.exports=unicodeToArray},function(e,t,n){function deburr(e){return(e=i(e))&&e.replace(o,r).replace(l,"")}var r=n(959),i=n(128),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",c="\\u20d0-\\u20ff",u="["+"\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff"+"]",l=RegExp(u,"g");e.exports=deburr},function(e,t,n){var r=n(960)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});e.exports=r},function(e,t){function basePropertyOf(e){return function(t){return null==e?void 0:e[t]}}e.exports=basePropertyOf},function(e,t,n){function words(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?i(e)?a(e):r(e):e.match(t)||[]}var r=n(962),i=n(963),o=n(128),a=n(964);e.exports=words},function(e,t){function asciiWords(e){return e.match(n)||[]}var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=asciiWords},function(e,t){function hasUnicodeWord(e){return n.test(e)}var n=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=hasUnicodeWord},function(e,t){function unicodeWords(e){return e.match(A)||[]}var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",a="\\u2700-\\u27bf",s="a-z\\xdf-\\xf6\\xf8-\\xff",c="\\u2000-\\u206f",u="A-Z\\xc0-\\xd6\\xd8-\\xde",l="\\ufe0e\\ufe0f",d="\\xac\\xb1\\xd7\\xf7"+"\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf"+"\\u2000-\\u206f"+" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="['’]",h="["+d+"]",f="\\d+",g="[\\u2700-\\u27bf]",m="["+s+"]",v="[^"+n+d+"\\d+"+a+s+u+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",b="["+u+"]",S="\\u200d",w="(?:"+m+"|"+v+")",C="(?:"+b+"|"+v+")",T="(?:['’](?:d|ll|m|re|s|t|ve))?",E="(?:['’](?:D|LL|M|RE|S|T|VE))?",k="(?:"+("["+"\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff"+"]")+"|"+"\\ud83c[\\udffb-\\udfff]"+")"+"?",x="[\\ufe0e\\ufe0f]?",I="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",R="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",O=x+k+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",y,_].join("|")+")"+x+k+")*"),P="(?:"+[g,y,_].join("|")+")"+O,A=RegExp([b+"?"+m+"+"+T+"(?="+[h,b,"$"].join("|")+")",C+"+"+E+"(?="+[h,b+w,"$"].join("|")+")",b+"?"+w+"+"+T,b+"+"+E,R,I,"\\d+",P].join("|"),"g");e.exports=unicodeWords},function(e,t,n){var r=n(729)(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()});e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(967),t.VideoSettingsText=function(e){var t=e.children;return r.createElement("div",{className:"video-settings-text"},t)}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);n(969),t.VideoSettingsSection=function(e){var t=e.children,n=e.center,o=e.column,a=e.middle,s=i("video-settings-section",{"video-settings-section_column":o,"video-settings-section_middle":a,"video-settings-section_center":n});return r.createElement("div",{className:s},t)}},function(e,t){},function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);n(971),t.VideoSettingsColumn=function(e){var t=e.children,n=e.size;return r.createElement("div",{className:i("video-settings-column",_defineProperty({},"video-settings-column_size-"+n,n))},t)}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(652),o=n(279),a=n(974);n(975),t.VideoSettingsSoundOutput=function(e){var t=e.isSetSinkIdSupported,n=e.deviceId,s=e.devices,c=e.error,u=e.onChange,l=s.length<=0,d=!l&&t;return r.createElement("div",{className:"video-settings-sound-output"},r.createElement(i.VideoSettingsLabel,null,"Sound Output"),d?r.createElement(o.Select,{disabled:l,options:s,value:n,error:c,onChange:u}):r.createElement("div",{className:"video-settings-sound-output__message"},l?a.AUDIO_OUTPUT_EMPTY:a.DOES_NOT_SUPPORT_CHOOSING_SOUND_OUTPUT))}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOES_NOT_SUPPORT_CHOOSING_SOUND_OUTPUT="Your browser does not support choosing sound output.",t.AUDIO_OUTPUT_EMPTY="Please connect an audio output device"},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(279),o=n(652),a=n(977);n(978),t.VideoSettingsMediaInput=function(e){var t=e.deviceId,n=e.devices,s=e.label,c=e.error,u=e.type,l=e.onChange;return r.createElement("div",{className:"video-settings-media-input"},r.createElement(o.VideoSettingsLabel,null,s),n.length>0?r.createElement(i.Select,{disabled:!n.length,options:n,value:t,error:c,onChange:l}):r.createElement("div",{className:"video-settings-media-input__message"},a.EMPTY[u]))}},function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r;Object.defineProperty(t,"__esModule",{value:!0});var i=n(196);t.EMPTY=(r={},_defineProperty(r,i.VIDEO_INPUT,"Please connect a camera"),_defineProperty(r,i.AUDIO_INPUT,"Please connect an audio input device"),r)},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(279),o=n(652),a=n(980);n(981),t.VideoSettingsVideoQuality=function(e){var t=e.videoQualityId,n=e.hidden,s=e.error,c=e.onChange;return n?null:r.createElement("div",{className:"video-settings-video-quality"},r.createElement(o.VideoSettingsLabel,null,"Video Quality"),r.createElement(i.Select,{options:a.VIDEO_QUALITY,value:t,onChange:c}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_QUALITY=[{label:"Low",value:"low"},{label:"Good",value:"good"},{label:"High",value:"high"}]},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);n(983),t.VideoSettingsCameraPreview=function(e){var t=e.mediaElementRef,n=e.disabled;return r.createElement("div",{className:i("video-settings-camera-preview",{"video-settings-camera-preview_disabled":n})},r.createElement("video",{className:"video-settings-camera-preview__media",autoPlay:!0,preload:"none",ref:t}))}},function(e,t){},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(1);n(985);var a=function(e){function VideoSettingsAudioMeter(e){_classCallCheck(this,VideoSettingsAudioMeter);var t=_possibleConstructorReturn(this,(VideoSettingsAudioMeter.__proto__||Object.getPrototypeOf(VideoSettingsAudioMeter)).call(this,e));return t.connectToStream=function(e){if(e){var n=t.audioContext.createMediaStreamSource(e),r=t.audioContext.createAnalyser(),i=t.audioContext.createScriptProcessor(1024,1,1);r.smoothingTimeConstant=.8,r.fftSize=512,n.connect(r),r.connect(i),i.addEventListener("audioprocess",t.onAudioProcess),i.connect(t.audioContext.destination),t.analyser=r,t.processor=i}},t.onAudioProcess=function(e){var n=new Uint8Array(t.analyser.frequencyBinCount);t.analyser.getByteFrequencyData(n);var r=n.reduce(function(e,t){return e+=t},0)/n.length;t.updateCanvas(r)},t.updateCanvas=function(e){var n=t.canvasElement,r=n.width,i=n.height;t.canvasContext.clearRect(0,0,r,i),t.canvasContext.fillStyle="#138b6b",t.canvasContext.fillRect(e-r,0,r,i)},t.setCanvas=function(e){e&&(t.canvasContext=e.getContext("2d"),t.canvasElement=e)},t.toggle=function(e){e.disabled&&t.processor?(t.updateCanvas(0),t.processor.removeEventListener("audioprocess",t.onAudioProcess)):t.connectToStream(e.stream)},t.audioContext=new AudioContext,t}return _inherits(VideoSettingsAudioMeter,e),r(VideoSettingsAudioMeter,[{key:"render",value:function render(){return i.createElement("div",{className:"video-settings-audio-meter"},i.createElement("i",{className:"fa fa-microphone video-settings-audio-meter__icon"}),i.createElement("canvas",{className:"video-settings-audio-meter__canvas",height:20,width:160,ref:this.setCanvas}))}},{key:"componentDidMount",value:function componentDidMount(){this.connectToStream(this.props.stream)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.audioContext&&this.audioContext.close()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){this.toggle(e)}}]),VideoSettingsAudioMeter}(o.Component);t.VideoSettingsAudioMeter=a},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(285);n(987),t.VideoSettingsModal=function(e){var t=e.children,n=e.isOpen,o=e.onAfterOpen,a=e.onClose;return r.createElement(i.default,{shouldFocusAfter:!0,overlayClassName:"video-settings-modal_overlay",contentLabel:"VideoSettingsModal",className:"video-settings-modal",isOpen:n,onRequestClose:a,onAfterOpen:o},t)}},function(e,t){},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1238),__export(n(1239))},function(e,t,n){var r=n(1242);e.exports=r},function(e,t,n){"use strict";function addIfNew(e,t){-1===e.indexOf(t)&&e.push(t)}function addNewValuesOnly(e,t){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)addIfNew(e,t[n]);else addIfNew(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=addNewValuesOnly,e.exports=t.default},function(e,t,n){"use strict";function isObject(e){return e instanceof Object&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=isObject,e.exports=t.default},function(e,t,n){"use strict";function prefixValue(e,t,n,r,i){for(var o=0,a=e.length;o<a;++o){var s=e[o](t,n,r,i);if(s)return s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=prefixValue,e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function hyphenateProperty(e){return(0,r.default)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=hyphenateProperty;var r=_interopRequireDefault(n(1258));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(1091);n(1279),t.SessionTabs=function(e){var t=e.challenge;return r.createElement(i.NavTabs,{className:"session-tabs"},t.map(function(e,t){return r.createElement(i.NavTabPanel,{key:t,title:e.title,markdown:"md"===e.type},e.content)}))}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1284),__export(n(827))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);n(1301),t.Text=function(e){var t=e.children,n=e.className,o=e.center,a=e.justify,s=void 0===a||a;return r.createElement("p",{className:i("text",n,{text_justify:s,text_center:o})},t)}},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(66);t.CodeMirror=o;var a=n(15),s=n(329),c=n(1310);n(1311),n(1331);var u={JavaScript:"javascript",Java:"text/x-java",Python:"python",Ruby:"text/x-ruby",PHP:"text/x-php",Go:"text/x-go","C#":"text/x-csharp",C:"text/x-csrc","C++":"text/x-c++src",Swift:"text/x-swift",Clojure:"text/x-clojure",Haskell:"text/x-haskell"},l=100,d=function(e){function SessionEditorCodemirror(){_classCallCheck(this,SessionEditorCodemirror);var e=_possibleConstructorReturn(this,(SessionEditorCodemirror.__proto__||Object.getPrototypeOf(SessionEditorCodemirror)).apply(this,arguments));return e.onChange=s(function(t){var n=t.doc;return e.change(n)},l),e.define=function(t){var n=t.language,r=t.value,i=void 0===r?"":r,a={gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],mode:u[n],autoCloseBrackets:!0,styleActiveLine:!0,matchBrackets:!0,lineWrapping:!0,lineNumbers:!0,foldGutter:!0,theme:"monokai",tabSize:2,extraKeys:e.extraKeys(),value:i};return e.codeMirror=o(e.editorRef,a),e.codeMirror.on("change",e.onChange),e.props.onChange(e.codeMirror.getValue()),e.codeMirror},e.destroy=function(){e.codeMirror&&e.codeMirror.off("change",e.onChange),e.codeMirror=null,e.editorRef.innerHTML=""},e.focusCursor=function(){e.codeMirror.focus(),e.codeMirror.setCursor(0)},e.extraKeys=function(){return{Tab:function Tab(e){return e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertSoftTab")},"Shift-Tab":function ShiftTab(e){return e.indentSelection("subtract")}}},e.updateValue=function(t){var n=t.value,r=t.initialCode;e.codeMirror&&c(n)&&(e.codeMirror.setValue(r),e.focusCursor())},e.change=function(t){e.props.onChange(t.getValue())},e}return _inherits(SessionEditorCodemirror,e),r(SessionEditorCodemirror,[{key:"render",value:function render(){var e=this,t=this.props,n=t.className,r=t.children;return i.createElement("div",{className:a("session-editor-codemirror",n)},i.createElement("div",{ref:function ref(t){return e.editorRef=t},className:"session-editor-codemirror__container"}),r)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.destroy()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){this.updateValue(e)}}]),SessionEditorCodemirror}(i.Component);t.SessionEditorCodemirror=d},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";function Context(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=i,this.prev=o}function pushContext(e,t,n,r){var i=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=n&&(i=e.context.indented),e.context=new Context(i,t,n,r,null,e.context)}function popContext(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function typeBefore(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function isTopScope(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function words(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function contains(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}function cppHook(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=cppHook;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function pointerHook(e,t){return"type"==t.prevToken&&"type"}function cpp14Literal(e){return e.eatWhile(/[\w\.']/),"number"}function cpp11StringHook(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=tokenRawString,tokenRawString(e,t))}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function cppLooksLikeConstructor(e){var t=/(\w+)::~?(\w+)$/.exec(e);return t&&t[1]==t[2]}function tokenAtString(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function tokenRawString(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return e.match(new RegExp(".*?\\)"+n+'"'))?t.tokenize=null:e.skipToEnd(),"string"}function def(t,n){function add(e){if(e)for(var t in e)e.hasOwnProperty(t)&&r.push(t)}"string"==typeof t&&(t=[t]);var r=[];add(n.keywords),add(n.types),add(n.builtin),add(n.atoms),r.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],r));for(var i=0;i<t.length;++i)e.defineMIME(t[i],n)}function tokenTripleString(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}function tokenKotlinString(e){return function(t,n){for(var r=!1,i,o=!1;!t.eol();){if(!e&&!r&&t.match('"')){o=!0;break}if(e&&t.match('"""')){o=!0;break}i=t.next(),!r&&"$"==i&&t.match("{")&&t.skipTo("}"),r=!r&&"\\"==i&&!e}return!o&&e||(n.tokenize=null),"string"}}function tokenCeylonString(e){return function(t,n){for(var i=!1,o,a=!1;!t.eol();){if(!i&&t.match('"')&&("single"==e||t.match('""'))){a=!0;break}if(!i&&t.match("``")){r=tokenCeylonString(e),a=!0;break}o=t.next(),i="single"==e&&!i&&"\\"==o}return a&&(n.tokenize=null),"string"}}e.defineMode("clike",function(t,n){function tokenBase(e,t){var n=e.next();if(p[n]){var r=p[n](e,t);if(!1!==r)return r}if('"'==n||"'"==n)return t.tokenize=tokenString(n),t.tokenize(e,t);if(v.test(n))return w=n,null;if(y.test(n)){if(e.backUp(1),e.match(_))return"number";e.next()}if("/"==n){if(e.eat("*"))return t.tokenize=tokenComment,tokenComment(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(b.test(n)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(b););return"operator"}if(e.eatWhile(S),m)for(;e.match(m);)e.eatWhile(S);var i=e.current();return contains(a,i)?(contains(u,i)&&(w="newstatement"),contains(l,i)&&(C=!0),"keyword"):contains(s,i)?"type":contains(c,i)?(contains(u,i)&&(w="newstatement"),"builtin"):contains(d,i)?"atom":"variable"}function tokenString(e){return function(t,n){for(var r=!1,i,o=!1;null!=(i=t.next());){if(i==e&&!r){o=!0;break}r=!r&&"\\"==i}return(o||!r&&!h)&&(n.tokenize=null),"string"}}function tokenComment(e,t){for(var n=!1,r;r=e.next();){if("/"==r&&n){t.tokenize=null;break}n="*"==r}return"comment"}function maybeEOL(e,t){n.typeFirstDefinitions&&e.eol()&&isTopScope(t.context)&&(t.typeAtEndOfLine=typeBefore(e,t,e.pos))}var r=t.indentUnit,i=n.statementIndentUnit||r,o=n.dontAlignCalls,a=n.keywords||{},s=n.types||{},c=n.builtin||{},u=n.blockKeywords||{},l=n.defKeywords||{},d=n.atoms||{},p=n.hooks||{},h=n.multiLineStrings,f=!1!==n.indentStatements,g=!1!==n.indentSwitch,m=n.namespaceSeparator,v=n.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,y=n.numberStart||/[\d\.]/,_=n.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,b=n.isOperatorChar||/[+\-*&%=<>!?|\/]/,S=n.isIdentifierChar||/[\w\$_\xa1-\uffff]/,w,C;return{startState:function(e){return{tokenize:null,context:new Context((e||0)-r,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var r=t.context;if(e.sol()&&(null==r.align&&(r.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return maybeEOL(e,t),null;w=C=null;var i=(t.tokenize||tokenBase)(e,t);if("comment"==i||"meta"==i)return i;if(null==r.align&&(r.align=!0),";"==w||":"==w||","==w&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)popContext(t);else if("{"==w)pushContext(t,e.column(),"}");else if("["==w)pushContext(t,e.column(),"]");else if("("==w)pushContext(t,e.column(),")");else if("}"==w){for(;"statement"==r.type;)r=popContext(t);for("}"==r.type&&(r=popContext(t));"statement"==r.type;)r=popContext(t)}else w==r.type?popContext(t):f&&(("}"==r.type||"top"==r.type)&&";"!=w||"statement"==r.type&&"newstatement"==w)&&pushContext(t,e.column(),"statement",e.current());if("variable"==i&&("def"==t.prevToken||n.typeFirstDefinitions&&typeBefore(e,t,e.start)&&isTopScope(t.context)&&e.match(/^\s*\(/,!1))&&(i="def"),p.token){var o=p.token(e,t,i);void 0!==o&&(i=o)}return"def"==i&&!1===n.styleDefs&&(i="variable"),t.startOfLine=!1,t.prevToken=C?"def":i||w,maybeEOL(e,t),i},indent:function(t,a){if(t.tokenize!=tokenBase&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var s=t.context,c=a&&a.charAt(0);if("statement"==s.type&&"}"==c&&(s=s.prev),n.dontIndentStatements)for(;"statement"==s.type&&n.dontIndentStatements.test(s.info);)s=s.prev;if(p.indent){var u=p.indent(t,s,a);if("number"==typeof u)return u}var l=c==s.type,d=s.prev&&"switch"==s.prev.info;if(n.allmanIndentation&&/[{(]/.test(c)){for(;"top"!=s.type&&"}"!=s.type;)s=s.prev;return s.indented}return"statement"==s.type?s.indented+("{"==c?0:i):!s.align||o&&")"==s.type?")"!=s.type||l?s.indented+(l?0:r)+(l||!d||/^(?:case|default)\b/.test(a)?0:r):s.indented+i:s.column+(l?0:1)},electricInput:g?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var t="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile",n="int long char short double float unsigned signed void size_t ptrdiff_t";def(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:words(t),types:words(n+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:words("case do else for if switch while struct"),defKeywords:words("struct"),typeFirstDefinitions:!0,atoms:words("null true false"),hooks:{"#":cppHook,"*":pointerHook},modeProps:{fold:["brace","include"]}}),def(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:words(t+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:words(n+" bool wchar_t"),blockKeywords:words("catch class do else finally for if struct switch try while"),defKeywords:words("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:words("true false null"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,hooks:{"#":cppHook,"*":pointerHook,u:cpp11StringHook,U:cpp11StringHook,L:cpp11StringHook,R:cpp11StringHook,0:cpp14Literal,1:cpp14Literal,2:cpp14Literal,3:cpp14Literal,4:cpp14Literal,5:cpp14Literal,6:cpp14Literal,7:cpp14Literal,8:cpp14Literal,9:cpp14Literal,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&cppLooksLikeConstructor(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),def("text/x-java",{name:"clike",keywords:words("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:words("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:words("catch class do else finally for if switch try while"),defKeywords:words("class interface package enum @interface"),typeFirstDefinitions:!0,atoms:words("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),def("text/x-csharp",{name:"clike",keywords:words("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:words("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:words("catch class do else finally for foreach if struct switch try while"),defKeywords:words("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:words("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=tokenAtString,tokenAtString(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),def("text/x-scala",{name:"clike",keywords:words("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:words("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:words("catch class enum do else finally for forSome if match switch try while"),defKeywords:words("class enum def object package trait type val var"),atoms:words("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=tokenTripleString,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,t){var n=t.context;return!("}"!=n.type||!n.align||!e.eat(">"))&&(t.context=new Context(n.indented,n.column,n.type,n.info,null,n.prev),"operator")}},modeProps:{closeBrackets:{triples:'"'}}}),def("text/x-kotlin",{name:"clike",keywords:words("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend"),types:words("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:words("catch class do else finally for if where try while enum"),defKeywords:words("class val var object package interface fun"),atoms:words("true false null this"),hooks:{'"':function(e,t){return t.tokenize=tokenKotlinString(e.match('""')),t.tokenize(e,t)}},modeProps:{closeBrackets:{triples:'"'}}}),def(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:words("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:words("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:words("for while do if else struct"),builtin:words("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:words("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}}),def("text/x-nesc",{name:"clike",keywords:words(t+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:words(n),blockKeywords:words("case do else for if switch while struct"),atoms:words("null true false"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}}),def("text/x-objectivec",{name:"clike",keywords:words(t+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:words(n),atoms:words("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(e){return e.eatWhile(/[\w\$]/),"keyword"},"#":cppHook,indent:function(e,t,n){if("statement"==t.type&&/^@\w/.test(n))return t.indented}},modeProps:{fold:"brace"}}),def("text/x-squirrel",{name:"clike",keywords:words("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:words(n),blockKeywords:words("case catch class else for foreach if switch try while"),defKeywords:words("function local class"),typeFirstDefinitions:!0,atoms:words("true false null"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}});var r=null;def("text/x-ceylon",{name:"clike",keywords:words("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:words("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:words("class dynamic function interface module object package value"),builtin:words("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:words("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=tokenCeylonString(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!r||!e.match("`"))&&(t.tokenize=r,r=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"type"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";function expressionAllowed(e,t,n){return/^(?:operator|sof|keyword c|case|new|export|default|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}e.defineMode("javascript",function(t,n){function readRegexp(e){for(var t=!1,n,r=!1;null!=(n=e.next());){if(!t){if("/"==n&&!r)return;"["==n?r=!0:r&&"]"==n&&(r=!1)}t=!t&&"\\"==n}}function ret(e,t,n){return p=e,h=n,t}function tokenBase(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=tokenString(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return ret("number","number");if("."==n&&e.match(".."))return ret("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return ret(n);if("="==n&&e.eat(">"))return ret("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),ret("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),ret("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),ret("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),ret("number","number");if("/"==n)return e.eat("*")?(t.tokenize=tokenComment,tokenComment(e,t)):e.eat("/")?(e.skipToEnd(),ret("comment","comment")):expressionAllowed(e,t,1)?(readRegexp(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),ret("regexp","string-2")):(e.eatWhile(l),ret("operator","operator",e.current()));if("`"==n)return t.tokenize=tokenQuasi,tokenQuasi(e,t);if("#"==n)return e.skipToEnd(),ret("error","error");if(l.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||e.eatWhile(l),ret("operator","operator",e.current());if(c.test(n)){e.eatWhile(c);var r=e.current();if("."!=t.lastType){if(u.propertyIsEnumerable(r)){var i=u[r];return ret(i.type,i.style,r)}if("async"==r&&e.match(/^\s*[\(\w]/,!1))return ret("async","keyword",r)}return ret("variable","variable",r)}}function tokenString(e){return function(t,n){var r=!1,i;if(o&&"@"==t.peek()&&t.match(d))return n.tokenize=tokenBase,ret("jsonld-keyword","meta");for(;null!=(i=t.next())&&(i!=e||r);)r=!r&&"\\"==i;return r||(n.tokenize=tokenBase),ret("string","string")}}function tokenComment(e,t){for(var n=!1,r;r=e.next();){if("/"==r&&n){t.tokenize=tokenBase;break}n="*"==r}return ret("comment","comment")}function tokenQuasi(e,t){for(var n=!1,r;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=tokenBase;break}n=!n&&"\\"==r}return ret("quasi","string-2",e.current())}function findFatArrow(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(s){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var u=e.string.charAt(a),l=f.indexOf(u);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==u&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(c.test(u))o=!0;else{if(/["'\/]/.test(u))return;if(o&&!i){++a;break}}}o&&!i&&(t.fatArrowAt=a)}}function JSLexical(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function inScope(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function parseJS(e,t,n,r,i){var o=e.cc;for(m.state=e,m.stream=i,m.marked=null,m.cc=o,m.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():a?expression:statement)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return m.marked?m.marked:"variable"==n&&inScope(e,r)?"variable-2":t}}function pass(){for(var e=arguments.length-1;e>=0;e--)m.cc.push(arguments[e])}function cont(){return pass.apply(null,arguments),!0}function register(e){function inList(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var t=m.state;if(m.marked="def",t.context){if(inList(t.localVars))return;t.localVars={name:e,next:t.localVars}}else{if(inList(t.globalVars))return;n.globalVars&&(t.globalVars={name:e,next:t.globalVars})}}function pushcontext(){m.state.context={prev:m.state.context,vars:m.state.localVars},m.state.localVars=v}function popcontext(){m.state.localVars=m.state.context.vars,m.state.context=m.state.context.prev}function pushlex(e,t){var n=function(){var n=m.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new JSLexical(r,m.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function poplex(){var e=m.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function expect(e){function exp(t){return t==e?cont():";"==e?pass():cont(exp)}return exp}function statement(e,t){return"var"==e?cont(pushlex("vardef",t.length),vardef,expect(";"),poplex):"keyword a"==e?cont(pushlex("form"),parenExpr,statement,poplex):"keyword b"==e?cont(pushlex("form"),statement,poplex):"{"==e?cont(pushlex("}"),block,poplex):";"==e?cont():"if"==e?("else"==m.state.lexical.info&&m.state.cc[m.state.cc.length-1]==poplex&&m.state.cc.pop()(),cont(pushlex("form"),parenExpr,statement,poplex,maybeelse)):"function"==e?cont(functiondef):"for"==e?cont(pushlex("form"),forspec,statement,poplex):"variable"==e?s&&"type"==t?(m.marked="keyword",cont(typeexpr,expect("operator"),typeexpr,expect(";"))):cont(pushlex("stat"),maybelabel):"switch"==e?cont(pushlex("form"),parenExpr,expect("{"),pushlex("}","switch"),block,poplex,poplex):"case"==e?cont(expression,expect(":")):"default"==e?cont(expect(":")):"catch"==e?cont(pushlex("form"),pushcontext,expect("("),funarg,expect(")"),statement,poplex,popcontext):"class"==e?cont(pushlex("form"),className,poplex):"export"==e?cont(pushlex("stat"),afterExport,poplex):"import"==e?cont(pushlex("stat"),afterImport,poplex):"module"==e?cont(pushlex("form"),pattern,expect("{"),pushlex("}"),block,poplex,poplex):"async"==e?cont(statement):"@"==t?cont(expression,statement):pass(pushlex("stat"),expression,expect(";"),poplex)}function expression(e){return expressionInner(e,!1)}function expressionNoComma(e){return expressionInner(e,!0)}function parenExpr(e){return"("!=e?pass():cont(pushlex(")"),expression,expect(")"),poplex)}function expressionInner(e,t){if(m.state.fatArrowAt==m.stream.start){var n=t?arrowBodyNoComma:arrowBody;if("("==e)return cont(pushcontext,pushlex(")"),commasep(pattern,")"),poplex,expect("=>"),n,popcontext);if("variable"==e)return pass(pushcontext,pattern,expect("=>"),n,popcontext)}var r=t?maybeoperatorNoComma:maybeoperatorComma;return g.hasOwnProperty(e)?cont(r):"function"==e?cont(functiondef,r):"class"==e?cont(pushlex("form"),classExpression,poplex):"keyword c"==e||"async"==e?cont(t?maybeexpressionNoComma:maybeexpression):"("==e?cont(pushlex(")"),maybeexpression,expect(")"),poplex,r):"operator"==e||"spread"==e?cont(t?expressionNoComma:expression):"["==e?cont(pushlex("]"),arrayLiteral,poplex,r):"{"==e?contCommasep(objprop,"}",null,r):"quasi"==e?pass(quasi,r):"new"==e?cont(maybeTarget(t)):cont()}function maybeexpression(e){return e.match(/[;\}\)\],]/)?pass():pass(expression)}function maybeexpressionNoComma(e){return e.match(/[;\}\)\],]/)?pass():pass(expressionNoComma)}function maybeoperatorComma(e,t){return","==e?cont(expression):maybeoperatorNoComma(e,t,!1)}function maybeoperatorNoComma(e,t,n){var r=0==n?maybeoperatorComma:maybeoperatorNoComma,i=0==n?expression:expressionNoComma;return"=>"==e?cont(pushcontext,n?arrowBodyNoComma:arrowBody,popcontext):"operator"==e?/\+\+|--/.test(t)?cont(r):"?"==t?cont(expression,expect(":"),i):cont(i):"quasi"==e?pass(quasi,r):";"!=e?"("==e?contCommasep(expressionNoComma,")","call",r):"."==e?cont(property,r):"["==e?cont(pushlex("]"),maybeexpression,expect("]"),poplex,r):s&&"as"==t?(m.marked="keyword",cont(typeexpr,r)):void 0:void 0}function quasi(e,t){return"quasi"!=e?pass():"${"!=t.slice(t.length-2)?cont(quasi):cont(expression,continueQuasi)}function continueQuasi(e){if("}"==e)return m.marked="string-2",m.state.tokenize=tokenQuasi,cont(quasi)}function arrowBody(e){return findFatArrow(m.stream,m.state),pass("{"==e?statement:expression)}function arrowBodyNoComma(e){return findFatArrow(m.stream,m.state),pass("{"==e?statement:expressionNoComma)}function maybeTarget(e){return function(t){return"."==t?cont(e?targetNoComma:target):pass(e?expressionNoComma:expression)}}function target(e,t){if("target"==t)return m.marked="keyword",cont(maybeoperatorComma)}function targetNoComma(e,t){if("target"==t)return m.marked="keyword",cont(maybeoperatorNoComma)}function maybelabel(e){return":"==e?cont(poplex,statement):pass(maybeoperatorComma,expect(";"),poplex)}function property(e){if("variable"==e)return m.marked="property",cont()}function objprop(e,t){return"async"==e?(m.marked="property",cont(objprop)):"variable"==e||"keyword"==m.style?(m.marked="property",cont("get"==t||"set"==t?getterSetter:afterprop)):"number"==e||"string"==e?(m.marked=o?"property":m.style+" property",cont(afterprop)):"jsonld-keyword"==e?cont(afterprop):"modifier"==e?cont(objprop):"["==e?cont(expression,expect("]"),afterprop):"spread"==e?cont(expression,afterprop):":"==e?pass(afterprop):void 0}function getterSetter(e){return"variable"!=e?pass(afterprop):(m.marked="property",cont(functiondef))}function afterprop(e){return":"==e?cont(expressionNoComma):"("==e?pass(functiondef):void 0}function commasep(e,t,n){function proceed(r,i){if(n?n.indexOf(r)>-1:","==r){var o=m.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),cont(function(n,r){return n==t||r==t?pass():pass(e)},proceed)}return r==t||i==t?cont():cont(expect(t))}return function(n,r){return n==t||r==t?cont():pass(e,proceed)}}function contCommasep(e,t,n){for(var r=3;r<arguments.length;r++)m.cc.push(arguments[r]);return cont(pushlex(t,n),commasep(e,t),poplex)}function block(e){return"}"==e?cont():pass(statement,block)}function maybetype(e,t){if(s){if(":"==e)return cont(typeexpr);if("?"==t)return cont(maybetype)}}function typeexpr(e){return"variable"==e?(m.marked="type",cont(afterType)):"string"==e||"number"==e||"atom"==e?cont(afterType):"{"==e?cont(pushlex("}"),commasep(typeprop,"}",",;"),poplex,afterType):"("==e?cont(commasep(typearg,")"),maybeReturnType):void 0}function maybeReturnType(e){if("=>"==e)return cont(typeexpr)}function typeprop(e,t){return"variable"==e||"keyword"==m.style?(m.marked="property",cont(typeprop)):"?"==t?cont(typeprop):":"==e?cont(typeexpr):"["==e?cont(expression,maybetype,expect("]"),typeprop):void 0}function typearg(e){return"variable"==e?cont(typearg):":"==e?cont(typeexpr):void 0}function afterType(e,t){return"<"==t?cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType):"|"==t||"."==e?cont(typeexpr):"["==e?cont(expect("]"),afterType):"extends"==t?cont(typeexpr):void 0}function vardef(){return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(e,t){return"modifier"==e?cont(pattern):"variable"==e?(register(t),cont()):"spread"==e?cont(pattern):"["==e?contCommasep(pattern,"]"):"{"==e?contCommasep(proppattern,"}"):void 0}function proppattern(e,t){return"variable"!=e||m.stream.match(/^\s*:/,!1)?("variable"==e&&(m.marked="property"),"spread"==e?cont(pattern):"}"==e?pass():cont(expect(":"),pattern,maybeAssign)):(register(t),cont(maybeAssign))}function maybeAssign(e,t){if("="==t)return cont(expressionNoComma)}function vardefCont(e){if(","==e)return cont(vardef)}function maybeelse(e,t){if("keyword b"==e&&"else"==t)return cont(pushlex("form","else"),statement,poplex)}function forspec(e){if("("==e)return cont(pushlex(")"),forspec1,expect(")"),poplex)}function forspec1(e){return"var"==e?cont(vardef,expect(";"),forspec2):";"==e?cont(forspec2):"variable"==e?cont(formaybeinof):pass(expression,expect(";"),forspec2)}function formaybeinof(e,t){return"in"==t||"of"==t?(m.marked="keyword",cont(expression)):cont(maybeoperatorComma,forspec2)}function forspec2(e,t){return";"==e?cont(forspec3):"in"==t||"of"==t?(m.marked="keyword",cont(expression)):pass(expression,expect(";"),forspec3)}function forspec3(e){")"!=e&&cont(expression)}function functiondef(e,t){return"*"==t?(m.marked="keyword",cont(functiondef)):"variable"==e?(register(t),cont(functiondef)):"("==e?cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,maybetype,statement,popcontext):s&&"<"==t?cont(pushlex(">"),commasep(typeexpr,">"),poplex,functiondef):void 0}function funarg(e){return"spread"==e?cont(funarg):pass(pattern,maybetype,maybeAssign)}function classExpression(e,t){return"variable"==e?className(e,t):classNameAfter(e,t)}function className(e,t){if("variable"==e)return register(t),cont(classNameAfter)}function classNameAfter(e,t){return"<"==t?cont(pushlex(">"),commasep(typeexpr,">"),poplex,classNameAfter):"extends"==t||"implements"==t||s&&","==e?cont(s?typeexpr:expression,classNameAfter):"{"==e?cont(pushlex("}"),classBody,poplex):void 0}function classBody(e,t){return"variable"==e||"keyword"==m.style?("async"==t||"static"==t||"get"==t||"set"==t||s&&("public"==t||"private"==t||"protected"==t||"readonly"==t||"abstract"==t))&&m.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(m.marked="keyword",cont(classBody)):(m.marked="property",cont(s?classfield:functiondef,classBody)):"["==e?cont(expression,expect("]"),s?classfield:functiondef,classBody):"*"==t?(m.marked="keyword",cont(classBody)):";"==e?cont(classBody):"}"==e?cont():"@"==t?cont(expression,classBody):void 0}function classfield(e,t){return"?"==t?cont(classfield):":"==e?cont(typeexpr,maybeAssign):"="==t?cont(expressionNoComma):pass(functiondef)}function afterExport(e,t){return"*"==t?(m.marked="keyword",cont(maybeFrom,expect(";"))):"default"==t?(m.marked="keyword",cont(expression,expect(";"))):"{"==e?cont(commasep(exportField,"}"),maybeFrom,expect(";")):pass(statement)}function exportField(e,t){return"as"==t?(m.marked="keyword",cont(expect("variable"))):"variable"==e?pass(expressionNoComma,exportField):void 0}function afterImport(e){return"string"==e?cont():pass(importSpec,maybeMoreImports,maybeFrom)}function importSpec(e,t){return"{"==e?contCommasep(importSpec,"}"):("variable"==e&&register(t),"*"==t&&(m.marked="keyword"),cont(maybeAs))}function maybeMoreImports(e){if(","==e)return cont(importSpec,maybeMoreImports)}function maybeAs(e,t){if("as"==t)return m.marked="keyword",cont(importSpec)}function maybeFrom(e,t){if("from"==t)return m.marked="keyword",cont(expression)}function arrayLiteral(e){return"]"==e?cont():pass(commasep(expressionNoComma,"]"))}function isContinuedStatement(e,t){return"operator"==e.lastType||","==e.lastType||l.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var r=t.indentUnit,i=n.statementIndent,o=n.jsonld,a=n.json||o,s=n.typescript,c=n.wordCharacters||/[\w$\xa1-\uffff]/,u=function(){function kw(e){return{type:e,style:"keyword"}}var e=kw("keyword a"),t=kw("keyword b"),n=kw("keyword c"),r=kw("operator"),i={type:"atom",style:"atom"},o={if:kw("if"),while:e,with:e,else:t,do:t,try:t,finally:t,return:n,break:n,continue:n,new:kw("new"),delete:n,throw:n,debugger:n,var:kw("var"),const:kw("var"),let:kw("var"),function:kw("function"),catch:kw("catch"),for:kw("for"),switch:kw("switch"),case:kw("case"),default:kw("default"),in:r,typeof:r,instanceof:r,true:i,false:i,null:i,undefined:i,NaN:i,Infinity:i,this:kw("this"),class:kw("class"),super:kw("atom"),yield:n,export:kw("export"),import:kw("import"),extends:n,await:n};if(s){var a={type:"variable",style:"type"},c={interface:kw("class"),implements:n,namespace:n,module:kw("module"),enum:kw("module"),public:kw("modifier"),private:kw("modifier"),protected:kw("modifier"),abstract:kw("modifier"),string:a,number:a,boolean:a,any:a};for(var u in c)o[u]=c[u]}return o}(),l=/[+\-*&%=<>!?|~^@]/,d=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,p,h,f="([{}])",g={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},m={state:null,column:null,marked:null,cc:null},v={name:"this",next:{name:"arguments"}};return poplex.lex=!0,{startState:function(e){var t={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((e||0)-r,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),findFatArrow(e,t)),t.tokenize!=tokenComment&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==p?n:(t.lastType="operator"!=p||"++"!=h&&"--"!=h?p:"incdec",parseJS(t,n,p,h,e))},indent:function(t,o){if(t.tokenize==tokenComment)return e.Pass;if(t.tokenize!=tokenBase)return 0;var a=o&&o.charAt(0),s=t.lexical,c;if(!/^\s*else\b/.test(o))for(var u=t.cc.length-1;u>=0;--u){var l=t.cc[u];if(l==poplex)s=s.prev;else if(l!=maybeelse)break}for(;("stat"==s.type||"form"==s.type)&&("}"==a||(c=t.cc[t.cc.length-1])&&(c==maybeoperatorComma||c==maybeoperatorNoComma)&&!/^[,\.=+\-*:?[\(]/.test(o));)s=s.prev;i&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var d=s.type,p=a==d;return"vardef"==d?s.indented+("operator"==t.lastType||","==t.lastType?s.info+1:0):"form"==d&&"{"==a?s.indented:"form"==d?s.indented+r:"stat"==d?s.indented+(isContinuedStatement(t,o)?i||r:0):"switch"!=s.info||p||0==n.doubleIndentSwitch?s.align?s.column+(p?0:1):s.indented+(p?0:r):s.indented+(/^(?:case|default)\b/.test(o)?r:2*r)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",lineComment:a?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:a?"json":"javascript",jsonldMode:o,jsonMode:a,expressionAllowed:expressionAllowed,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=expression&&t!=expressionNoComma||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";function doFold(t,n,r,i){function getRange(e){var r=o(t,n);if(!r||r.to.line-r.from.line<a)return null;for(var s=t.findMarksAt(r.from),c=0;c<s.length;++c)if(s[c].__isFold&&"fold"!==i){if(!e)return null;r.cleared=!0,s[c].clear()}return r}if(r&&r.call){var o=r;r=null}else var o=getOption(t,r,"rangeFinder");"number"==typeof n&&(n=e.Pos(n,0));var a=getOption(t,r,"minFoldSize"),s=getRange(!0);if(getOption(t,r,"scanUp"))for(;!s&&n.line>t.firstLine();)n=e.Pos(n.line-1,0),s=getRange(!1);if(s&&!s.cleared&&"unfold"!==i){var c=makeWidget(t,r);e.on(c,"mousedown",function(t){u.clear(),e.e_preventDefault(t)});var u=t.markText(s.from,s.to,{replacedWith:c,clearOnEnter:getOption(t,r,"clearOnEnter"),__isFold:!0});u.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,s.from,s.to)}}function makeWidget(e,t){var n=getOption(e,t,"widget");if("string"==typeof n){var r=document.createTextNode(n);(n=document.createElement("span")).appendChild(r),n.className="CodeMirror-foldmarker"}else n&&(n=n.cloneNode(!0));return n}function getOption(e,n,r){if(n&&void 0!==n[r])return n[r];var i=e.options.foldOptions;return i&&void 0!==i[r]?i[r]:t[r]}e.newFoldFunction=function(e,t){return function(n,r){doFold(n,r,{rangeFinder:e,widget:t})}},e.defineExtension("foldCode",function(e,t,n){doFold(this,e,t,n)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}});var t={rangeFinder:e.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return getOption(this,e,t)})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(655);n(1335);var i,o;n(1336),n(1337);var a;n(1338),t.default=r,e.exports=t.default},function(e,t,n){"use strict";function createSubscribe(e,t){var n=new o(e,t);return n.subscribe.bind(n)}function async(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];i.PromiseImpl.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function implementsAnyMethods(e,t){if("object"!==(void 0===e?"undefined":r(e))||null===e)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&"function"==typeof e[o])return!0}return!1}function noop(){}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.createSubscribe=createSubscribe,t.async=async;var i=n(299),o=function(){function ObserverProxy(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=i.PromiseImpl.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return ObserverProxy.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},ObserverProxy.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},ObserverProxy.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},ObserverProxy.prototype.subscribe=function(e,t,n){var r=this,i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=implementsAnyMethods(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=noop),void 0===i.error&&(i.error=noop),void 0===i.complete&&(i.complete=noop);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(e){}}),this.observers.push(i),o},ObserverProxy.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ObserverProxy.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},ObserverProxy.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error}})},ObserverProxy.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},ObserverProxy}()},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n;if(void 0!==e)n=e;else if("undefined"!=typeof self)n=self;else try{n=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=t.globalScope=n}).call(t,n(37))},function(e,t,n){"use strict";function deepCopy(e){return deepExtend(void 0,e)}function deepExtend(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=deepExtend(e[r],t[r]));return e}function patchProperty(e,t,n){e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=deepCopy,t.deepExtend=deepExtend,t.patchProperty=patchProperty},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseInternals=t.Database=void 0;var r=n(36),i=n(1006),o=n(77),a=n(299),s=n(831),c=n(782),u=n(836),l=n(300),d=n(301),p=function(){function Database(e){this.repo_=e,e instanceof c.Repo||(0,r.fatal)("Don't call new Database() directly - please use firebase.database()."),this.root_=new s.Reference(e,o.Path.Empty),this.INTERNAL=new h(this)}return Object.defineProperty(Database.prototype,"app",{get:function get(){return this.repo_.app},enumerable:!0,configurable:!0}),Database.prototype.ref=function(e){return this.checkDeleted_("ref"),(0,l.validateArgCount)("database.ref",0,1,arguments.length),void 0!==e?this.root_.child(e):this.root_},Database.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),(0,l.validateArgCount)(t,1,1,arguments.length);var n=(0,i.parseRepoInfo)(e);(0,d.validateUrl)(t,1,n);var o=n.repoInfo;return o.host!==this.repo_.repoInfo_.host&&(0,r.fatal)(t+": Host name does not match the current database: (found "+o.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},Database.prototype.checkDeleted_=function(e){null===this.repo_&&(0,r.fatal)("Cannot call "+e+" on a deleted database.")},Database.prototype.goOffline=function(){(0,l.validateArgCount)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},Database.prototype.goOnline=function(){(0,l.validateArgCount)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},Database.ServerValue={TIMESTAMP:{".sv":"timestamp"}},Database}();t.Database=p;var h=function(){function DatabaseInternals(e){this.database=e}return DatabaseInternals.prototype.delete=function(){return this.database.checkDeleted_("delete"),u.RepoManager.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,a.PromiseImpl.resolve()},DatabaseInternals}();t.DatabaseInternals=h},function(e,t,n){"use strict";function decodePath(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.parseURL=t.parseRepoInfo=void 0;var r=n(77),i=n(1007),o=n(36),a=t.parseRepoInfo=function parseRepoInfo(e){var t=s(e),n=t.subdomain;"firebase"===t.domain&&(0,o.fatal)(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||(0,o.fatal)("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||(0,o.warnIfPageIsSecure)();var a="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new i.RepoInfo(t.host,t.secure,n,a),path:new r.Path(t.pathString)}},s=t.parseURL=function parseURL(e){var t="",n="",r="",i="",o=!0,a="https",s=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));var u=e.indexOf("/");-1===u&&(u=e.length),t=e.substring(0,u),i=decodePath(e.substring(u));var l=t.split(".");3===l.length?(n=l[1],r=l[0].toLowerCase()):2===l.length&&(n=l[0]),(c=t.indexOf(":"))>=0&&(o="https"===a||"wss"===a,s=parseInt(t.substring(c+1),10))}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:a,pathString:i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RepoInfo=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(31),o=n(54),a=n(778),s=n(779),c=function(){function RepoInfo(e,t,n,r,i){void 0===i&&(i=""),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=a.PersistentStorage.get("host:"+e)||this.host}return RepoInfo.prototype.needsQueryParam=function(){return this.host!==this.internalHost},RepoInfo.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},RepoInfo.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},RepoInfo.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},RepoInfo.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&a.PersistentStorage.set("host:"+this.host,this.internalHost))},RepoInfo.prototype.connectionURL=function(e,t){(0,i.assert)("string"==typeof e,"typeof type must == string"),(0,i.assert)("object"===(void 0===t?"undefined":r(t)),"typeof params must == object");var n;if(e===s.WEBSOCKET)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==s.LONG_POLLING)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var a=[];return(0,o.forEach)(t,function(e,t){a.push(e+"="+t)}),n+a.join("&")},RepoInfo.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},RepoInfo.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},RepoInfo}();t.RepoInfo=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(31),o=n(656),a=n(124),s=n(1010),c=n(1014),u=n(36),l=n(77),d=n(301),p=n(300),h=n(1355),f=n(299),g,m=function(){function Query(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(Query,"__referenceConstructor",{get:function get(){return(0,i.assert)(g,"Reference.ts has not been loaded"),g},set:function set(e){g=e},enumerable:!0,configurable:!0}),Query.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===o.KEY_INDEX){var l="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",p="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=u.MIN_NAME)throw new Error(l);if("string"!=typeof t)throw new Error(p)}if(e.hasEnd()){if(e.getIndexEndName()!=u.MAX_NAME)throw new Error(l);if("string"!=typeof n)throw new Error(p)}}else if(e.getIndex()===a.PRIORITY_INDEX){if(null!=t&&!(0,d.isValidPriority)(t)||null!=n&&!(0,d.isValidPriority)(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,i.assert)(e.getIndex()instanceof c.PathIndex||e.getIndex()===s.VALUE_INDEX,"unknown index type."),null!=t&&"object"===(void 0===t?"undefined":r(t))||null!=n&&"object"===(void 0===n?"undefined":r(n)))throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},Query.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},Query.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},Query.prototype.getQueryParams=function(){return this.queryParams_},Query.prototype.getRef=function(){return(0,p.validateArgCount)("Query.ref",0,0,arguments.length),new Query.__referenceConstructor(this.repo,this.path)},Query.prototype.on=function(e,t,n,r){(0,p.validateArgCount)("Query.on",2,4,arguments.length),(0,d.validateEventType)("Query.on",1,e,!1),(0,p.validateCallback)("Query.on",2,t,!1);var i=Query.getCancelAndContextArgs_("Query.on",n,r);if("value"===e)this.onValueEvent(t,i.cancel,i.context);else{var o={};o[e]=t,this.onChildEvent(o,i.cancel,i.context)}return t},Query.prototype.onValueEvent=function(e,t,n){var r=new h.ValueEventRegistration(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},Query.prototype.onChildEvent=function(e,t,n){var r=new h.ChildEventRegistration(e,t,n);this.repo.addEventCallbackForQuery(this,r)},Query.prototype.off=function(e,t,n){(0,p.validateArgCount)("Query.off",0,3,arguments.length),(0,d.validateEventType)("Query.off",1,e,!0),(0,p.validateCallback)("Query.off",2,t,!0),(0,p.validateContextObject)("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var o=t||null;r=new h.ValueEventRegistration(o,null,n||null)}else e&&(t&&((i={})[e]=t),r=new h.ChildEventRegistration(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},Query.prototype.once=function(e,t,n,r){var i=this;(0,p.validateArgCount)("Query.once",1,4,arguments.length),(0,d.validateEventType)("Query.once",1,e,!1),(0,p.validateCallback)("Query.once",2,t,!0);var o=Query.getCancelAndContextArgs_("Query.once",n,r),a=!0,s=new f.Deferred;(0,f.attachDummyErrorHandler)(s.promise);var c=function onceCallback(n){a&&(a=!1,i.off(e,onceCallback),t&&t.bind(o.context)(n),s.resolve(n))};return this.on(e,c,function(t){i.off(e,c),o.cancel&&o.cancel.bind(o.context)(t),s.reject(t)}),s.promise},Query.prototype.limitToFirst=function(e){if((0,p.validateArgCount)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Query(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},Query.prototype.limitToLast=function(e){if((0,p.validateArgCount)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Query(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},Query.prototype.orderByChild=function(e){if((0,p.validateArgCount)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');(0,d.validatePathString)("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var t=new l.Path(e);if(t.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var n=new c.PathIndex(t),r=this.queryParams_.orderBy(n);return Query.validateQueryEndpoints_(r),new Query(this.repo,this.path,r,!0)},Query.prototype.orderByKey=function(){(0,p.validateArgCount)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(o.KEY_INDEX);return Query.validateQueryEndpoints_(e),new Query(this.repo,this.path,e,!0)},Query.prototype.orderByPriority=function(){(0,p.validateArgCount)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(a.PRIORITY_INDEX);return Query.validateQueryEndpoints_(e),new Query(this.repo,this.path,e,!0)},Query.prototype.orderByValue=function(){(0,p.validateArgCount)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(s.VALUE_INDEX);return Query.validateQueryEndpoints_(e),new Query(this.repo,this.path,e,!0)},Query.prototype.startAt=function(e,t){void 0===e&&(e=null),(0,p.validateArgCount)("Query.startAt",0,2,arguments.length),(0,d.validateFirebaseDataArg)("Query.startAt",1,e,this.path,!0),(0,d.validateKey)("Query.startAt",2,t,!0);var n=this.queryParams_.startAt(e,t);if(Query.validateLimit_(n),Query.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,t=null),new Query(this.repo,this.path,n,this.orderByCalled_)},Query.prototype.endAt=function(e,t){void 0===e&&(e=null),(0,p.validateArgCount)("Query.endAt",0,2,arguments.length),(0,d.validateFirebaseDataArg)("Query.endAt",1,e,this.path,!0),(0,d.validateKey)("Query.endAt",2,t,!0);var n=this.queryParams_.endAt(e,t);if(Query.validateLimit_(n),Query.validateQueryEndpoints_(n),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Query(this.repo,this.path,n,this.orderByCalled_)},Query.prototype.equalTo=function(e,t){if((0,p.validateArgCount)("Query.equalTo",1,2,arguments.length),(0,d.validateFirebaseDataArg)("Query.equalTo",1,e,this.path,!1),(0,d.validateKey)("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},Query.prototype.toString=function(){return(0,p.validateArgCount)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},Query.prototype.toJSON=function(){return(0,p.validateArgCount)("Query.toJSON",0,1,arguments.length),this.toString()},Query.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},Query.prototype.queryIdentifier=function(){var e=this.queryObject(),t=(0,u.ObjectToUniqueKey)(e);return"{}"===t?"default":t},Query.prototype.isEqual=function(e){if((0,p.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof Query)){var t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},Query.getCancelAndContextArgs_=function(e,t,n){var i={cancel:null,context:null};if(t&&n)i.cancel=t,(0,p.validateCallback)(e,3,i.cancel,!0),i.context=n,(0,p.validateContextObject)(e,4,i.context,!0);else if(t)if("object"===(void 0===t?"undefined":r(t))&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,p.errorPrefix)(e,3,!0)+" must either be a cancel callback or a context object.");i.cancel=t}return i},Object.defineProperty(Query.prototype,"ref",{get:function get(){return this.getRef()},enumerable:!0,configurable:!0}),Query}();t.Query=m},function(e,t,n){"use strict";function setMaxNode(e){s=e}Object.defineProperty(t,"__esModule",{value:!0}),t.validatePriorityNode=t.priorityHashText=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.setMaxNode=setMaxNode;var i=n(31),o=n(36),a=n(54),s,c=t.priorityHashText=function priorityHashText(e){return"number"==typeof e?"number:"+(0,o.doubleToIEEE754String)(e):"string:"+e},u=t.validatePriorityNode=function validatePriorityNode(e){if(e.isLeafNode()){var t=e.val();(0,i.assert)("string"==typeof t||"number"==typeof t||"object"===(void 0===t?"undefined":r(t))&&(0,a.contains)(t,".sv"),"Priority must be a string or number.")}else(0,i.assert)(e===s||e.isEmpty(),"priority of unexpected type.");(0,i.assert)(e===s||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VALUE_INDEX=t.ValueIndex=void 0;var r=n(780),i=n(154),o=n(36),a=n(657),s=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),c=function(e){function ValueIndex(){return null!==e&&e.apply(this,arguments)||this}return s(ValueIndex,e),ValueIndex.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?(0,o.nameCompare)(e.name,t.name):n},ValueIndex.prototype.isDefinedOn=function(e){return!0},ValueIndex.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},ValueIndex.prototype.minPost=function(){return i.NamedNode.MIN},ValueIndex.prototype.maxPost=function(){return i.NamedNode.MAX},ValueIndex.prototype.makePost=function(e,t){var n=(0,a.nodeFromJSON)(e);return new i.NamedNode(t,n)},ValueIndex.prototype.toString=function(){return".value"},ValueIndex}(r.Index);t.ValueIndex=c;var u=t.VALUE_INDEX=new c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexMap=void 0;var r=n(31),i=n(1012),o=n(54),a=n(154),s=n(124),c=n(656),u,l={},d=function(){function IndexMap(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(IndexMap,"Default",{get:function get(){return(0,r.assert)(l&&s.PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),u=u||new IndexMap({".priority":l},{".priority":s.PRIORITY_INDEX})},enumerable:!0,configurable:!0}),IndexMap.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===l?null:t},IndexMap.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},IndexMap.prototype.addIndex=function(e,t){(0,r.assert)(e!==c.KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n=[],s=!1,u=t.getIterator(a.NamedNode.Wrap),d=u.getNext();d;)s=s||e.isDefinedOn(d.node),n.push(d),d=u.getNext();var p;p=s?(0,i.buildChildSet)(n,e.getCompare()):l;var h=e.toString(),f=(0,o.clone)(this.indexSet_);f[h]=e;var g=(0,o.clone)(this.indexes_);return g[h]=p,new IndexMap(g,f)},IndexMap.prototype.addToIndexes=function(e,t){var n=this;return new IndexMap((0,o.map)(this.indexes_,function(s,c){var u=(0,o.safeGet)(n.indexSet_,c);if((0,r.assert)(u,"Missing index implementation for "+c),s===l){if(u.isDefinedOn(e.node)){for(var d=[],p=t.getIterator(a.NamedNode.Wrap),h=p.getNext();h;)h.name!=e.name&&d.push(h),h=p.getNext();return d.push(e),(0,i.buildChildSet)(d,u.getCompare())}return l}var f=t.get(e.name),g=s;return f&&(g=g.remove(new a.NamedNode(e.name,f))),g.insert(e,e.node)}),this.indexSet_)},IndexMap.prototype.removeFromIndexes=function(e,t){return new IndexMap((0,o.map)(this.indexes_,function(n){if(n===l)return n;var r=t.get(e.name);return r?n.remove(new a.NamedNode(e.name,r)):n}),this.indexSet_)},IndexMap}();t.IndexMap=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildChildSet=void 0;var r=n(832),i=Math.log(2),o=function(){function Base12Num(e){var t=function logBase2(e){return parseInt(Math.log(e)/i,10)},n=function bitMask(e){return parseInt(Array(e+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var r=n(this.count);this.bits_=e+1&r}return Base12Num.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},Base12Num}(),a=t.buildChildSet=function buildChildSet(e,t,n,i){e.sort(t);var a=function buildBalancedTree(t,i){var o=i-t,a,s;if(0==o)return null;if(1==o)return a=e[t],s=n?n(a):a,new r.LLRBNode(s,a.node,r.LLRBNode.BLACK,null,null);var c=parseInt(o/2,10)+t,u=buildBalancedTree(t,c),l=buildBalancedTree(c+1,i);return a=e[c],s=n?n(a):a,new r.LLRBNode(s,a.node,r.LLRBNode.BLACK,u,l)},s=function buildFrom12Array(t){for(var i=null,o=null,s=e.length,c=function buildPennant(t,i){var o=s-t,c=s;s-=t;var l=a(o+1,c),d=e[o],p=n?n(d):d;u(new r.LLRBNode(p,d.node,i,null,l))},u=function attachPennant(e){i?(i.left=e,i=e):(o=e,i=e)},l=0;l<t.count;++l){var d=t.nextBitIsOne(),p=Math.pow(2,t.count-(l+1));d?c(p,r.LLRBNode.BLACK):(c(p,r.LLRBNode.BLACK),c(p,r.LLRBNode.RED))}return o}(new o(e.length));return new r.SortedMap(i||t,s)}},function(e,t,n){"use strict";function NAME_ONLY_COMPARATOR(e,t){return(0,r.nameCompare)(e.name,t.name)}function NAME_COMPARATOR(e,t){return(0,r.nameCompare)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NAME_ONLY_COMPARATOR=NAME_ONLY_COMPARATOR,t.NAME_COMPARATOR=NAME_COMPARATOR;var r=n(36)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathIndex=void 0;var r=n(31),i=n(36),o=n(780),a=n(132),s=n(154),c=n(657),u=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=function(e){function PathIndex(t){var n=e.call(this)||this;return n.indexPath_=t,(0,r.assert)(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return u(PathIndex,e),PathIndex.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},PathIndex.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},PathIndex.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?(0,i.nameCompare)(e.name,t.name):o},PathIndex.prototype.makePost=function(e,t){var n=(0,c.nodeFromJSON)(e),r=a.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,n);return new s.NamedNode(t,r)},PathIndex.prototype.maxPost=function(){var e=a.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,a.MAX_NODE);return new s.NamedNode(i.MAX_NAME,e)},PathIndex.prototype.toString=function(){return this.indexPath_.slice().join("/")},PathIndex}(o.Index);t.PathIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataSnapshot=void 0;var r=n(300),i=n(301),o=n(77),a=n(124),s=function(){function DataSnapshot(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return DataSnapshot.prototype.val=function(){return(0,r.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},DataSnapshot.prototype.exportVal=function(){return(0,r.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},DataSnapshot.prototype.toJSON=function(){return(0,r.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},DataSnapshot.prototype.exists=function(){return(0,r.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},DataSnapshot.prototype.child=function(e){(0,r.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),(0,i.validatePathString)("DataSnapshot.child",1,e,!1);var t=new o.Path(e),n=this.ref_.child(t);return new DataSnapshot(this.node_.getChild(t),n,a.PRIORITY_INDEX)},DataSnapshot.prototype.hasChild=function(e){(0,r.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),(0,i.validatePathString)("DataSnapshot.hasChild",1,e,!1);var t=new o.Path(e);return!this.node_.getChild(t).isEmpty()},DataSnapshot.prototype.getPriority=function(){return(0,r.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},DataSnapshot.prototype.forEach=function(e){var t=this;return(0,r.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,r.validateCallback)("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(n,r){return e(new DataSnapshot(r,t.ref_.child(n),a.PRIORITY_INDEX))})},DataSnapshot.prototype.hasChildren=function(){return(0,r.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(DataSnapshot.prototype,"key",{get:function get(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),DataSnapshot.prototype.numChildren=function(){return(0,r.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},DataSnapshot.prototype.getRef=function(){return(0,r.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(DataSnapshot.prototype,"ref",{get:function get(){return this.getRef()},enumerable:!0,configurable:!0}),DataSnapshot}();t.DataSnapshot=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveDeferredValueSnapshot=t.resolveDeferredValueTree=t.resolveDeferredValue=t.generateWithValues=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(31),o=n(77),a=n(1017),s=n(781),c=n(657),u=n(124),l=t.generateWithValues=function generateWithValues(e){return e=e||{},e.timestamp=e.timestamp||(new Date).getTime(),e},d=t.resolveDeferredValue=function resolveDeferredValue(e,t){return e&&"object"===(void 0===e?"undefined":r(e))?((0,i.assert)(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},p=t.resolveDeferredValueTree=function resolveDeferredValueTree(e,t){var n=new a.SparseSnapshotTree;return e.forEachTree(new o.Path(""),function(e,r){n.remember(e,h(r,t))}),n},h=t.resolveDeferredValueSnapshot=function resolveDeferredValueSnapshot(e,t){var n=e.getPriority().val(),r=d(n,t),i;if(e.isLeafNode()){var o=e,a=d(o.getValue(),t);return a!==o.getValue()||r!==o.getPriority().val()?new s.LeafNode(a,(0,c.nodeFromJSON)(r)):e}var l=e;return i=l,r!==l.getPriority().val()&&(i=i.updatePriority(new s.LeafNode(r))),l.forEachChild(u.PRIORITY_INDEX,function(e,n){var r=resolveDeferredValueSnapshot(n,t);r!==n&&(i=i.updateImmediateChild(e,r))}),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SparseSnapshotTree=void 0;var r=n(77),i=n(124),o=n(1018),a=function(){function SparseSnapshotTree(){this.value_=null,this.children_=null}return SparseSnapshotTree.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(e.isEmpty()||null==this.children_)return null;var t=e.getFront();return e=e.popFront(),this.children_.contains(t)?this.children_.get(t).find(e):null},SparseSnapshotTree.prototype.remember=function(e,t){if(e.isEmpty())this.value_=t,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,t);else{null==this.children_&&(this.children_=new o.CountedSet);var n=e.getFront();this.children_.contains(n)||this.children_.add(n,new SparseSnapshotTree);var r=this.children_.get(n);e=e.popFront(),r.remember(e,t)}},SparseSnapshotTree.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(i.PRIORITY_INDEX,function(e,t){n.remember(new r.Path(e),t)}),this.forget(e)}if(null!==this.children_){var o=e.getFront();return e=e.popFront(),this.children_.contains(o)&&this.children_.get(o).forget(e)&&this.children_.remove(o),!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},SparseSnapshotTree.prototype.forEachTree=function(e,t){null!==this.value_?t(e,this.value_):this.forEachChild(function(n,i){var o=new r.Path(e.toString()+"/"+n);i.forEachTree(o,t)})},SparseSnapshotTree.prototype.forEachChild=function(e){null!==this.children_&&this.children_.each(function(t,n){e(t,n)})},SparseSnapshotTree}();t.SparseSnapshotTree=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CountedSet=void 0;var r=n(54),i=function(){function CountedSet(){this.set={}}return CountedSet.prototype.add=function(e,t){this.set[e]=null===t||t},CountedSet.prototype.contains=function(e){return(0,r.contains)(this.set,e)},CountedSet.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},CountedSet.prototype.remove=function(e){delete this.set[e]},CountedSet.prototype.clear=function(){this.set={}},CountedSet.prototype.isEmpty=function(){return(0,r.isEmpty)(this.set)},CountedSet.prototype.count=function(){return(0,r.getCount)(this.set)},CountedSet.prototype.each=function(e){(0,r.forEach)(this.set,function(t,n){return e(t,n)})},CountedSet.prototype.keys=function(){var e=[];return(0,r.forEach)(this.set,function(t){e.push(t)}),e},CountedSet}();t.CountedSet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Overwrite=void 0;var r=n(302),i=n(77),o=function(){function Overwrite(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=r.OperationType.OVERWRITE}return Overwrite.prototype.operationForChild=function(e){return this.path.isEmpty()?new Overwrite(this.source,i.Path.Empty,this.snap.getImmediateChild(e)):new Overwrite(this.source,this.path.popFront(),this.snap)},Overwrite}();t.Overwrite=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncPoint=void 0;var r=n(783),i=n(132),o=n(31),a=n(54),s=n(1021),c=n(1361),u,l=function(){function SyncPoint(){this.views_={}}return Object.defineProperty(SyncPoint,"__referenceConstructor",{get:function get(){return(0,o.assert)(u,"Reference.ts has not been loaded"),u},set:function set(e){(0,o.assert)(!u,"__referenceConstructor has already been defined"),u=e},enumerable:!0,configurable:!0}),SyncPoint.prototype.isEmpty=function(){return(0,a.isEmpty)(this.views_)},SyncPoint.prototype.applyOperation=function(e,t,n){var r=e.source.queryId;if(null!==r){var i=(0,a.safeGet)(this.views_,r);return(0,o.assert)(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(e,t,n)}var s=[];return(0,a.forEach)(this.views_,function(r,i){s=s.concat(i.applyOperation(e,t,n))}),s},SyncPoint.prototype.addEventRegistration=function(e,t,n,o,u){var l=e.queryIdentifier(),d=(0,a.safeGet)(this.views_,l);if(!d){var p=n.calcCompleteEventCache(u?o:null),h=!1;p?h=!0:o instanceof i.ChildrenNode?(p=n.calcCompleteEventChildren(o),h=!1):(p=i.ChildrenNode.EMPTY_NODE,h=!1);var f=new s.ViewCache(new r.CacheNode(p,h,!1),new r.CacheNode(o,u,!1));d=new c.View(e,f),this.views_[l]=d}return d.addEventRegistration(t),d.getInitialEvents(t)},SyncPoint.prototype.removeEventRegistration=function(e,t,n){var r=e.queryIdentifier(),i=[],o=[],s=this.hasCompleteView();if("default"===r){var c=this;(0,a.forEach)(this.views_,function(e,r){o=o.concat(r.removeEventRegistration(t,n)),r.isEmpty()&&(delete c.views_[e],r.getQuery().getQueryParams().loadsAllData()||i.push(r.getQuery()))})}else{var u=(0,a.safeGet)(this.views_,r);u&&(o=o.concat(u.removeEventRegistration(t,n)),u.isEmpty()&&(delete this.views_[r],u.getQuery().getQueryParams().loadsAllData()||i.push(u.getQuery())))}return s&&!this.hasCompleteView()&&i.push(new SyncPoint.__referenceConstructor(e.repo,e.path)),{removed:i,events:o}},SyncPoint.prototype.getQueryViews=function(){var e=this;return Object.keys(this.views_).map(function(t){return e.views_[t]}).filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})},SyncPoint.prototype.getCompleteServerCache=function(e){var t=null;return(0,a.forEach)(this.views_,function(n,r){t=t||r.getCompleteServerCache(e)}),t},SyncPoint.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return(0,a.safeGet)(this.views_,t)},SyncPoint.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},SyncPoint.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},SyncPoint.prototype.getCompleteView=function(){return(0,a.findValue)(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()})||null},SyncPoint}();t.SyncPoint=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewCache=void 0;var r=n(132),i=n(783),o=function(){function ViewCache(e,t){this.eventCache_=e,this.serverCache_=t}return ViewCache.prototype.updateEventSnap=function(e,t,n){return new ViewCache(new i.CacheNode(e,t,n),this.serverCache_)},ViewCache.prototype.updateServerSnap=function(e,t,n){return new ViewCache(this.eventCache_,new i.CacheNode(e,t,n))},ViewCache.prototype.getEventCache=function(){return this.eventCache_},ViewCache.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},ViewCache.prototype.getServerCache=function(){return this.serverCache_},ViewCache.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},ViewCache.Empty=new ViewCache(new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1),new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1)),ViewCache}();t.ViewCache=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsListener=void 0;var r=n(54),i=function(){function StatsListener(e){this.collection_=e,this.last_=null}return StatsListener.prototype.get=function(){var e=this.collection_.get(),t=(0,r.clone)(e);return this.last_&&(0,r.forEach)(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},StatsListener}();t.StatsListener=i},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PersistentConnection=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=_interopRequireDefault(n(298)),o=n(54),a=n(193),s=n(31),c=n(36),u=n(77),l=n(1373),d=n(1374),p=n(1375),h=n(1025),f=n(777),g=n(337),m=n(1028),v=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),y=1e3,_=3e5,b=3e4,S=1.3,w=3e4,C="server_kill",T=3,E=function(e){function PersistentConnection(t,n,r,i,o,a){var s=e.call(this)||this;if(s.repoInfo_=t,s.onDataUpdate_=n,s.onConnectStatus_=r,s.onServerInfoUpdate_=i,s.authTokenProvider_=o,s.authOverride_=a,s.id=PersistentConnection.nextPersistentConnectionId_++,s.log_=(0,c.logWrapper)("p:"+s.id+":"),s.interruptReasons_={},s.listens_={},s.outstandingPuts_=[],s.outstandingPutCount_=0,s.onDisconnectRequestQueue_=[],s.connected_=!1,s.reconnectDelay_=y,s.maxReconnectDelay_=_,s.securityDebugCallback_=null,s.lastSessionId=null,s.establishConnectionTimer_=null,s.visible_=!1,s.requestCBHash_={},s.requestNumber_=0,s.realtime_=null,s.authToken_=null,s.forceTokenRefresh_=!1,s.invalidAuthTokenCount_=0,s.firstConnection_=!0,s.lastConnectionAttemptTime_=null,s.lastConnectionEstablishedTime_=null,a&&!(0,g.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return s.scheduleConnect_(0),l.VisibilityMonitor.getInstance().on("visible",s.onVisible_,s),-1===t.host.indexOf("fblocal")&&d.OnlineMonitor.getInstance().on("online",s.onOnline_,s),s}return v(PersistentConnection,e),PersistentConnection.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,a.stringify)(i)),(0,s.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},PersistentConnection.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},(0,s.assert)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),(0,s.assert)(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},PersistentConnection.prototype.sendListen_=function(e){var t=this,n=e.query,r=n.path.toString(),i=n.queryIdentifier();this.log_("Listen on "+r+" for "+i);var o={p:r},a="q";e.tag&&(o.q=n.queryObject(),o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,function(o){var a=o.d,s=o.s;PersistentConnection.warnOnListenWarnings_(a,n),(t.listens_[r]&&t.listens_[r][i])===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(r,i),e.onComplete&&e.onComplete(s,a))})},PersistentConnection.warnOnListenWarnings_=function(e,t){if(e&&"object"===(void 0===e?"undefined":r(e))&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',a=t.path.toString();(0,c.warn)("Using an unspecified index. Consider adding "+i+" at "+a+" to your security rules for better performance")}}},PersistentConnection.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},PersistentConnection.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,p.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},PersistentConnection.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,p.isValidFormat)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"===r(this.authOverride_)&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}},PersistentConnection.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),(0,s.assert)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},PersistentConnection.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e},o="n";r&&(i.q=n,i.t=r),this.sendRequest("n",i)},PersistentConnection.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},PersistentConnection.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},PersistentConnection.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},PersistentConnection.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},PersistentConnection.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},PersistentConnection.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},PersistentConnection.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},PersistentConnection.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})},PersistentConnection.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},PersistentConnection.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,a.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},PersistentConnection.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):(0,c.error)("Unrecognized action received from server: "+(0,a.stringify)(e)+"\nAre you using the latest client?")},PersistentConnection.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},PersistentConnection.prototype.scheduleConnect_=function(e){var t=this;(0,s.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},PersistentConnection.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=y,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},PersistentConnection.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=y,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},PersistentConnection.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=y),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},PersistentConnection.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+PersistentConnection.nextConnectionId_++,i=this,o=this.lastSessionId,a=!1,u=null,l=function closeFn_1(){u?u.close():(a=!0,n())},d=function sendRequestFn(e){(0,s.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)};this.realtime_={close:l,sendRequest:d};var p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(p).then(function(s){a?(0,c.log)("getToken() completed but was canceled"):((0,c.log)("getToken() completed. Creating connection."),i.authToken_=s&&s.accessToken,u=new h.Connection(r,i.repoInfo_,e,t,n,function(e){(0,c.warn)(e+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},o))}).then(null,function(e){i.log_("Failed to get token: "+e),a||(f.CONSTANTS.NODE_ADMIN&&(0,c.warn)(e),l())})}},PersistentConnection.prototype.interrupt=function(e){(0,c.log)("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},PersistentConnection.prototype.resume=function(e){(0,c.log)("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=y,this.realtime_||this.scheduleConnect_(0))},PersistentConnection.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},PersistentConnection.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},PersistentConnection.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return(0,c.ObjectToUniqueKey)(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},PersistentConnection.prototype.removeListen_=function(e,t){var n=new u.Path(e).toString(),r;return void 0!==this.listens_[n]?(r=this.listens_[n][t],delete this.listens_[n][t],0===(0,o.getCount)(this.listens_[n])&&delete this.listens_[n]):r=void 0,r},PersistentConnection.prototype.onAuthRevoked_=function(e,t){(0,c.log)("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},PersistentConnection.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_&&this.securityDebugCallback_(e)},PersistentConnection.prototype.restoreState_=function(){var e=this;this.tryAuth(),(0,o.forEach)(this.listens_,function(t,n){(0,o.forEach)(n,function(t,n){e.sendListen_(n)})});for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},PersistentConnection.prototype.sendConnectStats_=function(){var e={},t="js";f.CONSTANTS.NODE_ADMIN?t="admin_node":f.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+i.default.SDK_VERSION.replace(/\./g,"-")]=1,(0,g.isMobileCordova)()?e["framework.cordova"]=1:(0,g.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},PersistentConnection.prototype.shouldReconnect_=function(){var e=d.OnlineMonitor.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},PersistentConnection.nextPersistentConnectionId_=0,PersistentConnection.nextConnectionId_=0,PersistentConnection}(m.ServerActions);t.PersistentConnection=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var r=n(31),i=function(){function EventEmitter(e){this.allowedEvents_=e,this.listeners_={},(0,r.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return EventEmitter.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=this.listeners_[e].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},EventEmitter.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},EventEmitter.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},EventEmitter.prototype.validateEventType_=function(e){(0,r.assert)(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},EventEmitter}();t.EventEmitter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;var r=n(36),i=n(778),o=n(779),a=n(1376),s=6e4,c=5e3,u=10240,l=102400,d="t",p="d",h="s",f="r",g="e",m="o",v="a",y="n",_="p",b="h",S=function(){function Connection(e,t,n,i,o,s,c){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=(0,r.logWrapper)("c:"+this.id+":"),this.transportManager_=new a.TransportManager(t),this.log_("Connection created"),this.start_()}return Connection.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,i)},Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=(0,r.setTimeoutNonBlocking)(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},Connection.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},Connection.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},Connection.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},Connection.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},Connection.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},Connection.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},Connection.prototype.onSecondaryMessageReceived_=function(e){var t=(0,r.requireKey)("t",e),n=(0,r.requireKey)("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},Connection.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},Connection.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},Connection.prototype.onPrimaryMessageReceived_=function(e){var t=(0,r.requireKey)("t",e),n=(0,r.requireKey)("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},Connection.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},Connection.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},Connection.prototype.onControl_=function(e){var t=(0,r.requireKey)("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?(0,r.error)("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):(0,r.error)("Unknown control packet command: "+t)}},Connection.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(i),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),o.PROTOCOL_VERSION!==n&&(0,r.warn)("Protocol version mismatch detected"),this.tryStartUpgrade_())},Connection.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},Connection.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),(0,r.setTimeoutNonBlocking)(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},Connection.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},Connection.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):(0,r.setTimeoutNonBlocking)(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},Connection.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},Connection.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},Connection.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(i.PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},Connection.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},Connection.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},Connection.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},Connection.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},Connection}();t.Connection=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseIFrameScriptHolder=t.BrowserPollConnection=t.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM=t.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM=t.FIREBASE_LONGPOLL_DATA_PARAM=t.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET=t.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM=t.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM=t.FIREBASE_LONGPOLL_SERIAL_PARAM=t.FIREBASE_LONGPOLL_PW_PARAM=t.FIREBASE_LONGPOLL_ID_PARAM=t.FIREBASE_LONGPOLL_DATA_CB_NAME=t.FIREBASE_LONGPOLL_COMMAND_CB_NAME=t.FIREBASE_LONGPOLL_CLOSE_COMMAND=t.FIREBASE_LONGPOLL_START_PARAM=void 0;var r=n(36),i=n(1018),o=n(835),a=n(1377),s=n(779),c=n(193),u=n(337),l=t.FIREBASE_LONGPOLL_START_PARAM="start",d=t.FIREBASE_LONGPOLL_CLOSE_COMMAND="close",p=t.FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",h=t.FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",f=t.FIREBASE_LONGPOLL_ID_PARAM="id",g=t.FIREBASE_LONGPOLL_PW_PARAM="pw",m=t.FIREBASE_LONGPOLL_SERIAL_PARAM="ser",v=t.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",y=t.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",_=t.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",b=t.FIREBASE_LONGPOLL_DATA_PARAM="d",S=t.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM="disconn",w=t.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",C=1870,T=30,E=1840,k=25e3,x=3e4,I=function(){function BrowserPollConnection(e,t,n,i){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=(0,r.logWrapper)(e),this.stats_=o.StatsManager.getCollection(t),this.urlFn=function(e){return t.connectionURL(s.LONG_POLLING,e)}}return BrowserPollConnection.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new a.PacketReceiver(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),(0,r.executeWhenDOMReady)(function(){if(!n.isClosed_){n.scriptTagHolder=new R(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,r==l)n.id=i,n.password=o;else{if(r!==d)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=e[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var e={};e[l]="t",e[m]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e[v]=n.scriptTagHolder.uniqueCallbackIdentifier),e[s.VERSION_PARAM]=s.PROTOCOL_VERSION,n.transportSessionId&&(e[s.TRANSPORT_SESSION_PARAM]=n.transportSessionId),n.lastSessionId&&(e[s.LAST_SESSION_PARAM]=n.lastSessionId),!(0,u.isNodeSdk)()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(s.FORGE_DOMAIN)&&(e[s.REFERER_PARAM]=s.FORGE_REF);var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},BrowserPollConnection.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},BrowserPollConnection.forceAllow=function(){BrowserPollConnection.forceAllow_=!0},BrowserPollConnection.forceDisallow=function(){BrowserPollConnection.forceDisallow_=!0},BrowserPollConnection.isAvailable=function(){return BrowserPollConnection.forceAllow_||!BrowserPollConnection.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!(0,r.isChromeExtensionContentScript)()&&!(0,r.isWindowsStoreApp)()&&!(0,u.isNodeSdk)()},BrowserPollConnection.prototype.markConnectionHealthy=function(){},BrowserPollConnection.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},BrowserPollConnection.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},BrowserPollConnection.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},BrowserPollConnection.prototype.send=function(e){var t=(0,c.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,r.base64Encode)(t),i=(0,r.splitStringBySize)(n,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},BrowserPollConnection.prototype.addDisconnectPingFrame=function(e,t){if(!(0,u.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={};n[w]="t",n[f]=e,n[g]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},BrowserPollConnection.prototype.incrementIncomingBytes_=function(e){var t=(0,c.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},BrowserPollConnection}();t.BrowserPollConnection=I;var R=function(){function FirebaseIFrameScriptHolder(e,t,n,o){if(this.onDisconnect=n,this.urlFn=o,this.outstandingRequests=new i.CountedSet,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,u.isNodeSdk)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=(0,r.LUIDGenerator)(),window[p+this.uniqueCallbackIdentifier]=e,window[h+this.uniqueCallbackIdentifier]=t,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){(0,r.log)("frame writing exception"),e.stack&&(0,r.log)(e.stack),(0,r.log)(e)}}}return FirebaseIFrameScriptHolder.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||(0,r.log)("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},FirebaseIFrameScriptHolder.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),(0,u.isNodeSdk)()&&this.myID){var t={};t[S]="t",t[f]=this.myID,t[g]=this.myPW;var n=this.urlFn(t);FirebaseIFrameScriptHolder.nodeRestRequest(n)}var r=this.onDisconnect;r&&(this.onDisconnect=null,r())},FirebaseIFrameScriptHolder.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},FirebaseIFrameScriptHolder.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[f]=this.myID,e[g]=this.myPW,e[m]=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&"+y+r+"="+i.seg+"&"+_+r+"="+i.ts+"&"+b+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},FirebaseIFrameScriptHolder.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},FirebaseIFrameScriptHolder.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t,1);var r=function doNewRequest(){n.outstandingRequests.remove(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3)),o=function readyStateCB(){clearTimeout(i),r()};this.addTag(e,o)},FirebaseIFrameScriptHolder.prototype.addTag=function(e,t){var n=this;(0,u.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var e=i.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=function(){(0,r.log)("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(e){}},Math.floor(1))},FirebaseIFrameScriptHolder}();t.FirebaseIFrameScriptHolder=R},function(e,t,n){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function setWebSocketImpl(e){f=e}Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketConnection=void 0,t.setWebSocketImpl=setWebSocketImpl;var r=_interopRequireDefault(n(298)),i=n(31),o=n(36),a=n(835),s=n(779),c=n(777),u=n(778),l=n(193),d=n(337),p=16384,h=45e3,f=null;"undefined"!=typeof MozWebSocket?f=MozWebSocket:"undefined"!=typeof WebSocket&&(f=WebSocket);var g=function(){function WebSocketConnection(e,t,n,r){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=(0,o.logWrapper)(this.connId),this.stats_=a.StatsManager.getCollection(t),this.connURL=WebSocketConnection.connectionURL_(t,n,r)}return WebSocketConnection.connectionURL_=function(e,t,n){var r={};return r[s.VERSION_PARAM]=s.PROTOCOL_VERSION,!(0,d.isNodeSdk)()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(s.FORGE_DOMAIN)&&(r[s.REFERER_PARAM]=s.FORGE_REF),t&&(r[s.TRANSPORT_SESSION_PARAM]=t),n&&(r[s.LAST_SESSION_PARAM]=n),e.connectionURL(s.WEBSOCKET,r)},WebSocketConnection.prototype.open=function(t,n){var i=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,u.PersistentStorage.set("previous_websocket_failure",!0);try{if((0,d.isNodeSdk)()){var o=c.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/"+s.PROTOCOL_VERSION+"/"+r.default.SDK_VERSION+"/"+e.platform+"/"+o}},l=Object({NODE_ENV:"production",BABEL_ENV:"production"}),p=0==this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;p&&(a.proxy={origin:p}),this.mySock=new f(this.connURL,[],a)}else this.mySock=new f(this.connURL)}catch(e){this.log_("Error instantiating WebSocket.");var h=e.message||e.data;return h&&this.log_(h),void this.onClosed_()}this.mySock.onopen=function(){i.log_("Websocket connected."),i.everConnected_=!0},this.mySock.onclose=function(){i.log_("Websocket connection was disconnected."),i.mySock=null,i.onClosed_()},this.mySock.onmessage=function(e){i.handleIncomingFrame(e)},this.mySock.onerror=function(e){i.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&i.log_(t),i.onClosed_()}},WebSocketConnection.prototype.start=function(){},WebSocketConnection.forceDisallow=function(){WebSocketConnection.forceDisallow_=!0},WebSocketConnection.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==f&&!WebSocketConnection.forceDisallow_},WebSocketConnection.previouslyFailed=function(){return u.PersistentStorage.isInMemoryStorage||!0===u.PersistentStorage.get("previous_websocket_failure")},WebSocketConnection.prototype.markConnectionHealthy=function(){u.PersistentStorage.remove("previous_websocket_failure")},WebSocketConnection.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,l.jsonEval)(t);this.onMessage(n)}},WebSocketConnection.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},WebSocketConnection.prototype.extractFrameCount_=function(e){if((0,i.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},WebSocketConnection.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},WebSocketConnection.prototype.send=function(e){this.resetKeepAlive();var t=(0,l.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=(0,o.splitStringBySize)(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},WebSocketConnection.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},WebSocketConnection.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},WebSocketConnection.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},WebSocketConnection.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},WebSocketConnection.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},WebSocketConnection.responsesRequiredToBeHealthy=2,WebSocketConnection.healthyTimeout=3e4,WebSocketConnection}();t.WebSocketConnection=g}).call(t,n(126))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function ServerActions(){}return ServerActions.prototype.put=function(e,t,n,r){},ServerActions.prototype.merge=function(e,t,n,r){},ServerActions.prototype.refreshAuthToken=function(e){},ServerActions.prototype.onDisconnectPut=function(e,t,n){},ServerActions.prototype.onDisconnectMerge=function(e,t,n){},ServerActions.prototype.onDisconnectCancel=function(e,t){},ServerActions.prototype.reportStats=function(e){},ServerActions}();t.ServerActions=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangedFilter=void 0;var r=n(834),i=n(124),o=n(154),a=n(132),s=function(){function RangedFilter(e){this.indexedFilter_=new r.IndexedFilter(e.getIndex()),this.index_=e.getIndex(),this.startPost_=RangedFilter.getStartPost_(e),this.endPost_=RangedFilter.getEndPost_(e)}return RangedFilter.prototype.getStartPost=function(){return this.startPost_},RangedFilter.prototype.getEndPost=function(){return this.endPost_},RangedFilter.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},RangedFilter.prototype.updateChild=function(e,t,n,r,i,s){return this.matches(new o.NamedNode(t,n))||(n=a.ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)},RangedFilter.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=a.ChildrenNode.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(a.ChildrenNode.EMPTY_NODE);var s=this;return t.forEachChild(i.PRIORITY_INDEX,function(e,t){s.matches(new o.NamedNode(e,t))||(r=r.updateImmediateChild(e,a.ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},RangedFilter.prototype.updatePriority=function(e,t){return e},RangedFilter.prototype.filtersNodes=function(){return!0},RangedFilter.prototype.getIndexedFilter=function(){return this.indexedFilter_},RangedFilter.prototype.getIndex=function(){return this.index_},RangedFilter.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},RangedFilter.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},RangedFilter}();t.RangedFilter=s},function(e,t,n){"use strict";function taskStateFromInternalTaskState(e){switch(e){case i.RUNNING:case i.PAUSING:case i.CANCELING:return o.RUNNING;case i.PAUSED:return o.PAUSED;case i.SUCCESS:return o.SUCCESS;case i.CANCELED:return o.CANCELED;case i.ERROR:default:return o.ERROR}}Object.defineProperty(t,"__esModule",{value:!0}),t.taskStateFromInternalTaskState=taskStateFromInternalTaskState;var r=t.TaskEvent={STATE_CHANGED:"state_changed"},i=t.InternalTaskState={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},o=t.TaskState={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ErrorCode=void 0;!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(r||(t.ErrorCode=r={}))},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Reference=void 0;var r=_interopRequireWildcard(n(838)),i=n(1034),o=_interopRequireWildcard(n(207)),a=n(785),s=_interopRequireWildcard(n(839)),c=_interopRequireWildcard(n(339)),u=_interopRequireWildcard(n(1033)),l=_interopRequireWildcard(n(1035)),d=n(837),p=_interopRequireWildcard(d),h=_interopRequireWildcard(n(155)),f=n(1392),g=function(){function Reference(e,t){this.authWrapper=e,t instanceof a.Location?this.location=t:this.location=a.Location.makeFromUrl(t)}return Reference.prototype.toString=function(){return r.validate("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},Reference.prototype.newRef=function(e,t){return new Reference(e,t)},Reference.prototype.mappings=function(){return s.getMappings()},Reference.prototype.child=function(e){r.validate("child",[r.stringSpec()],arguments);var t=u.child(this.location.path,e),n=new a.Location(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(Reference.prototype,"parent",{get:function get(){var e=u.parent(this.location.path);if(null===e)return null;var t=new a.Location(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"root",{get:function get(){var e=new a.Location(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"bucket",{get:function get(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"fullPath",{get:function get(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"name",{get:function get(){return u.lastComponent(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"storage",{get:function get(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),Reference.prototype.put=function(e,t){return void 0===t&&(t=null),r.validate("put",[r.uploadDataSpec(),r.metadataSpec(!0)],arguments),this.throwIfRoot_("put"),new f.UploadTask(this,this.authWrapper,this.location,this.mappings(),new i.FbsBlob(e),t)},Reference.prototype.putString=function(e,t,n){void 0===t&&(t=d.StringFormat.RAW),r.validate("putString",[r.stringSpec(),r.stringSpec(p.formatValidator,!0),r.metadataSpec(!0)],arguments),this.throwIfRoot_("putString");var o=p.dataFromString(t,e),a=c.clone(n);return!h.isDef(a.contentType)&&h.isDef(o.contentType)&&(a.contentType=o.contentType),new f.UploadTask(this,this.authWrapper,this.location,this.mappings(),new i.FbsBlob(o.data,!0),a)},Reference.prototype.delete=function(){r.validate("delete",[],arguments),this.throwIfRoot_("delete");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=l.deleteObject(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()})},Reference.prototype.getMetadata=function(){r.validate("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=l.getMetadata(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()})},Reference.prototype.updateMetadata=function(e){r.validate("updateMetadata",[r.metadataSpec()],arguments),this.throwIfRoot_("updateMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(n){var r=l.updateMetadata(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()})},Reference.prototype.getDownloadURL=function(){return r.validate("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(e){var t=e.downloadURLs[0];if(h.isDef(t))return t;throw o.noDownloadURL()})},Reference.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw o.invalidRootOperation(e)},Reference}();t.Reference=g},function(e,t,n){"use strict";function parent(e){if(0==e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}function child(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}function lastComponent(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}Object.defineProperty(t,"__esModule",{value:!0}),t.parent=parent,t.child=child,t.lastComponent=lastComponent},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.FbsBlob=void 0;var r=_interopRequireWildcard(n(1390)),i=n(837),o=_interopRequireWildcard(i),a=_interopRequireWildcard(n(155)),s=function(){function FbsBlob(e,t){var n=0,r="";a.isNativeBlob(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return FbsBlob.prototype.size=function(){return this.size_},FbsBlob.prototype.type=function(){return this.type_},FbsBlob.prototype.slice=function(e,t){if(a.isNativeBlob(this.data_)){var n=this.data_,i=r.sliceBlob(n,e,t);return null===i?null:new FbsBlob(i)}return new FbsBlob(new Uint8Array(this.data_.buffer,e,t-e),!0)},FbsBlob.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(a.isNativeBlobDefined()){var n=e.map(function(e){return e instanceof FbsBlob?e.data_:e});return new FbsBlob(r.getBlob.apply(null,n))}var s=e.map(function(e){return a.isString(e)?o.dataFromString(i.StringFormat.RAW,e).data:e.data_}),c=0;s.forEach(function(e){c+=e.byteLength});var u=new Uint8Array(c),l=0;return s.forEach(function(e){for(var t=0;t<e.length;t++)u[l++]=e[t]}),new FbsBlob(u,!0)},FbsBlob.prototype.uploadData=function(){return this.data_},FbsBlob}();t.FbsBlob=s},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function handlerCheck(e){if(!e)throw o.unknown()}function metadataHandler(e,t){function handler(n,r){var i=a.fromResourceString(e,r,t);return handlerCheck(null!==i),i}return handler}function sharedErrorHandler(e){function errorHandler(t,n){var r;return(r=401===t.getStatus()?o.unauthenticated():402===t.getStatus()?o.quotaExceeded(e.bucket):403===t.getStatus()?o.unauthorized(e.path):n).setServerResponseProp(n.serverResponseProp()),r}return errorHandler}function objectErrorHandler(e){function errorHandler(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=o.objectNotFound(e.path)),i.setServerResponseProp(r.serverResponseProp()),i}var t=sharedErrorHandler(e);return errorHandler}function getMetadata(e,t,n){var r=t.fullServerUrl(),i=l.makeNormalUrl(r),o="GET",a=e.maxOperationRetryTime(),s=new c.RequestInfo(i,"GET",metadataHandler(e,n),a);return s.errorHandler=objectErrorHandler(t),s}function updateMetadata(e,t,n,r){var i=t.fullServerUrl(),o=l.makeNormalUrl(i),s="PATCH",u=a.toResourceString(n,r),d={"Content-Type":"application/json; charset=utf-8"},p=e.maxOperationRetryTime(),h=new c.RequestInfo(o,s,metadataHandler(e,r),p);return h.headers=d,h.body=u,h.errorHandler=objectErrorHandler(t),h}function deleteObject(e,t){function handler(e,t){}var n=t.fullServerUrl(),r=l.makeNormalUrl(n),i="DELETE",o=e.maxOperationRetryTime(),a=new c.RequestInfo(r,i,handler,o);return a.successCodes=[200,204],a.errorHandler=objectErrorHandler(t),a}function determineContentType_(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function metadataForUpload_(e,t,n){var r=s.clone(n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=determineContentType_(null,t)),r}function multipartUpload(e,t,n,r,s){function genBoundary(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}var u=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},p=genBoundary();d["Content-Type"]="multipart/related; boundary="+p;var h=metadataForUpload_(t,r,s),f="--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+a.toResourceString(h,n)+"\r\n--"+p+"\r\nContent-Type: "+h.contentType+"\r\n\r\n",g="\r\n--"+p+"--",m=i.FbsBlob.getBlob(f,r,g);if(null===m)throw o.cannotSliceBlob();var v={name:h.fullPath},y=l.makeUploadUrl(u),_="POST",b=e.maxUploadRetryTime(),S=new c.RequestInfo(y,"POST",metadataHandler(e,n),b);return S.urlParams=v,S.headers=d,S.body=m.uploadData(),S.errorHandler=sharedErrorHandler(t),S}function checkResumeHeader_(e,t){var n;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){handlerCheck(!1)}var i=t||["active"];return handlerCheck(r.contains(i,n)),n}function createResumableUpload(e,t,n,r,i){function handler(e,t){checkResumeHeader_(e);var n;try{n=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){handlerCheck(!1)}return handlerCheck(u.isString(n)),n}var o=t.bucketOnlyServerUrl(),s=metadataForUpload_(t,r,i),d={name:s.fullPath},p=l.makeUploadUrl(o),h="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},g=a.toResourceString(s,n),m=e.maxUploadRetryTime(),v=new c.RequestInfo(p,"POST",handler,m);return v.urlParams=d,v.headers=f,v.body=g,v.errorHandler=sharedErrorHandler(t),v}function getResumableUploadStatus(e,t,n,r){function handler(e,t){var n=checkResumeHeader_(e,["active","final"]),i;try{i=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){handlerCheck(!1)}var o=parseInt(i,10);return handlerCheck(!isNaN(o)),new d(o,r.size(),"final"===n)}var i={"X-Goog-Upload-Command":"query"},o="POST",a=e.maxUploadRetryTime(),s=new c.RequestInfo(n,"POST",handler,a);return s.headers=i,s.errorHandler=sharedErrorHandler(t),s}function continueResumableUpload(e,t,n,r,i,a,s,u){function handler(e,n){var i=checkResumeHeader_(e,["active","final"]),o=l.current+h,s=r.size(),c;return c="final"===i?metadataHandler(t,a)(e,n):null,new d(o,s,"final"===i,c)}var l=new d(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw o.serverFileWrongSize();var p=l.total-l.current,h=p;i>0&&(h=Math.min(h,i));var f=l.current,g=f+h,m={"X-Goog-Upload-Command":h===p?"upload, finalize":"upload","X-Goog-Upload-Offset":l.current},v=r.slice(f,g);if(null===v)throw o.cannotSliceBlob();var y="POST",_=t.maxUploadRetryTime(),b=new c.RequestInfo(n,"POST",handler,_);return b.headers=m,b.body=v.uploadData(),b.progressCallback=u||null,b.errorHandler=sharedErrorHandler(e),b}Object.defineProperty(t,"__esModule",{value:!0}),t.resumableUploadChunkSize=t.ResumableUploadStatus=void 0,t.handlerCheck=handlerCheck,t.metadataHandler=metadataHandler,t.sharedErrorHandler=sharedErrorHandler,t.objectErrorHandler=objectErrorHandler,t.getMetadata=getMetadata,t.updateMetadata=updateMetadata,t.deleteObject=deleteObject,t.determineContentType_=determineContentType_,t.metadataForUpload_=metadataForUpload_,t.multipartUpload=multipartUpload,t.checkResumeHeader_=checkResumeHeader_,t.createResumableUpload=createResumableUpload,t.getResumableUploadStatus=getResumableUploadStatus,t.continueResumableUpload=continueResumableUpload;var r=_interopRequireWildcard(n(841)),i=n(1034),o=_interopRequireWildcard(n(207)),a=_interopRequireWildcard(n(839)),s=_interopRequireWildcard(n(339)),c=n(1391),u=_interopRequireWildcard(n(155)),l=_interopRequireWildcard(n(840)),d=function(){function ResumableUploadStatus(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}return ResumableUploadStatus}();t.ResumableUploadStatus=d;var p=t.resumableUploadChunkSize=262144},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(829),i=_interopRequireDefault(n(786)),o=_interopRequireDefault(n(1404)),a=_interopRequireDefault(n(1038)),s="messagingSenderId",c=function(){function ControllerInterface(e){var t=this;if(this.errorFactory_=new r.ErrorFactory("messaging","Messaging",i.default.map),!e.options[s]||"string"!=typeof e.options[s])throw this.errorFactory_.create(i.default.codes.BAD_SENDER_ID);this.messagingSenderId_=e.options[s],this.tokenManager_=new o.default,this.app=e,this.INTERNAL={},this.INTERNAL.delete=function(){return t.delete}}return ControllerInterface.prototype.getToken=function(){var e=this,t=this.getNotificationPermission_();return t!==a.default.granted?t===a.default.denied?Promise.reject(this.errorFactory_.create(i.default.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this.getSWRegistration_().then(function(t){return e.tokenManager_.getSavedToken(e.messagingSenderId_,t).then(function(n){return n||e.tokenManager_.createToken(e.messagingSenderId_,t)})})},ControllerInterface.prototype.deleteToken=function(e){var t=this;return this.tokenManager_.deleteToken(e).then(function(){return t.getSWRegistration_().then(function(e){if(e)return e.pushManager.getSubscription()}).then(function(e){if(e)return e.unsubscribe()})})},ControllerInterface.prototype.getSWRegistration_=function(){throw this.errorFactory_.create(i.default.codes.SHOULD_BE_INHERITED)},ControllerInterface.prototype.requestPermission=function(){throw this.errorFactory_.create(i.default.codes.AVAILABLE_IN_WINDOW)},ControllerInterface.prototype.useServiceWorker=function(e){throw this.errorFactory_.create(i.default.codes.AVAILABLE_IN_WINDOW)},ControllerInterface.prototype.onMessage=function(e,t,n){throw this.errorFactory_.create(i.default.codes.AVAILABLE_IN_WINDOW)},ControllerInterface.prototype.onTokenRefresh=function(e,t,n){throw this.errorFactory_.create(i.default.codes.AVAILABLE_IN_WINDOW)},ControllerInterface.prototype.setBackgroundMessageHandler=function(e){throw this.errorFactory_.create(i.default.codes.AVAILABLE_IN_SW)},ControllerInterface.prototype.delete=function(){this.tokenManager_.closeDatabase()},ControllerInterface.prototype.getNotificationPermission_=function(){return Notification.permission},ControllerInterface.prototype.getTokenManager=function(){return this.tokenManager_},ControllerInterface}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],i={userVisibleOnly:!0,applicationServerKey:new Uint8Array(r)};t.default={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:r,SUBSCRIPTION_OPTIONS:i},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={granted:"granted",default:"default",denied:"denied"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"},i={PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},o=function createNewMsg(e,t){return n={},n[r.TYPE_OF_MSG]=e,n[r.DATA]=t,n;var n};t.default={PARAMS:r,TYPES_OF_MSG:i,createNewMsg:o},e.exports=t.default},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(1408))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(1411),t.SessionEditorLayout=function(e){var t=e.children;return r.createElement("div",{className:"session-editor-layout"},t)}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1412),__export(n(1413))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(1418);n(1420),t.TooltipButton=function(e){var t=e.children,n=e.onClick,o=e.visible,a=e.className,s=e.tooltipLabel,c=e.tooltipType,u=e.tooltipPlacement,l=void 0===u?"top":u,d=e.disabled,p=void 0!==d&&d;return r.createElement("div",{className:"tooltip-button"},r.createElement(i.Hint,{visible:o,disabled:p,label:s,placement:l,type:c},r.createElement("button",{className:a,disabled:p,onClick:n},t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(1421),t.SessionEditorToggle=function(e){var t=e.onToggle;return r.createElement("span",{className:"session-editor-toggle",onClick:t},r.createElement("span",{className:"fa fa-bars icon"}))}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1422),__export(n(1423))},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1425),__export(n(1426))},function(e,t,n){var r=n(304),i=n(787),o=n(843)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(1434);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports=!n(307)&&!n(342)(function(){return 7!=Object.defineProperty(n(1050)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(658),i=n(281).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=_interopRequireDefault(n(1438)),i=_interopRequireDefault(n(1450)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){"use strict";var r=n(849),i=n(305),o=n(1053),a=n(340),s=n(304),c=n(659),u=n(1441),l=n(853),d=n(1047),p=n(208)("iterator"),h=!([].keys&&"next"in[].keys()),f="@@iterator",g="keys",m="values",v=function(){return this};e.exports=function(e,t,n,y,_,b,S){u(n,t,y);var w=function(e){if(!h&&e in k)return k[e];switch(e){case g:return function keys(){return new n(this,e)};case m:return function values(){return new n(this,e)}}return function entries(){return new n(this,e)}},C=t+" Iterator",T=_==m,E=!1,k=e.prototype,x=k[p]||k[f]||_&&k[_],I=x||w(_),R=_?T?w("entries"):I:void 0,O="Array"==t?k.entries||x:x,P,A,M;if(O&&(M=d(O.call(new e)))!==Object.prototype&&M.next&&(l(M,C,!0),r||s(M,p)||a(M,p,v)),T&&x&&x.name!==m&&(E=!0,I=function values(){return x.call(this)}),r&&!S||!h&&!E&&k[p]||a(k,p,I),c[t]=I,c[C]=v,_)if(P={values:T?I:w(m),keys:b?I:w(g),entries:R},S)for(A in P)A in k||o(k,A,P[A]);else i(i.P+i.F*(h||E),t,P);return P}},function(e,t,n){e.exports=n(340)},function(e,t,n){var r=n(304),i=n(308),o=n(1443)(!1),a=n(843)("IE_PROTO");e.exports=function(e,t){var n=i(e),s=0,c=[],u;for(u in n)u!=a&&r(n,u)&&c.push(u);for(;t.length>s;)r(n,u=t[s++])&&(~o(c,u)||c.push(u));return c}},function(e,t,n){var r=n(851);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(1054),i=n(852).concat("length","prototype");t.f=Object.getOwnPropertyNames||function getOwnPropertyNames(e){return r(e,i)}},function(e,t,n){e.exports={default:n(1471),__esModule:!0}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((!i||e)&&r.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return i};var r=_interopRequireDefault(n(286)),i=void 0;e.exports=t.default},function(e,t,n){var r=n(851),i=n(208)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){function style(e,t,n){var r=o[t];if(void 0===r&&(r=detect(t)),r){if(void 0===n)return e.style[r];e.style[r]=a(r,n)}}function each(e,t){for(var n in t)t.hasOwnProperty(n)&&style(e,n,t[n])}function detect(e){var t=i(e),n=r(t);return o[t]=o[e]=o[n]=n,n}function set(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:each(arguments[0],arguments[1]):style(arguments[0],arguments[1],arguments[2])}var r=n(1493),i=n(1494),o={float:"cssFloat"},a=n(1497);e.exports=set,e.exports.set=set,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce(function(t,n){return t[n]=style(e,n||""),t},{}):style(e,t||"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(827);t.ConsoleScrollHint=function(e){var t=e.visible;return r.createElement(i.Popover,{visible:t,isHint:!0},r.createElement("p",{className:"popover-component-text"},"Did you notice the scroll bar?"))}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1063),__export(n(1507))},function(e,t){},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(1509))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RUNNING="Running",t.RUN_TESTS="Run Tests",t.ENTER_KEY=13,t.MAC_OS=navigator.appVersion.includes("Mac"),t.DEFAULT_RUN_CODE_HINT=t.MAC_OS?"⌘ + Enter":"Ctrl + Enter",t.RUN_CODE="Run Code",t.CLICK_ME="Click Me"},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(1511))},function(e,t,n){"use strict";var r=n(859).version,i={};Object.defineProperties(i,{connect:{enumerable:!0,value:n(1523)},createLocalAudioTrack:{enumerable:!0,value:n(1085).audio},createLocalTracks:{enumerable:!0,value:n(861)},createLocalVideoTrack:{enumerable:!0,value:n(1085).video},LocalAudioTrack:{enumerable:!0,value:n(792)},LocalVideoTrack:{enumerable:!0,value:n(794)},version:{enumerable:!0,value:r}}),e.exports=i},function(e,t,n){"use strict";function AudioTrack(e,t,n){i.call(this,e,t,n)}var r=n(24).inherits,i=n(862);r(AudioTrack,i),AudioTrack.prototype.toString=function toString(){return"[AudioTrack #"+this._instanceId+": "+this.id+"]"},AudioTrack.prototype.attach=i.prototype.attach,AudioTrack.prototype.detach=i.prototype.detach,e.exports=AudioTrack},function(e,t,n){"use strict";function LocalTrack(e,t,n){var s=new i(t);n=Object.assign({logLevel:a},n);var c=r(n.logLevel);n.log=n.log||new o("default",this,c),e.call(this,t,s,n),Object.defineProperties(this,{_didCallEnd:{value:!1,writable:!0},isStopped:{get:function(){return"ended"===this.mediaStreamTrack.readyState}}})}var r=n(85).buildLogLevels,i=n(1528),o=n(793),a=n(156).DEFAULT_LOG_LEVEL,s=n(862);LocalTrack.prototype._end=function _end(){this._didCallEnd||(s.prototype._end.call(this),this._didCallEnd=!0,this.emit("stopped",this))},LocalTrack.prototype.toString=function toString(){return"[LocalTrack #"+this._instanceId+": "+this.id+"]"},LocalTrack.prototype.enable=function enable(e){return e="boolean"!=typeof e||e,this._log.info((e?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=e,this._signaling.enable(e),this},LocalTrack.prototype.disable=function disable(){return this.enable(!1)},LocalTrack.prototype.stop=function stop(){return this._log.info("Stopping"),this.mediaStreamTrack.stop(),this._end(),this},e.exports=LocalTrack},function(e,t,n){"use strict";function TrackSignaling(e,t,n){r.call(this);var i;Object.defineProperties(this,{_isEnabled:{value:n,writable:!0},_mediaStreamTrack:{get:function(){return i},set:function(e){i=e,this._mediaStreamTrackDeferred.resolve(i)}},_mediaStreamTrackDeferred:{value:o.defer()},id:{enumerable:!0,value:e},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}},kind:{enumerable:!0,value:t},mediaStreamTrack:{enumerable:!0,get:function(){return i}}})}var r=n(129).EventEmitter,i=n(24).inherits,o=n(85);i(TrackSignaling,r),TrackSignaling.prototype.disable=function disable(){return this.enable(!1)},TrackSignaling.prototype.enable=function enable(e){return e="boolean"!=typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},TrackSignaling.prototype.getMediaStreamTrack=function getMediaStreamTrack(){return this._mediaStreamTrackDeferred.promise},TrackSignaling.prototype.setMediaStreamTrack=function setMediaStreamTrack(e){return this._mediaStreamTrack=e,this},e.exports=TrackSignaling},function(e,t,n){"use strict";function VideoTrack(e,t,n){return i.call(this,e,t,n),Object.defineProperties(this,{dimensions:{enumerable:!0,value:{width:null,height:null}}}),Object.defineProperty(this,"_dimensionsChangedElem",{value:emitDimensionsChangedEvents(this)}),this}function emitDimensionsChangedEvents(e){if("undefined"==typeof document)throw new Error("document is undefined");var t=document.createElement(e.kind);return t.muted=!0,t.onloadedmetadata=function onloadedmetadata(){dimensionsChanged(e,t)&&(e.dimensions.width=t.videoWidth,e.dimensions.height=t.videoHeight)},t.onresize=function onresize(){dimensionsChanged(e,t)&&(e.dimensions.width=t.videoWidth,e.dimensions.height=t.videoHeight,e.isStarted&&(e._log.debug("Dimensions changed:",e.dimensions),e.emit(o,e)))},t=e.attach(t),e._attachments.delete(t),t}function dimensionsChanged(e,t){return e.dimensions.width!==t.videoWidth||e.dimensions.height!==t.videoHeight}var r=n(24).inherits,i=n(862),o=VideoTrack.DIMENSIONS_CHANGED="dimensionsChanged";r(VideoTrack,i),VideoTrack.prototype.toString=function toString(){return"[VideoTrack #"+this._instanceId+": "+this.id+"]"},VideoTrack.prototype._start=function _start(e){return this.dimensions.width=e.videoWidth,this.dimensions.height=e.videoHeight,this._log.debug("Dimensions:",this.dimensions),i.prototype._start.call(this,e)},VideoTrack.prototype.attach=function attach(e){return e=i.prototype.attach.call(this,e),e.muted=!0,e},e.exports=VideoTrack},function(e,t,n){"use strict";function Participant(e,t){if(!(this instanceof Participant))return new Participant(e,t);o.call(this);var n=indexTracksById((t=Object.assign({AudioTrack:r,VideoTrack:i,tracks:[]},t)).tracks);Object.defineProperties(this,{_AudioTrack:{value:t.AudioTrack},_instanceId:{value:++c},_log:{value:t.log.createLog("default",this)},_signaling:{value:e},_trackEventReemitters:{value:new Map},_VideoTrack:{value:t.VideoTrack},audioTracks:{enumerable:!0,value:new Map(n.audioTracks)},identity:{enumerable:!0,get:function(){return e.identity}},sid:{enumerable:!0,get:function(){return e.sid}},state:{enumerable:!0,get:function(){return e.state}},tracks:{enumerable:!0,value:new Map(n.tracks)},videoTracks:{enumerable:!0,value:new Map(n.videoTracks)}}),this.tracks.forEach(reemitTrackEvents.bind(null,this)),reemitSignalingStateChangedEvents(this,e),this._handleTrackSignalingEvents(),this._log.info("Created a new Participant"+(this.identity?": "+this.identity:""))}function indexTracksById(e){var t=e.map(function(e){return[e.id,e]});return{audioTracks:t.filter(function(e){return"audio"===e[1].kind}),tracks:t,videoTracks:t.filter(function(e){return"video"===e[1].kind})}}function reemitSignalingStateChangedEvents(e,t){var n=e._log;"disconnected"!==e.state&&t.on("stateChanged",function stateChanged(r){n.debug("Transitioned to state:",r),e.emit(r,e),"disconnected"===r&&(n.debug("Removing Track event reemitters"),t.removeListener("stateChanged",stateChanged),e.tracks.forEach(function(t){e._trackEventReemitters.get(t.id).forEach(function(e,n){t.removeListener(n,e)})}),e._trackEventReemitters.clear())})}function reemitTrackEvents(e,t){var n=new Map;"disconnected"!==e.state&&(e._getTrackEvents().forEach(function(r){var i=r[0],o=r[1];n.set(i,function(){var t=[o].concat([].slice.call(arguments));return e.emit.apply(e,t)}),t.on(i,n.get(i))}),e._trackEventReemitters.set(t.id,n))}var r=n(1068),i=n(1071),o=n(129).EventEmitter,a=n(24).inherits,s=n(85),c=0;a(Participant,o),Participant.prototype._getTrackEvents=function _getTrackEvents(){return[["dimensionsChanged","trackDimensionsChanged"],["disabled","trackDisabled"],["enabled","trackEnabled"],["started","trackStarted"]]},Participant.prototype.toString=function toString(){return"[Participant #"+this._instanceId+": "+this.sid+"]"},Participant.prototype._addTrack=function _addTrack(e){var t=this._log;return this.tracks.has(e.id)?null:(this.tracks.set(e.id,e),"audio"===e.kind?this.audioTracks.set(e.id,e):this.videoTracks.set(e.id,e),reemitTrackEvents(this,e),t.info("Added a new "+s.trackClass(e)+":",e.id),t.debug(s.trackClass(e)+":",e),this.emit("trackAdded",e),e)},Participant.prototype._handleTrackSignalingEvents=function _handleTrackSignalingEvents(){function trackSignalingAdded(r){r.getMediaStreamTrack().then(function(o){var a=new("audio"===r.kind?n:i)(o,r,{log:e});t._addTrack(a)})}function trackSignalingRemoved(e){e.getMediaStreamTrack().then(function(){var n=t.tracks.get(e.id);n&&t._removeTrack(n)})}var e=this._log,t=this;if("disconnected"!==this.state){var n=this._AudioTrack,r=this._signaling,i=this._VideoTrack;r.on("trackAdded",trackSignalingAdded),r.on("trackRemoved",trackSignalingRemoved),r.tracks.forEach(trackSignalingAdded),r.on("stateChanged",function stateChanged(t){"disconnected"===t&&(e.debug("Removing TrackSignaling listeners"),r.removeListener("stateChanged",stateChanged),r.removeListener("trackAdded",trackSignalingAdded),r.removeListener("trackRemoved",trackSignalingRemoved))})}},Participant.prototype._removeTrack=function _removeTrack(e){if(!this.tracks.has(e.id))return null;e=this.tracks.get(e.id),this.tracks.delete(e.id),("audio"===e.kind?this.audioTracks:this.videoTracks).delete(e.id),(this._trackEventReemitters.get(e.id)||new Map).forEach(function(t,n){e.removeListener(n,t)});var t=this._log;return t.info("Removed a "+s.trackClass(e)+":",e.id),t.debug(s.trackClass(e)+":",e),this.emit("trackRemoved",e),e},e.exports=Participant},function(e,t,n){"use strict";function ChromeRTCSessionDescription(e){if(!(this instanceof ChromeRTCSessionDescription))return new ChromeRTCSessionDescription(e);var t=e&&"rollback"===e.type?null:new RTCSessionDescription(e),n=t?null:"rollback",r=e.sdp;Object.defineProperties(this,{_description:{get:function(){return t}},sdp:{enumerable:!0,get:function(){return t?t.sdp:r},set:function(e){t?t.sdp=e:r=e}},type:{enumerable:!0,get:function(){return t?t.type:n},set:function(e){if("rollback"===e&&t){var r=t.sdp;t=null,this.sdp=r}else{if(t)return void(t.type=e);if(-1===["offer","answer","pranswer","rollback"].indexOf(e))return}n=e}}})}e.exports=ChromeRTCSessionDescription},function(e,t,n){"use strict";function EventTarget(){Object.defineProperties(this,{_eventEmitter:{value:new r}})}var r=n(129).EventEmitter;EventTarget.prototype.dispatchEvent=function dispatchEvent(e){return this._eventEmitter.emit(e.type,e)},EventTarget.prototype.addEventListener=function addEventListener(){return this._eventEmitter.addListener.apply(this._eventEmitter,arguments)},EventTarget.prototype.removeEventListener=function removeEventListener(){return this._eventEmitter.removeListener.apply(this._eventEmitter,arguments)},e.exports=EventTarget},function(e,t,n){"use strict";function getMatches(e,t){return(t.match(new RegExp(e,"gm"))||[]).reduce(function(t,n){var r=n.match(new RegExp(e));return r?t.add(r[1]):t},new Set)}function getTrackIds(e,t){return getMatches(e,t)}function getPlanBTrackIds(e){return getTrackIds("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",e)}function getUnifiedPlanTrackIds(e){return getTrackIds("^a=msid:.+ +(.+) *$",e)}function getPlanBSSRCs(e,t){return getMatches("^a=ssrc:([0-9]+) +msid:[^ ]+ +"+t+" *$",e)}function getMediaSectionSSRCs(e){return Array.from(getMatches("^a=ssrc:([0-9]+) +.*$",e))}function getUnifiedPlanSSRCs(e,t){var n=e.split("\r\nm=").slice(1),i=new RegExp("^a=msid:[^ ]+ +"+t+" *$","gm"),o=n.filter(function(e){return e.match(i)});return new Set(r(o,getMediaSectionSSRCs))}function getTrackIdsToSSRCs(e,t,n){return new Map(Array.from(e(n)).map(function(e){return[e,t(n,e)]}))}function getPlanBTrackIdsToSSRCs(e){return getTrackIdsToSSRCs(getPlanBTrackIds,getPlanBSSRCs,e)}function getUnifiedPlanTrackIdsToSSRCs(e){return getTrackIdsToSSRCs(getUnifiedPlanTrackIds,getUnifiedPlanSSRCs,e)}function updateTrackIdsToSSRCs(e,t,n){var r=e(n),i=new Map;r.forEach(function(e,r){if(t.has(r)){var o=Array.from(t.get(r)),a=Array.from(e);o.forEach(function(e,t){var r=a[t];i.set(r,e);var o="^a=ssrc:"+r+" (.*)$",s="a=ssrc:"+e+" $1";n=n.replace(new RegExp(o,"gm"),s)})}else t.set(r,e)});var o="^(a=ssrc-group:[^ ]+ +)(.*)$";return(n.match(new RegExp(o,"gm"))||[]).forEach(function(e){var t=e.match(new RegExp(o));if(t){var r=t[1],a=t[2].split(" ").map(function(e){var t=i.get(e);return t||e}).join(" ");n=n.replace(t[0],r+a)}}),n}function updatePlanBTrackIdsToSSRCs(e,t){return updateTrackIdsToSSRCs(getPlanBTrackIdsToSSRCs,e,t)}function updateUnifiedPlanTrackIdsToSSRCs(e,t){return updateTrackIdsToSSRCs(getUnifiedPlanTrackIdsToSSRCs,e,t)}var r=n(85).flatMap;t.getPlanBTrackIds=getPlanBTrackIds,t.getUnifiedPlanTrackIds=getUnifiedPlanTrackIds,t.getPlanBSSRCs=getPlanBSSRCs,t.getUnifiedPlanSSRCs=getUnifiedPlanSSRCs,t.updatePlanBTrackIdsToSSRCs=updatePlanBTrackIdsToSSRCs,t.updateUnifiedPlanTrackIdsToSSRCs=updateUnifiedPlanTrackIdsToSSRCs},function(e,t,n){"use strict";e.exports=RTCSessionDescription||mozRTCSessionDescription},function(e,t,n){"use strict";function LocalTrackStats(e,t){i.call(this,e,t),Object.defineProperties(this,{bytesSent:{value:"number"==typeof t.bytesSent?t.bytesSent:null,enumerable:!0},packetsSent:{value:"number"==typeof t.packetsSent?t.packetsSent:null,enumerable:!0},roundTripTime:{value:"number"==typeof t.roundTripTime?t.roundTripTime:null,enumerable:!0}})}var r=n(24).inherits,i=n(1078);r(LocalTrackStats,i),e.exports=LocalTrackStats},function(e,t,n){"use strict";function TrackStats(e,t){if("string"!=typeof e)throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:e,enumerable:!0},timestamp:{value:t.timestamp,enumerable:!0},ssrc:{value:t.ssrc,enumerable:!0},packetsLost:{value:"number"==typeof t.packetsLost?t.packetsLost:null,enumerable:!0},codec:{value:"string"==typeof t.codecName?t.codecName:null,enumerable:!0}})}e.exports=TrackStats},function(e,t,n){"use strict";function RemoteTrackStats(e,t){i.call(this,e,t),Object.defineProperties(this,{bytesReceived:{value:"number"==typeof t.bytesReceived?t.bytesReceived:null,enumerable:!0},packetsReceived:{value:"number"==typeof t.packetsReceived?t.packetsReceived:null,enumerable:!0}})}var r=n(24).inherits,i=n(1078);r(RemoteTrackStats,i),e.exports=RemoteTrackStats},function(e,t,n){"use strict";function RecordingSignaling(){r.call(this),Object.defineProperties(this,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}})}var r=n(129).EventEmitter;(0,n(24).inherits)(RecordingSignaling,r),RecordingSignaling.prototype.disable=function disable(){return this.enable(!1)},RecordingSignaling.prototype.enable=function enable(e){return e="boolean"!=typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},e.exports=RecordingSignaling},function(e,t,n){"use strict";function RoomSignaling(e,t,n,r){r=Object.assign({RecordingSignaling:i},r),o.call(this,"connected",a);var s=r.RecordingSignaling;Object.defineProperties(this,{_options:{value:r},localParticipant:{enumerable:!0,value:e},name:{enumerable:!0,value:n},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new s},sid:{enumerable:!0,value:t}})}var r=n(24).inherits,i=n(1080),o=n(343),a={connected:["disconnected"],disconnected:[]};r(RoomSignaling,o),RoomSignaling.prototype._disconnect=function _disconnect(e){return"connected"===this.state&&(this.preempt("disconnected",null,[e]),!0)},RoomSignaling.prototype.connectParticipant=function connectParticipant(e){var t=this;return"disconnected"!==e.state&&(!this.participants.has(e.sid)&&(this.participants.set(e.sid,e),e.on("stateChanged",function stateChanged(n){"disconnected"===n&&(e.removeListener("stateChanged",stateChanged),t.participants.delete(e.sid),t.emit("participantDisconnected",e))}),this.emit("participantConnected",e),!0))},RoomSignaling.prototype.disconnect=function disconnect(){return this._disconnect()},e.exports=RoomSignaling},function(e,t,n){"use strict";function TrackV2(e){i.call(this,e.id,e.kind,e.enabled)}var r=n(24).inherits,i=n(1070);r(TrackV2,i),TrackV2.getState=function getState(e){return{enabled:e.isEnabled,id:e.id,kind:e.kind}},TrackV2.prototype.update=function update(e){return this.enable(e.enabled),this},e.exports=TrackV2},function(e,t){e.exports=WebSocket},function(e,t,n){"use strict";function SIPJSMediaHandler(e,t){if(!(this instanceof SIPJSMediaHandler))return new SIPJSMediaHandler(e);Object.defineProperties(this,{createMessage:{enumerable:!0,value:t},peerConnectionManager:{enumerable:!0,value:e}})}function getRoomState(e){try{return JSON.parse(e.body)}catch(e){return null}}var r=n(866);SIPJSMediaHandler.defaultFactory=function defaultFactory(){},SIPJSMediaHandler.defaultFactory.isSupported=function isSupported(){return r.WebRTC.isSupported()},SIPJSMediaHandler.prototype.close=function close(){this.peerConnectionManager.close()},SIPJSMediaHandler.prototype.getDescription=function getDescription(){var e=Object.assign({peer_connections:this.peerConnectionManager.getStates()},this.createMessage());return Promise.resolve({body:JSON.stringify(e),contentType:"application/room-signaling+json"})},SIPJSMediaHandler.prototype.hasDescription=function hasDescription(){return!0},SIPJSMediaHandler.prototype.hold=function hold(){},SIPJSMediaHandler.prototype.isReady=function isReady(){return!0},SIPJSMediaHandler.prototype.isMuted=function isMuted(){return{audio:!1,video:!1}},SIPJSMediaHandler.prototype.mute=function mute(){},SIPJSMediaHandler.prototype.render=function render(){},SIPJSMediaHandler.prototype.setDescription=function setDescription(e){var t=getRoomState(e);if(t){var n=t.peer_connections;if(n)return this.peerConnectionManager.update(n)}return Promise.resolve()},SIPJSMediaHandler.prototype.unhold=function unhold(){},SIPJSMediaHandler.prototype.unmute=function unmute(){},SIPJSMediaHandler.prototype.updateIceServers=function updateIceServers(){},e.exports=SIPJSMediaHandler},function(e,t,n){"use strict";function createLocalTrack(e,t){t=Object.assign({createLocalTracks:r,logLevel:i},t);var n={};n.logLevel=t.logLevel,delete t.logLevel;var o=t.createLocalTracks;return delete t.createLocalTracks,n[e]=!(Object.keys(t).length>0)||t,o(n).then(function(e){return e[0]})}function createLocalAudioTrack(e){return createLocalTrack("audio",e)}function createLocalVideoTrack(e){return createLocalTrack("video",e)}var r=n(861),i=n(156).DEFAULT_LOG_LEVEL;e.exports={audio:createLocalAudioTrack,video:createLocalVideoTrack}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.VideoStatusBar=function(e){var t=e.selfColor,n=e.peerColor,i=e.peerName;return r.createElement("div",{className:"video-status-bar"},r.createElement("div",{className:"video-status-bar--status-container"},r.createElement("div",{className:"video-status-bar--self"},r.createElement("span",{className:"video-status-bar--color-"+t}),"You"),r.createElement("div",{className:"video-status-bar--peer"},r.createElement("span",{className:"video-status-bar--color-"+n}),i||"Peer")),r.createElement("div",{className:"video-status-bar--legend"},r.createElement("div",{className:"video-status-bar--legend-button"},r.createElement("i",{className:"fa fa-bars","aria-hidden":"true"}),r.createElement("span",null,"Legend")),r.createElement("div",{className:"video-status-bar--legend-content"},r.createElement("span",null,r.createElement("i",{className:"fa fa-circle fa-circle-green"})," Online"),r.createElement("span",null,r.createElement("i",{className:"fa fa-circle fa-circle-yellow"})," Connecting"),r.createElement("span",null,r.createElement("i",{className:"fa fa-circle fa-circle-gray"})," Offline"))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);t.VideoStatusMessage=function(e){var t=e.title,n=e.subTitle,o=e.peer,a=e.loader,s=e.visible;return r.createElement("div",{className:i("video-component__preloader",{"video-component__preloader-peer":o,"video-component__preloader-hidden":!s})},r.createElement("div",{className:"video-component__preloader-text"},r.createElement("h3",{className:"video-component__preloader-title"},t),r.createElement("p",{className:"video-component__preloader-subtitle"},n)),a&&r.createElement("div",{className:"video-component__preloader-image"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(1604),t.SessionLeftBar=function(e){var t=e.children,n=e.toggleLeftBar;return r.createElement("div",{className:"session-left-bar"},t,r.createElement("span",{className:"session-left-bar__button",onClick:n},r.createElement("span",{className:"fa fa-close icon icon--animated"})),r.createElement("div",{className:"session-left-bar__footer"}))}},,,function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1112),__export(n(1113)),__export(n(878))},,,,,,,,,,,,,,function(e,t,n){var r=n(48),i=function(){return r.Date.now()};e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1107),i=n(928);t.initialState={leftBarHidden:!1,bottomBarHidden:!0};var o=function leftBarHidden(e,t){return r(e.leftBarHidden)?e.leftBarHidden:!t.leftBarHidden},a=function bottomBarHidden(e,t){return r(e.bottomBarHidden)?e.bottomBarHidden:!t.bottomBarHidden};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.initialState,n=arguments[1];switch(n.type){case i.TOGGLE_LEFT_BAR:return Object.assign({},e,{leftBarHidden:o(n.payload,e)});case i.TOGGLE_BOTTOM_BAR:return Object.assign({},e,{bottomBarHidden:a(n.payload,e)});default:return e}}},function(e,t,n){function isBoolean(e){return!0===e||!1===e||i(e)&&r(e)==o}var r=n(79),i=n(80),o="[object Boolean]";e.exports=isBoolean},function(e,t,n){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function consoleReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;switch(t.type){case o.CONSOLE_CLEAR:case a.WS_CLEAR:var n=t.payload,r=n.initial,i=void 0!==r&&r,s=n.runTests;return i?c:v(e,void 0!==s&&s);case a.WS_STDOUT:return y(e,t.payload);case a.WS_STDERR:return _(e,t.payload);case a.WS_RESULT:return m(e,t.payload);case a.WS_DISCONNECTED:return b(e);case o.CONSOLE_RESULT:var u=t.payload,l=u.stderr,d=u.stdout,p=u.result;return m(y(_(e,l),d),p);case a.WS_LANGUAGE:return c;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1109),i=n(806),o=n(808),a=n(185),s={failed:0,passed:0,meta:[],wallTime:0,testResults:[],testErrors:[],showTests:!1,hasErrorCompilation:!1},c={running:!1,messages:[],trimmed:0,tests:s,runTests:!1},u=function isRunning(e){return e&&e.data===o.RUNNING},l=function generateMessageId(){return i("message-")},d=function stdoutMessage(e){return{id:l(),type:"out",data:e}},p=function errorMessage(e){return{id:l(),type:"error",data:e}},h=function systemMessage(e){return{id:l(),type:"system",data:e}},f=function trimOutput(e){return e&&e.length>o.OUTPUT_LIMIT?r(e,o.OUTPUT_LIMIT):e},g=function trimmed(e,t){return t>o.OUTPUT_LIMIT?e+(t-o.OUTPUT_LIMIT):0},m=function result(e,t){var n=u(e.messages[0])?e.messages.slice(1):e.messages,r=n?n.length:0,i=g(e.trimmed,r);return n=f(n),n=i?[h(i+" lines were trimmed")].concat(_toConsumableArray(n)):n,n=[].concat(_toConsumableArray(n),[h("Finished executing code")]),Object.assign({},e,{trimmed:i,running:!1,tests:Object.assign({},e.tests,t,{showTests:!0}),messages:n})},v=function clear(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.assign({},e,{messages:[d(o.RUNNING)],running:!0,trimmed:0,tests:s,runTests:t})},y=function stdout(e,t){return e.running||(e=v(e)),Object.assign({},e,{trimmed:g(e.trimmed,e.messages.length),messages:u(e.messages[0])?[].concat(_toConsumableArray(t.map(d))):[].concat(_toConsumableArray(f(e.messages)),_toConsumableArray(t.map(d)))})},_=function stderr(e,t){return e.running||(e=v(e)),Object.assign({},e,{trimmed:g(e.trimmed,e.messages.length),messages:u(e.messages[0])?[].concat(_toConsumableArray(t.map(p))):[].concat(_toConsumableArray(f(e.messages)),_toConsumableArray(t.map(p)))})},b=function disconnected(e){return e.running?Object.assign({},e,{messages:[].concat(_toConsumableArray(e.messages),[h("Code execution failed on our side, please try again!")])}):e};t.default=consoleReducer},function(e,t,n){function takeRight(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:i(t),t=o-t,r(e,t<0?0:t,o)):[]}var r=n(328),i=n(294);e.exports=takeRight},function(e,t,n){"use strict";function consoleReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.EDITOR_DISCONNECTED:return Object.assign({},e,{editorConnected:!1});case r.EDITOR_CONNECTED:return Object.assign({},e,{editorConnected:!0});case r.CHANGE_CODE:return Object.assign({},e,{value:t.payload.value});case r.RESET_CODE:return Object.assign({},e,{value:null});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(929),i={editorConnected:!1,value:""};t.default=consoleReducer},function(e,t,n){function trim(e,t,n){if((e=c(e))&&(n||void 0===t))return e.replace(u,"");if(!e||!(t=r(t)))return e;var l=s(e),d=s(t),p=a(l,d),h=o(l,d)+1;return i(l,p,h).join("")}var r=n(439),i=n(821),o=n(1228),a=n(1229),s=n(822),c=n(128),u=/^\s+|\s+$/g;e.exports=trim},function(e,t){},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(15),a=n(1114),s=n(1115),c=n(878),u=n(1181),l=function(e){function NavTabs(){_classCallCheck(this,NavTabs);var e=_possibleConstructorReturn(this,(NavTabs.__proto__||Object.getPrototypeOf(NavTabs)).apply(this,arguments));return e.state={selectedIndex:0,width:0},e.onResize=function(t){e.setState({width:t})},e.onSelect=function(t){e.setState({selectedIndex:t})},e}return _inherits(NavTabs,e),r(NavTabs,[{key:"render",value:function render(){var e=this,t=this.state,n=t.selectedIndex,r=t.width,c=i.cloneElement,l=this.props.className,d=this.children(function(t,r){return i.createElement(a.NavTab,{name:t.props.title,isActive:r===n,onSelect:function onSelect(){return e.onSelect(r)}})}),p=this.children(function(e,t){return c(e,{isActive:t===n})});return i.createElement(u.NavTabsMeasure,{onResize:this.onResize},i.createElement("div",{className:o("nav-tabs",l)},i.createElement(s.NavTabControls,{width:r},d),p,i.createElement("div",{className:"nav-tab-footer"})))}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){e.children.length!==this.props.children.length&&this.setState({selectedIndex:0})}},{key:"children",value:function children(e){return i.Children.map(this.props.children,function(t,n){if(c.NavTabPanel!==t.type)throw"NavTabs accepts as child element only NavTabPanel";return e(t,n)})}}]),NavTabs}(i.Component);t.NavTabs=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);t.NavTab=function(e){var t=e.name,n=e.onSelect,o=e.isActive;return r.createElement("div",{className:i("nav-tab",{"nav-tab_active":o}),onClick:n},t)}},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(72),a=n(15),s=15,c=32,u=function(e){function NavTabControls(){_classCallCheck(this,NavTabControls);var e=_possibleConstructorReturn(this,(NavTabControls.__proto__||Object.getPrototypeOf(NavTabControls)).apply(this,arguments));return e.state={hideButtons:!0,prevDisabled:!0,nextDisabled:!0,offset:0},e.listWidth=0,e.setListWidth=function(){var t=o.findDOMNode(e.refs["tab-list"]);e.listWidth=t.getBoundingClientRect().width},e.onPrev=function(){var t=Math.max(e.state.offset-s,0);e.setState({prevDisabled:0===t,nextDisabled:!1,offset:t})},e.onNext=function(){var t=o.findDOMNode(e.refs["tab-list-container"]).getBoundingClientRect().width,n=e.listWidth-t,r=Math.min(e.state.offset+s,n);e.setState({prevDisabled:!1,nextDisabled:r===n,offset:r})},e}return _inherits(NavTabControls,e),r(NavTabControls,[{key:"componentDidMount",value:function componentDidMount(){this.setListWidth()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.children.length!==e.children.length&&(this.setListWidth(),this.onWidthChange(this.props.width)),this.props.width!==e.width&&this.onWidthChange(this.props.width)}},{key:"render",value:function render(){var e=this.state,t=e.hideButtons,n=e.offset,r=e.prevDisabled,o=e.nextDisabled,s=this.props.children;return i.createElement("div",{className:a("nav-tab-controls",{"nav-tab-controls--collapsed":this.hasManyTabs()&&!t})},i.createElement("span",{className:a("nav-tab-buttons__button",{"nav-tab-buttons__button_disabled":r}),onClick:this.onPrev},i.createElement("span",{className:"icon icon--arrow icon--left"})),i.createElement("div",{className:"nav-tab-list",ref:"tab-list-container"},i.createElement("div",{className:"nav-tab-list-i",ref:"tab-list",style:{transform:"translateX("+-n+"px)"}},s)),i.createElement("span",{className:a("nav-tab-buttons__button",{"nav-tab-buttons__button_disabled":o}),onClick:this.onNext},i.createElement("span",{className:"icon icon--arrow"})))}},{key:"hasManyTabs",value:function hasManyTabs(){return this.props.children.length>1}},{key:"onWidthChange",value:function onWidthChange(e){var t=this.state.hideButtons;e>this.listWidth+32?t||this.setState({hideButtons:!0,prevDisabled:!0,nextDisabled:!1,offset:0}):t&&this.setState({hideButtons:!1,prevDisabled:!0,nextDisabled:!1,offset:0})}}]),NavTabControls}(i.Component);t.NavTabControls=u},function(e,t,n){"use strict";e.exports=n(1117)},function(e,t,n){"use strict";function validateLink(e){var t=e.trim().toLowerCase();return!h.test(t)||!!f.test(t)}function normalizeLink(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=d.toASCII(t.hostname)}catch(e){}return l.encode(l.format(t))}function normalizeLinkText(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=d.toUnicode(t.hostname)}catch(e){}return l.decode(l.format(t))}function MarkdownIt(e,t){if(!(this instanceof MarkdownIt))return new MarkdownIt(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new c,this.block=new s,this.core=new a,this.renderer=new o,this.linkify=new u,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=r,this.helpers=r.assign({},i),this.options={},this.configure(e),t&&this.set(t)}var r=n(26),i=n(1125),o=n(1129),a=n(1130),s=n(1138),c=n(1152),u=n(1165),l=n(880),d=n(1167),p={default:n(1168),zero:n(1169),commonmark:n(1170)},h=/^(vbscript|javascript|file|data):/,f=/^data:image\/(gif|png|jpeg|webp);/,g=["http:","https:","mailto:"];MarkdownIt.prototype.set=function(e){return r.assign(this.options,e),this},MarkdownIt.prototype.configure=function(e){var t=this,n;if(r.isString(e)&&(n=e,!(e=p[n])))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this},MarkdownIt.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},MarkdownIt.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},MarkdownIt.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},MarkdownIt.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},MarkdownIt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},MarkdownIt.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},MarkdownIt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=MarkdownIt},function(e,t){e.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},function(e,t,n){"use strict";function getEncodeCache(e){var t,n,i=r[e];if(i)return i;for(i=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}function encode(e,t,n){var r,i,o,a,s,c="";for("string"!=typeof t&&(n=t,t=encode.defaultChars),void 0===n&&(n=!0),s=getEncodeCache(t),r=0,i=e.length;r<i;r++)if(o=e.charCodeAt(r),n&&37===o&&r+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3)))c+=e.slice(r,r+3),r+=2;else if(o<128)c+=s[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&r+1<i&&(a=e.charCodeAt(r+1))>=56320&&a<=57343){c+=encodeURIComponent(e[r]+e[r+1]),r++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[r]);return c}var r={};encode.defaultChars=";/?:@&=+$,-_.!~*'()#",encode.componentChars="-_.!~*'()",e.exports=encode},function(e,t,n){"use strict";function getDecodeCache(e){var t,n,i=r[e];if(i)return i;for(i=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),i.push(n);for(t=0;t<e.length;t++)i[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return i}function decode(e,t){var n;return"string"!=typeof t&&(t=decode.defaultChars),n=getDecodeCache(t),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,r,i,o,a,s,c,u="";for(t=0,r=e.length;t<r;t+=3)(i=parseInt(e.slice(t+1,t+3),16))<128?u+=n[i]:192==(224&i)&&t+3<r&&128==(192&(o=parseInt(e.slice(t+4,t+6),16)))?(u+=(c=i<<6&1984|63&o)<128?"��":String.fromCharCode(c),t+=3):224==(240&i)&&t+6<r&&(o=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&o)&&128==(192&a))?(u+=(c=i<<12&61440|o<<6&4032|63&a)<2048||c>=55296&&c<=57343?"���":String.fromCharCode(c),t+=6):240==(248&i)&&t+9<r&&(o=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),s=parseInt(e.slice(t+10,t+12),16),128==(192&o)&&128==(192&a)&&128==(192&s))?((c=i<<18&1835008|o<<12&258048|a<<6&4032|63&s)<65536||c>1114111?u+="����":(c-=65536,u+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),t+=9):u+="�";return u})}var r={};decode.defaultChars=";/?:@&=+$,#",decode.componentChars="",e.exports=decode},function(e,t,n){"use strict";e.exports=function format(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},function(e,t,n){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}function urlParse(e,t){if(e&&e instanceof Url)return e;var n=new Url;return n.parse(e,t),n}var r=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),s=["'"].concat(a),c=["%","/","?",";","#"].concat(s),u=["/","?","#"],l=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};Url.prototype.parse=function(e,t){var n,i,a,s,l,g=e;if(g=g.trim(),!t&&1===e.split("#").length){var m=o.exec(g);if(m)return this.pathname=m[1],m[2]&&(this.search=m[2]),this}var v=r.exec(g);if(v&&(a=(v=v[0]).toLowerCase(),this.protocol=v,g=g.substr(v.length)),(t||v||g.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(l="//"===g.substr(0,2))||v&&h[v]||(g=g.substr(2),this.slashes=!0)),!h[v]&&(l||v&&!f[v])){var y=-1;for(n=0;n<u.length;n++)-1!==(s=g.indexOf(u[n]))&&(-1===y||s<y)&&(y=s);var _,b;for(-1!==(b=-1===y?g.lastIndexOf("@"):g.lastIndexOf("@",y))&&(_=g.slice(0,b),g=g.slice(b+1),this.auth=_),y=-1,n=0;n<c.length;n++)-1!==(s=g.indexOf(c[n]))&&(-1===y||s<y)&&(y=s);-1===y&&(y=g.length),":"===g[y-1]&&y--;var S=g.slice(0,y);g=g.slice(y),this.parseHost(S),this.hostname=this.hostname||"";var w="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!w){var C=this.hostname.split(/\./);for(n=0,i=C.length;n<i;n++){var T=C[n];if(T&&!T.match(d)){for(var E="",k=0,x=T.length;k<x;k++)T.charCodeAt(k)>127?E+="x":E+=T[k];if(!E.match(d)){var I=C.slice(0,n),R=C.slice(n+1),O=T.match(p);O&&(I.push(O[1]),R.unshift(O[2])),R.length&&(g=R.join(".")+g),this.hostname=I.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var P=g.indexOf("#");-1!==P&&(this.hash=g.substr(P),g=g.slice(0,P));var A=g.indexOf("?");return-1!==A&&(this.search=g.substr(A),g=g.slice(0,A)),g&&(this.pathname=g),f[a]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Url.prototype.parseHost=function(e){var t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=urlParse},function(e,t,n){"use strict";t.Any=n(881),t.Cc=n(882),t.Cf=n(1124),t.P=n(774),t.Z=n(883)},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t,n){"use strict";t.parseLinkLabel=n(1126),t.parseLinkDestination=n(1127),t.parseLinkTitle=n(1128)},function(e,t,n){"use strict";e.exports=function parseLinkLabel(e,t,n){var r,i,o,a,s=-1,c=e.posMax,u=e.pos;for(e.pos=t+1,r=1;e.pos<c;){if(93===(o=e.src.charCodeAt(e.pos))&&0==--r){i=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===o)if(a===e.pos-1)r++;else if(n)return e.pos=u,-1}return i&&(s=e.pos),e.pos=u,s}},function(e,t,n){"use strict";var r=n(26).isSpace,i=n(26).unescapeAll;e.exports=function parseLinkDestination(e,t,n){var o,a,s=0,c=t,u={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(o=e.charCodeAt(t))||r(o))return u;if(62===o)return u.pos=t+1,u.str=i(e.slice(c+1,t)),u.ok=!0,u;92===o&&t+1<n?t+=2:t++}return u}for(a=0;t<n&&32!==(o=e.charCodeAt(t))&&!(o<32||127===o);)if(92===o&&t+1<n)t+=2;else{if(40===o&&++a>1)break;if(41===o&&--a<0)break;t++}return c===t?u:(u.str=i(e.slice(c,t)),u.lines=0,u.pos=t,u.ok=!0,u)}},function(e,t,n){"use strict";var r=n(26).unescapeAll;e.exports=function parseLinkTitle(e,t,n){var i,o,a=0,s=t,c={ok:!1,pos:0,lines:0,str:""};if(t>=n)return c;if(34!==(o=e.charCodeAt(t))&&39!==o&&40!==o)return c;for(t++,40===o&&(o=41);t<n;){if((i=e.charCodeAt(t))===o)return c.pos=t+1,c.lines=a,c.str=r(e.slice(s+1,t)),c.ok=!0,c;10===i?a++:92===i&&t+1<n&&(t++,10===e.charCodeAt(t)&&a++),t++}return c}},function(e,t,n){"use strict";function Renderer(){this.rules=r({},a)}var r=n(26).assign,i=n(26).unescapeAll,o=n(26).escapeHtml,a={};a.code_inline=function(e,t,n,r,i){var a=e[t];return"<code"+i.renderAttrs(a)+">"+o(e[t].content)+"</code>"},a.code_block=function(e,t,n,r,i){var a=e[t];return"<pre"+i.renderAttrs(a)+"><code>"+o(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,r,a){var s=e[t],c=s.info?i(s.info).trim():"",u="",l,d,p,h;return c&&(u=c.split(/\s+/g)[0]),0===(l=n.highlight?n.highlight(s.content,u)||o(s.content):o(s.content)).indexOf("<pre")?l+"\n":c?(d=s.attrIndex("class"),p=s.attrs?s.attrs.slice():[],d<0?p.push(["class",n.langPrefix+u]):p[d][1]+=" "+n.langPrefix+u,h={attrs:p},"<pre><code"+a.renderAttrs(h)+">"+l+"</code></pre>\n"):"<pre><code"+a.renderAttrs(s)+">"+l+"</code></pre>\n"},a.image=function(e,t,n,r,i){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,r),i.renderToken(e,t,n)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return o(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},Renderer.prototype.renderAttrs=function renderAttrs(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+o(e.attrs[t][0])+'="'+o(e.attrs[t][1])+'"';return r},Renderer.prototype.renderToken=function renderToken(e,t,n){var r,i="",o=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===a.nesting?"</":"<")+a.tag,i+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(i+=" /"),a.block&&(o=!0,1===a.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden?o=!1:-1===r.nesting&&r.tag===a.tag&&(o=!1))),i+=o?">\n":">")},Renderer.prototype.renderInline=function(e,t,n){for(var r,i="",o=this.rules,a=0,s=e.length;a<s;a++)void 0!==o[r=e[a].type]?i+=o[r](e,a,t,n,this):i+=this.renderToken(e,a,t);return i},Renderer.prototype.renderInlineAsText=function(e,t,n){for(var r="",i=0,o=e.length;i<o;i++)"text"===e[i].type?r+=e[i].content:"image"===e[i].type&&(r+=this.renderInlineAsText(e[i].children,t,n));return r},Renderer.prototype.render=function(e,t,n){var r,i,o,a="",s=this.rules;for(r=0,i=e.length;r<i;r++)"inline"===(o=e[r].type)?a+=this.renderInline(e[r].children,t,n):void 0!==s[o]?a+=s[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=Renderer},function(e,t,n){"use strict";function Core(){this.ruler=new r;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1])}var r=n(775),i=[["normalize",n(1131)],["block",n(1132)],["inline",n(1133)],["linkify",n(1134)],["replacements",n(1135)],["smartquotes",n(1136)]];Core.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},Core.prototype.State=n(1137),e.exports=Core},function(e,t,n){"use strict";var r=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,i=/\u0000/g;e.exports=function inline(e){var t;t=(t=e.src.replace(r,"\n")).replace(i,"�"),e.src=t}},function(e,t,n){"use strict";e.exports=function block(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,n){"use strict";e.exports=function inline(e){var t=e.tokens,n,r,i;for(r=0,i=t.length;r<i;r++)"inline"===(n=t[r]).type&&e.md.inline.parse(n.content,e.md,e.env,n.children)}},function(e,t,n){"use strict";function isLinkOpen(e){return/^<a[>\s]/i.test(e)}function isLinkClose(e){return/^<\/a\s*>/i.test(e)}var r=n(26).arrayReplaceAt;e.exports=function linkify(e){var t,n,i,o,a,s,c,u,l,d,p,h,f,g,m,v,y=e.tokens,_;if(e.md.options.linkify)for(n=0,i=y.length;n<i;n++)if("inline"===y[n].type&&e.md.linkify.pretest(y[n].content))for(f=0,t=(o=y[n].children).length-1;t>=0;t--)if("link_close"!==(s=o[t]).type){if("html_inline"===s.type&&(isLinkOpen(s.content)&&f>0&&f--,isLinkClose(s.content)&&f++),!(f>0)&&"text"===s.type&&e.md.linkify.test(s.content)){for(l=s.content,_=e.md.linkify.match(l),c=[],h=s.level,p=0,u=0;u<_.length;u++)g=_[u].url,m=e.md.normalizeLink(g),e.md.validateLink(m)&&(v=_[u].text,v=_[u].schema?"mailto:"!==_[u].schema||/^mailto:/i.test(v)?e.md.normalizeLinkText(v):e.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),(d=_[u].index)>p&&((a=new e.Token("text","",0)).content=l.slice(p,d),a.level=h,c.push(a)),(a=new e.Token("link_open","a",1)).attrs=[["href",m]],a.level=h++,a.markup="linkify",a.info="auto",c.push(a),(a=new e.Token("text","",0)).content=v,a.level=h,c.push(a),(a=new e.Token("link_close","a",-1)).level=--h,a.markup="linkify",a.info="auto",c.push(a),p=_[u].lastIndex);p<l.length&&((a=new e.Token("text","",0)).content=l.slice(p),a.level=h,c.push(a)),y[n].children=o=r(o,t,c)}}else for(t--;o[t].level!==s.level&&"link_open"!==o[t].type;)t--}},function(e,t,n){"use strict";function replaceFn(e,t){return a[t.toLowerCase()]}function replace_scoped(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||r||(n.content=n.content.replace(o,replaceFn)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function replace_rare(e){var t,n,i=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||i||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),"link_open"===n.type&&"auto"===n.info&&i--,"link_close"===n.type&&"auto"===n.info&&i++}var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,i=/\((c|tm|r|p)\)/i,o=/\((c|tm|r|p)\)/gi,a={c:"©",r:"®",p:"§",tm:"™"};e.exports=function replace(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(i.test(e.tokens[t].content)&&replace_scoped(e.tokens[t].children),r.test(e.tokens[t].content)&&replace_rare(e.tokens[t].children))}},function(e,t,n){"use strict";function replaceAt(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function process_inlines(e,t){var n,a,u,l,d,p,h,f,g,m,v,y,_,b,S,w,C,T,E,k,x;for(E=[],n=0;n<e.length;n++){for(a=e[n],h=e[n].level,C=E.length-1;C>=0&&!(E[C].level<=h);C--);if(E.length=C+1,"text"===a.type){d=0,p=(u=a.content).length;e:for(;d<p&&(s.lastIndex=d,l=s.exec(u));){if(S=w=!0,d=l.index+1,T="'"===l[0],g=32,l.index-1>=0)g=u.charCodeAt(l.index-1);else for(C=n-1;C>=0;C--)if("text"===e[C].type){g=e[C].content.charCodeAt(e[C].content.length-1);break}if(m=32,d<p)m=u.charCodeAt(d);else for(C=n+1;C<e.length;C++)if("text"===e[C].type){m=e[C].content.charCodeAt(0);break}if(v=o(g)||i(String.fromCharCode(g)),y=o(m)||i(String.fromCharCode(m)),_=r(g),(b=r(m))?S=!1:y&&(_||v||(S=!1)),_?w=!1:v&&(b||y||(w=!1)),34===m&&'"'===l[0]&&g>=48&&g<=57&&(w=S=!1),S&&w&&(S=!1,w=y),S||w){if(w)for(C=E.length-1;C>=0&&(f=E[C],!(E[C].level<h));C--)if(f.single===T&&E[C].level===h){f=E[C],T?(k=t.md.options.quotes[2],x=t.md.options.quotes[3]):(k=t.md.options.quotes[0],x=t.md.options.quotes[1]),a.content=replaceAt(a.content,l.index,x),e[f.token].content=replaceAt(e[f.token].content,f.pos,k),d+=x.length-1,f.token===n&&(d+=k.length-1),p=(u=a.content).length,E.length=C;continue e}S?E.push({token:n,pos:l.index,single:T,level:h}):w&&T&&(a.content=replaceAt(a.content,l.index,c))}else T&&(a.content=replaceAt(a.content,l.index,c))}}}}var r=n(26).isWhiteSpace,i=n(26).isPunctChar,o=n(26).isMdAsciiPunct,a=/['"]/,s=/['"]/g,c="’";e.exports=function smartquotes(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&process_inlines(e.tokens[t].children,e)}},function(e,t,n){"use strict";function StateCore(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}var r=n(776);StateCore.prototype.Token=r,e.exports=StateCore},function(e,t,n){"use strict";function ParserBlock(){this.ruler=new r;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1],{alt:(i[e][2]||[]).slice()})}var r=n(775),i=[["table",n(1139),["paragraph","reference"]],["code",n(1140)],["fence",n(1141),["paragraph","reference","blockquote","list"]],["blockquote",n(1142),["paragraph","reference","list"]],["hr",n(1143),["paragraph","reference","blockquote","list"]],["list",n(1144),["paragraph","reference","blockquote"]],["reference",n(1145)],["heading",n(1146),["paragraph","reference","blockquote"]],["lheading",n(1147)],["html_block",n(1148),["paragraph","reference","blockquote"]],["paragraph",n(1150)]];ParserBlock.prototype.tokenize=function(e,t,n){for(var r,i,o=this.ruler.getRules(""),a=o.length,s=t,c=!1,u=e.md.options.maxNesting;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n))&&!(e.sCount[s]<e.blkIndent);){if(e.level>=u){e.line=n;break}for(i=0;i<a&&!(r=o[i](e,s,n,!1));i++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),(s=e.line)<n&&e.isEmpty(s)&&(c=!0,s++,e.line=s)}},ParserBlock.prototype.parse=function(e,t,n,r){var i;e&&(i=new this.State(e,t,n,r),this.tokenize(i,i.line,i.lineMax))},ParserBlock.prototype.State=n(1151),e.exports=ParserBlock},function(e,t,n){"use strict";function getLine(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function escapedSplit(e){var t=[],n=0,r=e.length,i,o=0,a=0,s=!1,c=0;for(i=e.charCodeAt(n);n<r;)96===i?s?(s=!1,c=n):o%2==0&&(s=!0,c=n):124!==i||o%2!=0||s||(t.push(e.substring(a,n)),a=n+1),92===i?o++:o=0,++n===r&&s&&(s=!1,n=c+1),i=e.charCodeAt(n);return t.push(e.substring(a)),t}var r=n(26).isSpace;e.exports=function table(e,t,n,i){var o,a,s,c,u,l,d,p,h,f,g,m;if(t+2>n)return!1;if(u=t+1,e.sCount[u]<e.blkIndent)return!1;if(e.sCount[u]-e.blkIndent>=4)return!1;if((s=e.bMarks[u]+e.tShift[u])>=e.eMarks[u])return!1;if(124!==(o=e.src.charCodeAt(s++))&&45!==o&&58!==o)return!1;for(;s<e.eMarks[u];){if(124!==(o=e.src.charCodeAt(s))&&45!==o&&58!==o&&!r(o))return!1;s++}for(l=(a=getLine(e,t+1)).split("|"),h=[],c=0;c<l.length;c++){if(!(f=l[c].trim())){if(0===c||c===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(f))return!1;58===f.charCodeAt(f.length-1)?h.push(58===f.charCodeAt(0)?"center":"right"):58===f.charCodeAt(0)?h.push("left"):h.push("")}if(-1===(a=getLine(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(l=escapedSplit(a.replace(/^\||\|$/g,"")),(d=l.length)>h.length)return!1;if(i)return!0;for((p=e.push("table_open","table",1)).map=g=[t,0],(p=e.push("thead_open","thead",1)).map=[t,t+1],(p=e.push("tr_open","tr",1)).map=[t,t+1],c=0;c<l.length;c++)(p=e.push("th_open","th",1)).map=[t,t+1],h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),(p=e.push("inline","",0)).content=l[c].trim(),p.map=[t,t+1],p.children=[],p=e.push("th_close","th",-1);for(p=e.push("tr_close","tr",-1),p=e.push("thead_close","thead",-1),(p=e.push("tbody_open","tbody",1)).map=m=[t+2,0],u=t+2;u<n&&!(e.sCount[u]<e.blkIndent)&&-1!==(a=getLine(e,u).trim()).indexOf("|")&&!(e.sCount[u]-e.blkIndent>=4);u++){for(l=escapedSplit(a.replace(/^\||\|$/g,"")),p=e.push("tr_open","tr",1),c=0;c<d;c++)p=e.push("td_open","td",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),(p=e.push("inline","",0)).content=l[c]?l[c].trim():"",p.children=[],p=e.push("td_close","td",-1);p=e.push("tr_close","tr",-1)}return p=e.push("tbody_close","tbody",-1),p=e.push("table_close","table",-1),g[1]=m[1]=u,e.line=u,!0}},function(e,t,n){"use strict";e.exports=function code(e,t,n){var r,i,o;if(e.sCount[t]-e.blkIndent<4)return!1;for(i=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;i=++r}return e.line=i,o=e.push("code_block","code",0),o.content=e.getLines(t,i,4+e.blkIndent,!0),o.map=[t,e.line],!0}},function(e,t,n){"use strict";e.exports=function fence(e,t,n,r){var i,o,a,s,c,u,l,d=!1,p=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>h)return!1;if(126!==(i=e.src.charCodeAt(p))&&96!==i)return!1;if(c=p,p=e.skipChars(p,i),(o=p-c)<3)return!1;if(l=e.src.slice(c,p),(a=e.src.slice(p,h)).indexOf(String.fromCharCode(i))>=0)return!1;if(r)return!0;for(s=t;!(++s>=n)&&(p=c=e.bMarks[s]+e.tShift[s],h=e.eMarks[s],!(p<h&&e.sCount[s]<e.blkIndent));)if(e.src.charCodeAt(p)===i&&!(e.sCount[s]-e.blkIndent>=4||(p=e.skipChars(p,i))-c<o||(p=e.skipSpaces(p))<h)){d=!0;break}return o=e.sCount[t],e.line=s+(d?1:0),u=e.push("fence","code",0),u.info=a,u.content=e.getLines(t+1,s,o,!0),u.markup=l,u.map=[t,e.line],!0}},function(e,t,n){"use strict";var r=n(26).isSpace;e.exports=function blockquote(e,t,n,i){var o,a,s,c,u,l,d,p,h,f,g,m,v,y,_,b,S,w,C,T,E=e.lineMax,k=e.bMarks[t]+e.tShift[t],x=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(k++))return!1;if(i)return!0;for(c=f=e.sCount[t]+k-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(k)?(k++,c++,f++,o=!1,S=!0):9===e.src.charCodeAt(k)?(S=!0,(e.bsCount[t]+f)%4==3?(k++,c++,f++,o=!1):o=!0):S=!1,g=[e.bMarks[t]],e.bMarks[t]=k;k<x&&(a=e.src.charCodeAt(k),r(a));)9===a?f+=4-(f+e.bsCount[t]+(o?1:0))%4:f++,k++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(S?1:0),d=k>=x,_=[e.sCount[t]],e.sCount[t]=f-c,b=[e.tShift[t]],e.tShift[t]=k-e.bMarks[t],C=e.md.block.ruler.getRules("blockquote"),y=e.parentType,e.parentType="blockquote",h=t+1;h<n&&(u=e.sCount[h]<e.blkIndent,k=e.bMarks[h]+e.tShift[h],x=e.eMarks[h],!(k>=x));h++)if(62!==e.src.charCodeAt(k++)||u){if(d)break;for(w=!1,s=0,l=C.length;s<l;s++)if(C[s](e,h,n,!0)){w=!0;break}if(w){e.lineMax=h,0!==e.blkIndent&&(g.push(e.bMarks[h]),m.push(e.bsCount[h]),b.push(e.tShift[h]),_.push(e.sCount[h]),e.sCount[h]-=e.blkIndent);break}if(u)break;g.push(e.bMarks[h]),m.push(e.bsCount[h]),b.push(e.tShift[h]),_.push(e.sCount[h]),e.sCount[h]=-1}else{for(c=f=e.sCount[h]+k-(e.bMarks[h]+e.tShift[h]),32===e.src.charCodeAt(k)?(k++,c++,f++,o=!1,S=!0):9===e.src.charCodeAt(k)?(S=!0,(e.bsCount[h]+f)%4==3?(k++,c++,f++,o=!1):o=!0):S=!1,g.push(e.bMarks[h]),e.bMarks[h]=k;k<x&&(a=e.src.charCodeAt(k),r(a));)9===a?f+=4-(f+e.bsCount[h]+(o?1:0))%4:f++,k++;d=k>=x,m.push(e.bsCount[h]),e.bsCount[h]=e.sCount[h]+1+(S?1:0),_.push(e.sCount[h]),e.sCount[h]=f-c,b.push(e.tShift[h]),e.tShift[h]=k-e.bMarks[h]}for(v=e.blkIndent,e.blkIndent=0,(T=e.push("blockquote_open","blockquote",1)).markup=">",T.map=p=[t,0],e.md.block.tokenize(e,t,h),(T=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=E,e.parentType=y,p[1]=e.line,s=0;s<b.length;s++)e.bMarks[s+t]=g[s],e.tShift[s+t]=b[s],e.sCount[s+t]=_[s],e.bsCount[s+t]=m[s];return e.blkIndent=v,!0}},function(e,t,n){"use strict";var r=n(26).isSpace;e.exports=function hr(e,t,n,i){var o,a,s,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(o=e.src.charCodeAt(u++))&&45!==o&&95!==o)return!1;for(a=1;u<l;){if((s=e.src.charCodeAt(u++))!==o&&!r(s))return!1;s===o&&a++}return!(a<3)&&(!!i||(e.line=t+1,c=e.push("hr","hr",0),c.map=[t,e.line],c.markup=Array(a+1).join(String.fromCharCode(o)),!0))}},function(e,t,n){"use strict";function skipBulletListMarker(e,t){var n,i,o,a;return i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],42!==(n=e.src.charCodeAt(i++))&&45!==n&&43!==n?-1:i<o&&(a=e.src.charCodeAt(i),!r(a))?-1:i}function skipOrderedListMarker(e,t){var n,i=e.bMarks[t]+e.tShift[t],o=i,a=e.eMarks[t];if(o+1>=a)return-1;if((n=e.src.charCodeAt(o++))<48||n>57)return-1;for(;;){if(o>=a)return-1;if(!((n=e.src.charCodeAt(o++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(o-i>=10)return-1}return o<a&&(n=e.src.charCodeAt(o),!r(n))?-1:o}function markTightParagraphs(e,t){var n,r,i=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===i&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}var r=n(26).isSpace;e.exports=function list(e,t,n,i){var o,a,s,c,u,l,d,p,h,f,g,m,v,y,_,b,S,w,C,T,E,k,x,I,R,O,P,A,M=!1,N=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(i&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(M=!0),(x=skipOrderedListMarker(e,t))>=0){if(d=!0,R=e.bMarks[t]+e.tShift[t],v=Number(e.src.substr(R,x-R-1)),M&&1!==v)return!1}else{if(!((x=skipBulletListMarker(e,t))>=0))return!1;d=!1}if(M&&e.skipSpaces(x)>=e.eMarks[t])return!1;if(m=e.src.charCodeAt(x-1),i)return!0;for(g=e.tokens.length,d?(A=e.push("ordered_list_open","ol",1),1!==v&&(A.attrs=[["start",v]])):A=e.push("bullet_list_open","ul",1),A.map=f=[t,0],A.markup=String.fromCharCode(m),_=t,I=!1,P=e.md.block.ruler.getRules("list"),C=e.parentType,e.parentType="list";_<n;){for(k=x,y=e.eMarks[_],l=b=e.sCount[_]+x-(e.bMarks[t]+e.tShift[t]);k<y&&(o=e.src.charCodeAt(k),r(o));)9===o?b+=4-(b+e.bsCount[_])%4:b++,k++;if(a=k,(u=a>=y?1:b-l)>4&&(u=1),c=l+u,A=e.push("list_item_open","li",1),A.markup=String.fromCharCode(m),A.map=p=[t,0],S=e.blkIndent,E=e.tight,T=e.tShift[t],w=e.sCount[t],e.blkIndent=c,e.tight=!0,e.tShift[t]=a-e.bMarks[t],e.sCount[t]=b,a>=y&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!I||(N=!1),I=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=S,e.tShift[t]=T,e.sCount[t]=w,e.tight=E,A=e.push("list_item_close","li",-1),A.markup=String.fromCharCode(m),_=t=e.line,p[1]=_,a=e.bMarks[t],_>=n)break;if(e.sCount[_]<e.blkIndent)break;for(O=!1,s=0,h=P.length;s<h;s++)if(P[s](e,_,n,!0)){O=!0;break}if(O)break;if(d){if((x=skipOrderedListMarker(e,_))<0)break}else if((x=skipBulletListMarker(e,_))<0)break;if(m!==e.src.charCodeAt(x-1))break}return A=d?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),A.markup=String.fromCharCode(m),f[1]=_,e.line=_,e.parentType=C,N&&markTightParagraphs(e,g),!0}},function(e,t,n){"use strict";var r=n(26).normalizeReference,i=n(26).isSpace;e.exports=function reference(e,t,n,o){var a,s,c,u,l,d,p,h,f,g,m,v,y,_,b,S,w=0,C=e.bMarks[t]+e.tShift[t],T=e.eMarks[t],E=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(C))return!1;for(;++C<T;)if(93===e.src.charCodeAt(C)&&92!==e.src.charCodeAt(C-1)){if(C+1===T)return!1;if(58!==e.src.charCodeAt(C+1))return!1;break}for(u=e.lineMax,b=e.md.block.ruler.getRules("reference"),g=e.parentType,e.parentType="reference";E<u&&!e.isEmpty(E);E++)if(!(e.sCount[E]-e.blkIndent>3||e.sCount[E]<0)){for(_=!1,d=0,p=b.length;d<p;d++)if(b[d](e,E,u,!0)){_=!0;break}if(_)break}for(T=(y=e.getLines(t,E,e.blkIndent,!1).trim()).length,C=1;C<T;C++){if(91===(a=y.charCodeAt(C)))return!1;if(93===a){f=C;break}10===a?w++:92===a&&++C<T&&10===y.charCodeAt(C)&&w++}if(f<0||58!==y.charCodeAt(f+1))return!1;for(C=f+2;C<T;C++)if(10===(a=y.charCodeAt(C)))w++;else if(!i(a))break;if(!(m=e.md.helpers.parseLinkDestination(y,C,T)).ok)return!1;if(l=e.md.normalizeLink(m.str),!e.md.validateLink(l))return!1;for(s=C=m.pos,c=w+=m.lines,v=C;C<T;C++)if(10===(a=y.charCodeAt(C)))w++;else if(!i(a))break;for(m=e.md.helpers.parseLinkTitle(y,C,T),C<T&&v!==C&&m.ok?(S=m.str,C=m.pos,w+=m.lines):(S="",C=s,w=c);C<T&&(a=y.charCodeAt(C),i(a));)C++;if(C<T&&10!==y.charCodeAt(C)&&S)for(S="",C=s,w=c;C<T&&(a=y.charCodeAt(C),i(a));)C++;return!(C<T&&10!==y.charCodeAt(C))&&(!!(h=r(y.slice(1,f)))&&(!!o||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[h]&&(e.env.references[h]={title:S,href:l}),e.parentType=g,e.line=t+w+1,!0)))}},function(e,t,n){"use strict";var r=n(26).isSpace;e.exports=function heading(e,t,n,i){var o,a,s,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(o=e.src.charCodeAt(u))||u>=l)return!1;for(a=1,o=e.src.charCodeAt(++u);35===o&&u<l&&a<=6;)a++,o=e.src.charCodeAt(++u);return!(a>6||u<l&&!r(o))&&(!!i||(l=e.skipSpacesBack(l,u),(s=e.skipCharsBack(l,35,u))>u&&r(e.src.charCodeAt(s-1))&&(l=s),e.line=t+1,c=e.push("heading_open","h"+String(a),1),c.markup="########".slice(0,a),c.map=[t,e.line],c=e.push("inline","",0),c.content=e.src.slice(u,l).trim(),c.map=[t,e.line],c.children=[],c=e.push("heading_close","h"+String(a),-1),c.markup="########".slice(0,a),!0))}},function(e,t,n){"use strict";e.exports=function lheading(e,t,n){var r,i,o,a,s,c,u,l,d,p=t+1,h,f=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(h=e.parentType,e.parentType="paragraph";p<n&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(c=e.bMarks[p]+e.tShift[p],u=e.eMarks[p],c<u&&(45===(d=e.src.charCodeAt(c))||61===d)&&(c=e.skipChars(c,d),(c=e.skipSpaces(c))>=u))){l=61===d?1:2;break}if(!(e.sCount[p]<0)){for(i=!1,o=0,a=f.length;o<a;o++)if(f[o](e,p,n,!0)){i=!0;break}if(i)break}}return!!l&&(r=e.getLines(t,p,e.blkIndent,!1).trim(),e.line=p+1,s=e.push("heading_open","h"+String(l),1),s.markup=String.fromCharCode(d),s.map=[t,e.line],s=e.push("inline","",0),s.content=r,s.map=[t,e.line-1],s.children=[],s=e.push("heading_close","h"+String(l),-1),s.markup=String.fromCharCode(d),e.parentType=h,!0)}},function(e,t,n){"use strict";var r=n(1149),i=n(884).HTML_OPEN_CLOSE_TAG_RE,o=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(i.source+"\\s*$"),/^$/,!1]];e.exports=function html_block(e,t,n,r){var i,a,s,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(c=e.src.slice(u,l),i=0;i<o.length&&!o[i][0].test(c);i++);if(i===o.length)return!1;if(r)return o[i][2];if(a=t+1,!o[i][1].test(c))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(u=e.bMarks[a]+e.tShift[a],l=e.eMarks[a],c=e.src.slice(u,l),o[i][1].test(c)){0!==c.length&&a++;break}return e.line=a,s=e.push("html_block","",0),s.map=[t,a],s.content=e.getLines(t,a,e.blkIndent,!0),!0}},function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,n){"use strict";e.exports=function paragraph(e,t){var n,r,i,o,a,s,c=t+1,u=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(s=e.parentType,e.parentType="paragraph";c<l&&!e.isEmpty(c);c++)if(!(e.sCount[c]-e.blkIndent>3||e.sCount[c]<0)){for(r=!1,i=0,o=u.length;i<o;i++)if(u[i](e,c,l,!0)){r=!0;break}if(r)break}return n=e.getLines(t,c,e.blkIndent,!1).trim(),e.line=c,a=e.push("paragraph_open","p",1),a.map=[t,e.line],a=e.push("inline","",0),a.content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=s,!0}},function(e,t,n){"use strict";function StateBlock(e,t,n,r){var o,a,s,c,u,l,d,p;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,s=c=l=d=0,u=(a=this.src).length;c<u;c++){if(o=a.charCodeAt(c),!p){if(i(o)){l++,9===o?d+=4-d%4:d++;continue}p=!0}10!==o&&c!==u-1||(10!==o&&c++,this.bMarks.push(s),this.eMarks.push(c),this.tShift.push(l),this.sCount.push(d),this.bsCount.push(0),p=!1,l=0,d=0,s=c+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}var r=n(776),i=n(26).isSpace;StateBlock.prototype.push=function(e,t,n){var i=new r(e,t,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i},StateBlock.prototype.isEmpty=function isEmpty(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},StateBlock.prototype.skipEmptyLines=function skipEmptyLines(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},StateBlock.prototype.skipSpaces=function skipSpaces(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),i(t));e++);return e},StateBlock.prototype.skipSpacesBack=function skipSpacesBack(e,t){if(e<=t)return e;for(;e>t;)if(!i(this.src.charCodeAt(--e)))return e+1;return e},StateBlock.prototype.skipChars=function skipChars(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},StateBlock.prototype.skipCharsBack=function skipCharsBack(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},StateBlock.prototype.getLines=function getLines(e,t,n,r){var o,a,s,c,u,l,d,p=e;if(e>=t)return"";for(l=new Array(t-e),o=0;p<t;p++,o++){for(a=0,d=c=this.bMarks[p],u=p+1<t||r?this.eMarks[p]+1:this.eMarks[p];c<u&&a<n;){if(s=this.src.charCodeAt(c),i(s))9===s?a+=4-(a+this.bsCount[p])%4:a++;else{if(!(c-d<this.tShift[p]))break;a++}c++}l[o]=a>n?new Array(a-n+1).join(" ")+this.src.slice(c,u):this.src.slice(c,u)}return l.join("")},StateBlock.prototype.Token=r,e.exports=StateBlock},function(e,t,n){"use strict";function ParserInline(){var e;for(this.ruler=new r,e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1]);for(this.ruler2=new r,e=0;e<o.length;e++)this.ruler2.push(o[e][0],o[e][1])}var r=n(775),i=[["text",n(1153)],["newline",n(1154)],["escape",n(1155)],["backticks",n(1156)],["strikethrough",n(885).tokenize],["emphasis",n(886).tokenize],["link",n(1157)],["image",n(1158)],["autolink",n(1159)],["html_inline",n(1160)],["entity",n(1161)]],o=[["balance_pairs",n(1162)],["strikethrough",n(885).postProcess],["emphasis",n(886).postProcess],["text_collapse",n(1163)]];ParserInline.prototype.skipToken=function(e){var t,n,r=e.pos,i=this.ruler.getRules(""),o=i.length,a=e.md.options.maxNesting,s=e.cache;if(void 0===s[r]){if(e.level<a)for(n=0;n<o&&(e.level++,t=i[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,s[r]=e.pos}else e.pos=s[r]},ParserInline.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),i=r.length,o=e.posMax,a=e.md.options.maxNesting;e.pos<o;){if(e.level<a)for(n=0;n<i&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},ParserInline.prototype.parse=function(e,t,n,r){var i,o,a,s=new this.State(e,t,n,r);for(this.tokenize(s),a=(o=this.ruler2.getRules("")).length,i=0;i<a;i++)o[i](s)},ParserInline.prototype.State=n(1164),e.exports=ParserInline},function(e,t,n){"use strict";function isTerminatorChar(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function text(e,t){for(var n=e.pos;n<e.posMax&&!isTerminatorChar(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},function(e,t,n){"use strict";var r=n(26).isSpace;e.exports=function newline(e,t){var n,i,o=e.pos;if(10!==e.src.charCodeAt(o))return!1;for(n=e.pending.length-1,i=e.posMax,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),o++;o<i&&r(e.src.charCodeAt(o));)o++;return e.pos=o,!0}},function(e,t,n){"use strict";for(var r=n(26).isSpace,i=[],o=0;o<256;o++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){i[e.charCodeAt(0)]=1}),e.exports=function escape(e,t){var n,o=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(o))return!1;if(++o<a){if((n=e.src.charCodeAt(o))<256&&0!==i[n])return t||(e.pending+=e.src[o]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),o++;o<a&&(n=e.src.charCodeAt(o),r(n));)o++;return e.pos=o,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function backtick(e,t){var n,r,i,o,a,s,c=e.pos;if(96!==e.src.charCodeAt(c))return!1;for(n=c,c++,r=e.posMax;c<r&&96===e.src.charCodeAt(c);)c++;for(i=e.src.slice(n,c),o=a=c;-1!==(o=e.src.indexOf("`",a));){for(a=o+1;a<r&&96===e.src.charCodeAt(a);)a++;if(a-o===i.length)return t||((s=e.push("code_inline","code",0)).markup=i,s.content=e.src.slice(c,o).replace(/[ \n]+/g," ").trim()),e.pos=a,!0}return t||(e.pending+=i),e.pos+=i.length,!0}},function(e,t,n){"use strict";var r=n(26).normalizeReference,i=n(26).isSpace;e.exports=function link(e,t){var n,o,a,s,c,u,l,d,p,h,f="",g=e.pos,m=e.posMax,v=e.pos,y=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,(s=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((u=s+1)<m&&40===e.src.charCodeAt(u)){for(y=!1,u++;u<m&&(o=e.src.charCodeAt(u),i(o)||10===o);u++);if(u>=m)return!1;for(v=u,(l=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(f=e.md.normalizeLink(l.str),e.md.validateLink(f)?u=l.pos:f=""),v=u;u<m&&(o=e.src.charCodeAt(u),i(o)||10===o);u++);if(l=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<m&&v!==u&&l.ok)for(p=l.str,u=l.pos;u<m&&(o=e.src.charCodeAt(u),i(o)||10===o);u++);else p="";(u>=m||41!==e.src.charCodeAt(u))&&(y=!0),u++}if(y){if(void 0===e.env.references)return!1;if(u<m&&91===e.src.charCodeAt(u)?(v=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?a=e.src.slice(v,u++):u=s+1):u=s+1,a||(a=e.src.slice(c,s)),!(d=e.env.references[r(a)]))return e.pos=g,!1;f=d.href,p=d.title}return t||(e.pos=c,e.posMax=s,(h=e.push("link_open","a",1)).attrs=n=[["href",f]],p&&n.push(["title",p]),e.md.inline.tokenize(e),h=e.push("link_close","a",-1)),e.pos=u,e.posMax=m,!0}},function(e,t,n){"use strict";var r=n(26).normalizeReference,i=n(26).isSpace;e.exports=function image(e,t){var n,o,a,s,c,u,l,d,p,h,f,g,m,v="",y=e.pos,_=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(u=e.pos+2,(c=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((l=c+1)<_&&40===e.src.charCodeAt(l)){for(l++;l<_&&(o=e.src.charCodeAt(l),i(o)||10===o);l++);if(l>=_)return!1;for(m=l,(p=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok&&(v=e.md.normalizeLink(p.str),e.md.validateLink(v)?l=p.pos:v=""),m=l;l<_&&(o=e.src.charCodeAt(l),i(o)||10===o);l++);if(p=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<_&&m!==l&&p.ok)for(h=p.str,l=p.pos;l<_&&(o=e.src.charCodeAt(l),i(o)||10===o);l++);else h="";if(l>=_||41!==e.src.charCodeAt(l))return e.pos=y,!1;l++}else{if(void 0===e.env.references)return!1;if(l<_&&91===e.src.charCodeAt(l)?(m=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?s=e.src.slice(m,l++):l=c+1):l=c+1,s||(s=e.src.slice(u,c)),!(d=e.env.references[r(s)]))return e.pos=y,!1;v=d.href,h=d.title}return t||(a=e.src.slice(u,c),e.md.inline.parse(a,e.md,e.env,g=[]),(f=e.push("image","img",0)).attrs=n=[["src",v],["alt",""]],f.children=g,f.content=a,h&&n.push(["title",h])),e.pos=l,e.posMax=_,!0}},function(e,t,n){"use strict";var r=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,i=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function autolink(e,t){var n,o,a,s,c,u,l=e.pos;return 60===e.src.charCodeAt(l)&&!((n=e.src.slice(l)).indexOf(">")<0||(i.test(n)?(o=n.match(i),s=o[0].slice(1,-1),c=e.md.normalizeLink(s),!e.md.validateLink(c)||(t||((u=e.push("link_open","a",1)).attrs=[["href",c]],u.markup="autolink",u.info="auto",(u=e.push("text","",0)).content=e.md.normalizeLinkText(s),(u=e.push("link_close","a",-1)).markup="autolink",u.info="auto"),e.pos+=o[0].length,0)):!r.test(n)||(a=n.match(r),s=a[0].slice(1,-1),c=e.md.normalizeLink("mailto:"+s),!e.md.validateLink(c)||(t||((u=e.push("link_open","a",1)).attrs=[["href",c]],u.markup="autolink",u.info="auto",(u=e.push("text","",0)).content=e.md.normalizeLinkText(s),(u=e.push("link_close","a",-1)).markup="autolink",u.info="auto"),e.pos+=a[0].length,0))))}},function(e,t,n){"use strict";function isLetter(e){var t=32|e;return t>=97&&t<=122}var r=n(884).HTML_TAG_RE;e.exports=function html_inline(e,t){var n,i,o,a,s=e.pos;return!!e.md.options.html&&(o=e.posMax,!(60!==e.src.charCodeAt(s)||s+2>=o)&&(!(33!==(n=e.src.charCodeAt(s+1))&&63!==n&&47!==n&&!isLetter(n))&&(!!(i=e.src.slice(s).match(r))&&(t||((a=e.push("html_inline","",0)).content=e.src.slice(s,s+i[0].length)),e.pos+=i[0].length,!0))))}},function(e,t,n){"use strict";var r=n(879),i=n(26).has,o=n(26).isValidEntityCode,a=n(26).fromCodePoint,s=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function entity(e,t){var n,u,l,d=e.pos,p=e.posMax;if(38!==e.src.charCodeAt(d))return!1;if(d+1<p)if(35===(n=e.src.charCodeAt(d+1))){if(l=e.src.slice(d).match(s))return t||(u="x"===l[1][0].toLowerCase()?parseInt(l[1].slice(1),16):parseInt(l[1],10),e.pending+=a(o(u)?u:65533)),e.pos+=l[0].length,!0}else if((l=e.src.slice(d).match(c))&&i(r,l[1]))return t||(e.pending+=r[l[1]]),e.pos+=l[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function link_pairs(e){var t,n,r,i,o=e.delimiters,a=e.delimiters.length;for(t=0;t<a;t++)if((r=o[t]).close)for(n=t-r.jump-1;n>=0;){if((i=o[n]).open&&i.marker===r.marker&&i.end<0&&i.level===r.level&&!((i.close||r.open)&&void 0!==i.length&&void 0!==r.length&&(i.length+r.length)%3==0)){r.jump=t-n,r.open=!1,i.end=t,i.jump=0;break}n-=i.jump+1}}},function(e,t,n){"use strict";e.exports=function text_collapse(e){var t,n,r=0,i=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)r+=i[t].nesting,i[t].level=r,"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}},function(e,t,n){"use strict";function StateInline(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}var r=n(776),i=n(26).isWhiteSpace,o=n(26).isPunctChar,a=n(26).isMdAsciiPunct;StateInline.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},StateInline.prototype.push=function(e,t,n){this.pending&&this.pushPending();var i=new r(e,t,n);return n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(i),i},StateInline.prototype.scanDelims=function(e,t){var n=e,r,s,c,u,l,d,p,h,f,g=!0,m=!0,v=this.posMax,y=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;n<v&&this.src.charCodeAt(n)===y;)n++;return c=n-e,s=n<v?this.src.charCodeAt(n):32,p=a(r)||o(String.fromCharCode(r)),f=a(s)||o(String.fromCharCode(s)),d=i(r),(h=i(s))?g=!1:f&&(d||p||(g=!1)),d?m=!1:p&&(h||f||(m=!1)),t?(u=g,l=m):(u=g&&(!m||p),l=m&&(!g||f)),{can_open:u,can_close:l,length:c}},StateInline.prototype.Token=r,e.exports=StateInline},function(e,t,n){"use strict";function assign(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function _class(e){return Object.prototype.toString.call(e)}function isString(e){return"[object String]"===_class(e)}function isObject(e){return"[object Object]"===_class(e)}function isRegExp(e){return"[object RegExp]"===_class(e)}function isFunction(e){return"[object Function]"===_class(e)}function escapeRE(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function isOptionsObj(e){return Object.keys(e||{}).reduce(function(e,t){return e||r.hasOwnProperty(t)},!1)}function resetScanCache(e){e.__index__=-1,e.__text_cache__=""}function createValidator(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function createNormalizer(){return function(e,t){t.normalize(e)}}function compile(e){function untpl(e){return e.replace("%TLDS%",t.src_tlds)}function schemaError(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}var t=e.re=n(1166)(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(o),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(untpl(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(untpl(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(untpl(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(untpl(t.tpl_host_fuzzy_test),"i");var i=[];e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,isObject(n))return isRegExp(n.validate)?r.validate=createValidator(n.validate):isFunction(n.validate)?r.validate=n.validate:schemaError(t,n),void(isFunction(n.normalize)?r.normalize=n.normalize:n.normalize?schemaError(t,n):r.normalize=createNormalizer());isString(n)?i.push(t):schemaError(t,n)}}),i.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:createNormalizer()};var a=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(escapeRE).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+a+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+a+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),resetScanCache(e)}function Match(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function createMatch(e,t){var n=new Match(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function LinkifyIt(e,t){if(!(this instanceof LinkifyIt))return new LinkifyIt(e,t);t||isOptionsObj(e)&&(t=e,e={}),this.__opts__=assign({},r,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},i,e),this.__compiled__={},this.__tlds__=a,this.__tlds_replaced__=!1,this.re={},compile(this)}var r={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},i={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]?0:t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},o="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",a="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");LinkifyIt.prototype.add=function add(e,t){return this.__schemas__[e]=t,compile(this),this},LinkifyIt.prototype.set=function set(e){return this.__opts__=assign(this.__opts__,e),this},LinkifyIt.prototype.test=function test(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,o,a,s,c,u;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"))>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),this.__index__>=0},LinkifyIt.prototype.pretest=function pretest(e){return this.re.pretest.test(e)},LinkifyIt.prototype.testSchemaAt=function testSchemaAt(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},LinkifyIt.prototype.match=function match(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(createMatch(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(createMatch(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},LinkifyIt.prototype.tlds=function tlds(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),compile(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,compile(this),this)},LinkifyIt.prototype.normalize=function normalize(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},LinkifyIt.prototype.onCompile=function onCompile(){},e.exports=LinkifyIt},function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(881).source,t.src_Cc=n(882).source,t.src_Z=n(883).source,t.src_P=n(774).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><｜]";return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,n){(function(e,r){var i;!function(o){function error(e){throw new RangeError(w[e])}function map(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function mapDomain(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+map((e=e.replace(S,".")).split("."),t).join(".")}function ucs2decode(e){for(var t=[],n=0,r=e.length,i,o;n<r;)(i=e.charCodeAt(n++))>=55296&&i<=56319&&n<r?56320==(64512&(o=e.charCodeAt(n++)))?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--):t.push(i);return t}function ucs2encode(e){return map(e,function(e){var t="";return e>65535&&(t+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=E(e)}).join("")}function basicToDigit(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:d}function digitToBasic(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function adapt(e,t,n){var r=0;for(e=n?T(e/g):e>>1,e+=T(e/t);e>C*h>>1;r+=d)e=T(e/C);return T(r+(C+1)*e/(e+f))}function decode(e){var t=[],n=e.length,r,i=0,o=v,a=m,s,c,u,f,g,_,b,S,w;for((s=e.lastIndexOf(y))<0&&(s=0),c=0;c<s;++c)e.charCodeAt(c)>=128&&error("not-basic"),t.push(e.charCodeAt(c));for(u=s>0?s+1:0;u<n;){for(f=i,g=1,_=d;u>=n&&error("invalid-input"),((b=basicToDigit(e.charCodeAt(u++)))>=d||b>T((l-i)/g))&&error("overflow"),i+=b*g,S=_<=a?p:_>=a+h?h:_-a,!(b<S);_+=d)g>T(l/(w=d-S))&&error("overflow"),g*=w;a=adapt(i-f,r=t.length+1,0==f),T(i/r)>l-o&&error("overflow"),o+=T(i/r),i%=r,t.splice(i++,0,o)}return ucs2encode(t)}function encode(e){var t,n,r,i,o,a,s,c,u,f,g,_=[],b,S,w,C;for(b=(e=ucs2decode(e)).length,t=v,n=0,o=m,a=0;a<b;++a)(g=e[a])<128&&_.push(E(g));for(r=i=_.length,i&&_.push(y);r<b;){for(s=l,a=0;a<b;++a)(g=e[a])>=t&&g<s&&(s=g);for(s-t>T((l-n)/(S=r+1))&&error("overflow"),n+=(s-t)*S,t=s,a=0;a<b;++a)if((g=e[a])<t&&++n>l&&error("overflow"),g==t){for(c=n,u=d;f=u<=o?p:u>=o+h?h:u-o,!(c<f);u+=d)C=c-f,w=d-f,_.push(E(digitToBasic(f+C%w,0))),c=T(C/w);_.push(E(digitToBasic(c,0))),o=adapt(n,S,r==i),n=0,++r}++n,++t}return _.join("")}function toUnicode(e){return mapDomain(e,function(e){return _.test(e)?decode(e.slice(4).toLowerCase()):e})}function toASCII(e){return mapDomain(e,function(e){return b.test(e)?"xn--"+encode(e):e})}var a="object"==typeof t&&t&&!t.nodeType&&t,s="object"==typeof e&&e&&!e.nodeType&&e,c="object"==typeof r&&r;c.global!==c&&c.window!==c&&c.self!==c||(o=c);var u,l=2147483647,d=36,p=1,h=26,f=38,g=700,m=72,v=128,y="-",_=/^xn--/,b=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=d-p,T=Math.floor,E=String.fromCharCode,k;u={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},void 0!==(i=function(){return u}.call(t,n,t,e))&&(e.exports=i)}(this)}).call(t,n(103)(e),n(37))},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(e,t,n){"use strict";function subscript(e,t){var n,i,o,a=e.posMax,s=e.pos;if(126!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+2>=a)return!1;for(e.pos=s+1;e.pos<a;){if(126===e.src.charCodeAt(e.pos)){n=!0;break}e.md.inline.skipToken(e)}return n&&s+1!==e.pos?(i=e.src.slice(s+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=s,!1):(e.posMax=e.pos,e.pos=s+1,o=e.push("sub_open","sub",1),o.markup="~",o=e.push("text","",0),o.content=i.replace(r,"$1"),o=e.push("sub_close","sub",-1),o.markup="~",e.pos=e.posMax+1,e.posMax=a,!0):(e.pos=s,!1)}var r=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;e.exports=function sub_plugin(e){e.inline.ruler.after("emphasis","sub",subscript)}},function(e,t,n){"use strict";function superscript(e,t){var n,i,o,a=e.posMax,s=e.pos;if(94!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+2>=a)return!1;for(e.pos=s+1;e.pos<a;){if(94===e.src.charCodeAt(e.pos)){n=!0;break}e.md.inline.skipToken(e)}return n&&s+1!==e.pos?(i=e.src.slice(s+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=s,!1):(e.posMax=e.pos,e.pos=s+1,o=e.push("sup_open","sup",1),o.markup="^",o=e.push("text","",0),o.content=i.replace(r,"$1"),o=e.push("sup_close","sup",-1),o.markup="^",e.pos=e.posMax+1,e.posMax=a,!0):(e.pos=s,!1)}var r=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;e.exports=function sup_plugin(e){e.inline.ruler.after("emphasis","sup",superscript)}},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){function math(e,t){var n=e.pos;if(92!==e.src.charCodeAt(n))return!1;var r=e.src.slice(++n).match(/^(?:\\\[|\\\(|begin\{([^}]*)\})/);if(!r)return!1;n+=r[0].length;var i,o,a;"\\["===r[0]?(i="display_math",o="\\\\]"):"\\("===r[0]?(i="inline_math",o="\\\\)"):r[1]&&(i="math",o="\\end{"+r[1]+"}",a=!0);var s=e.src.indexOf(o,n);if(-1===s)return!1;var c=s+o.length;return t||(e.push(i,"",0).content=a?e.src.slice(e.pos,c):e.src.slice(n,s)),e.pos=c,!0}function texMath(e,t){var n=e.pos;if(36!==e.src.charCodeAt(n))return!1;var r="$",i=e.src.charCodeAt(++n);if(36===i){if(r="$$",36===e.src.charCodeAt(++n))return!1}else if(32===i||9===i||10===i)return!1;var o=e.src.indexOf(r,n);if(-1===o)return!1;if(92===e.src.charCodeAt(o-1))return!1;var a=o+r.length;if(1===r.length){var s=e.src.charCodeAt(o-1);if(32===s||9===s||10===s)return!1;var c=e.src.charCodeAt(a);if(c>=48&&c<58)return!1}return t||(e.push(1===r.length?"inline_math":"display_math","",0).content=e.src.slice(n,o)),e.pos=a,!0}function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")}function extend(e,t){return Object.keys(t).reduce(function(e,n){return void 0===e[n]&&(e[n]=t[n]),e},e)}var e={math:"Math",inline_math:"InlineMath",display_math:"DisplayMath"};return function(t){return t=extend(t||{},{beforeMath:"",afterMath:"",beforeInlineMath:"\\(",afterInlineMath:"\\)",beforeDisplayMath:"\\[",afterDisplayMath:"\\]"}),function(n){n.inline.ruler.before("escape","math",math),n.inline.ruler.push("texMath",texMath),Object.keys(e).forEach(function(r){var i=t["before"+e[r]],o=t["after"+e[r]];n.renderer.rules[r]=function(e,t){return i+escapeHtml(e[t].content)+o}})}}})},function(e,t){e.exports=function markdownItUnderline(e){function renderEm(e,t,n,r,i){var o=e[t];return"_"===o.markup&&(o.tag="u"),i.renderToken(e,t,n)}e.renderer.rules.em_open=renderEm,e.renderer.rules.em_close=renderEm}},function(e,t,n){"use strict";e.exports=function container_plugin(e,t,n){function validateDefault(e){return e.trim().split(" ",2)[0]===t}function renderDefault(e,n,r,i,o){return 1===e[n].nesting&&e[n].attrPush(["class",t]),o.renderToken(e,n,r,i,o)}function container(e,n,c,u){var l,d,p,h,f,g,m,v,y=!1,_=e.bMarks[n]+e.tShift[n],b=e.eMarks[n];if(o!==e.src.charCodeAt(_))return!1;for(l=_+1;l<=b&&i[(l-_)%a]===e.src[l];l++);if((p=Math.floor((l-_)/a))<r)return!1;if(l-=(l-_)%a,h=e.src.slice(_,l),f=e.src.slice(l,b),!s(f))return!1;if(u)return!0;for(d=n;!(++d>=c)&&(_=e.bMarks[d]+e.tShift[d],b=e.eMarks[d],!(_<b&&e.sCount[d]<e.blkIndent));)if(o===e.src.charCodeAt(_)&&!(e.sCount[d]-e.blkIndent>=4)){for(l=_+1;l<=b&&i[(l-_)%a]===e.src[l];l++);if(!(Math.floor((l-_)/a)<p||(l-=(l-_)%a,(l=e.skipSpaces(l))<b))){y=!0;break}}return m=e.parentType,v=e.lineMax,e.parentType="container",e.lineMax=d,g=e.push("container_"+t+"_open","div",1),g.markup=h,g.block=!0,g.info=f,g.map=[n,d],e.md.block.tokenize(e,n+1,d),g=e.push("container_"+t+"_close","div",-1),g.markup=e.src.slice(_,l),g.block=!0,e.parentType=m,e.lineMax=v,e.line=d+(y?1:0),!0}var r=3,i=(n=n||{}).marker||":",o=i.charCodeAt(0),a=i.length,s=n.validate||validateDefault,c=n.render||renderDefault;e.block.ruler.before("fence","container_"+t,container,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules["container_"+t+"_open"]=c,e.renderer.rules["container_"+t+"_close"]=c}},function(e,t,n){"use strict";function markdownitLinkAttributes(e,t){t=t||{};var n=e.renderer.rules.link_open||this.defaultRender,r=Object.keys(t);e.renderer.rules.link_open=function(e,i,o,a,s){return r.forEach(function(n){var r=t[n],o=e[i].attrIndex(n);o<0?e[i].attrPush([n,r]):e[i].attrs[o][1]=r}),n(e,i,o,a,s)}}markdownitLinkAttributes.defaultRender=function(e,t,n,r,i){return i.renderToken(e,t,n)},e.exports=markdownitLinkAttributes},function(e,t,n){!function(e){var n="object"==typeof window&&window||"object"==typeof self&&self;e(t)}(function(e){function escape(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tag(e){return e.nodeName.toLowerCase()}function testRe(e,t){var n=e&&e.exec(t);return n&&0===n.index}function isNotHighlighted(e){return o.test(e)}function blockLanguage(e){var t,n,r,i,o=e.className+" ";if(o+=e.parentNode?e.parentNode.className:"",n=a.exec(o))return getLanguage(n[1])?n[1]:"no-highlight";for(t=0,r=(o=o.split(/\s+/)).length;t<r;t++)if(i=o[t],isNotHighlighted(i)||getLanguage(i))return i}function inherit(e){var t,n={},r=Array.prototype.slice.call(arguments,1);for(t in e)n[t]=e[t];return r.forEach(function(e){for(t in e)n[t]=e[t]}),n}function nodeStream(e){var t=[];return function _nodeStream(e,n){for(var r=e.firstChild;r;r=r.nextSibling)3===r.nodeType?n+=r.nodeValue.length:1===r.nodeType&&(t.push({event:"start",offset:n,node:r}),n=_nodeStream(r,n),tag(r).match(/br|hr|img|input/)||t.push({event:"stop",offset:n,node:r}));return n}(e,0),t}function mergeStreams(e,n,r){function selectStream(){return e.length&&n.length?e[0].offset!==n[0].offset?e[0].offset<n[0].offset?e:n:"start"===n[0].event?e:n:e.length?e:n}function open(e){function attr_str(e){return" "+e.nodeName+'="'+escape(e.value).replace('"',"&quot;")+'"'}o+="<"+tag(e)+t.map.call(e.attributes,attr_str).join("")+">"}function close(e){o+="</"+tag(e)+">"}function render(e){("start"===e.event?open:close)(e.node)}for(var i=0,o="",a=[];e.length||n.length;){var s=selectStream();if(o+=escape(r.substring(i,s[0].offset)),i=s[0].offset,s===e){a.reverse().forEach(close);do{render(s.splice(0,1)[0]),s=selectStream()}while(s===e&&s.length&&s[0].offset===i);a.reverse().forEach(open)}else"start"===s[0].event?a.push(s[0].node):a.pop(),render(s.splice(0,1)[0])}return o+escape(r.substr(i))}function expand_mode(e){return e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map(function(t){return inherit(e,{variants:null},t)})),e.cached_variants||e.endsWithParent&&[inherit(e)]||[e]}function compileLanguage(e){function reStr(e){return e&&e.source||e}function langRe(t,n){return new RegExp(reStr(t),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}function compileMode(t,r){if(!t.compiled){if(t.compiled=!0,t.keywords=t.keywords||t.beginKeywords,t.keywords){var i={},o=function(t,n){e.case_insensitive&&(n=n.toLowerCase()),n.split(" ").forEach(function(e){var n=e.split("|");i[n[0]]=[t,n[1]?Number(n[1]):1]})};"string"==typeof t.keywords?o("keyword",t.keywords):n(t.keywords).forEach(function(e){o(e,t.keywords[e])}),t.keywords=i}t.lexemesRe=langRe(t.lexemes||/\w+/,!0),r&&(t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")\\b"),t.begin||(t.begin=/\B|\b/),t.beginRe=langRe(t.begin),t.end||t.endsWithParent||(t.end=/\B|\b/),t.end&&(t.endRe=langRe(t.end)),t.terminator_end=reStr(t.end)||"",t.endsWithParent&&r.terminator_end&&(t.terminator_end+=(t.end?"|":"")+r.terminator_end)),t.illegal&&(t.illegalRe=langRe(t.illegal)),null==t.relevance&&(t.relevance=1),t.contains||(t.contains=[]),t.contains=Array.prototype.concat.apply([],t.contains.map(function(e){return expand_mode("self"===e?t:e)})),t.contains.forEach(function(e){compileMode(e,t)}),t.starts&&compileMode(t.starts,r);var a=t.contains.map(function(e){return e.beginKeywords?"\\.?("+e.begin+")\\.?":e.begin}).concat([t.terminator_end,t.illegal]).map(reStr).filter(Boolean);t.terminators=a.length?langRe(a.join("|"),!0):{exec:function(){return null}}}}compileMode(e)}function highlight(e,t,n,i){function subMode(e,t){var n,r;for(n=0,r=t.contains.length;n<r;n++)if(testRe(t.contains[n].beginRe,e))return t.contains[n]}function endOfMode(e,t){if(testRe(e.endRe,t)){for(;e.endsParent&&e.parent;)e=e.parent;return e}if(e.endsWithParent)return endOfMode(e.parent,t)}function isIllegal(e,t){return!n&&testRe(t.illegalRe,e)}function keywordMatch(e,t){var n=o.case_insensitive?t[0].toLowerCase():t[0];return e.keywords.hasOwnProperty(n)&&e.keywords[n]}function buildSpan(e,t,n,r){var i='<span class="'+(r?"":u.classPrefix);return(i+=e+'">')+t+(n?"":c)}function processKeywords(){var e,t,n,r;if(!a.keywords)return escape(p);for(r="",t=0,a.lexemesRe.lastIndex=0,n=a.lexemesRe.exec(p);n;)r+=escape(p.substring(t,n.index)),(e=keywordMatch(a,n))?(h+=e[1],r+=buildSpan(e[0],escape(n[0]))):r+=escape(n[0]),t=a.lexemesRe.lastIndex,n=a.lexemesRe.exec(p);return r+escape(p.substr(t))}function processSubLanguage(){var e="string"==typeof a.subLanguage;if(e&&!r[a.subLanguage])return escape(p);var t=e?highlight(a.subLanguage,p,!0,s[a.subLanguage]):highlightAuto(p,a.subLanguage.length?a.subLanguage:void 0);return a.relevance>0&&(h+=t.relevance),e&&(s[a.subLanguage]=t.top),buildSpan(t.language,t.value,!1,!0)}function processBuffer(){l+=null!=a.subLanguage?processSubLanguage():processKeywords(),p=""}function startNewMode(e){l+=e.className?buildSpan(e.className,"",!0):"",a=Object.create(e,{parent:{value:a}})}function processLexeme(e,t){if(p+=e,null==t)return processBuffer(),0;var n=subMode(t,a);if(n)return n.skip?p+=t:(n.excludeBegin&&(p+=t),processBuffer(),n.returnBegin||n.excludeBegin||(p=t)),startNewMode(n,t),n.returnBegin?0:t.length;var r=endOfMode(a,t);if(r){var i=a;i.skip?p+=t:(i.returnEnd||i.excludeEnd||(p+=t),processBuffer(),i.excludeEnd&&(p=t));do{a.className&&(l+=c),a.skip||(h+=a.relevance),a=a.parent}while(a!==r.parent);return r.starts&&startNewMode(r.starts,""),i.returnEnd?0:t.length}if(isIllegal(t,a))throw new Error('Illegal lexeme "'+t+'" for mode "'+(a.className||"<unnamed>")+'"');return p+=t,t.length||1}var o=getLanguage(e);if(!o)throw new Error('Unknown language: "'+e+'"');compileLanguage(o);var a=i||o,s={},l="",d;for(d=a;d!==o;d=d.parent)d.className&&(l=buildSpan(d.className,"",!0)+l);var p="",h=0;try{for(var f,g,m=0;;){if(a.terminators.lastIndex=m,!(f=a.terminators.exec(t)))break;g=processLexeme(t.substring(m,f.index),f[0]),m=f.index+g}for(processLexeme(t.substr(m)),d=a;d.parent;d=d.parent)d.className&&(l+=c);return{relevance:h,value:l,language:e,top:a}}catch(e){if(e.message&&-1!==e.message.indexOf("Illegal"))return{relevance:0,value:escape(t)};throw e}}function highlightAuto(e,t){t=t||u.languages||n(r);var i={relevance:0,value:escape(e)},o=i;return t.filter(getLanguage).forEach(function(t){var n=highlight(t,e,!1);n.language=t,n.relevance>o.relevance&&(o=n),n.relevance>i.relevance&&(o=i,i=n)}),o.language&&(i.second_best=o),i}function fixMarkup(e){return u.tabReplace||u.useBR?e.replace(s,function(e,t){return u.useBR&&"\n"===e?"<br>":u.tabReplace?t.replace(/\t/g,u.tabReplace):""}):e}function buildClassName(e,t,n){var r=t?i[t]:n,o=[e.trim()];return e.match(/\bhljs\b/)||o.push("hljs"),-1===e.indexOf(r)&&o.push(r),o.join(" ").trim()}function highlightBlock(e){var t,n,r,i,o,a=blockLanguage(e);isNotHighlighted(a)||(u.useBR?(t=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):t=e,o=t.textContent,r=a?highlight(a,o,!0):highlightAuto(o),(n=nodeStream(t)).length&&((i=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=r.value,r.value=mergeStreams(n,nodeStream(i),o)),r.value=fixMarkup(r.value),e.innerHTML=r.value,e.className=buildClassName(e.className,a,r.language),e.result={language:r.language,re:r.relevance},r.second_best&&(e.second_best={language:r.second_best.language,re:r.second_best.relevance}))}function configure(e){u=inherit(u,e)}function initHighlighting(){if(!initHighlighting.called){initHighlighting.called=!0;var e=document.querySelectorAll("pre code");t.forEach.call(e,highlightBlock)}}function initHighlightingOnLoad(){addEventListener("DOMContentLoaded",initHighlighting,!1),addEventListener("load",initHighlighting,!1)}function registerLanguage(t,n){var o=r[t]=n(e);o.aliases&&o.aliases.forEach(function(e){i[e]=t})}function listLanguages(){return n(r)}function getLanguage(e){return e=(e||"").toLowerCase(),r[e]||r[i[e]]}var t=[],n=Object.keys,r={},i={},o=/^(no-?highlight|plain|text)$/i,a=/\blang(?:uage)?-([\w-]+)\b/i,s=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,c="</span>",u={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};return e.highlight=highlight,e.highlightAuto=highlightAuto,e.fixMarkup=fixMarkup,e.highlightBlock=highlightBlock,e.configure=configure,e.initHighlighting=initHighlighting,e.initHighlightingOnLoad=initHighlightingOnLoad,e.registerLanguage=registerLanguage,e.listLanguages=listLanguages,e.getLanguage=getLanguage,e.inherit=inherit,e.IDENT_RE="[a-zA-Z]\\w*",e.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",e.NUMBER_RE="\\b\\d+(\\.\\d+)?",e.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BINARY_NUMBER_RE="\\b(0b[01]+)",e.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},e.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},e.COMMENT=function(t,n,r){var i=e.inherit({className:"comment",begin:t,end:n,contains:[]},r||{});return i.contains.push(e.PHRASAL_WORDS_MODE),i.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),i},e.C_LINE_COMMENT_MODE=e.COMMENT("//","$"),e.C_BLOCK_COMMENT_MODE=e.COMMENT("/\\*","\\*/"),e.HASH_COMMENT_MODE=e.COMMENT("#","$"),e.NUMBER_MODE={className:"number",begin:e.NUMBER_RE,relevance:0},e.C_NUMBER_MODE={className:"number",begin:e.C_NUMBER_RE,relevance:0},e.BINARY_NUMBER_MODE={className:"number",begin:e.BINARY_NUMBER_RE,relevance:0},e.CSS_NUMBER_MODE={className:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},e.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}]},e.TITLE_MODE={className:"title",begin:e.IDENT_RE,relevance:0},e.UNDERSCORE_TITLE_MODE={className:"title",begin:e.UNDERSCORE_IDENT_RE,relevance:0},e.METHOD_GUARD={begin:"\\.\\s*"+e.UNDERSCORE_IDENT_RE,relevance:0},e})},function(e,t,n){"use strict";function default_1(e){var t={className:"meta",begin:/^(>>>|\.\.\.) /},n={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/(u|b)?r?'''/,end:/'''/,contains:[t],relevance:10},{begin:/(u|b)?r?"""/,end:/"""/,contains:[t],relevance:10},{begin:/(u|r|ur)'/,end:/'/,relevance:10},{begin:/(u|r|ur)"/,end:/"/,relevance:10},{begin:/(b|br)'/,end:/'/},{begin:/(b|br)"/,end:/"/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},r={className:"number",relevance:0,variants:[{begin:e.BINARY_NUMBER_RE+"[lLjJ]?"},{begin:"\\b(0o[0-7]+)[lLjJ]?"},{begin:e.C_NUMBER_RE+"[lLjJ]?"}]},i={className:"params",begin:/\(/,end:/\)/,contains:["self",t,r,n]};return{aliases:["language-pramp"],keywords:{keyword:"AND and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del OR or def function lambda async await nonlocal|10 None True true False false null length new",built_in:"Ellipsis NotImplemented"},illegal:/(<\/|->|\?)|=>/,contains:[t,r,n,e.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"function"},{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[e.UNDERSCORE_TITLE_MODE,i,{begin:/->/,endsWithParent:!0,keywords:"None"}]},{className:"meta",begin:/^[\t ]*@/,end:/$/},{begin:/\b(print|exec)\(/}]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=default_1},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(1182),o=n(1);t.NavTabsMeasure=function(e){var t=e.children,n=e.onResize;return r.createElement(i.default,{bounds:!0,onResize:function onResize(e){var t=e.bounds;return n(t.width)}},function(e){var n=e.measureRef;return o.cloneElement(t,{ref:n})})}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.withContentRect=t.default=void 0;var r=_interopRequireDefault(n(1183)),i=_interopRequireDefault(n(887));t.default=r.default,t.withContentRect=i.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Measure(e){var t=e.measure,n=e.measureRef,r=e.contentRect;return(0,e.children)({measure:t,measureRef:n,contentRect:r})}Object.defineProperty(t,"__esModule",{value:!0});var r=_interopRequireDefault(n(1)),i=_interopRequireDefault(n(887));t.default=(0,i.default)()(Measure),e.exports=t.default},function(e,t,n){"use strict";function toFloat(e){return parseFloat(e)||0}function getBordersSize(e){return Array.prototype.slice.call(arguments,1).reduce(function(t,n){return t+toFloat(e["border-"+n+"-width"])},0)}function getPaddings(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],o=e["padding-"+i];t[i]=toFloat(o)}return t}function getSVGContentRect(e){var t=e.getBBox();return createRectInit(0,0,t.width,t.height)}function getHTMLElementContentRect(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=getComputedStyle(e),i=getPaddings(r),o=i.left+i.right,a=i.top+i.bottom,s=toFloat(r.width),c=toFloat(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=getBordersSize(r,"left","right")+o),Math.round(c+a)!==n&&(c-=getBordersSize(r,"top","bottom")+a)),!isDocumentElement(e)){var u=Math.round(s+o)-t,l=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l)}return createRectInit(i.left,i.top,s,c)}function isDocumentElement(e){return e===document.documentElement}function getContentRect(e){return i?g(e)?getSVGContentRect(e):getHTMLElementContentRect(e):f}function createReadOnlyRect(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return h(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function createRectInit(e,t,n,r){return{x:e,y:t,width:n,height:r}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function getIndex(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function anonymous(){this.__entries__=[]}var e={size:{}};return e.size.get=function(){return this.__entries__.length},anonymous.prototype.get=function(e){var t=getIndex(this.__entries__,e),n=this.__entries__[t];return n&&n[1]},anonymous.prototype.set=function(e,t){var n=getIndex(this.__entries__,e);~n?this.__entries__[n][1]=t:this.__entries__.push([e,t])},anonymous.prototype.delete=function(e){var t=this.__entries__,n=getIndex(t,e);~n&&t.splice(n,1)},anonymous.prototype.has=function(e){return!!~getIndex(this.__entries__,e)},anonymous.prototype.clear=function(){this.__entries__.splice(0)},anonymous.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(anonymous.prototype,e),anonymous}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o="function"==typeof requestAnimationFrame?requestAnimationFrame:function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},a=2,s=function(e,t){function resolvePending(){n&&(n=!1,e()),r&&proxy()}function timeoutCallback(){o(resolvePending)}function proxy(){var e=Date.now();if(n){if(e-i<a)return;r=!0}else n=!0,r=!1,setTimeout(timeoutCallback,t);i=e}var n=!1,r=!1,i=0;return proxy},c=20,u=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof navigator&&/Trident\/.*rv:11/.test(navigator.userAgent),d="undefined"!=typeof MutationObserver&&!l,p=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),20)};p.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},p.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},p.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},p.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},p.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),d?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},p.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},p.prototype.onTransitionEnd_=function(e){var t=e.propertyName;u.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},p.getInstance=function(){return this.instance_||(this.instance_=new p),this.instance_},p.instance_=null;var h=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=createRectInit(0,0,0,0),g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof SVGGraphicsElement}:function(e){return e instanceof SVGElement&&"function"==typeof e.getBBox},m=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=e};m.prototype.isActive=function(){var e=getContentRect(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},m.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var v=function(e,t){var n=createReadOnlyRect(t);h(this,{target:e,contentRect:n})},y=function(e,t,n){if("function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.activeObservations_=[],this.observations_=new r,this.callback_=e,this.controller_=t,this.callbackCtx_=n};y.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new m(e)),this.controller_.addObserver(this),this.controller_.refresh())}},y.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},y.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},y.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},y.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new v(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},y.prototype.clearActive=function(){this.activeObservations_.splice(0)},y.prototype.hasActive=function(){return this.activeObservations_.length>0};var _="undefined"!=typeof WeakMap?new WeakMap:new r,b=function(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=p.getInstance(),n=new y(e,t,this);_.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){b.prototype[e]=function(){return(t=_.get(this))[e].apply(t,arguments);var t}});var S="undefined"!=typeof ResizeObserver?ResizeObserver:b;t.default=S},function(e,t,n){"use strict";function getTypes(e){var t=[];return r.forEach(function(n){e[n]&&t.push(n)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=getTypes;var r=["client","offset","scroll","bounds","margin"];e.exports=t.default},function(e,t,n){"use strict";function getContentRect(e,t){var n={};if(t.indexOf("client")>-1&&(n.client={top:e.clientTop,left:e.clientLeft,width:e.clientWidth,height:e.clientHeight}),t.indexOf("offset")>-1&&(n.offset={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),t.indexOf("scroll")>-1&&(n.scroll={top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}),t.indexOf("bounds")>-1){var r=e.getBoundingClientRect();n.bounds={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}}if(t.indexOf("margin")>-1){var i=getComputedStyle(e);n.margin={top:parseInt(i.marginTop),right:parseInt(i.marginRight),bottom:parseInt(i.marginBottom),left:parseInt(i.marginLeft)}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=getContentRect,e.exports=t.default},function(e,t){},function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);n(1189),t.ConfirmModalContent=function(e){var t=e.className,n=e.children,o=e.align,a=i("confirm-modal-content",t,_defineProperty({},"confirm-modal-content_"+o,o));return r.createElement("div",{className:a},n)}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(285);t.ConfirmModal=function(e){var t=e.isOpen,n=e.title,o=e.children,a=e.onClose,s=e.rightButtonText,c=e.leftButtonText;return r.createElement(i.default,Object.assign({},{isOpen:t,className:"confirm-modal-component",overlayClassName:"confirm-modal-component_overlay",contentLabel:"ConfirmModal",onRequestClose:function onRequestClose(){return a(!1)}}),r.createElement("div",{className:"confirm-modal-component__wrapper"},r.createElement("div",{className:"confirm-modal-component__header"},n&&r.createElement("div",{className:"confirm-modal-component__title"},n),r.createElement("span",{className:"btn--close",onClick:function onClick(){return a(!1)}},r.createElement("span",{className:"icon icon--close"}))),r.createElement("div",{className:"confirm-modal-component__body"},o),r.createElement("div",{className:"confirm-modal-component__controls"},r.createElement("button",{className:"btn btn_transparent btn_cancel",onClick:function onClick(){return a(!1)}},c||"Cancel"),r.createElement("button",{className:"btn btn_transparent btn_confirm",onClick:function onClick(){return a(!0)}},s||"Confirm"))))}},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(72),a=n(1515),s=n(329),c=n(1516),u=n(827);n(1603);var l=16,d=function(e){function SessionVideo(){_classCallCheck(this,SessionVideo);var e=_possibleConstructorReturn(this,(SessionVideo.__proto__||Object.getPrototypeOf(SessionVideo)).apply(this,arguments));return e.state={showHint:e.props.showVideoHint||!1,videoPosition:{x:9999,y:0},videoBounds:{left:0,top:0,right:0,bottom:0}},e.onStartDrag=function(){e.state.showHint&&(e.setState({showHint:!1}),e.props.ackVideo())},e.onVideoDrag=function(t,n){t.preventDefault(),e.setState({videoPosition:{x:n.x,y:n.y}})},e.onWindowResize=s(function(){var t=e.getVideoBoundingClientRect(),n=t.width,r=t.height,i=e.props.getContentBoundingClientRect().height,o=window.innerWidth;e.setState({videoPosition:{x:o-n-l,y:l},videoBounds:{left:l,right:o-n-l,top:0,bottom:i-r-l}})}),e}return _inherits(SessionVideo,e),r(SessionVideo,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=e.showVideoHint;this.props.showVideoHint!==t&&this.setState({showHint:t})}},{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function render(){var e=this.state,t=e.videoPosition,n=e.videoBounds,r=e.showHint;return i.createElement(a,{position:t,bounds:n,onDrag:this.onVideoDrag,onStart:this.onStartDrag},i.createElement("div",{className:"session-video"},this.props.connectionless?i.createElement(c.ConnectionlessVideo,{ref:"video-container"}):i.createElement(c.VideoContainer,{runCommand:this.props.runCommand,ref:"video-container"}),i.createElement(u.Popover,{visible:r,isHint:!0},i.createElement("p",{className:"popover-component-text"},"Drag me"))))}},{key:"getVideoBoundingClientRect",value:function getVideoBoundingClientRect(){return o.findDOMNode(this.refs["video-container"]).getBoundingClientRect()}}]),SessionVideo}(i.Component);t.SessionVideo=d},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(808);t.consoleClear=function(e){return{type:r.CONSOLE_CLEAR,payload:e}},t.consoleResult=function(e){return{type:r.CONSOLE_RESULT,payload:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.languages=[{value:"JavaScript",label:"JavaScript",icon:"devicon-javascript-plain",initialCode:"console.log('Hello Pramp!');"},{value:"Java",label:"Java",icon:"devicon-java-plain",initialCode:'class Main {\n  static public void main( String args[] ) {\n    System.out.println( "Hello Pramp!" );\n  }\n}'},{value:"Python",label:"Python",icon:"devicon-python-plain",initialCode:'print "Hello Pramp!"'},{value:"Ruby",label:"Ruby",icon:"devicon-ruby-plain",initialCode:'puts "Hello Pramp!"'},{value:"PHP",label:"PHP",icon:"devicon-php-plain",initialCode:"echo 'Hello Pramp!';"},{value:"Go",label:"Go",icon:"devicon-go-plain",initialCode:'package main\nimport "fmt"\nfunc main() {\n  fmt.Printf("Hello Pramp!")\n}'},{value:"C#",label:"C#",icon:"icon--csharp",initialCode:'class HelloWorld\n{\n    static void Main()\n    {\n        System.Console.WriteLine("Hello Pramp!");\n    }\n}'},{value:"C",label:"C",icon:"icon--c",initialCode:'#include <stdio.h>\n#include <stdlib.h>\n\nint main(void)\n{\n  puts("Hello Pramp!");\n  return EXIT_SUCCESS;\n}'},{value:"C++",label:"C++",icon:"icon--cplusplus",initialCode:'#include <iostream>\n\nint main()\n{\n    std::cout << "Hello Pramp!" << std::endl;\n    return 0;\n}'},{value:"Swift",label:"Swift",icon:"icon--swift",initialCode:'print("Hello Pramp!")'},{value:"Clojure",label:"Clojure",icon:"icon--clojure",initialCode:'(defn hello []\n  (println "Hello Pramp!"))\n\n(hello)'},{value:"Haskell",label:"Haskell",icon:"icon--haskell",initialCode:'main = putStrLn "Hello Pramp!"'}]},,,,,,,,,,,,,,,function(e,t,n){"use strict";function batchActions(e){return{type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,meta:{batch:!0},payload:e}}function enableBatching(e){return function batchingReducer(t,n){return n&&n.meta&&n.meta.batch?n.payload.reduce(batchingReducer,t):e(t,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.batchActions=batchActions,t.enableBatching=enableBatching;var r=t.BATCH="BATCHING_REDUCER.BATCH"},,,,,,,,,,,function(e,t,n){function charsEndIndex(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}var r=n(770);e.exports=charsEndIndex},function(e,t,n){function charsStartIndex(e,t){for(var n=-1,i=e.length;++n<i&&r(t,e[n],0)>-1;);return n}var r=n(770);e.exports=charsStartIndex},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(242);t.updateVideoStatus=function(e){return{type:r.UPDATE_VIDEO_STATUS,payload:{status:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.webSocketCommand=function(e,t){return{type:e,payload:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(185);t.webSocketConnect=function(){return{type:r.WS_CONNECTED}},t.webSocketDisconnect=function(){return{type:r.WS_DISCONNECTED}}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(446),n(815),__export(n(1234)),__export(n(933)),__export(n(930)),__export(n(931)),__export(n(932)),__export(n(988)),__export(n(1088)),__export(n(994))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(795),o=n(1235),a=n(653),s=function mapStateToProps(e){return{showRunCodeHintAcknowledged:a.showRunCodeHintAcknowledgedSelector(e),showConsoleScrollHint:e.session.showConsoleScrollHint,webSocketConnected:e.webSocket.connected,hadTestsUnlocked:e.session.hadTestsUnlocked,showRunCodeHint:a.showRunCodeHintSelector(e),showVideoHint:e.session.showVideoHint,leftBarHidden:e.splitPane.leftBarHidden,isInterviewer:e.session.isInterviewer,dashboardUrl:e.session.dashboardUrl,initialCode:e.session.code.initial,challenge:e.session.challenge,language:e.session.code.language,hasTests:e.session.code.hasTests,running:e.console.running,link:a.linkSelector(e)}},c={toggleLeftBar:i.toggleLeftBar};t.SessionContainer=r.connect(s,c)(o.SessionContainer)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(72),a=n(295),s=n(185),c=n(1236),u=n(930),l=n(988),d=n(931),p=n(932),h=n(994),f=n(1280),g=n(1286),m=n(1291),v=n(1293),y=n(1294),_=n(933),b=n(1297),S=n(1299),w=n(1191),C=n(1088),T=n(888),E=n(934),k=function(e){function Session(){_classCallCheck(this,Session);var e=_possibleConstructorReturn(this,(Session.__proto__||Object.getPrototypeOf(Session)).apply(this,arguments));return e.state={webSocketConnectedAlertModalShown:!1},e.ifConnected=function(t){return e.props.webSocketConnected?t():e.showWebSocketConnectedAlertModal()},e.runCommand=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.props.socket.send(t,n)},e.runCode=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props,i=r.language,o=r.showRunCodeHintAcknowledged;e.ifConnected(function(){o||e.runCommand(s.WS_SEND_ACK,"showRunCodeHint"),e.runCommand(s.WS_SEND_RUN,{code:t,language:i,runTests:n}),e.props.track("session run code",{runWithTests:n})})},e.runTests=function(t){e.runCode(t,!0),e.ackConfirmRunningTests()},e.changeLanguage=function(t){e.ifConnected(function(){return e.runCommand(s.WS_SEND_LANGUAGE,{language:t})})},e.swapRoles=function(){e.ifConnected(function(){return e.runCommand(s.WS_SEND_SWAP_ROLE)})},e.endInterview=function(){e.ifConnected(function(){return e.runCommand(s.WS_SEND_END_INTERVIEW)})},e.ackLanguage=function(){e.ifConnected(function(){return e.runCommand(s.WS_SEND_ACK,"language")})},e.ackQuestion=function(){e.ifConnected(function(){return e.runCommand(s.WS_SEND_ACK,"question")})},e.ackVideo=function(){e.ifConnected(function(){return e.runCommand(s.WS_SEND_ACK,"showVideoHint")})},e.ackConfirmRunningTests=function(){e.ifConnected(function(){return e.runCommand(s.WS_SEND_ACK,"unlockTests")})},e.ackConsoleScroll=function(){e.ifConnected(function(){e.runCommand(s.WS_SEND_ACK,"showConsoleScrollHint"),e.props.track("session show console hint")})},e.getContentBoundingClientRect=function(){return o.findDOMNode(e.refs["session-split-pane"]).getBoundingClientRect()},e.showWebSocketConnectedAlertModal=function(){e.setState({webSocketConnectedAlertModalShown:!0})},e.hideWebSocketConnectedAlertModal=function(){e.setState({webSocketConnectedAlertModalShown:!1})},e}return _inherits(Session,e),r(Session,[{key:"render",value:function render(){var e=this.state.webSocketConnectedAlertModalShown,t=this.props,n=t.showConsoleScrollHint,r=t.webSocketConnected,o=t.hadTestsUnlocked,a=t.showRunCodeHint,s=t.connectionless,k=t.showVideoHint,x=t.isInterviewer,I=t.dashboardUrl,R=t.initialCode,O=t.challenge,P=t.language,A=t.hasTests,M=t.running,N=t.userId,D=t.link,L=t.toggleLeftBar,F={initialCode:R,language:P,disabled:M};return i.createElement(u.SessionLayout,null,i.createElement(d.SessionHeader,null,i.createElement(m.SessionButtonGroup,null,s?i.createElement(y.SessionSignupButton,{endInterview:this.endInterview}):i.createElement(_.SessionDashboardButton,{url:I}),i.createElement(b.SessionSwapRolesButton,{swapRoles:this.swapRoles})),i.createElement(p.SessionTitle,null,x?c.INTERVIEWER_TITLE:c.DEFAULT_TITLE),i.createElement(v.SessionEndInterview,{endInterview:this.endInterview,swapRoles:this.swapRoles})),i.createElement(l.SessionSplitPane,{ref:"session-split-pane"},i.createElement(C.SessionLeftBar,{toggleLeftBar:L},i.createElement(h.SessionTabs,{challenge:O}),i.createElement(f.SessionQuestionPopover,{ackQuestion:this.ackQuestion})),i.createElement(T.SessionEditorLayout,null,i.createElement(T.SessionEditorHeader,{connected:r,language:P,disabled:M,selectLanguage:this.changeLanguage},i.createElement(g.SessionLanguagePopover,{ackLanguage:this.ackLanguage})),i.createElement(T.SessionEditorSplitPane,null,s?i.createElement(T.SessionEditorCodepad,Object.assign({},F)):i.createElement(T.SessionEditorFirepad,Object.assign({},F,{userId:N,link:D})),i.createElement(T.SessionEditorConsole,{hasTests:A,showConsoleScrollHint:n,consoleScroll:this.ackConsoleScroll})),i.createElement(T.SessionEditorFooter,null,i.createElement(T.SessionEditorRunCode,{onClick:this.runCode,showHint:a}),A&&i.createElement(S.SessionRunTests,{hadTestsUnlocked:o,isInterviewer:x,onClick:this.runTests}))),i.createElement(w.SessionVideo,{ackVideo:this.ackVideo,runCommand:this.runCommand,connectionless:this.props.connectionless,showVideoHint:k,getContentBoundingClientRect:this.getContentBoundingClientRect})),i.createElement(E.AlertModal,{isOpen:e,onClose:this.hideWebSocketConnectedAlertModal},i.createElement("p",null,"The server seems to be unavailable, please try again in a few seconds")))}},{key:"componentDidUpdate",value:function componentDidUpdate(e){e.isInterviewer!==this.props.isInterviewer&&this.props.leftBarHidden&&this.props.toggleLeftBar(!1)}}]),Session}(i.Component);t.SessionContainer=a.connectTracker(k)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TITLE="It's your peer's turn to interview you. When done, click on the swap roles button on the left",t.INTERVIEWER_TITLE="It's your turn to be the interviewer. when done, click on the swap roles button on the left"},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(795),o=n(1240),a=function mapStateToProps(e){return{leftBarHidden:e.splitPane.leftBarHidden}},s={toggleLeftBar:i.toggleLeftBar};t.SessionSplitPane=r.connect(a,s)(o.SessionSplitPane)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(15),a=n(329),s=n(1241),c=271,u=32,l=.35,d=15,p=2,h=function(e){function SessionSplitPane(){_classCallCheck(this,SessionSplitPane);var e=_possibleConstructorReturn(this,(SessionSplitPane.__proto__||Object.getPrototypeOf(SessionSplitPane)).apply(this,arguments));return e.state={splitPaneDefaultSize:0,splitPaneMaxSize:0},e.onWindowResize=a(function(){return e.setWidth()}),e.setWidth=function(){var t=window.innerWidth;e.setState({splitPaneDefaultSize:Math.max(c+u,l*t),splitPaneMaxSize:t})},e.toggleLeftBar=function(){e.splitPane.setSize({size:e.props.leftBarHidden?0:e.state.splitPaneDefaultSize},{})},e.onSplitPaneChange=function(t){t<=d?e.props.leftBarHidden||e.props.toggleLeftBar(!0):e.props.leftBarHidden&&e.props.toggleLeftBar(!1)},e}return _inherits(SessionSplitPane,e),r(SessionSplitPane,[{key:"render",value:function render(){var e=this,t=this.state,n=t.splitPaneDefaultSize,r=t.splitPaneMaxSize,a=this.props,c=a.leftBarHidden,u=a.children,l=o({"session-split-pane_closed":c});return i.createElement("div",{className:"session-split-pane"},i.createElement(s.SplitPane,{split:"vertical",minSize:0,maxSize:r,defaultSize:n,onChange:this.onSplitPaneChange,ref:function ref(t){return e.splitPane=t},className:l},u.slice(0,2)),u.slice(2))}},{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.leftBarHidden!==e.leftBarHidden&&this.toggleLeftBar()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}}]),SessionSplitPane}(i.Component);t.SessionSplitPane=h},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function SplitPane(){return _classCallCheck(this,SplitPane),_possibleConstructorReturn(this,(SplitPane.__proto__||Object.getPrototypeOf(SplitPane)).apply(this,arguments))}return _inherits(SplitPane,e),r(SplitPane,[{key:"setSize",value:function setSize(e,t){var n="first"===this.props.primary?this.pane1:this.pane2;if(n){var r=0;isNaN(e.size)?t&&!isNaN(t.draggedSize)?r=t.draggedSize:isNaN(e.defaultSize)?isNaN(e.minSize)||(r=e.minSize):r=e.defaultSize:r=e.size,n.setState({size:r}),e.size!==t.draggedSize&&this.setState({draggedSize:r})}}}]),SplitPane}(n(989));t.SplitPane=i},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function unFocus(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=_interopRequireDefault(n(1)),a=_interopRequireDefault(n(17)),s=_interopRequireDefault(n(72)),c=_interopRequireDefault(n(823)),u=_interopRequireDefault(n(825)),l=_interopRequireDefault(n(1275)),d=n(1276),p=_interopRequireDefault(d),h="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",f="undefined"!=typeof navigator?navigator.userAgent:h,g=function(e){function SplitPane(){_classCallCheck(this,SplitPane);var e=_possibleConstructorReturn(this,(SplitPane.__proto__||Object.getPrototypeOf(SplitPane)).call(this));return e.onMouseDown=e.onMouseDown.bind(e),e.onTouchStart=e.onTouchStart.bind(e),e.onMouseMove=e.onMouseMove.bind(e),e.onTouchMove=e.onTouchMove.bind(e),e.onMouseUp=e.onMouseUp.bind(e),e.state={active:!1,resized:!1},e}return _inherits(SplitPane,e),i(SplitPane,[{key:"componentDidMount",value:function componentDidMount(){this.setSize(this.props,this.state),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){this.setSize(e,this.state)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function onMouseDown(e){var t=r({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)}},{key:"onTouchStart",value:function onTouchStart(e){var t=this.props,n=t.allowResize,r=t.onDragStarted,i=t.split;if(n){unFocus(document,window);var o="vertical"===i?e.touches[0].clientX:e.touches[0].clientY;"function"==typeof r&&r(),this.setState({active:!0,position:o})}}},{key:"onMouseMove",value:function onMouseMove(e){var t=r({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)}},{key:"onTouchMove",value:function onTouchMove(e){var t=this.props,n=t.allowResize,r=t.maxSize,i=t.minSize,o=t.onChange,a=t.split,c=t.step,u=this.state,l=u.active,d=u.position;if(n&&l){unFocus(document,window);var p="first"===this.props.primary,h=p?this.pane1:this.pane2;if(h){var f=s.default.findDOMNode(h);if(f.getBoundingClientRect){var g=f.getBoundingClientRect().width,m=f.getBoundingClientRect().height,v="vertical"===a?e.touches[0].clientX:e.touches[0].clientY,y="vertical"===a?g:m,_=d-v;if(c){if(Math.abs(_)<c)return;_=~~(_/c)*c}var b=p?_:-_,S=r;if(void 0!==r&&r<=0){var w=this.splitPane;S="vertical"===a?w.getBoundingClientRect().width+r:w.getBoundingClientRect().height+r}var C=y-b,T=d-_;C<i?C=i:void 0!==r&&C>S?C=S:this.setState({position:T,resized:!0}),o&&o(C),this.setState({draggedSize:C}),h.setState({size:C})}}}}},{key:"onMouseUp",value:function onMouseUp(){var e=this.props,t=e.allowResize,n=e.onDragFinished,r=this.state,i=r.active,o=r.draggedSize;t&&i&&("function"==typeof n&&n(o),this.setState({active:!1}))}},{key:"setSize",value:function setSize(e,t){var n="first"===this.props.primary?this.pane1:this.pane2,r=void 0;n&&(r=e.size||t&&t.draggedSize||e.defaultSize||e.minSize,n.setState({size:r}),e.size!==t.draggedSize&&this.setState({draggedSize:r}))}},{key:"render",value:function render(){var e=this,t=this.props,n=t.allowResize,i=t.children,a=t.className,s=t.defaultSize,c=t.minSize,u=t.onResizerClick,h=t.onResizerDoubleClick,f=t.paneStyle,g=t.pane1Style,m=t.pane2Style,v=t.primary,y=t.prefixer,_=t.resizerClassName,b=t.resizerStyle,S=t.size,w=t.split,C=t.style,T=n?"":"disabled",E=_?_+" "+d.RESIZER_DEFAULT_CLASSNAME:_,k=r({},C||{},{display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"});"vertical"===w?r(k,{flexDirection:"row",left:0,right:0}):r(k,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});var x=["SplitPane",a,w,T],I=y.prefix(r({},f||{},g||{})),R=y.prefix(r({},f||{},m||{}));return o.default.createElement("div",{className:x.join(" "),ref:function ref(t){e.splitPane=t},style:y.prefix(k)},o.default.createElement(l.default,{className:"Pane1",key:"pane1",ref:function ref(t){e.pane1=t},size:"first"===v?S||s||c:void 0,split:w,style:I},i[0]),o.default.createElement(p.default,{className:T,onClick:u,onDoubleClick:h,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",ref:function ref(t){e.resizer=t},resizerClassName:E,split:w,style:b||{}}),o.default.createElement(l.default,{className:"Pane2",key:"pane2",ref:function ref(t){e.pane2=t},size:"second"===v?S||s||c:void 0,split:w,style:R},i[1]))}}]),SplitPane}(o.default.Component);g.propTypes={allowResize:a.default.bool,children:a.default.arrayOf(a.default.node).isRequired,className:a.default.string,primary:a.default.oneOf(["first","second"]),minSize:a.default.oneOfType([a.default.string,a.default.number]),maxSize:a.default.oneOfType([a.default.string,a.default.number]),defaultSize:a.default.oneOfType([a.default.string,a.default.number]),size:a.default.oneOfType([a.default.string,a.default.number]),split:a.default.oneOf(["vertical","horizontal"]),onDragStarted:a.default.func,onDragFinished:a.default.func,onChange:a.default.func,onResizerClick:a.default.func,onResizerDoubleClick:a.default.func,prefixer:a.default.instanceOf(c.default).isRequired,style:u.default,resizerStyle:u.default,paneStyle:u.default,pane1Style:u.default,pane2Style:u.default,resizerClassName:a.default.string,step:a.default.number},g.defaultProps={allowResize:!0,minSize:50,prefixer:new c.default({userAgent:f}),primary:"first",split:"vertical"},t.default=g,e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function createPrefixer(e){var t=e.prefixMap,n=e.plugins,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(){function Prefixer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Prefixer);var n="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=e.userAgent||n,this._keepUnprefixed=e.keepUnprefixed||!1,this._userAgent&&(this._browserInfo=(0,i.default)(this._userAgent)),!this._browserInfo||!this._browserInfo.cssPrefix)return this._useFallback=!0,!1;this.prefixedKeyframes=(0,o.default)(this._browserInfo.browserName,this._browserInfo.browserVersion,this._browserInfo.cssPrefix);var r=this._browserInfo.browserName&&t[this._browserInfo.browserName];if(r){this._requiresPrefix={};for(var a in r)r[a]>=this._browserInfo.browserVersion&&(this._requiresPrefix[a]=!0);this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0}else this._useFallback=!0;this._metaData={browserVersion:this._browserInfo.browserVersion,browserName:this._browserInfo.browserName,cssPrefix:this._browserInfo.cssPrefix,jsPrefix:this._browserInfo.jsPrefix,keepUnprefixed:this._keepUnprefixed,requiresPrefix:this._requiresPrefix}}return r(Prefixer,[{key:"prefix",value:function prefix(e){return this._useFallback?l(e):this._hasPropsRequiringPrefix?this._prefixStyle(e):e}},{key:"_prefixStyle",value:function _prefixStyle(e){for(var t in e){var r=e[t];if((0,c.default)(r))e[t]=this.prefix(r);else if(Array.isArray(r)){for(var i=[],o=0,l=r.length;o<l;++o){var d=(0,u.default)(n,t,r[o],e,this._metaData);(0,s.default)(i,d||r[o])}i.length>0&&(e[t]=i)}else{var p=(0,u.default)(n,t,r,e,this._metaData);p&&(e[t]=p),this._requiresPrefix.hasOwnProperty(t)&&(e[this._browserInfo.jsPrefix+(0,a.default)(t)]=r,this._keepUnprefixed||delete e[t])}}return e}}],[{key:"prefixAll",value:function prefixAll(e){return l(e)}}]),Prefixer}()}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();t.default=createPrefixer;var i=_interopRequireDefault(n(1244)),o=_interopRequireDefault(n(1247)),a=_interopRequireDefault(n(824)),s=_interopRequireDefault(n(990)),c=_interopRequireDefault(n(991)),u=_interopRequireDefault(n(992));e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getBrowserName(e){if(e.firefox)return"firefox";if(e.mobile||e.tablet){if(e.ios)return"ios_saf";if(e.android)return"android";if(e.opera)return"op_mini"}for(var t in o)if(e.hasOwnProperty(t))return o[t]}function getBrowserInformation(e){var t=r.default._detect(e);t.yandexbrowser&&(t=r.default._detect(e.replace(/YaBrowser\/[0-9.]*/,"")));for(var n in i)if(t.hasOwnProperty(n)){var o=i[n];t.jsPrefix=o,t.cssPrefix="-"+o.toLowerCase()+"-";break}return t.browserName=getBrowserName(t),t.version?t.browserVersion=parseFloat(t.version):t.browserVersion=parseInt(parseFloat(t.osversion),10),t.osVersion=parseFloat(t.osversion),"ios_saf"===t.browserName&&t.browserVersion>t.osVersion&&(t.browserVersion=t.osVersion),"android"===t.browserName&&t.chrome&&t.browserVersion>37&&(t.browserName="and_chr"),"android"===t.browserName&&t.osVersion<5&&(t.browserVersion=t.osVersion),"android"===t.browserName&&t.samsungBrowser&&(t.browserName="and_chr",t.browserVersion=44),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=getBrowserInformation;var r=_interopRequireDefault(n(1245)),i={chrome:"Webkit",safari:"Webkit",ios:"Webkit",android:"Webkit",phantom:"Webkit",opera:"Webkit",webos:"Webkit",blackberry:"Webkit",bada:"Webkit",tizen:"Webkit",chromium:"Webkit",vivaldi:"Webkit",firefox:"Moz",seamoney:"Moz",sailfish:"Moz",msie:"ms",msedge:"ms"},o={chrome:"chrome",chromium:"chrome",safari:"safari",firfox:"firefox",msedge:"edge",opera:"opera",vivaldi:"opera",msie:"ie"};e.exports=t.default},function(e,t,n){!function(t,r,i){void 0!==e&&e.exports?e.exports=i():n(1246)(r,i)}(this,"bowser",function(){function detect(t){function getFirstMatch(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function getSecondMatch(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}function getWindowsVersion(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}var n=getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase(),r=!/like android/i.test(t)&&/android/i.test(t),i=/nexus\s*[0-6]\s*/i.test(t),o=!i&&/nexus\s*[0-9]+/i.test(t),a=/CrOS/.test(t),s=/silk/i.test(t),c=/sailfish/i.test(t),u=/tizen/i.test(t),l=/(web|hpw)os/i.test(t),d=/windows phone/i.test(t),p=/SamsungBrowser/i.test(t),h=!d&&/windows/i.test(t),f=!n&&!s&&/macintosh/i.test(t),g=!r&&!c&&!u&&!l&&/linux/i.test(t),m=getSecondMatch(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),v=getFirstMatch(/version\/(\d+(\.\d+)?)/i),y=/tablet/i.test(t)&&!/tablet pc/i.test(t),_=!y&&/[^-]mobi/i.test(t),b=/xbox/i.test(t),S;/opera/i.test(t)?S={name:"Opera",opera:e,version:v||getFirstMatch(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?S={name:"Opera",opera:e,version:getFirstMatch(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||v}:/SamsungBrowser/i.test(t)?S={name:"Samsung Internet for Android",samsungBrowser:e,version:v||getFirstMatch(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?S={name:"Opera Coast",coast:e,version:v||getFirstMatch(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?S={name:"Yandex Browser",yandexbrowser:e,version:v||getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?S={name:"UC Browser",ucbrowser:e,version:getFirstMatch(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?S={name:"Maxthon",maxthon:e,version:getFirstMatch(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?S={name:"Epiphany",epiphany:e,version:getFirstMatch(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?S={name:"Puffin",puffin:e,version:getFirstMatch(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?S={name:"Sleipnir",sleipnir:e,version:getFirstMatch(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?S={name:"K-Meleon",kMeleon:e,version:getFirstMatch(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:d?(S={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},m?(S.msedge=e,S.version=m):(S.msie=e,S.version=getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?S={name:"Internet Explorer",msie:e,version:getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:a?S={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?S={name:"Microsoft Edge",msedge:e,version:m}:/vivaldi/i.test(t)?S={name:"Vivaldi",vivaldi:e,version:getFirstMatch(/vivaldi\/(\d+(\.\d+)?)/i)||v}:c?S={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?S={name:"SeaMonkey",seamonkey:e,version:getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(S={name:"Firefox",firefox:e,version:getFirstMatch(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(S.firefoxos=e,S.osname="Firefox OS")):s?S={name:"Amazon Silk",silk:e,version:getFirstMatch(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?S={name:"PhantomJS",phantom:e,version:getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?S={name:"SlimerJS",slimer:e,version:getFirstMatch(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?S={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:v||getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:l?(S={name:"WebOS",osname:"WebOS",webos:e,version:v||getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(S.touchpad=e)):/bada/i.test(t)?S={name:"Bada",osname:"Bada",bada:e,version:getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)}:u?S={name:"Tizen",osname:"Tizen",tizen:e,version:getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||v}:/qupzilla/i.test(t)?S={name:"QupZilla",qupzilla:e,version:getFirstMatch(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||v}:/chromium/i.test(t)?S={name:"Chromium",chromium:e,version:getFirstMatch(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||v}:/chrome|crios|crmo/i.test(t)?S={name:"Chrome",chrome:e,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:r?S={name:"Android",version:v}:/safari|applewebkit/i.test(t)?(S={name:"Safari",safari:e},v&&(S.version=v)):n?(S={name:"iphone"==n?"iPhone":"ipad"==n?"iPad":"iPod"},v&&(S.version=v)):S=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:getFirstMatch(/googlebot\/(\d+(\.\d+))/i)||v}:{name:getFirstMatch(/^(.*)\/(.*) /),version:getSecondMatch(/^(.*)\/(.*) /)},!S.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(S.name=S.name||"Blink",S.blink=e):(S.name=S.name||"Webkit",S.webkit=e),!S.version&&v&&(S.version=v)):!S.opera&&/gecko\//i.test(t)&&(S.name=S.name||"Gecko",S.gecko=e,S.version=S.version||getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)),S.windowsphone||!r&&!S.silk?!S.windowsphone&&n?(S[n]=e,S.ios=e,S.osname="iOS"):f?(S.mac=e,S.osname="macOS"):b?(S.xbox=e,S.osname="Xbox"):h?(S.windows=e,S.osname="Windows"):g&&(S.linux=e,S.osname="Linux"):(S.android=e,S.osname="Android");var w="";S.windows?w=getWindowsVersion(getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i)):S.windowsphone?w=getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):S.mac?w=(w=getFirstMatch(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):n?w=(w=getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):r?w=getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i):S.webos?w=getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):S.blackberry?w=getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i):S.bada?w=getFirstMatch(/bada\/(\d+(\.\d+)*)/i):S.tizen&&(w=getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i)),w&&(S.osversion=w);var C=!S.windows&&w.split(".")[0];return y||o||"ipad"==n||r&&(3==C||C>=4&&!_)||S.silk?S.tablet=e:(_||"iphone"==n||"ipod"==n||r||i||S.blackberry||S.webos||S.bada)&&(S.mobile=e),S.msedge||S.msie&&S.version>=10||S.yandexbrowser&&S.version>=15||S.vivaldi&&S.version>=1||S.chrome&&S.version>=20||S.samsungBrowser&&S.version>=4||S.firefox&&S.version>=20||S.safari&&S.version>=6||S.opera&&S.version>=10||S.ios&&S.osversion&&S.osversion.split(".")[0]>=6||S.blackberry&&S.version>=10.1||S.chromium&&S.version>=20?S.a=e:S.msie&&S.version<10||S.chrome&&S.version<20||S.firefox&&S.version<20||S.safari&&S.version<6||S.opera&&S.version<10||S.ios&&S.osversion&&S.osversion.split(".")[0]<6||S.chromium&&S.version<20?S.c=e:S.x=e,S}function getVersionPrecision(e){return e.split(".").length}function map(e,t){var n=[],r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function compareVersions(e){for(var t=Math.max(getVersionPrecision(e[0]),getVersionPrecision(e[1])),n=map(e,function(e){var n=t-getVersionPrecision(e);return e+=new Array(n+1).join(".0"),map(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function isUnsupportedBrowser(e,n,r){var i=t;"string"==typeof n&&(r=n,n=void 0),void 0===n&&(n=!1),r&&(i=detect(r));var o=""+i.version;for(var a in e)if(e.hasOwnProperty(a)&&i[a]){if("string"!=typeof e[a])throw new Error("Browser version in the minVersion map should be a string: "+a+": "+String(e));return compareVersions([o,e[a]])<0}return n}function check(e,t,n){return!isUnsupportedBrowser(e,t,n)}var e=!0,t=detect("undefined"!=typeof navigator?navigator.userAgent||"":"");return t.test=function(e){for(var n=0;n<e.length;++n){var r=e[n];if("string"==typeof r&&r in t)return!0}return!1},t.isUnsupportedBrowser=isUnsupportedBrowser,t.compareVersions=compareVersions,t.check=check,t._detect=detect,t})},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";function getPrefixedKeyframes(e,t,n){var r="keyframes";return"chrome"===e&&t<43||("safari"===e||"ios_saf"===e)&&t<9||"opera"===e&&t<30||"android"===e&&t<=4.4||"and_uc"===e?n+"keyframes":"keyframes"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=getPrefixedKeyframes,e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function cursor(e,t,n,a){var s=a.browserName,c=a.browserVersion,u=a.cssPrefix,l=a.keepUnprefixed;return"cursor"!==e||!i[t]||"firefox"!==s&&"chrome"!==s&&"safari"!==s&&"opera"!==s?"cursor"===e&&o[t]&&("firefox"===s&&c<24||"chrome"===s&&c<37||"safari"===s&&c<9||"opera"===s&&c<24)?(0,r.default)(u+t,t,l):void 0:(0,r.default)(u+t,t,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=cursor;var r=_interopRequireDefault(n(206)),i={grab:!0,grabbing:!0},o={"zoom-in":!0,"zoom-out":!0};e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function crossFade(e,t,n,i){var o=i.browserName,a=i.browserVersion,s=i.cssPrefix,c=i.keepUnprefixed;if("string"==typeof t&&t.indexOf("cross-fade(")>-1&&("chrome"===o||"opera"===o||"and_chr"===o||("ios_saf"===o||"safari"===o)&&a<10))return(0,r.default)(t.replace(/cross-fade\(/g,s+"cross-fade("),t,c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=crossFade;var r=_interopRequireDefault(n(206));e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function filter(e,t,n,i){var o=i.browserName,a=i.browserVersion,s=i.cssPrefix,c=i.keepUnprefixed;if("string"==typeof t&&t.indexOf("filter(")>-1&&("ios_saf"===o||"safari"===o&&a<9.1))return(0,r.default)(t.replace(/filter\(/g,s+"filter("),t,c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=filter;var r=_interopRequireDefault(n(206));e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function flex(e,t,n,o){var a=o.browserName,s=o.browserVersion,c=o.cssPrefix,u=o.keepUnprefixed;if("display"===e&&i[t]&&("chrome"===a&&s<29&&s>20||("safari"===a||"ios_saf"===a)&&s<9&&s>6||"opera"===a&&(15===s||16===s)))return(0,r.default)(c+t,t,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=flex;var r=_interopRequireDefault(n(206)),i={flex:!0,"inline-flex":!0};e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function flexboxOld(e,t,n,a){var c=a.browserName,u=a.browserVersion,l=a.cssPrefix,d=a.keepUnprefixed,p=a.requiresPrefix;if((s.indexOf(e)>-1||"display"===e&&"string"==typeof t&&t.indexOf("flex")>-1)&&("firefox"===c&&u<22||"chrome"===c&&u<21||("safari"===c||"ios_saf"===c)&&u<=6.1||"android"===c&&u<4.4||"and_uc"===c)){if(delete p[e],d||Array.isArray(n[e])||delete n[e],"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),"display"===e&&i.hasOwnProperty(t))return(0,r.default)(l+i[t],t,d);o.hasOwnProperty(e)&&(n[o[e]]=i[t]||t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=flexboxOld;var r=_interopRequireDefault(n(206)),i={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},o={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},a=["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"],s=Object.keys(o).concat(a);e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function gradient(e,t,n,o){var a=o.browserName,s=o.browserVersion,c=o.cssPrefix,u=o.keepUnprefixed;if("string"==typeof t&&i.test(t)&&("firefox"===a&&s<16||"chrome"===a&&s<26||("safari"===a||"ios_saf"===a)&&s<7||("opera"===a||"op_mini"===a)&&s<12.1||"android"===a&&s<4.4||"and_uc"===a))return(0,r.default)(c+t,t,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=gradient;var r=_interopRequireDefault(n(206)),i=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function imageSet(e,t,n,i){var o=i.browserName,a=i.cssPrefix,s=i.keepUnprefixed;if("string"==typeof t&&t.indexOf("image-set(")>-1&&("chrome"===o||"opera"===o||"and_chr"===o||"and_uc"===o||"ios_saf"===o||"safari"===o))return(0,r.default)(t.replace(/image-set\(/g,a+"image-set("),t,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=imageSet;var r=_interopRequireDefault(n(206));e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function position(e,t,n,i){var o=i.browserName,a=i.cssPrefix,s=i.keepUnprefixed;if("position"===e&&"sticky"===t&&("safari"===o||"ios_saf"===o))return(0,r.default)(a+t,t,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=position;var r=_interopRequireDefault(n(206));e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function sizing(e,t,n,a){var s=a.cssPrefix,c=a.keepUnprefixed;if(i.hasOwnProperty(e)&&o.hasOwnProperty(t))return(0,r.default)(s+t,t,c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=sizing;var r=_interopRequireDefault(n(206)),i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},o={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function transition(e,t,n,a){var s=a.cssPrefix,c=a.keepUnprefixed,u=a.requiresPrefix;if("string"==typeof t&&i.hasOwnProperty(e)){o||(o=Object.keys(u).map(function(e){return(0,r.default)(e)}));var l=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return o.forEach(function(e){l.forEach(function(t,n){t.indexOf(e)>-1&&"order"!==e&&(l[n]=t.replace(e,s+e)+(c?","+t:""))})}),l.join(",")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=transition;var r=_interopRequireDefault(n(993)),i={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},o=void 0;e.exports=t.default},function(e,t,n){"use strict";function hyphenateStyleName(e){return e in o?o[e]:o[e]=e.replace(r,"-$&").toLowerCase().replace(i,"-ms-")}var r=/[A-Z]/g,i=/^ms-/,o={};e.exports=hyphenateStyleName},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=_interopRequireDefault(n(1260)),i=_interopRequireDefault(n(1262)),o=_interopRequireDefault(n(1263)),a=_interopRequireDefault(n(1264)),s=_interopRequireDefault(n(1265)),c=_interopRequireDefault(n(1266)),u=_interopRequireDefault(n(1267)),l=_interopRequireDefault(n(1268)),d=_interopRequireDefault(n(1269)),p=_interopRequireDefault(n(1270)),h=_interopRequireDefault(n(1271)),f=_interopRequireDefault(n(1272)),g=[a.default,o.default,s.default,u.default,l.default,d.default,p.default,h.default,f.default,c.default];t.default=(0,r.default)({prefixMap:i.default.prefixMap,plugins:g}),e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createPrefixer(e){function prefixAll(e){for(var s in e){var c=e[s];if((0,a.default)(c))e[s]=prefixAll(c);else if(Array.isArray(c)){for(var u=[],l=0,d=c.length;l<d;++l){var p=(0,i.default)(n,s,c[l],e,t);(0,o.default)(u,p||c[l])}u.length>0&&(e[s]=u)}else{var h=(0,i.default)(n,s,c,e,t);h&&(e[s]=h),(0,r.default)(t,s,e)}}return e}var t=e.prefixMap,n=e.plugins;return prefixAll}Object.defineProperty(t,"__esModule",{value:!0}),t.default=createPrefixer;var r=_interopRequireDefault(n(1261)),i=_interopRequireDefault(n(992)),o=_interopRequireDefault(n(990)),a=_interopRequireDefault(n(991));e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function prefixProperty(e,t,n){if(e.hasOwnProperty(t))for(var i=e[t],o=0,a=i.length;o<a;++o)n[i[o]+(0,r.default)(t)]=n[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=prefixProperty;var r=_interopRequireDefault(n(824));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["Webkit"],i=["Moz"],o=["ms"],a=["Webkit","Moz"],s=["Webkit","ms"],c=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:a,userSelect:c,textEmphasisPosition:r,textEmphasis:r,textEmphasisStyle:r,textEmphasisColor:r,boxDecorationBreak:r,clipPath:r,maskImage:r,maskMode:r,maskRepeat:r,maskPosition:r,maskClip:r,maskOrigin:r,maskSize:r,maskComposite:r,mask:r,maskBorderSource:r,maskBorderMode:r,maskBorderSlice:r,maskBorderWidth:r,maskBorderOutset:r,maskBorderRepeat:r,maskBorder:r,maskType:r,textDecorationStyle:r,textDecorationSkip:r,textDecorationLine:r,textDecorationColor:r,filter:r,fontFeatureSettings:r,breakAfter:c,breakBefore:c,breakInside:c,columnCount:a,columnFill:a,columnGap:a,columnRule:a,columnRuleColor:a,columnRuleStyle:a,columnRuleWidth:a,columns:a,columnSpan:a,columnWidth:a,writingMode:s,flex:r,flexBasis:r,flexDirection:r,flexGrow:r,flexFlow:r,flexShrink:r,flexWrap:r,alignContent:r,alignItems:r,alignSelf:r,justifyContent:r,order:r,transform:r,transformOrigin:r,transformOriginX:r,transformOriginY:r,backfaceVisibility:r,perspective:r,perspectiveOrigin:r,transformStyle:r,transformOriginZ:r,animation:r,animationDelay:r,animationDirection:r,animationFillMode:r,animationDuration:r,animationIterationCount:r,animationName:r,animationPlayState:r,animationTimingFunction:r,backdropFilter:r,fontKerning:r,scrollSnapType:s,scrollSnapPointsX:s,scrollSnapPointsY:s,scrollSnapDestination:s,scrollSnapCoordinate:s,shapeImageThreshold:r,shapeImageMargin:r,shapeImageOutside:r,hyphens:c,flowInto:s,flowFrom:s,regionFragment:s,textAlignLast:i,tabSize:i,wrapFlow:o,wrapThrough:o,wrapMargin:o,gridTemplateColumns:o,gridTemplateRows:o,gridTemplateAreas:o,gridTemplate:o,gridAutoColumns:o,gridAutoRows:o,gridAutoFlow:o,grid:o,gridRowStart:o,gridColumnStart:o,gridRowEnd:o,gridRow:o,gridColumn:o,gridColumnEnd:o,gridColumnGap:o,gridRowGap:o,gridArea:o,gridGap:o,textSizeAdjust:s,borderImage:r,borderImageOutset:r,borderImageRepeat:r,borderImageSlice:r,borderImageSource:r,borderImageWidth:r,transitionDelay:r,transitionDuration:r,transitionProperty:r,transitionTimingFunction:r}},e.exports=t.default},function(e,t,n){"use strict";function cursor(e,t){if("cursor"===e&&i.hasOwnProperty(t))return r.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=cursor;var r=["-webkit-","-moz-",""],i={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function crossFade(e,t){if("string"==typeof t&&!(0,r.default)(t)&&t.indexOf("cross-fade(")>-1)return i.map(function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=crossFade;var r=_interopRequireDefault(n(654)),i=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function filter(e,t){if("string"==typeof t&&!(0,r.default)(t)&&t.indexOf("filter(")>-1)return i.map(function(e){return t.replace(/filter\(/g,e+"filter(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=filter;var r=_interopRequireDefault(n(654)),i=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";function flex(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=flex;var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},function(e,t,n){"use strict";function flexboxOld(e,t,n){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),i.hasOwnProperty(e)&&(n[i[e]]=r[t]||t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=flexboxOld;var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function gradient(e,t){if("string"==typeof t&&!(0,r.default)(t)&&o.test(t))return i.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=gradient;var r=_interopRequireDefault(n(654)),i=["-webkit-","-moz-",""],o=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function imageSet(e,t){if("string"==typeof t&&!(0,r.default)(t)&&t.indexOf("image-set(")>-1)return i.map(function(e){return t.replace(/image-set\(/g,e+"image-set(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=imageSet;var r=_interopRequireDefault(n(654)),i=["-webkit-",""];e.exports=t.default},function(e,t,n){"use strict";function position(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=position,e.exports=t.default},function(e,t,n){"use strict";function sizing(e,t){if(i.hasOwnProperty(e)&&o.hasOwnProperty(t))return r.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=sizing;var r=["-webkit-","-moz-",""],i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},o={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function prefixValue(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,a=n.length;o<a;++o){var c=n[o],u=[c];for(var l in t){var d=(0,r.default)(l);if(c.indexOf(d)>-1&&"order"!==d)for(var p=t[l],h=0,f=p.length;h<f;++h)u.unshift(c.replace(d,s[p[h]]+d))}n[o]=u.join(",")}return n.join(",")}function transition(e,t,n,r){if("string"==typeof t&&a.hasOwnProperty(e)){var i=prefixValue(t,r),s=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(e.indexOf("Webkit")>-1)return s;var c=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return e.indexOf("Moz")>-1?c:(n["Webkit"+(0,o.default)(e)]=s,n["Moz"+(0,o.default)(e)]=c,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=transition;var r=_interopRequireDefault(n(993)),i=_interopRequireDefault(n(654)),o=_interopRequireDefault(n(824)),a={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={plugins:[],prefixMap:{chrome:{appearance:64,userSelect:53,textEmphasisPosition:64,textEmphasis:64,textEmphasisStyle:64,textEmphasisColor:64,boxDecorationBreak:64,clipPath:54,maskImage:64,maskMode:64,maskRepeat:64,maskPosition:64,maskClip:64,maskOrigin:64,maskSize:64,maskComposite:64,mask:64,maskBorderSource:64,maskBorderMode:64,maskBorderSlice:64,maskBorderWidth:64,maskBorderOutset:64,maskBorderRepeat:64,maskBorder:64,maskType:64,textDecorationStyle:56,textDecorationSkip:56,textDecorationLine:56,textDecorationColor:56,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49,writingMode:47},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:11,userSelect:11,backdropFilter:11,fontKerning:9,scrollSnapType:10.1,scrollSnapPointsX:10.1,scrollSnapPointsY:10.1,scrollSnapDestination:10.1,scrollSnapCoordinate:10.1,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:11,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8,writingMode:11},firefox:{appearance:58,userSelect:58,textAlignLast:48,tabSize:58,hyphens:42,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:49,userSelect:40,fontKerning:19,textEmphasisPosition:49,textEmphasis:49,textEmphasisStyle:49,textEmphasisColor:49,boxDecorationBreak:49,clipPath:41,maskImage:49,maskMode:49,maskRepeat:49,maskPosition:49,maskClip:49,maskOrigin:49,maskSize:49,maskComposite:49,mask:49,maskBorderSource:49,maskBorderMode:49,maskBorderSlice:49,maskBorderWidth:49,maskBorderOutset:49,maskBorderRepeat:49,maskBorder:49,maskType:49,textDecorationStyle:43,textDecorationSkip:43,textDecorationLine:43,textDecorationColor:43,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36,writingMode:34},ie:{userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11,writingMode:11},edge:{userSelect:16,wrapFlow:16,wrapThrough:16,wrapMargin:16,scrollSnapType:16,scrollSnapPointsX:16,scrollSnapPointsY:16,scrollSnapDestination:16,scrollSnapCoordinate:16,hyphens:16,flowInto:16,flowFrom:16,breakBefore:16,breakAfter:16,breakInside:16,regionFragment:16,gridTemplateColumns:15,gridTemplateRows:15,gridTemplateAreas:15,gridTemplate:15,gridAutoColumns:15,gridAutoRows:15,gridAutoFlow:15,grid:15,gridRowStart:15,gridColumnStart:15,gridRowEnd:15,gridRow:15,gridColumn:15,gridColumnEnd:15,gridColumnGap:15,gridRowGap:15,gridArea:15,gridGap:15},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:11,userSelect:11,backdropFilter:11,fontKerning:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textSizeAdjust:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:11,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1,writingMode:11},android:{borderImage:4.2,borderImageOutset:4.2,borderImageRepeat:4.2,borderImageSlice:4.2,borderImageSource:4.2,borderImageWidth:4.2,flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:56,userSelect:4.4,fontKerning:4.4,textEmphasisPosition:56,textEmphasis:56,textEmphasisStyle:56,textEmphasisColor:56,boxDecorationBreak:56,clipPath:4.4,maskImage:56,maskMode:56,maskRepeat:56,maskPosition:56,maskClip:56,maskOrigin:56,maskSize:56,maskComposite:56,mask:56,maskBorderSource:56,maskBorderMode:56,maskBorderSlice:56,maskBorderWidth:56,maskBorderOutset:56,maskBorderRepeat:56,maskBorder:56,maskType:56,filter:4.4,fontFeatureSettings:4.4,breakAfter:4.4,breakBefore:4.4,breakInside:4.4,columnCount:4.4,columnFill:4.4,columnGap:4.4,columnRule:4.4,columnRuleColor:4.4,columnRuleStyle:4.4,columnRuleWidth:4.4,columns:4.4,columnSpan:4.4,columnWidth:4.4,writingMode:4.4},and_chr:{appearance:61,textEmphasisPosition:61,textEmphasis:61,textEmphasisStyle:61,textEmphasisColor:61,boxDecorationBreak:61,maskImage:61,maskMode:61,maskRepeat:61,maskPosition:61,maskClip:61,maskOrigin:61,maskSize:61,maskComposite:61,mask:61,maskBorderSource:61,maskBorderMode:61,maskBorderSlice:61,maskBorderWidth:61,maskBorderOutset:61,maskBorderRepeat:61,maskBorder:61,maskType:61},and_uc:{flex:11.4,flexBasis:11.4,flexDirection:11.4,flexGrow:11.4,flexFlow:11.4,flexShrink:11.4,flexWrap:11.4,alignContent:11.4,alignItems:11.4,alignSelf:11.4,justifyContent:11.4,order:11.4,transform:11.4,transformOrigin:11.4,transformOriginX:11.4,transformOriginY:11.4,backfaceVisibility:11.4,perspective:11.4,perspectiveOrigin:11.4,transformStyle:11.4,transformOriginZ:11.4,animation:11.4,animationDelay:11.4,animationDirection:11.4,animationFillMode:11.4,animationDuration:11.4,animationIterationCount:11.4,animationName:11.4,animationPlayState:11.4,animationTimingFunction:11.4,appearance:11.4,userSelect:11.4,textEmphasisPosition:11.4,textEmphasis:11.4,textEmphasisStyle:11.4,textEmphasisColor:11.4,clipPath:11.4,maskImage:11.4,maskMode:11.4,maskRepeat:11.4,maskPosition:11.4,maskClip:11.4,maskOrigin:11.4,maskSize:11.4,maskComposite:11.4,mask:11.4,maskBorderSource:11.4,maskBorderMode:11.4,maskBorderSlice:11.4,maskBorderWidth:11.4,maskBorderOutset:11.4,maskBorderRepeat:11.4,maskBorder:11.4,maskType:11.4,textSizeAdjust:11.4,filter:11.4,hyphens:11.4,fontFeatureSettings:11.4,breakAfter:11.4,breakBefore:11.4,breakInside:11.4,columnCount:11.4,columnFill:11.4,columnGap:11.4,columnRule:11.4,columnRuleColor:11.4,columnRuleStyle:11.4,columnRuleWidth:11.4,columns:11.4,columnSpan:11.4,columnWidth:11.4,writingMode:11.4},op_mini:{}}},e.exports=t.default},function(e,t){e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling"]},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=_interopRequireDefault(n(1)),a=_interopRequireDefault(n(17)),s=_interopRequireDefault(n(823)),c=_interopRequireDefault(n(825)),u="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",l="undefined"!=typeof navigator?navigator.userAgent:u,d=function(e){function Pane(e){_classCallCheck(this,Pane);var t=_possibleConstructorReturn(this,(Pane.__proto__||Object.getPrototypeOf(Pane)).call(this,e));return t.state={size:t.props.size},t}return _inherits(Pane,e),i(Pane,[{key:"render",value:function render(){var e=this.props,t=e.children,n=e.className,i=e.prefixer,a=e.split,s=e.style,c=this.state.size,u=["Pane",a,n],l=r({},s||{},{flex:1,position:"relative",outline:"none"});return void 0!==c&&("vertical"===a?l.width=c:(l.height=c,l.display="flex"),l.flex="none"),o.default.createElement("div",{className:u.join(" "),style:i.prefix(l)},t)}}]),Pane}(o.default.Component);d.propTypes={className:a.default.string.isRequired,children:a.default.node.isRequired,prefixer:a.default.instanceOf(s.default).isRequired,size:a.default.oneOfType([a.default.string,a.default.number]),split:a.default.oneOf(["vertical","horizontal"]),style:c.default},d.defaultProps={prefixer:new s.default({userAgent:l})},t.default=d,e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RESIZER_DEFAULT_CLASSNAME=void 0;var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=_interopRequireDefault(n(1)),o=_interopRequireDefault(n(17)),a=_interopRequireDefault(n(823)),s=_interopRequireDefault(n(825)),c="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",u="undefined"!=typeof navigator?navigator.userAgent:c,l=t.RESIZER_DEFAULT_CLASSNAME="Resizer",d=function(e){function Resizer(){return _classCallCheck(this,Resizer),_possibleConstructorReturn(this,(Resizer.__proto__||Object.getPrototypeOf(Resizer)).apply(this,arguments))}return _inherits(Resizer,e),r(Resizer,[{key:"render",value:function render(){var e=this.props,t=e.className,n=e.onClick,r=e.onDoubleClick,o=e.onMouseDown,a=e.onTouchEnd,s=e.onTouchStart,c=e.prefixer,u=e.resizerClassName,l=e.split,d=e.style,p=[u,l,t];return i.default.createElement("span",{className:p.join(" "),style:c.prefix(d)||{},onMouseDown:function onMouseDown(e){return o(e)},onTouchStart:function onTouchStart(e){e.preventDefault(),s(e)},onTouchEnd:function onTouchEnd(e){e.preventDefault(),a(e)},onClick:function onClick(e){n&&(e.preventDefault(),n(e))},onDoubleClick:function onDoubleClick(e){r&&(e.preventDefault(),r(e))}})}}]),Resizer}(i.default.Component);d.propTypes={className:o.default.string.isRequired,onClick:o.default.func,onDoubleClick:o.default.func,onMouseDown:o.default.func.isRequired,onTouchStart:o.default.func.isRequired,onTouchEnd:o.default.func.isRequired,prefixer:o.default.instanceOf(a.default).isRequired,split:o.default.oneOf(["vertical","horizontal"]),style:s.default,resizerClassName:o.default.string.isRequired},d.defaultProps={prefixer:new a.default({userAgent:u}),resizerClassName:l},t.default=d},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1281),__export(n(1282))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(1283),o=n(653),a=function mapStateToProps(e){return{isInterviewer:e.session.isInterviewer,hadQuestionChanged:e.session.hadQuestionChanged,isQuestionNew:e.session.isQuestionNew,selfStatus:o.selfStatusSelector(e)}},s={};t.SessionQuestionPopover=r.connect(a,s)(i.SessionQuestionPopover)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(995),o=n(242),a=n(1285);t.SessionQuestionPopover=function(e){var t=e.selfStatus,n=e.isQuestionNew,s=e.isInterviewer,c=e.hadQuestionChanged,u=e.ackQuestion;return r.createElement(i.Popover,{visible:t===o.STATUS_OK&&s&&c},r.createElement("p",{className:"popover-component-text popover-component-text_white"},a.POPOVER_CONTENT,n?a.POPOVER_CONTENT_NEW_QUESTION:a.POPOVER_CONTENT_QUESTION),r.createElement("p",{className:"popover-btn-wrap"},r.createElement("button",{className:"btn btn_violet",onClick:u},a.POPOVER_BUTTON_LABEL)))}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POPOVER_CONTENT="\n  We had to change the question you'll be asking,\n  since your peer has already seen the one originally assigned to you.\n",t.POPOVER_CONTENT_QUESTION="The good news is that you're already familiar with this question, so no sweat :)",t.POPOVER_CONTENT_NEW_QUESTION="\n  Since you too had never seen this question before, read it together with your peer,\n  and as they start solving it, review the hints and solution.\n",t.POPOVER_BUTTON_LABEL="Got it, I'll do my best :)"},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1287),__export(n(1288))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(1289),o=n(653),a=function mapStateToProps(e){return{hadLanguageChanged:e.session.hadLanguageChanged,selfStatus:o.selfStatusSelector(e)}},s={};t.SessionLanguagePopover=r.connect(a,s)(i.SessionLanguagePopover)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(995),o=n(242),a=n(1290);t.SessionLanguagePopover=function(e){var t=e.selfStatus,n=e.hadLanguageChanged,s=e.ackLanguage;return r.createElement(i.Popover,{visible:t===o.STATUS_OK&&n,className:"session-language-popover"},r.createElement("p",{className:"popover-component-text"},a.POPOVER_CONTENT),r.createElement("p",{className:"popover-btn-wrap"},r.createElement("button",{className:"btn btn_violet",onClick:s},a.POPOVER_BUTTON_LABEL)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POPOVER_CONTENT="\n  Oops! We had to change the programming language to match your peer's background.\n  Talk to them and decide which language works best for each of you.\n  Change it at will when it's your turn to be interviewed!\n",t.POPOVER_BUTTON_LABEL="Got it, I forgive but not forget!"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(1292),t.SessionButtonGroup=function(e){var t=e.children;return r.createElement("div",{className:"session-button-group"},t)}},function(e,t){},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(730),a=function(e){function SessionEndInterview(){_classCallCheck(this,SessionEndInterview);var e=_possibleConstructorReturn(this,(SessionEndInterview.__proto__||Object.getPrototypeOf(SessionEndInterview)).apply(this,arguments));return e.state={endInterviewConfirmModalShown:!1},e.showEndInterviewConfirmModal=function(){e.setState({endInterviewConfirmModalShown:!0})},e.closeEndInterviewConfirmModal=function(t){e.setState({endInterviewConfirmModalShown:!1}),t&&e.props.endInterview()},e.swapRoleFromConfirmModal=function(){e.setState({endInterviewConfirmModalShown:!1}),e.props.swapRoles()},e}return _inherits(SessionEndInterview,e),r(SessionEndInterview,[{key:"render",value:function render(){var e=this.state.endInterviewConfirmModalShown;return i.createElement("div",{className:"session-end-interview"},i.createElement("button",{className:"btn btn_dark-red",onClick:this.showEndInterviewConfirmModal},i.createElement("span",{className:"icon fa fa-stop-circle"}),i.createElement("span",{className:"btn__label btn__label_left-blank"},"End Interview")),i.createElement(o.ConfirmModal,{isOpen:e,title:"WAIT! Read this first",onClose:this.closeEndInterviewConfirmModal,rightButtonText:"End session"},i.createElement("p",{className:"confirm-modal-component__content"},"Ending this interview is final! After leaving this interview, you will not be able to return back to this current interview session. Did you mean instead to ",i.createElement("a",{className:"confirm-modal-component__link",onClick:this.swapRoleFromConfirmModal},"SWAP ROLES? ")),i.createElement("p",{className:"confirm-modal-component__content"},"Or did you mean to end the interview?")))}}]),SessionEndInterview}(i.Component);t.SessionEndInterview=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(1295),t.SessionSignupButton=function(e){var t=e.endInterview;return r.createElement("button",{className:"btn btn_violet session-signup-button",onClick:t},r.createElement("span",{className:"btn__label"},"Ready? Sign Up Now!"))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(1298),t.SessionSwapRolesButton=function(e){var t=e.swapRoles;return r.createElement("button",{className:"btn btn_violet session-swap-roles-button",onClick:t},r.createElement("span",{className:"icon fa fa-exchange"}),r.createElement("span",{className:"btn__label btn__label_left-blank"},"Swap Roles"))}},function(e,t){},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(1300),a=n(1303),s=n(888);n(1514);var c=function(e){function SessionRunTests(){_classCallCheck(this,SessionRunTests);var e=_possibleConstructorReturn(this,(SessionRunTests.__proto__||Object.getPrototypeOf(SessionRunTests)).apply(this,arguments));return e.state={isOpen:!1},e.showConfirmModal=function(){e.setState({isOpen:!0})},e.closeConfirmModal=function(t){e.setState({isOpen:!1}),t&&e.props.onClick(e.editorValue)},e.onClick=function(t){var n=e.props,r=n.hadTestsUnlocked,i=n.onClick;r?i(t):e.showConfirmModal(),e.editorValue=t},e}return _inherits(SessionRunTests,e),r(SessionRunTests,[{key:"render",value:function render(){var e=this,t=this.props.isInterviewer,n=this.state.isOpen;return i.createElement("div",{className:"session-run-tests"},i.createElement(s.SessionEditorRunTests,{onClick:this.onClick}),t?i.createElement(a.SessionRunTestsAlert,{isOpen:n,onClose:function onClose(){return e.closeConfirmModal(!1)}}):i.createElement(o.SessionRunTestsConfirm,{isOpen:n,onClose:this.closeConfirmModal}))}}]),SessionRunTests}(i.Component);t.SessionRunTests=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(730),o=n(996);n(1302),t.SessionRunTestsConfirm=function(e){var t=e.isOpen,n=e.onClose;return r.createElement(i.ConfirmModal,{isOpen:t,onClose:n,title:"Unlock Test Evaluation",leftButtonText:"No Yet...",rightButtonText:"I'm Ready! Test My Code!"},r.createElement(i.ConfirmModalContent,{className:"session-run-tests-confirm"},r.createElement(o.Text,null,"In a real interview, you won't always have this option. To help you prepare, we recommend that you evaluate your code only after you feel that your solution is complete and correct."),r.createElement(o.Text,{className:"session-run-tests-confirm__question"},"Are you sure you're ready to test your solution?")))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(934),o=n(996);n(1306),t.SessionRunTestsAlert=function(e){var t=e.isOpen,n=e.onClose;return r.createElement(i.AlertModal,{isOpen:t,onClose:n,title:"Unlock Test Evaluation",buttonText:"Got it!"},r.createElement("div",{className:"session-run-tests-alert"},r.createElement(o.Text,null,"To enable test case evaluation in this session, the interviewee must approve it on their side when they're ready, by clicking the Run Tests button."),r.createElement(o.Text,null,"Ask them to Run Tests when they're ready!")))}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(285);t.AlertModal=function(e){var t=e.isOpen,n=e.title,o=e.children,a=e.onClose,s=e.buttonText;return r.createElement(i.default,Object.assign({},{isOpen:t,className:"alert-modal-component",overlayClassName:"alert-modal-component_overlay",contentLabel:"AlertModal",onRequestClose:a}),r.createElement("div",{className:"alert-modal-component__wrapper"},r.createElement("div",{className:"alert-modal-component__header"},n&&r.createElement("div",{className:"alert-modal-component__title"},n),r.createElement("span",{className:"btn--close",onClick:a},r.createElement("span",{className:"icon icon--close"}))),r.createElement("div",{className:"alert-modal-component__body"},o),r.createElement("div",{className:"alert-modal-component__controls"},r.createElement("button",{className:"btn btn--transparent btn_confirm",onClick:a},s||"Ok"))))}},function(e,t){},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(1308))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(772),o=n(1309),a=function mapStateToProps(e){return{connected:e.editor.editorConnected,editorValue:e.editor.value}},s={connectEditor:i.connectEditor,disconnectEditor:i.disconnectEditor,changeCode:i.changeCode};t.SessionEditorFirepad=r.connect(a,s)(o.SessionEditorFirepad)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(997);n(1332),window.CodeMirror=o.CodeMirror;var a=n(1333),s=n(1341),c=n(297),u=n(108),l=function(e){function SessionEditorFirepad(){_classCallCheck(this,SessionEditorFirepad);var e=_possibleConstructorReturn(this,(SessionEditorFirepad.__proto__||Object.getPrototypeOf(SessionEditorFirepad)).apply(this,arguments));return e.state={firePadReady:!1},e.onReady=function(){if(e.firePad.isHistoryEmpty()){var t="A0",n="history",r={a:e.props.userId,o:[e.props.initialCode],t:Date.now()};e.firebaseRef.child(n).child("A0").set(r)}e.setState({firePadReady:!0},function(){return e.codeMirrorRef.focusCursor()})},e.onConnected=function(){var t=e.props,n=t.connectEditor,r=t.disconnectEditor;s.database().ref(".info/connected").on("value",function(t){e.setState({firePadReady:t.val()},function(){return!0===t.val()?n():r()})})},e}return _inherits(SessionEditorFirepad,e),r(SessionEditorFirepad,[{key:"render",value:function render(){var e=this,t=this.props,n=t.initialCode,r=t.editorValue,a=t.changeCode;return i.createElement(o.SessionEditorCodemirror,{initialCode:n,value:r,ref:function ref(t){return e.codeMirrorRef=t},onChange:a},(!this.props.link||!this.state.firePadReady)&&i.createElement(c.Loader,null))}},{key:"componentDidMount",value:function componentDidMount(){this.assignFirePad(this.props),this.onConnected()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=e.initialCode,n=e.connected,r=e.disabled,i=e.link;this.props.link===i&&this.props.initialCode===t||this.assignFirePad(e),r===this.props.disabled&&n===this.props.connected||this.toggleCodeMirror(r||!n)}},{key:"componentWillMount",value:function componentWillMount(){0===s.apps.length&&s.initializeApp(u.FIREBASE)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.destroyFirePad()}},{key:"assignFirePad",value:function assignFirePad(e){var t=e.language,n=e.link;this.destroyFirePad(),n&&(this.setFirebaseRef(n),this.codeMirror=this.codeMirrorRef.define({language:t}),this.toggleCodeMirror(this.props.disabled),this.firePad=a.fromCodeMirror(this.firebaseRef,this.codeMirror,{}),this.firePad.setUserId(this.props.userId),this.firePad.on("ready",this.onReady))}},{key:"toggleCodeMirror",value:function toggleCodeMirror(e){this.codeMirror&&(this.codeMirror.setOption("readOnly",e),this.codeMirror.focus())}},{key:"setFirebaseRef",value:function setFirebaseRef(e){this.firebaseRef=s.database().ref(e)}},{key:"destroyFirePad",value:function destroyFirePad(){this.firePad&&(this.firePad.off("ready",this.onReady),this.firePad.dispose(),this.codeMirrorRef.destroy(),this.setState({firePadReady:!1}))}}]),SessionEditorFirepad}(i.Component);t.SessionEditorFirepad=l},function(e,t){function isNull(e){return null===e}e.exports=isNull},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(998),n(999),n(1312),n(1313),n(1314),n(1315),n(1316),n(1317),n(1321),n(1322),n(1323),n(1324),n(1325),n(1e3),n(1326),n(1327),n(1328),n(1329),n(1330)},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";e.defineMode("clojure",function(e){function makeKeywords(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function stateStack(e,t,n){this.indent=e,this.type=t,this.prev=n}function pushStack(e,t,n){e.indentStack=new stateStack(t,n,e.indentStack)}function popStack(e){e.indentStack=e.indentStack.prev}function isNumber(e,t){return"0"===e&&t.eat(/x/i)?(t.eatWhile(m.hex),!0):("+"!=e&&"-"!=e||!m.digit.test(t.peek())||(t.eat(m.sign),e=t.next()),!!m.digit.test(e)&&(t.eat(e),t.eatWhile(m.digit),"."==t.peek()?(t.eat("."),t.eatWhile(m.digit)):"/"==t.peek()&&(t.eat("/"),t.eatWhile(m.digit)),t.eat(m.exponent)&&(t.eat(m.sign),t.eatWhile(m.digit)),!0))}function eatCharacter(e){var t=e.next();t&&t.match(/[a-z]/)&&e.match(/[a-z]+/,!0)||"u"===t&&e.match(/[0-9a-z]{4}/i,!0)}var t="builtin",n="comment",r="string",i="string-2",o="atom",a="number",s="bracket",c="keyword",u="variable",l=e.indentUnit||2,d=e.indentUnit||2,p=makeKeywords("true false nil"),h=makeKeywords("defn defn- def def- defonce defmulti defmethod defmacro defstruct deftype defprotocol defrecord defproject deftest slice defalias defhinted defmacro- defn-memo defnk defnk defonce- defunbound defunbound- defvar defvar- let letfn do case cond condp for loop recur when when-not when-let when-first if if-let if-not . .. -> ->> doto and or dosync doseq dotimes dorun doall load import unimport ns in-ns refer try catch finally throw with-open with-local-vars binding gen-class gen-and-load-class gen-and-save-class handler-case handle"),f=makeKeywords("* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-readably* *read-eval* *source-path* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -> ->> ->ArrayChunk ->Vec ->VecNode ->VecSeq -cache-protocol-fn -reset-methods .. / < <= = == > >= EMPTY-NODE accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and apply areduce array-map aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array booleans bound-fn bound-fn* bound? butlast byte byte-array bytes case cat cast char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array doubles drop drop-last drop-while eduction empty empty? ensure enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by hash hash-combine hash-map hash-set identical? identity if-let if-not ifn? import in-ns inc inc' init-proxy instance? int int-array integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mod munge name namespace namespace-munge neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not= ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string realized? reduce reduce-kv reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq satisfies? second select-keys send send-off seq seq? seque sequence sequential? set set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents slurp some some-fn sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! symbol symbol? sync take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing update update-in update-proxy use val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap *default-data-reader-fn* as-> cond-> cond->> reduced reduced? send-via set-agent-send-executor! set-agent-send-off-executor! some-> some->>"),g=makeKeywords("ns fn def defn defmethod bound-fn if if-not case condp when while when-not when-first do future comment doto locking proxy with-open with-precision reify deftype defrecord defprotocol extend extend-protocol extend-type try catch let letfn binding loop for doseq dotimes when-let if-let defstruct struct-map assoc testing deftest handler-case handle dotrace deftrace"),m={digit:/\d/,digit_or_colon:/[\d:]/,hex:/[0-9a-f]/i,sign:/[+-]/,exponent:/e/i,keyword_char:/[^\s\(\[\;\)\]]/,symbol:/[\w*+!\-\._?:<>\/\xa1-\uffff]/,block_indent:/^(?:def|with)[^\/]+$|\/(?:def|with)/};return{startState:function(){return{indentStack:null,indentation:0,mode:!1}},token:function(e,v){if(null==v.indentStack&&e.sol()&&(v.indentation=e.indentation()),"string"!=v.mode&&e.eatSpace())return null;var y=null;switch(v.mode){case"string":for(var _,b=!1;null!=(_=e.next());){if('"'==_&&!b){v.mode=!1;break}b=!b&&"\\"==_}y=r;break;default:var S=e.next();if('"'==S)v.mode="string",y=r;else if("\\"==S)eatCharacter(e),y=i;else if("'"!=S||m.digit_or_colon.test(e.peek()))if(";"==S)e.skipToEnd(),y=n;else if(isNumber(S,e))y=a;else if("("==S||"["==S||"{"==S){var w="",C=e.column(),T;if("("==S)for(;null!=(T=e.eat(m.keyword_char));)w+=T;w.length>0&&(g.propertyIsEnumerable(w)||m.block_indent.test(w))?pushStack(v,C+l,S):(e.eatSpace(),e.eol()||";"==e.peek()?pushStack(v,C+d,S):pushStack(v,C+e.current().length,S)),e.backUp(e.current().length-1),y=s}else if(")"==S||"]"==S||"}"==S)y=s,null!=v.indentStack&&v.indentStack.type==(")"==S?"(":"]"==S?"[":"{")&&popStack(v);else{if(":"==S)return e.eatWhile(m.symbol),o;e.eatWhile(m.symbol),y=h&&h.propertyIsEnumerable(e.current())?c:f&&f.propertyIsEnumerable(e.current())?t:p&&p.propertyIsEnumerable(e.current())?o:u}else y=o}return y},indent:function(e){return null==e.indentStack?e.indentation:e.indentStack.indent},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}}),e.defineMIME("text/x-clojure","clojure"),e.defineMIME("text/x-clojurescript","clojure"),e.defineMIME("application/edn","clojure")})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";e.defineMode("haskell",function(e,t){function switchState(e,t,n){return t(n),n(e,t)}function normal(e,t){if(e.eatWhile(l))return null;var d=e.next();if(u.test(d)){if("{"==d&&e.eat("-")){var p="comment";return e.eat("#")&&(p="meta"),switchState(e,t,ncomment(p,1))}return null}if("'"==d)return e.eat("\\"),e.next(),e.eat("'")?"string":"string error";if('"'==d)return switchState(e,t,stringLiteral);if(r.test(d))return e.eatWhile(s),e.eat(".")?"qualifier":"variable-2";if(n.test(d))return e.eatWhile(s),"variable";if(i.test(d)){if("0"==d){if(e.eat(/[xX]/))return e.eatWhile(o),"integer";if(e.eat(/[oO]/))return e.eatWhile(a),"number"}e.eatWhile(i);var p="number";return e.match(/^\.\d+/)&&(p="number"),e.eat(/[eE]/)&&(p="number",e.eat(/[-+]/),e.eatWhile(i)),p}if("."==d&&e.eat("."))return"keyword";if(c.test(d)){if("-"==d&&e.eat(/-/)&&(e.eatWhile(/-/),!e.eat(c)))return e.skipToEnd(),"comment";var p="variable";return":"==d&&(p="variable-2"),e.eatWhile(c),p}return"error"}function ncomment(e,t){return 0==t?normal:function(n,r){for(var i=t;!n.eol();){var o=n.next();if("{"==o&&n.eat("-"))++i;else if("-"==o&&n.eat("}")&&0==--i)return r(normal),e}return r(ncomment(e,i)),e}}function stringLiteral(e,t){for(;!e.eol();){var n=e.next();if('"'==n)return t(normal),"string";if("\\"==n){if(e.eol()||e.eat(l))return t(stringGap),"string";e.eat("&")||e.next()}}return t(normal),"string error"}function stringGap(e,t){return e.eat("\\")?switchState(e,t,stringLiteral):(e.next(),t(normal),"error")}var n=/[a-z_]/,r=/[A-Z]/,i=/\d/,o=/[0-9A-Fa-f]/,a=/[0-7]/,s=/[a-z_A-Z0-9'\xa1-\uffff]/,c=/[-!#$%&*+.\/<=>?@\\^|~:]/,u=/[(),;[\]`{}]/,l=/[ \t\v\f]/,d=function(){function setType(t){return function(){for(var n=0;n<arguments.length;n++)e[arguments[n]]=t}}var e={};setType("keyword")("case","class","data","default","deriving","do","else","foreign","if","import","in","infix","infixl","infixr","instance","let","module","newtype","of","then","type","where","_"),setType("keyword")("..",":","::","=","\\","<-","->","@","~","=>"),setType("builtin")("!!","$!","$","&&","+","++","-",".","/","/=","<","<=","=<<","==",">",">=",">>",">>=","^","^^","||","*","**"),setType("builtin")("Bool","Bounded","Char","Double","EQ","Either","Enum","Eq","False","FilePath","Float","Floating","Fractional","Functor","GT","IO","IOError","Int","Integer","Integral","Just","LT","Left","Maybe","Monad","Nothing","Num","Ord","Ordering","Rational","Read","ReadS","Real","RealFloat","RealFrac","Right","Show","ShowS","String","True"),setType("builtin")("abs","acos","acosh","all","and","any","appendFile","asTypeOf","asin","asinh","atan","atan2","atanh","break","catch","ceiling","compare","concat","concatMap","const","cos","cosh","curry","cycle","decodeFloat","div","divMod","drop","dropWhile","either","elem","encodeFloat","enumFrom","enumFromThen","enumFromThenTo","enumFromTo","error","even","exp","exponent","fail","filter","flip","floatDigits","floatRadix","floatRange","floor","fmap","foldl","foldl1","foldr","foldr1","fromEnum","fromInteger","fromIntegral","fromRational","fst","gcd","getChar","getContents","getLine","head","id","init","interact","ioError","isDenormalized","isIEEE","isInfinite","isNaN","isNegativeZero","iterate","last","lcm","length","lex","lines","log","logBase","lookup","map","mapM","mapM_","max","maxBound","maximum","maybe","min","minBound","minimum","mod","negate","not","notElem","null","odd","or","otherwise","pi","pred","print","product","properFraction","putChar","putStr","putStrLn","quot","quotRem","read","readFile","readIO","readList","readLn","readParen","reads","readsPrec","realToFrac","recip","rem","repeat","replicate","return","reverse","round","scaleFloat","scanl","scanl1","scanr","scanr1","seq","sequence","sequence_","show","showChar","showList","showParen","showString","shows","showsPrec","significand","signum","sin","sinh","snd","span","splitAt","sqrt","subtract","succ","sum","tail","take","takeWhile","tan","tanh","toEnum","toInteger","toRational","truncate","uncurry","undefined","unlines","until","unwords","unzip","unzip3","userError","words","writeFile","zip","zip3","zipWith","zipWith3");var n=t.overrideKeywords;if(n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e}();return{startState:function(){return{f:normal}},copyState:function(e){return{f:e.f}},token:function(e,t){var n=t.f(e,function(e){t.f=e}),r=e.current();return d.hasOwnProperty(r)?d[r]:n},blockCommentStart:"{-",blockCommentEnd:"-}",lineComment:"--"}}),e.defineMIME("text/x-haskell","haskell")})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";function wordRegexp(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function top(e){return e.scopes[e.scopes.length-1]}var t=wordRegexp(["and","or","not","is"]),n=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],r=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];e.registerHelper("hintWords","python",n.concat(r)),e.defineMode("python",function(i,o){function tokenBase(e,t){if(e.sol()&&(t.indent=e.indentation()),e.sol()&&"py"==top(t).type){var n=top(t).offset;if(e.eatSpace()){var r=e.indentation();return r>n?pushPyScope(t):r<n&&dedent(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var i=tokenBaseInner(e,t);return n>0&&dedent(e,t)&&(i+=" "+a),i}return tokenBaseInner(e,t)}function tokenBaseInner(e,n){if(e.eatSpace())return null;if("#"==e.peek())return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var r=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(r=!0),e.match(/^[\d_]+\.\d*/)&&(r=!0),e.match(/^\.\d+/)&&(r=!0),r)return e.eat(/J/i),"number";var i=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(i=!0),e.match(/^0b[01_]+/i)&&(i=!0),e.match(/^0o[0-7_]+/i)&&(i=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),i=!0),e.match(/^0(?![\dx])/i)&&(i=!0),i)return e.eat(/L/i),"number"}return e.match(v)?(n.tokenize=tokenStringFactory(e.current()),n.tokenize(e,n)):e.match(l)||e.match(u)?"punctuation":e.match(c)||e.match(g)?"operator":e.match(s)?"punctuation":"."==n.lastToken&&e.match(m)?"property":e.match(y)||e.match(t)?"keyword":e.match(_)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(m)?"def"==n.lastToken||"class"==n.lastToken?"def":"variable":(e.next(),a)}function tokenStringFactory(e){function tokenString(r,i){for(;!r.eol();)if(r.eatWhile(/[^'"\\]/),r.eat("\\")){if(r.next(),t&&r.eol())return n}else{if(r.match(e))return i.tokenize=tokenBase,n;r.eat(/['"]/)}if(t){if(o.singleLineStringErrors)return a;i.tokenize=tokenBase}return n}for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var t=1==e.length,n="string";return tokenString.isString=!0,tokenString}function pushPyScope(e){for(;"py"!=top(e).type;)e.scopes.pop();e.scopes.push({offset:top(e).offset+i.indentUnit,type:"py",align:null})}function pushBracketScope(e,t,n){var r=e.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+d,type:n,align:r})}function dedent(e,t){for(var n=e.indentation();t.scopes.length>1&&top(t).offset>n;){if("py"!=top(t).type)return!0;t.scopes.pop()}return top(t).offset!=n}function tokenLexer(e,t){e.sol()&&(t.beginningOfLine=!0);var n=t.tokenize(e,t),r=e.current();if(t.beginningOfLine&&"@"==r)return e.match(m,!1)?"meta":f?"operator":a;/\S/.test(r)&&(t.beginningOfLine=!1),"variable"!=n&&"builtin"!=n||"meta"!=t.lastToken||(n="meta"),"pass"!=r&&"return"!=r||(t.dedent+=1),"lambda"==r&&(t.lambda=!0),":"!=r||t.lambda||"py"!=top(t).type||pushPyScope(t);var i=1==r.length?"[({".indexOf(r):-1;if(-1!=i&&pushBracketScope(e,t,"])}".slice(i,i+1)),-1!=(i="])}".indexOf(r))){if(top(t).type!=r)return a;t.indent=t.scopes.pop().offset-d}return t.dedent>0&&e.eol()&&"py"==top(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),n}var a="error",s=o.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.]/,c=o.doubleOperators||/^([!<>]==|<>|<<|>>|\/\/|\*\*)/,u=o.doubleDelimiters||/^(\+=|\-=|\*=|%=|\/=|&=|\|=|\^=)/,l=o.tripleDelimiters||/^(\/\/=|>>=|<<=|\*\*=)/,d=o.hangingIndent||i.indentUnit,p=n,h=r;void 0!=o.extra_keywords&&(p=p.concat(o.extra_keywords)),void 0!=o.extra_builtins&&(h=h.concat(o.extra_builtins));var f=!(o.version&&Number(o.version)<3);if(f){var g=o.singleOperators||/^[\+\-\*\/%&|\^~<>!@]/,m=o.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;p=p.concat(["nonlocal","False","True","None","async","await"]),h=h.concat(["ascii","bytes","exec","print"]);var v=new RegExp("^(([rbuf]|(br))?('{3}|\"{3}|['\"]))","i")}else{var g=o.singleOperators||/^[\+\-\*\/%&|\^~<>!]/,m=o.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;p=p.concat(["exec","print"]),h=h.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);var v=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var y=wordRegexp(p),_=wordRegexp(h);return{startState:function(e){return{tokenize:tokenBase,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var r=tokenLexer(e,t);return r&&"comment"!=r&&(t.lastToken="keyword"==r||"punctuation"==r?e.current():r),"punctuation"==r&&(r=null),e.eol()&&t.lambda&&(t.lambda=!1),n?r+" "+a:r},indent:function(t,n){if(t.tokenize!=tokenBase)return t.tokenize.isString?e.Pass:0;var r=top(t),i=r.type==n.charAt(0);return null!=r.align?r.align-(i?1:0):r.offset-(i?d:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"}}),e.defineMIME("text/x-python","python");var i=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:i("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";function wordSet(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}function tokenBase(e,g,m){if(e.sol()&&(g.indented=e.indentation()),e.eatSpace())return null;var v=e.peek();if("/"==v){if(e.match("//"))return e.skipToEnd(),"comment";if(e.match("/*"))return g.tokenize.push(tokenComment),tokenComment(e,g)}if(e.match(h))return"builtin";if(e.match(f))return"attribute";if(e.match(s))return"number";if(e.match(c))return"number";if(e.match(u))return"number";if(e.match(l))return"number";if(e.match(p))return"property";if(o.indexOf(v)>-1)return e.next(),"operator";if(a.indexOf(v)>-1)return e.next(),e.match(".."),"punctuation";if('"'==v||"'"==v){e.next();var y=tokenString(v);return g.tokenize.push(y),y(e,g)}if(e.match(d)){var _=e.current();return i.hasOwnProperty(_)?"variable-2":r.hasOwnProperty(_)?"atom":t.hasOwnProperty(_)?(n.hasOwnProperty(_)&&(g.prev="define"),"keyword"):"define"==m?"def":"variable"}return e.next(),null}function tokenUntilClosingParen(){var e=0;return function(t,n,r){var i=tokenBase(t,n,r);if("punctuation"==i)if("("==t.current())++e;else if(")"==t.current()){if(0==e)return t.backUp(1),n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);--e}return i}}function tokenString(e){return function(t,n){for(var r,i=!1;r=t.next();)if(i){if("("==r)return n.tokenize.push(tokenUntilClosingParen()),"string";i=!1}else{if(r==e)break;i="\\"==r}return n.tokenize.pop(),"string"}}function tokenComment(e,t){return e.match(/^(?:[^*]|\*(?!\/))*/),e.match("*/")&&t.tokenize.pop(),"comment"}function Context(e,t,n){this.prev=e,this.align=t,this.indented=n}function pushContext(e,t){var n=t.match(/^\s*($|\/[\/\*])/,!1)?null:t.column()+1;e.context=new Context(e.context,n,e.indented)}function popContext(e){e.context&&(e.indented=e.context.indented,e.context=e.context.prev)}var t=wordSet(["_","var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open","public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","catch","do","rethrows","throw","throws","try","didSet","get","set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]),n=wordSet(["var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]),r=wordSet(["true","false","nil","self","super","_"]),i=wordSet(["Array","Bool","Character","Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]),o="+-/*%=|&<>~^?!",a=":;,.(){}[]",s=/^\-?0b[01][01_]*/,c=/^\-?0o[0-7][0-7_]*/,u=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/,l=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/,d=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/,p=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/,h=/^\#[A-Za-z]+/,f=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;e.defineMode("swift",function(e){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(e,t){var n=t.prev;t.prev=null;var r=(t.tokenize[t.tokenize.length-1]||tokenBase)(e,t,n);if(r&&"comment"!=r?t.prev||(t.prev=r):t.prev=n,"punctuation"==r){var i=/[\(\[\{]|([\]\)\}])/.exec(e.current());i&&(i[1]?popContext:pushContext)(t,e)}return r},indent:function(t,n){var r=t.context;if(!r)return 0;var i=/^[\]\}\)]/.test(n);return null!=r.align?r.align-(i?1:0):r.indented+(i?0:e.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}}),e.defineMIME("text/x-swift","swift")})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";e.defineMode("ruby",function(e){function wordObj(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}function chain(e,t,n){return n.tokenize.push(e),e(t,n)}function tokenBase(e,t){if(e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(readBlockComment),"comment";if(e.eatSpace())return null;var n=e.next(),r;if("`"==n||"'"==n||'"'==n)return chain(readQuoted(n,"string",'"'==n||"`"==n),e,t);if("/"==n)return regexpAhead(e)?chain(readQuoted(n,"string-2",!0),e,t):"operator";if("%"==n){var a="string",s=!0;e.eat("s")?a="atom":e.eat(/[WQ]/)?a="string":e.eat(/[r]/)?a="string-2":e.eat(/[wxq]/)&&(a="string",s=!1);var c=e.eat(/[^\w\s=]/);return c?(i.propertyIsEnumerable(c)&&(c=i[c]),chain(readQuoted(c,a,s,!0),e,t)):"operator"}if("#"==n)return e.skipToEnd(),"comment";if("<"==n&&(r=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return chain(readHereDoc(r[1]),e,t);if("0"==n)return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(n))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==n){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}if(":"==n)return e.eat("'")?chain(readQuoted("'","atom",!1),e,t):e.eat('"')?chain(readQuoted('"',"atom",!0),e,t):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(e.eatWhile(/[\w$\xa1-\uffff]/),e.eat(/[\?\!\=]/),"atom"):"operator";if("@"==n&&e.match(/^@?[a-zA-Z_\xa1-\uffff]/))return e.eat("@"),e.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if("$"==n)return e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(n))return e.eatWhile(/[\w\xa1-\uffff]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"ident";if("|"!=n||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok){if(/[\(\)\[\]{}\\;]/.test(n))return o=n,null;if("-"==n&&e.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(n)){var u=e.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"."!=n||u||(o="."),"operator"}return null}return o="|",null}function regexpAhead(e){for(var t=e.pos,n=0,r,i=!1,o=!1;null!=(r=e.next());)if(o)o=!1;else{if("[{(".indexOf(r)>-1)n++;else if("]})".indexOf(r)>-1){if(--n<0)break}else if("/"==r&&0==n){i=!0;break}o="\\"==r}return e.backUp(e.pos-t),i}function tokenBaseUntilBrace(e){return e||(e=1),function(t,n){if("}"==t.peek()){if(1==e)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);n.tokenize[n.tokenize.length-1]=tokenBaseUntilBrace(e-1)}else"{"==t.peek()&&(n.tokenize[n.tokenize.length-1]=tokenBaseUntilBrace(e+1));return tokenBase(t,n)}}function tokenBaseOnce(){var e=!1;return function(t,n){return e?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)):(e=!0,tokenBase(t,n))}}function readQuoted(e,t,n,r){return function(i,o){var a=!1,s;for("read-quoted-paused"===o.context.type&&(o.context=o.context.prev,i.eat("}"));null!=(s=i.next());){if(s==e&&(r||!a)){o.tokenize.pop();break}if(n&&"#"==s&&!a){if(i.eat("{")){"}"==e&&(o.context={prev:o.context,type:"read-quoted-paused"}),o.tokenize.push(tokenBaseUntilBrace());break}if(/[@\$]/.test(i.peek())){o.tokenize.push(tokenBaseOnce());break}}a=!a&&"\\"==s}return t}}function readHereDoc(e){return function(t,n){return t.match(e)?n.tokenize.pop():t.skipToEnd(),"string"}}function readBlockComment(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var t=wordObj(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),n=wordObj(["def","class","case","for","while","until","module","then","catch","loop","proc","begin"]),r=wordObj(["end","until"]),i={"[":"]","{":"}","(":")"},o;return{startState:function(){return{tokenize:[tokenBase],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,i){o=null,e.sol()&&(i.indented=e.indentation());var a=i.tokenize[i.tokenize.length-1](e,i),s,c=o;if("ident"==a){var u=e.current();"keyword"==(a="."==i.lastTok?"property":t.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(u)?"tag":"def"==i.lastTok||"class"==i.lastTok||i.varList?"def":"variable")&&(c=u,n.propertyIsEnumerable(u)?s="indent":r.propertyIsEnumerable(u)?s="dedent":"if"!=u&&"unless"!=u||e.column()!=e.indentation()?"do"==u&&i.context.indented<i.indented&&(s="indent"):s="indent")}return(o||a&&"comment"!=a)&&(i.lastTok=c),"|"==o&&(i.varList=!i.varList),"indent"==s||/[\(\[\{]/.test(o)?i.context={prev:i.context,type:o||a,indented:i.indented}:("dedent"==s||/[\)\]\}]/.test(o))&&i.context.prev&&(i.context=i.context.prev),e.eol()&&(i.continuedLine="\\"==o||"operator"==a),a},indent:function(t,n){if(t.tokenize[t.tokenize.length-1]!=tokenBase)return 0;var r=n&&n.charAt(0),o=t.context,a=o.type==i[r]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return o.indented+(a?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)},electricInput:/^\s*(?:end|rescue|elsif|else|\})$/,lineComment:"#"}}),e.defineMIME("text/x-ruby","ruby")})},function(e,t,n){!function(e){e(n(66),n(1318),n(998))}(function(e){"use strict";function keywords(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function matchSequence(e,t,n){return 0==e.length?phpString(t):function(r,i){for(var o=e[0],a=0;a<o.length;a++)if(r.match(o[a][0]))return i.tokenize=matchSequence(e.slice(1),t),o[a][1];return i.tokenize=phpString(t,n),"string"}}function phpString(e,t){return function(n,r){return phpString_(n,r,e,t)}}function phpString_(e,t,n,r){if(!1!==r&&e.match("${",!1)||e.match("{$",!1))return t.tokenize=null,"string";if(!1!==r&&e.match(/^\$[a-zA-Z_][a-zA-Z0-9_]*/))return e.match("[",!1)&&(t.tokenize=matchSequence([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]],n,r)),e.match(/\-\>\w/,!1)&&(t.tokenize=matchSequence([[["->",null]],[[/[\w]+/,"variable"]]],n,r)),"variable-2";for(var i=!1;!e.eol()&&(i||!1===r||!e.match("{$",!1)&&!e.match(/^(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,!1));){if(!i&&e.match(n)){t.tokenize=null,t.tokStack.pop(),t.tokStack.pop();break}i="\\"==e.next()&&!i}return"string"}var t="abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally",n="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",r="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";e.registerHelper("hintWords","php",[t,n,r].join(" ").split(" ")),e.registerHelper("wordChars","php",/[\w$]/);var i={name:"clike",helperType:"php",keywords:keywords(t),blockKeywords:keywords("catch do else elseif for foreach if switch try while finally"),defKeywords:keywords("class function interface namespace trait"),atoms:keywords(n),builtin:keywords(r),multiLineStrings:!0,hooks:{$:function(e){return e.eatWhile(/[\w\$_]/),"variable-2"},"<":function(e,t){var n;if(n=e.match(/<<\s*/)){var r=e.eat(/['"]/);e.eatWhile(/[\w\.]/);var i=e.current().slice(n[0].length+(r?2:1));if(r&&e.eat(r),i)return(t.tokStack||(t.tokStack=[])).push(i,0),t.tokenize=phpString(i,"'"!=r),"string"}return!1},"#":function(e){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"},"/":function(e){if(e.eat("/")){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"}return!1},'"':function(e,t){return(t.tokStack||(t.tokStack=[])).push('"',0),t.tokenize=phpString('"'),"string"},"{":function(e,t){return t.tokStack&&t.tokStack.length&&t.tokStack[t.tokStack.length-1]++,!1},"}":function(e,t){return t.tokStack&&t.tokStack.length>0&&!--t.tokStack[t.tokStack.length-1]&&(t.tokenize=phpString(t.tokStack[t.tokStack.length-2])),!1}}};e.defineMode("php",function(t,n){function dispatch(t,n){var i=n.curMode==o;if(t.sol()&&n.pending&&'"'!=n.pending&&"'"!=n.pending&&(n.pending=null),i)return i&&null==n.php.tokenize&&t.match("?>")?(n.curMode=r,n.curState=n.html,n.php.context.prev||(n.php=null),"meta"):o.token(t,n.curState);if(t.match(/^<\?\w*/))return n.curMode=o,n.php||(n.php=e.startState(o,r.indent(n.html,""))),n.curState=n.php,"meta";if('"'==n.pending||"'"==n.pending){for(;!t.eol()&&t.next()!=n.pending;);var a="string"}else if(n.pending&&t.pos<n.pending.end){t.pos=n.pending.end;var a=n.pending.style}else var a=r.token(t,n.curState);n.pending&&(n.pending=null);var s=t.current(),c=s.search(/<\?/),u;return-1!=c&&("string"==a&&(u=s.match(/[\'\"]$/))&&!/\?>/.test(s)?n.pending=u[0]:n.pending={end:t.pos,style:a},t.backUp(s.length-c)),a}var r=e.getMode(t,"text/html"),o=e.getMode(t,i);return{startState:function(){var t=e.startState(r),i=n.startOpen?e.startState(o):null;return{html:t,php:i,curMode:n.startOpen?o:r,curState:n.startOpen?i:t,pending:null}},copyState:function(t){var n=t.html,i=e.copyState(r,n),a=t.php,s=a&&e.copyState(o,a),c;return c=t.curMode==r?i:s,{html:i,php:s,curMode:t.curMode,curState:c,pending:t.pending}},token:dispatch,indent:function(e,t){return e.curMode!=o&&/^\s*<\//.test(t)||e.curMode==o&&/^\?>/.test(t)?r.indent(e.html,t):e.curMode.indent(e.curState,t)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(e){return{state:e.curState,mode:e.curMode}}}},"htmlmixed","clike"),e.defineMIME("application/x-httpd-php","php"),e.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),e.defineMIME("text/x-php",i)})},function(e,t,n){!function(e){e(n(66),n(1319),n(999),n(1320))}(function(e){"use strict";function maybeBackup(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}function getAttrRegexp(e){var t=n[e];return t||(n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function getAttrValue(e,t){var n=e.match(getAttrRegexp(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function getTagRegexp(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function addTags(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}function findMatchingMode(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(getAttrValue(t,r[0])))return r[2]}}var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},n={};e.defineMode("htmlmixed",function(n,r){function html(t,r){var a=i.token(t,r.htmlState),s=/\btag\b/.test(a),c;if(s&&!/[<>\s\/]/.test(t.current())&&(c=r.htmlState.tagName&&r.htmlState.tagName.toLowerCase())&&o.hasOwnProperty(c))r.inTag=c+" ";else if(r.inTag&&s&&/>$/.test(t.current())){var u=/^([\S]+) (.*)/.exec(r.inTag);r.inTag=null;var l=">"==t.current()&&findMatchingMode(o[u[1]],u[2]),d=e.getMode(n,l),p=getTagRegexp(u[1],!0),h=getTagRegexp(u[1],!1);r.token=function(e,t){return e.match(p,!1)?(t.token=html,t.localState=t.localMode=null,null):maybeBackup(e,h,t.localMode.token(e,t.localState))},r.localMode=d,r.localState=e.startState(d,i.indent(r.htmlState,""))}else r.inTag&&(r.inTag+=t.current(),t.eol()&&(r.inTag+=" "));return a}var i=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:r.multilineTagIndentFactor,multilineTagIndentPastTag:r.multilineTagIndentPastTag}),o={},a=r&&r.tags,s=r&&r.scriptTypes;if(addTags(t,o),a&&addTags(a,o),s)for(var c=s.length-1;c>=0;c--)o.script.unshift(["type",s[c].matches,s[c].mode]);return{startState:function(){return{token:html,inTag:null,localMode:null,localState:null,htmlState:e.startState(i)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(i,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?i.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||i}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(r,i){function inText(e,t){function chain(n){return t.tokenize=n,n(e,t)}var n=e.next();if("<"==n)return e.eat("!")?e.eat("[")?e.match("CDATA[")?chain(inBlock("atom","]]>")):null:e.match("--")?chain(inBlock("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),chain(doctype(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=inBlock("meta","?>"),"meta"):(u=e.eat("/")?"closeTag":"openTag",t.tokenize=inTag,"tag bracket");if("&"==n){var r;return(r=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error"}return e.eatWhile(/[^&<]/),null}function inTag(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=inText,u=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return u="equals",null;if("<"==n){t.tokenize=inText,t.state=baseState,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=inAttribute(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function inAttribute(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=inTag;break}return"string"};return t.isInAttribute=!0,t}function inBlock(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=inText;break}n.next()}return e}}function doctype(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=doctype(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=inText;break}return n.tokenize=doctype(e-1),n.tokenize(t,n)}}return"meta"}}function Context(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(a.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function popContext(e){e.context&&(e.context=e.context.prev)}function maybePopContext(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!a.contextGrabbers.hasOwnProperty(n)||!a.contextGrabbers[n].hasOwnProperty(t))return;popContext(e)}}function baseState(e,t,n){return"openTag"==e?(n.tagStart=t.column(),tagNameState):"closeTag"==e?closeTagNameState:baseState}function tagNameState(e,t,n){return"word"==e?(n.tagName=t.current(),l="tag",attrState):(l="error",tagNameState)}function closeTagNameState(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&a.implicitlyClosed.hasOwnProperty(n.context.tagName)&&popContext(n),n.context&&n.context.tagName==r||!1===a.matchClosing?(l="tag",closeState):(l="tag error",closeStateErr)}return l="error",closeStateErr}function closeState(e,t,n){return"endTag"!=e?(l="error",closeState):(popContext(n),baseState)}function closeStateErr(e,t,n){return l="error",closeState(e,t,n)}function attrState(e,t,n){if("word"==e)return l="attribute",attrEqState;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||a.autoSelfClosers.hasOwnProperty(r)?maybePopContext(n,r):(maybePopContext(n,r),n.context=new Context(n,r,i==n.indented)),baseState}return l="error",attrState}function attrEqState(e,t,n){return"equals"==e?attrValueState:(a.allowMissing||(l="error"),attrState(e,t,n))}function attrValueState(e,t,n){return"string"==e?attrContinuedState:"word"==e&&a.allowUnquoted?(l="string",attrState):(l="error",attrState(e,t,n))}function attrContinuedState(e,t,n){return"string"==e?attrContinuedState:attrState(e,t,n)}var o=r.indentUnit,a={},s=i.htmlMode?t:n;for(var c in s)a[c]=s[c];for(var c in i)a[c]=i[c];var u,l;return inText.isInText=!0,{startState:function(e){var t={tokenize:inText,state:baseState,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;u=null;var n=t.tokenize(e,t);return(n||u)&&"comment"!=n&&(l=null,t.state=t.state(u||n,e,t),l&&(n="error"==l?n+" error":l)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+o;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=inTag&&t.tokenize!=inText)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==a.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+o*(a.multilineTagIndentFactor||1);if(a.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;i;){if(i.tagName==s[2]){i=i.prev;break}if(!a.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(s)for(;i;){var c=a.contextGrabbers[i.tagName];if(!c||!c.hasOwnProperty(s[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+o:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:a.htmlMode?"html":"xml",helperType:a.htmlMode?"html":"xml",skipAttribute:function(e){e.state==attrValueState&&(e.state=attrState)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";function keySet(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}function tokenCComment(e,t){for(var n=!1,r;null!=(r=e.next());){if(n&&"/"==r){t.tokenize=null;break}n="*"==r}return["comment","comment"]}e.defineMode("css",function(t,n){function ret(e,t){return _=t,e}function tokenBase(e,t){var n=e.next();if(o[n]){var r=o[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),ret("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?ret(null,"compare"):'"'==n||"'"==n?(t.tokenize=tokenString(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),ret("atom","hash")):"!"==n?(e.match(/^\s*\w*/),ret("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),ret("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?ret(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?ret("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?ret(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=tokenParenthesized,ret("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),ret("property","word")):ret(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),ret("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?ret("variable-2","variable-definition"):ret("variable-2","variable")):e.match(/^\w+-/)?ret("meta","meta"):void 0}function tokenString(e){return function(t,n){for(var r=!1,i;null!=(i=t.next());){if(i==e&&!r){")"==e&&t.backUp(1);break}r=!r&&"\\"==i}return(i==e||!r&&")"!=e)&&(n.tokenize=null),ret("string","string")}}function tokenParenthesized(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=tokenString(")"),ret(null,"(")}function Context(e,t,n){this.type=e,this.indent=t,this.prev=n}function pushContext(e,t,n,r){return e.context=new Context(n,t.indentation()+(!1===r?0:i),e.context),n}function popContext(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function pass(e,t,n){return S[n.context.type](e,t,n)}function popAndPass(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return pass(e,t,n)}function wordAsValue(e){var t=e.current().toLowerCase();b=g.hasOwnProperty(t)?"atom":f.hasOwnProperty(t)?"keyword":"variable"}var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var i=t.indentUnit,o=n.tokenHooks,a=n.documentTypes||{},s=n.mediaTypes||{},c=n.mediaFeatures||{},u=n.mediaValueKeywords||{},l=n.propertyKeywords||{},d=n.nonStandardPropertyKeywords||{},p=n.fontProperties||{},h=n.counterDescriptors||{},f=n.colorKeywords||{},g=n.valueKeywords||{},m=n.allowNested,v=n.lineComment,y=!0===n.supportsAtComponent,_,b,S={};return S.top=function(e,t,n){if("{"==e)return pushContext(n,t,"block");if("}"==e&&n.context.prev)return popContext(n);if(y&&/@component/.test(e))return pushContext(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return pushContext(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return pushContext(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return pushContext(n,t,"at");if("hash"==e)b="builtin";else if("word"==e)b="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return pushContext(n,t,"interpolation");if(":"==e)return"pseudo";if(m&&"("==e)return pushContext(n,t,"parens")}return n.context.type},S.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return l.hasOwnProperty(r)?(b="property","maybeprop"):d.hasOwnProperty(r)?(b="string-2","maybeprop"):m?(b=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(b+=" error","maybeprop")}return"meta"==e?"block":m||"hash"!=e&&"qualifier"!=e?S.top(e,t,n):(b="error","block")},S.maybeprop=function(e,t,n){return":"==e?pushContext(n,t,"prop"):pass(e,t,n)},S.prop=function(e,t,n){if(";"==e)return popContext(n);if("{"==e&&m)return pushContext(n,t,"propBlock");if("}"==e||"{"==e)return popAndPass(e,t,n);if("("==e)return pushContext(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)wordAsValue(t);else if("interpolation"==e)return pushContext(n,t,"interpolation")}else b+=" error";return"prop"},S.propBlock=function(e,t,n){return"}"==e?popContext(n):"word"==e?(b="property","maybeprop"):n.context.type},S.parens=function(e,t,n){return"{"==e||"}"==e?popAndPass(e,t,n):")"==e?popContext(n):"("==e?pushContext(n,t,"parens"):"interpolation"==e?pushContext(n,t,"interpolation"):("word"==e&&wordAsValue(t),"parens")},S.pseudo=function(e,t,n){return"meta"==e?"pseudo":"word"==e?(b="variable-3",n.context.type):pass(e,t,n)},S.documentTypes=function(e,t,n){return"word"==e&&a.hasOwnProperty(t.current())?(b="tag",n.context.type):S.atBlock(e,t,n)},S.atBlock=function(e,t,n){if("("==e)return pushContext(n,t,"atBlock_parens");if("}"==e||";"==e)return popAndPass(e,t,n);if("{"==e)return popContext(n)&&pushContext(n,t,m?"block":"top");if("interpolation"==e)return pushContext(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();b="only"==r||"not"==r||"and"==r||"or"==r?"keyword":s.hasOwnProperty(r)?"attribute":c.hasOwnProperty(r)?"property":u.hasOwnProperty(r)?"keyword":l.hasOwnProperty(r)?"property":d.hasOwnProperty(r)?"string-2":g.hasOwnProperty(r)?"atom":f.hasOwnProperty(r)?"keyword":"error"}return n.context.type},S.atComponentBlock=function(e,t,n){return"}"==e?popAndPass(e,t,n):"{"==e?popContext(n)&&pushContext(n,t,m?"block":"top",!1):("word"==e&&(b="error"),n.context.type)},S.atBlock_parens=function(e,t,n){return")"==e?popContext(n):"{"==e||"}"==e?popAndPass(e,t,n,2):S.atBlock(e,t,n)},S.restricted_atBlock_before=function(e,t,n){return"{"==e?pushContext(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(b="variable","restricted_atBlock_before"):pass(e,t,n)},S.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,popContext(n)):"word"==e?(b="@font-face"==n.stateArg&&!p.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},S.keyframes=function(e,t,n){return"word"==e?(b="variable","keyframes"):"{"==e?pushContext(n,t,"top"):pass(e,t,n)},S.at=function(e,t,n){return";"==e?popContext(n):"{"==e||"}"==e?popAndPass(e,t,n):("word"==e?b="tag":"hash"==e&&(b="builtin"),"at")},S.interpolation=function(e,t,n){return"}"==e?popContext(n):"{"==e||";"==e?popAndPass(e,t,n):("word"==e?b="variable":"variable"!=e&&"("!=e&&")"!=e&&(b="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new Context(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||tokenBase)(e,t);return n&&"object"==typeof n&&(_=n[1],n=n[0]),b=n,t.state=S[t.state](_,e,t),b},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),o=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(o=Math.max(0,n.indent-i)):o=(n=n.prev).indent),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:v,fold:"brace"}});var t=["domain","regexp","url","url-prefix"],n=keySet(t),r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=keySet(r),o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],a=keySet(o),s=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=keySet(s),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],l=keySet(u),d=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],p=keySet(d),h=keySet(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),f=keySet(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],m=keySet(g),v=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],y=keySet(v),_=t.concat(r).concat(o).concat(s).concat(u).concat(d).concat(g).concat(v);e.registerHelper("hintWords","css",_),e.defineMIME("text/css",{documentTypes:n,mediaTypes:i,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:l,nonStandardPropertyKeywords:p,fontProperties:h,counterDescriptors:f,colorKeywords:m,valueKeywords:y,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=tokenCComment,tokenCComment(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:l,nonStandardPropertyKeywords:p,colorKeywords:m,valueKeywords:y,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=tokenCComment,tokenCComment(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:l,nonStandardPropertyKeywords:p,colorKeywords:m,valueKeywords:y,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=tokenCComment,tokenCComment(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:i,mediaFeatures:a,propertyKeywords:l,nonStandardPropertyKeywords:p,fontProperties:h,counterDescriptors:f,colorKeywords:m,valueKeywords:y,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=tokenCComment,tokenCComment(e,t))}},name:"css",helperType:"gss"})})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";e.defineMode("go",function(t){function tokenBase(e,t){var n=e.next();if('"'==n||"'"==n||"`"==n)return t.tokenize=tokenString(n),t.tokenize(e,t);if(/[\d\.]/.test(n))return"."==n?e.match(/^[0-9]+([eE][\-+]?[0-9]+)?/):"0"==n?e.match(/^[xX][0-9a-fA-F]+/)||e.match(/^0[0-7]+/):e.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/),"number";if(/[\[\]{}\(\),;\:\.]/.test(n))return a=n,null;if("/"==n){if(e.eat("*"))return t.tokenize=tokenComment,tokenComment(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(o.test(n))return e.eatWhile(o),"operator";e.eatWhile(/[\w\$_\xa1-\uffff]/);var s=e.current();return r.propertyIsEnumerable(s)?("case"!=s&&"default"!=s||(a="case"),"keyword"):i.propertyIsEnumerable(s)?"atom":"variable"}function tokenString(e){return function(t,n){for(var r=!1,i,o=!1;null!=(i=t.next());){if(i==e&&!r){o=!0;break}r=!r&&"`"!=e&&"\\"==i}return(o||!r&&"`"!=e)&&(n.tokenize=tokenBase),"string"}}function tokenComment(e,t){for(var n=!1,r;r=e.next();){if("/"==r&&n){t.tokenize=tokenBase;break}n="*"==r}return"comment"}function Context(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function pushContext(e,t,n){return e.context=new Context(e.indented,t,n,null,e.context)}function popContext(e){if(e.context.prev){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}}var n=t.indentUnit,r={break:!0,case:!0,chan:!0,const:!0,continue:!0,default:!0,defer:!0,else:!0,fallthrough:!0,for:!0,func:!0,go:!0,goto:!0,if:!0,import:!0,interface:!0,map:!0,package:!0,range:!0,return:!0,select:!0,struct:!0,switch:!0,type:!0,var:!0,bool:!0,byte:!0,complex64:!0,complex128:!0,float32:!0,float64:!0,int8:!0,int16:!0,int32:!0,int64:!0,string:!0,uint8:!0,uint16:!0,uint32:!0,uint64:!0,int:!0,uint:!0,uintptr:!0,error:!0,rune:!0},i={true:!0,false:!0,iota:!0,nil:!0,append:!0,cap:!0,close:!0,complex:!0,copy:!0,delete:!0,imag:!0,len:!0,make:!0,new:!0,panic:!0,print:!0,println:!0,real:!0,recover:!0},o=/[+\-*&^%:=<>!|\/]/,a;return{startState:function(e){return{tokenize:null,context:new Context((e||0)-n,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0,"case"==n.type&&(n.type="}")),e.eatSpace())return null;a=null;var r=(t.tokenize||tokenBase)(e,t);return"comment"==r?r:(null==n.align&&(n.align=!0),"{"==a?pushContext(t,e.column(),"}"):"["==a?pushContext(t,e.column(),"]"):"("==a?pushContext(t,e.column(),")"):"case"==a?n.type="case":"}"==a&&"}"==n.type?popContext(t):a==n.type&&popContext(t),t.startOfLine=!1,r)},indent:function(t,r){if(t.tokenize!=tokenBase&&null!=t.tokenize)return e.Pass;var i=t.context,o=r&&r.charAt(0);if("case"==i.type&&/^(?:case|default)\b/.test(r))return t.context.type="}",i.indented;var a=o==i.type;return i.align?i.column+(a?0:1):i.indented+(a?0:n)},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),e.defineMIME("text/x-go","go")})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";function firstNonWS(e){var t=e.search(n);return-1==t?0:t}function probablyInsideString(e,t,n){return/\bstring\b/.test(e.getTokenTypeAt(r(t.line,0)))&&!/^[\'\"\`]/.test(n)}function getMode(e,t){var n=e.getMode();return!1!==n.useInnerComments&&n.innerMode?e.getModeAt(t):n}var t={},n=/[^\s\u00a0]/,r=e.Pos;e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",function(e){e||(e=t);for(var n=this,i=1/0,o=this.listSelections(),a=null,s=o.length-1;s>=0;s--){var c=o[s].from(),u=o[s].to();c.line>=i||(u.line>=i&&(u=r(i,0)),i=c.line,null==a?n.uncomment(c,u,e)?a="un":(n.lineComment(c,u,e),a="line"):"un"==a?n.uncomment(c,u,e):n.lineComment(c,u,e))}}),e.defineExtension("lineComment",function(e,i,o){o||(o=t);var a=this,s=getMode(a,e),c=a.getLine(e.line);if(null!=c&&!probablyInsideString(a,e,c)){var u=o.lineComment||s.lineComment;if(u){var l=Math.min(0!=i.ch||i.line==e.line?i.line+1:i.line,a.lastLine()+1),d=null==o.padding?" ":o.padding,p=o.commentBlankLines||e.line==i.line;a.operation(function(){if(o.indent){for(var t=null,i=e.line;i<l;++i){var s=(c=a.getLine(i)).slice(0,firstNonWS(c));(null==t||t.length>s.length)&&(t=s)}for(var i=e.line;i<l;++i){var c=a.getLine(i),h=t.length;(p||n.test(c))&&(c.slice(0,h)!=t&&(h=firstNonWS(c)),a.replaceRange(t+u+d,r(i,0),r(i,h)))}}else for(var i=e.line;i<l;++i)(p||n.test(a.getLine(i)))&&a.replaceRange(u+d,r(i,0))})}else(o.blockCommentStart||s.blockCommentStart)&&(o.fullLines=!0,a.blockComment(e,i,o))}}),e.defineExtension("blockComment",function(e,i,o){o||(o=t);var a=this,s=getMode(a,e),c=o.blockCommentStart||s.blockCommentStart,u=o.blockCommentEnd||s.blockCommentEnd;if(c&&u){if(!/\bcomment\b/.test(a.getTokenTypeAt(r(e.line,0)))){var l=Math.min(i.line,a.lastLine());l!=e.line&&0==i.ch&&n.test(a.getLine(l))&&--l;var d=null==o.padding?" ":o.padding;e.line>l||a.operation(function(){if(0!=o.fullLines){var t=n.test(a.getLine(l));a.replaceRange(d+u,r(l)),a.replaceRange(c+d,r(e.line,0));var p=o.blockCommentLead||s.blockCommentLead;if(null!=p)for(var h=e.line+1;h<=l;++h)(h!=l||t)&&a.replaceRange(p+d,r(h,0))}else a.replaceRange(u,i),a.replaceRange(c,e)})}}else(o.lineComment||s.lineComment)&&0!=o.fullLines&&a.lineComment(e,i,o)}),e.defineExtension("uncomment",function(e,i,o){o||(o=t);var a=this,s=getMode(a,e),c=Math.min(0!=i.ch||i.line==e.line?i.line:i.line-1,a.lastLine()),u=Math.min(e.line,c),l=o.lineComment||s.lineComment,d=[],p=null==o.padding?" ":o.padding,h;e:if(l){for(var f=u;f<=c;++f){var g=a.getLine(f),m=g.indexOf(l);if(m>-1&&!/comment/.test(a.getTokenTypeAt(r(f,m+1)))&&(m=-1),-1==m&&n.test(g))break e;if(m>-1&&n.test(g.slice(0,m)))break e;d.push(g)}if(a.operation(function(){for(var e=u;e<=c;++e){var t=d[e-u],n=t.indexOf(l),i=n+l.length;n<0||(t.slice(i,i+p.length)==p&&(i+=p.length),h=!0,a.replaceRange("",r(e,n),r(e,i)))}}),h)return!0}var v=o.blockCommentStart||s.blockCommentStart,y=o.blockCommentEnd||s.blockCommentEnd;if(!v||!y)return!1;var _=o.blockCommentLead||s.blockCommentLead,b=a.getLine(u),S=b.indexOf(v);if(-1==S)return!1;var w=c==u?b:a.getLine(c),C=w.indexOf(y,c==u?S+v.length:0);-1==C&&u!=c&&(w=a.getLine(--c),C=w.indexOf(y));var T=r(u,S+1),E=r(c,C+1);if(-1==C||!/comment/.test(a.getTokenTypeAt(T))||!/comment/.test(a.getTokenTypeAt(E))||a.getRange(T,E,"\n").indexOf(y)>-1)return!1;var k=b.lastIndexOf(v,e.ch),x=-1==k?-1:b.slice(0,e.ch).indexOf(y,k+v.length);if(-1!=k&&-1!=x&&x+y.length!=e.ch)return!1;x=w.indexOf(y,i.ch);var I=w.slice(i.ch).lastIndexOf(v,x-i.ch);return k=-1==x||-1==I?-1:i.ch+I,(-1==x||-1==k||k==i.ch)&&(a.operation(function(){a.replaceRange("",r(c,C-(p&&w.slice(C-p.length,C)==p?p.length:0)),r(c,C+y.length));var e=S+v.length;if(p&&b.slice(e,e+p.length)==p&&(e+=p.length),a.replaceRange("",r(u,S),r(u,e)),_)for(var t=u+1;t<=c;++t){var i=a.getLine(t),o=i.indexOf(_);if(-1!=o&&!n.test(i.slice(0,o))){var s=o+_.length;p&&i.slice(s,s+p.length)==p&&(s+=p.length),a.replaceRange("",r(t,o),r(t,s))}}}),!0)})})},function(e,t,n){!function(e){e(n(66))}(function(e){function getOption(e,n){return"pairs"==n&&"string"==typeof e?e:"object"==typeof e&&null!=e[n]?e[n]:t[n]}function handler(e){return function(t){return handleChar(t,e)}}function getConfig(e){var t=e.state.closeBrackets;return!t||t.override?t:e.getModeAt(e.getCursor()).closeBrackets||t}function handleBackspace(t){var r=getConfig(t);if(!r||t.getOption("disableInput"))return e.Pass;for(var i=getOption(r,"pairs"),o=t.listSelections(),a=0;a<o.length;a++){if(!o[a].empty())return e.Pass;var s=charsAround(t,o[a].head);if(!s||i.indexOf(s)%2!=0)return e.Pass}for(var a=o.length-1;a>=0;a--){var c=o[a].head;t.replaceRange("",n(c.line,c.ch-1),n(c.line,c.ch+1),"+delete")}}function handleEnter(t){var n=getConfig(t),r=n&&getOption(n,"explode");if(!r||t.getOption("disableInput"))return e.Pass;for(var i=t.listSelections(),o=0;o<i.length;o++){if(!i[o].empty())return e.Pass;var a=charsAround(t,i[o].head);if(!a||r.indexOf(a)%2!=0)return e.Pass}t.operation(function(){t.replaceSelection("\n\n",null),t.execCommand("goCharLeft"),i=t.listSelections();for(var e=0;e<i.length;e++){var n=i[e].head.line;t.indentLine(n,null,!0),t.indentLine(n+1,null,!0)}})}function contractSelection(t){var r=e.cmpPos(t.anchor,t.head)>0;return{anchor:new n(t.anchor.line,t.anchor.ch+(r?-1:1)),head:new n(t.head.line,t.head.ch+(r?1:-1))}}function handleChar(t,r){var i=getConfig(t);if(!i||t.getOption("disableInput"))return e.Pass;var o=getOption(i,"pairs"),a=o.indexOf(r);if(-1==a)return e.Pass;for(var s=getOption(i,"triples"),c=o.charAt(a+1)==r,u=t.listSelections(),l=a%2==0,d,p=0;p<u.length;p++){var h=u[p],f=h.head,g,m=t.getRange(f,n(f.line,f.ch+1));if(l&&!h.empty())g="surround";else if(!c&&l||m!=r)if(c&&f.ch>1&&s.indexOf(r)>=0&&t.getRange(n(f.line,f.ch-2),f)==r+r&&(f.ch<=2||t.getRange(n(f.line,f.ch-3),n(f.line,f.ch-2))!=r))g="addFour";else if(c){if(e.isWordChar(m)||!enteringString(t,f,r))return e.Pass;g="both"}else{if(!l||t.getLine(f.line).length!=f.ch&&!isClosingBracket(m,o)&&!/\s/.test(m))return e.Pass;g="both"}else g=c&&stringStartsAfter(t,f)?"both":s.indexOf(r)>=0&&t.getRange(f,n(f.line,f.ch+3))==r+r+r?"skipThree":"skip";if(d){if(d!=g)return e.Pass}else d=g}var v=a%2?o.charAt(a-1):r,y=a%2?r:o.charAt(a+1);t.operation(function(){if("skip"==d)t.execCommand("goCharRight");else if("skipThree"==d)for(var e=0;e<3;e++)t.execCommand("goCharRight");else if("surround"==d){for(var n=t.getSelections(),e=0;e<n.length;e++)n[e]=v+n[e]+y;t.replaceSelections(n,"around"),n=t.listSelections().slice();for(var e=0;e<n.length;e++)n[e]=contractSelection(n[e]);t.setSelections(n)}else"both"==d?(t.replaceSelection(v+y,null),t.triggerElectric(v+y),t.execCommand("goCharLeft")):"addFour"==d&&(t.replaceSelection(v+v+v+v,"before"),t.execCommand("goCharRight"))})}function isClosingBracket(e,t){var n=t.lastIndexOf(e);return n>-1&&n%2==1}function charsAround(e,t){var r=e.getRange(n(t.line,t.ch-1),n(t.line,t.ch+1));return 2==r.length?r:null}function enteringString(t,n,r){var i=t.getLine(n.line),o=t.getTokenAt(n);if(/\bstring2?\b/.test(o.type)||stringStartsAfter(t,n))return!1;var a=new e.StringStream(i.slice(0,n.ch)+r+i.slice(n.ch),4);for(a.pos=a.start=o.start;;){var s=t.getMode().token(a,o.state);if(a.pos>=n.ch+1)return/\bstring2?\b/.test(s);a.start=a.pos}}function stringStartsAfter(e,t){var r=e.getTokenAt(n(t.line,t.ch+1));return/\bstring/.test(r.type)&&r.start==t.ch}var t={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},n=e.Pos;e.defineOption("autoCloseBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.removeKeyMap(i),t.state.closeBrackets=null),n&&(t.state.closeBrackets=n,t.addKeyMap(i))});for(var r=t.pairs+"`",i={Backspace:handleBackspace,Enter:handleEnter},o=0;o<r.length;o++)i["'"+r.charAt(o)+"'"]=handler(r.charAt(o))})},function(e,t,n){!function(e){e(n(66))}(function(e){function findMatchingBracket(e,t,i){var o=e.getLineHandle(t.line),a=t.ch-1,s=i&&i.afterCursor;null==s&&(s=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var c=!s&&a>=0&&r[o.text.charAt(a)]||r[o.text.charAt(++a)];if(!c)return null;var u=">"==c.charAt(1)?1:-1;if(i&&i.strict&&u>0!=(a==t.ch))return null;var l=e.getTokenTypeAt(n(t.line,a+1)),d=scanForBracket(e,n(t.line,a+(u>0?1:0)),u,l||null,i);return null==d?null:{from:n(t.line,a),to:d&&d.pos,match:d&&d.ch==c.charAt(0),forward:u>0}}function scanForBracket(e,t,i,o,a){for(var s=a&&a.maxScanLineLength||1e4,c=a&&a.maxScanLines||1e3,u=[],l=a&&a.bracketRegex?a.bracketRegex:/[(){}[\]]/,d=i>0?Math.min(t.line+c,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-c),p=t.line;p!=d;p+=i){var h=e.getLine(p);if(h){var f=i>0?0:h.length-1,g=i>0?h.length:-1;if(!(h.length>s))for(p==t.line&&(f=t.ch-(i<0?1:0));f!=g;f+=i){var m=h.charAt(f);if(l.test(m)&&(void 0===o||e.getTokenTypeAt(n(p,f+1))==o))if(">"==r[m].charAt(1)==i>0)u.push(m);else{if(!u.length)return{pos:n(p,f),ch:m};u.pop()}}}}return p-i!=(i>0?e.lastLine():e.firstLine())&&null}function matchBrackets(e,r,i){for(var o=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],s=e.listSelections(),c=0;c<s.length;c++){var u=s[c].empty()&&findMatchingBracket(e,s[c].head,i);if(u&&e.getLine(u.from.line).length<=o){var l=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(u.from,n(u.from.line,u.from.ch+1),{className:l})),u.to&&e.getLine(u.to.line).length<=o&&a.push(e.markText(u.to,n(u.to.line,u.to.ch+1),{className:l}))}}if(a.length){t&&e.state.focused&&e.focus();var d=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!r)return d;setTimeout(d,800)}}function doMatchBrackets(e){e.operation(function(){i&&(i(),i=null),i=matchBrackets(e,!1,e.state.matchBrackets)})}var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},i=null;e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",doMatchBrackets),i&&(i(),i=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",doMatchBrackets))}),e.defineExtension("matchBrackets",function(){matchBrackets(this,!0)}),e.defineExtension("findMatchingBracket",function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),findMatchingBracket(this,e,t)}),e.defineExtension("scanForBracket",function(e,t,n,r){return scanForBracket(this,e,t,n,r)})})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";function clearActiveLines(e){for(var i=0;i<e.state.activeLines.length;i++)e.removeLineClass(e.state.activeLines[i],"wrap",t),e.removeLineClass(e.state.activeLines[i],"background",n),e.removeLineClass(e.state.activeLines[i],"gutter",r)}function sameArray(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function updateActiveLines(e,i){for(var o=[],a=0;a<i.length;a++){var s=i[a],c=e.getOption("styleActiveLine");if("object"==typeof c&&c.nonEmpty?s.anchor.line==s.head.line:s.empty()){var u=e.getLineHandleVisualStart(s.head.line);o[o.length-1]!=u&&o.push(u)}}sameArray(e.state.activeLines,o)||e.operation(function(){clearActiveLines(e);for(var i=0;i<o.length;i++)e.addLineClass(o[i],"wrap",t),e.addLineClass(o[i],"background",n),e.addLineClass(o[i],"gutter",r);e.state.activeLines=o})}function selectionChange(e,t){updateActiveLines(e,t.ranges)}var t="CodeMirror-activeline",n="CodeMirror-activeline-background",r="CodeMirror-activeline-gutter";e.defineOption("styleActiveLine",!1,function(t,n,r){var i=r!=e.Init&&r;n!=i&&(i&&(t.off("beforeSelectionChange",selectionChange),clearActiveLines(t),delete t.state.activeLines),n&&(t.state.activeLines=[],updateActiveLines(t,t.listSelections()),t.on("beforeSelectionChange",selectionChange)))})})},function(e,t,n){!function(e){e(n(66),n(1e3))}(function(e){"use strict";function State(e){this.options=e,this.from=this.to=0}function parseOptions(e){return!0===e&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function isFolded(e,n){for(var r=e.findMarks(t(n,0),t(n+1,0)),i=0;i<r.length;++i)if(r[i].__isFold&&r[i].find().from.line==n)return r[i]}function marker(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function updateFoldInfo(e,n,r){var i=e.state.foldGutter.options,o=n,a=e.foldOption(i,"minFoldSize"),s=e.foldOption(i,"rangeFinder");e.eachLine(n,r,function(n){var r=null;if(isFolded(e,o))r=marker(i.indicatorFolded);else{var c=t(o,0),u=s&&s(e,c);u&&u.to.line-u.from.line>=a&&(r=marker(i.indicatorOpen))}e.setGutterMarker(n,i.gutter,r),++o})}function updateInViewport(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){updateFoldInfo(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function onGutterClick(e,n,r){var i=e.state.foldGutter;if(i){var o=i.options;if(r==o.gutter){var a=isFolded(e,n);a?a.clear():e.foldCode(t(n,0),o.rangeFinder)}}}function onChange(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){updateInViewport(e)},n.foldOnChangeTimeSpan||600)}}function onViewportChange(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?updateInViewport(e):e.operation(function(){n.from<t.from&&(updateFoldInfo(e,n.from,t.from),t.from=n.from),n.to>t.to&&(updateFoldInfo(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function onFold(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&updateFoldInfo(e,r,r+1)}}e.defineOption("foldGutter",!1,function(t,n,r){r&&r!=e.Init&&(t.clearGutter(t.state.foldGutter.options.gutter),t.state.foldGutter=null,t.off("gutterClick",onGutterClick),t.off("change",onChange),t.off("viewportChange",onViewportChange),t.off("fold",onFold),t.off("unfold",onFold),t.off("swapDoc",onChange)),n&&(t.state.foldGutter=new State(parseOptions(n)),updateInViewport(t),t.on("gutterClick",onGutterClick),t.on("change",onChange),t.on("viewportChange",onViewportChange),t.on("fold",onFold),t.on("unfold",onFold),t.on("swapDoc",onChange))});var t=e.Pos})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function findOpening(a){for(var s=n.ch,c=0;;){var u=s<=0?-1:i.lastIndexOf(a,s-1);if(-1!=u){if(1==c&&u<n.ch)break;if(o=t.getTokenTypeAt(e.Pos(r,u+1)),!/^(comment|string)/.test(o))return u+1;s=u-1}else{if(1==c)break;c=1,s=i.length}}}var r=n.line,i=t.getLine(r),o,a="{",s="}",c=findOpening("{");if(null==c&&(a="[",s="]",c=findOpening("[")),null!=c){var u=1,l=t.lastLine(),d,p;e:for(var h=r;h<=l;++h)for(var f=t.getLine(h),g=h==r?c:0;;){var m=f.indexOf(a,g),v=f.indexOf(s,g);if(m<0&&(m=f.length),v<0&&(v=f.length),(g=Math.min(m,v))==f.length)break;if(t.getTokenTypeAt(e.Pos(h,g+1))==o)if(g==m)++u;else if(!--u){d=h,p=g;break e}++g}if(null!=d&&(r!=d||p!=c))return{from:e.Pos(r,c),to:e.Pos(d,p)}}}),e.registerHelper("fold","import",function(t,n){function hasImport(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);i<=o;++i){var a=t.getLine(i).indexOf(";");if(-1!=a)return{startCh:r.end,end:e.Pos(i,a)}}}var r=n.line,i=hasImport(r),o;if(!i||hasImport(r-1)||(o=hasImport(r-2))&&o.end.line==r-1)return null;for(var a=i.end;;){var s=hasImport(a.line+1);if(null==s)break;a=s.end}return{from:t.clipPos(e.Pos(r,i.startCh+1)),to:a}}),e.registerHelper("fold","include",function(t,n){function hasInclude(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var r=n.line,i=hasInclude(r);if(null==i||null!=hasInclude(r-1))return null;for(var o=r;null!=hasInclude(o+1);)++o;return{from:e.Pos(r,i+1),to:t.clipPos(e.Pos(o))}})})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";function cmp(e,t){return e.line-t.line||e.ch-t.ch}function Iter(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function tagAt(e,n){var r=e.cm.getTokenTypeAt(t(e.line,n));return r&&/\btag\b/.test(r)}function nextLine(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function prevLine(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function toTagEnd(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(nextLine(e))continue;return}{if(tagAt(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t+1}}}function toTagStart(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(prevLine(e))continue;return}if(tagAt(e,t+1)){i.lastIndex=t,e.ch=t;var n=i.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function toNextTag(e){for(;;){i.lastIndex=e.ch;var t=i.exec(e.text);if(!t){if(nextLine(e))continue;return}{if(tagAt(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}}function toPrevTag(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(prevLine(e))continue;return}{if(tagAt(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t}}}function findMatchingClose(e,n){for(var r=[];;){var i=toNextTag(e),o,a=e.line,s=e.ch-(i?i[0].length:0);if(!i||!(o=toTagEnd(e)))return;if("selfClose"!=o)if(i[1]){for(var c=r.length-1;c>=0;--c)if(r[c]==i[2]){r.length=c;break}if(c<0&&(!n||n==i[2]))return{tag:i[2],from:t(a,s),to:t(e.line,e.ch)}}else r.push(i[2])}}function findMatchingOpen(e,n){for(var r=[];;){var i=toPrevTag(e);if(!i)return;if("selfClose"!=i){var o=e.line,a=e.ch,s=toTagStart(e);if(!s)return;if(s[1])r.push(s[2]);else{for(var c=r.length-1;c>=0;--c)if(r[c]==s[2]){r.length=c;break}if(c<0&&(!n||n==s[2]))return{tag:s[2],from:t(e.line,e.ch),to:t(o,a)}}}else toTagStart(e)}}var t=e.Pos,n="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=n+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",i=new RegExp("<(/?)(["+n+"]["+r+"]*)","g");e.registerHelper("fold","xml",function(e,n){for(var r=new Iter(e,n.line,0);;){var i=toNextTag(r),o;if(!i||r.line!=n.line||!(o=toTagEnd(r)))return;if(!i[1]&&"selfClose"!=o){var a=t(r.line,r.ch),s=findMatchingClose(r,i[2]);return s&&{from:a,to:s.from}}}}),e.findMatchingTag=function(e,n,r){var i=new Iter(e,n.line,n.ch,r);if(-1!=i.text.indexOf(">")||-1!=i.text.indexOf("<")){var o=toTagEnd(i),a=o&&t(i.line,i.ch),s=o&&toTagStart(i);if(o&&s&&!(cmp(i,n)>0)){var c={from:t(i.line,i.ch),to:a,tag:s[2]};return"selfClose"==o?{open:c,close:null,at:"open"}:s[1]?{open:findMatchingOpen(i,s[2]),close:c,at:"close"}:(i=new Iter(e,a.line,a.ch,r),{open:c,close:findMatchingClose(i,s[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,n,r){for(var i=new Iter(e,t.line,t.ch,n);;){var o=findMatchingOpen(i,r);if(!o)break;var a=findMatchingClose(new Iter(e,t.line,t.ch,n),o.tag);if(a)return{open:o,close:a}}},e.scanForClosingTag=function(e,t,n,r){return findMatchingClose(new Iter(e,t.line,t.ch,r?{from:0,to:r}:null),n)}})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";e.registerHelper("fold","markdown",function(t,n){function isHeader(n){var r=t.getTokenTypeAt(e.Pos(n,0));return r&&/\bheader\b/.test(r)}function headerLevel(e,t,n){var i=t&&t.match(/^#+/);return i&&isHeader(e)?i[0].length:(i=n&&n.match(/^[=\-]+\s*$/))&&isHeader(e+1)?"="==n[0]?1:2:r}var r=100,i=t.getLine(n.line),o=t.getLine(n.line+1),a=headerLevel(n.line,i,o);if(a!==r){for(var s=t.lastLine(),c=n.line,u=t.getLine(c+2);c<s&&!(headerLevel(c+1,o,u)<=a);)++c,o=u,u=t.getLine(c+2);return{from:e.Pos(n.line,i.length),to:e.Pos(c,t.getLine(c).length)}}})})},function(e,t,n){!function(e){e(n(66))}(function(e){"use strict";e.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(t,n){var r=t.getModeAt(n),i=r.blockCommentStart,o=r.blockCommentEnd;if(i&&o){for(var a=n.line,s=t.getLine(a),c,u=n.ch,l=0;;){var d=u<=0?-1:s.lastIndexOf(i,u-1);if(-1!=d){if(1==l&&d<n.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(a,d+1)))&&(0==d||s.slice(d-o.length,d)==o||!/comment/.test(t.getTokenTypeAt(e.Pos(a,d))))){c=d+i.length;break}u=d-1}else{if(1==l)return;l=1,u=s.length}}var p=1,h=t.lastLine(),f,g;e:for(var m=a;m<=h;++m)for(var v=t.getLine(m),y=m==a?c:0;;){var _=v.indexOf(i,y),b=v.indexOf(o,y);if(_<0&&(_=v.length),b<0&&(b=v.length),(y=Math.min(_,b))==v.length)break;if(y==_)++p;else if(!--p){f=m,g=y;break e}++y}if(null!=f&&(a!=f||g!=c))return{from:e.Pos(a,c),to:e.Pos(f,g)}}})})},function(e,t){},function(e,t){},function(t,n,r){var i,o;!function(e,a,s){void 0!==t&&t.exports?t.exports=a():"function"==typeof s.define&&s.define.amd?(i=a,void 0!==(o="function"==typeof i?i.call(n,r,n,t):i)&&(t.exports=o)):s[e]=a()}("Firepad",function(){(t=t||{}).utils={},t.utils.makeEventEmitter=function(e,t){e.prototype.allowedEvents_=t,e.prototype.on=function(e,t,n){this.validateEventType_(e),this.eventListeners_=this.eventListeners_||{},this.eventListeners_[e]=this.eventListeners_[e]||[],this.eventListeners_[e].push({callback:t,context:n})},e.prototype.off=function(e,t){this.validateEventType_(e),this.eventListeners_=this.eventListeners_||{};for(var n=this.eventListeners_[e]||[],r=0;r<n.length;r++)if(n[r].callback===t)return void n.splice(r,1)},e.prototype.trigger=function(e){this.eventListeners_=this.eventListeners_||{};for(var t=this.eventListeners_[e]||[],n=0;n<t.length;n++)t[n].callback.apply(t[n].context,Array.prototype.slice.call(arguments,1))},e.prototype.validateEventType_=function(e){if(this.allowedEvents_){for(var t=!1,n=0;n<this.allowedEvents_.length;n++)if(this.allowedEvents_[n]===e){t=!0;break}if(!t)throw new Error('Unknown event "'+e+'"')}}},t.utils.elt=function(e,n,r){var i=document.createElement(e);if("string"==typeof n)t.utils.setTextContent(i,n);else if(n)for(var o=0;o<n.length;++o)i.appendChild(n[o]);for(var a in r||{})i.setAttribute(a,r[a]);return i},t.utils.setTextContent=function(e,t){e.innerHTML="",e.appendChild(document.createTextNode(t))},t.utils.on=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},t.utils.off=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},t.utils.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.utils.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.utils.stopEvent=function(e){t.utils.preventDefault(e),t.utils.stopPropagation(e)},t.utils.stopEventAnd=function(e){return function(n){return e(n),t.utils.stopEvent(n),!1}},t.utils.trim=function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")},t.utils.stringEndsWith=function(e,t){for(var n="string"==typeof t?[t]:t,r=0;r<n.length;r++){var t=n[r];if(-1!==e.indexOf(t,e.length-t.length))return!0}return!1},t.utils.assert=function(e,t){if(!e)throw new Error(t||"assertion error")},t.utils.log=function(){if("undefined"!=typeof console&&void 0!==console.log)for(var e=["Firepad:"],t=0;t<arguments.length;t++)e.push(arguments[t])},(t=t||{}).Span=function(){function a(e,t){this.pos=e,this.length=t}return a.prototype.end=function(){return this.pos+this.length},a}(),(t=t||{}).TextOp=function(){function b(t){this.type=t,this.chars=null,this.text=null,this.attributes=null,"insert"===t?(this.text=arguments[1],e.assert("string"==typeof this.text),this.attributes=arguments[2]||{},e.assert("object"==typeof this.attributes)):"delete"===t?(this.chars=arguments[1],e.assert("number"==typeof this.chars)):"retain"===t&&(this.chars=arguments[1],e.assert("number"==typeof this.chars),this.attributes=arguments[2]||{},e.assert("object"==typeof this.attributes))}var e=t.utils;return b.prototype.isInsert=function(){return"insert"===this.type},b.prototype.isDelete=function(){return"delete"===this.type},b.prototype.isRetain=function(){return"retain"===this.type},b.prototype.equals=function(e){return this.type===e.type&&this.text===e.text&&this.chars===e.chars&&this.attributesEqual(e.attributes)},b.prototype.attributesEqual=function(e){for(var t in this.attributes)if(this.attributes[t]!==e[t])return!1;for(t in e)if(this.attributes[t]!==e[t])return!1;return!0},b.prototype.hasEmptyAttributes=function(){var e=!0;for(var t in this.attributes){e=!1;break}return e},b}(),(t=t||{}).TextOperation=function(){"use strict";function b(){return this&&this.constructor===b?(this.ops=[],this.baseLength=0,void(this.targetLength=0)):new b}function c(e){var t=e.ops;switch(t.length){case 1:return t[0];case 2:return t[0].isRetain()?t[1]:t[1].isRetain()?t[0]:null;case 3:if(t[0].isRetain()&&t[2].isRetain())return t[1]}return null}function d(e){return e.ops[0].isRetain()?e.ops[0].chars:0}var e=t.TextOp,n=t.utils;return b.prototype.equals=function(e){if(this.baseLength!==e.baseLength)return!1;if(this.targetLength!==e.targetLength)return!1;if(this.ops.length!==e.ops.length)return!1;for(var t=0;t<this.ops.length;t++)if(!this.ops[t].equals(e.ops[t]))return!1;return!0},b.prototype.retain=function(t,n){if("number"!=typeof t||0>t)throw new Error("retain expects a positive integer.");if(0===t)return this;this.baseLength+=t,this.targetLength+=t,n=n||{};var r=this.ops.length>0?this.ops[this.ops.length-1]:null;return r&&r.isRetain()&&r.attributesEqual(n)?r.chars+=t:this.ops.push(new e("retain",t,n)),this},b.prototype.insert=function(t,n){if("string"!=typeof t)throw new Error("insert expects a string");if(""===t)return this;n=n||{},this.targetLength+=t.length;var r=this.ops.length>0?this.ops[this.ops.length-1]:null,i=this.ops.length>1?this.ops[this.ops.length-2]:null;return r&&r.isInsert()&&r.attributesEqual(n)?r.text+=t:r&&r.isDelete()?i&&i.isInsert()&&i.attributesEqual(n)?i.text+=t:(this.ops[this.ops.length-1]=new e("insert",t,n),this.ops.push(r)):this.ops.push(new e("insert",t,n)),this},b.prototype.delete=function(t){if("string"==typeof t&&(t=t.length),"number"!=typeof t||0>t)throw new Error("delete expects a positive integer or a string");if(0===t)return this;this.baseLength+=t;var n=this.ops.length>0?this.ops[this.ops.length-1]:null;return n&&n.isDelete()?n.chars+=t:this.ops.push(new e("delete",t)),this},b.prototype.isNoop=function(){return 0===this.ops.length||1===this.ops.length&&this.ops[0].isRetain()&&this.ops[0].hasEmptyAttributes()},b.prototype.clone=function(){for(var e=new b,t=0;t<this.ops.length;t++)this.ops[t].isRetain()?e.retain(this.ops[t].chars,this.ops[t].attributes):this.ops[t].isInsert()?e.insert(this.ops[t].text,this.ops[t].attributes):e.delete(this.ops[t].chars);return e},b.prototype.toString=function(){return(Array.prototype.map||function(e){for(var t=this,n=[],r=0,i=t.length;i>r;r++)n[r]=e(t[r]);return n}).call(this.ops,function(e){return e.isRetain()?"retain "+e.chars:e.isInsert()?"insert '"+e.text+"'":"delete "+e.chars}).join(", ")},b.prototype.toJSON=function(){for(var e=[],t=0;t<this.ops.length;t++)this.ops[t].hasEmptyAttributes()||e.push(this.ops[t].attributes),"retain"===this.ops[t].type?e.push(this.ops[t].chars):"insert"===this.ops[t].type?e.push(this.ops[t].text):"delete"===this.ops[t].type&&e.push(-this.ops[t].chars);return 0===e.length&&e.push(0),e},b.fromJSON=function(e){for(var t=new b,r=0,i=e.length;i>r;r++){var o=e[r],a={};"object"==typeof o&&(a=o,r++,o=e[r]),"number"==typeof o?o>0?t.retain(o,a):t.delete(-o):(n.assert("string"==typeof o),t.insert(o,a))}return t},b.prototype.apply=function(e,t,r){var i=this;if(t=t||[],r=r||[],e.length!==i.baseLength)throw new Error("The operation's base length must be equal to the string's length.");for(var o,a,s=[],c=0,u=0,l=this.ops,d=0,p=l.length;p>d;d++){var h=l[d];if(h.isRetain()){if(u+h.chars>e.length)throw new Error("Operation can't retain more characters than are left in the string.");for(s[c++]=e.slice(u,u+h.chars),o=0;o<h.chars;o++){var f=t[u+o]||{},g={};for(a in f)g[a]=f[a],n.assert(!1!==g[a]);for(a in h.attributes)!1===h.attributes[a]?delete g[a]:g[a]=h.attributes[a],n.assert(!1!==g[a]);r.push(g)}u+=h.chars}else if(h.isInsert())for(s[c++]=h.text,o=0;o<h.text.length;o++){var m={};for(a in h.attributes)m[a]=h.attributes[a],n.assert(!1!==m[a]);r.push(m)}else u+=h.chars}if(u!==e.length)throw new Error("The operation didn't operate on the whole string.");var v=s.join("");return n.assert(v.length===r.length),v},b.prototype.invert=function(e){for(var t=0,n=new b,r=this.ops,i=0,o=r.length;o>i;i++){var a=r[i];a.isRetain()?(n.retain(a.chars),t+=a.chars):a.isInsert()?n.delete(a.text.length):(n.insert(e.slice(t,t+a.chars)),t+=a.chars)}return n},b.prototype.compose=function(e){function c(e,t,n){var r,i={};for(r in e)i[r]=e[r];for(r in t)n&&!1===t[r]?delete i[r]:i[r]=t[r];return i}var t=this;if(t.targetLength!==e.baseLength)throw new Error("The base length of the second operation has to be the target length of the first operation");for(var n,r=new b,i=t.clone().ops,o=e.clone().ops,a=0,s=0,u=i[a++],l=o[s++];void 0!==u||void 0!==l;)if(u&&u.isDelete())r.delete(u.chars),u=i[a++];else if(l&&l.isInsert())r.insert(l.text,l.attributes),l=o[s++];else{if(void 0===u)throw new Error("Cannot compose operations: first operation is too short.");if(void 0===l)throw new Error("Cannot compose operations: first operation is too long.");if(u.isRetain()&&l.isRetain())n=c(u.attributes,l.attributes),u.chars>l.chars?(r.retain(l.chars,n),u.chars-=l.chars,l=o[s++]):u.chars===l.chars?(r.retain(u.chars,n),u=i[a++],l=o[s++]):(r.retain(u.chars,n),l.chars-=u.chars,u=i[a++]);else if(u.isInsert()&&l.isDelete())u.text.length>l.chars?(u.text=u.text.slice(l.chars),l=o[s++]):u.text.length===l.chars?(u=i[a++],l=o[s++]):(l.chars-=u.text.length,u=i[a++]);else if(u.isInsert()&&l.isRetain())n=c(u.attributes,l.attributes,!0),u.text.length>l.chars?(r.insert(u.text.slice(0,l.chars),n),u.text=u.text.slice(l.chars),l=o[s++]):u.text.length===l.chars?(r.insert(u.text,n),u=i[a++],l=o[s++]):(r.insert(u.text,n),l.chars-=u.text.length,u=i[a++]);else{if(!u.isRetain()||!l.isDelete())throw new Error("This shouldn't happen: op1: "+JSON.stringify(u)+", op2: "+JSON.stringify(l));u.chars>l.chars?(r.delete(l.chars),u.chars-=l.chars,l=o[s++]):u.chars===l.chars?(r.delete(l.chars),u=i[a++],l=o[s++]):(r.delete(u.chars),l.chars-=u.chars,u=i[a++])}}return r},b.prototype.shouldBeComposedWith=function(e){if(this.isNoop()||e.isNoop())return!0;var t=d(this),n=d(e),r=c(this),i=c(e);return!(!r||!i)&&(r.isInsert()&&i.isInsert()?t+r.text.length===n:!(!r.isDelete()||!i.isDelete())&&(n+i.chars===t||t===n))},b.prototype.shouldBeComposedWithInverted=function(e){if(this.isNoop()||e.isNoop())return!0;var t=d(this),n=d(e),r=c(this),i=c(e);return!(!r||!i)&&(r.isInsert()&&i.isInsert()?t+r.text.length===n||t===n:!(!r.isDelete()||!i.isDelete())&&n+i.chars===t)},b.transformAttributes=function(e,t){var r,i={},o={},a={};for(r in e)a[r]=!0;for(r in t)a[r]=!0;for(r in a){var s=e[r],c=t[r];n.assert(null!=s||null!=c),null==s?o[r]=c:null==c?i[r]=s:s===c||(i[r]=s)}return[i,o]},b.transform=function(e,t){if(e.baseLength!==t.baseLength)throw new Error("Both operations have to have the same base length");for(var n=new b,r=new b,i=e.clone().ops,o=t.clone().ops,a=0,s=0,c=i[a++],u=o[s++];void 0!==c||void 0!==u;)if(c&&c.isInsert())n.insert(c.text,c.attributes),r.retain(c.text.length),c=i[a++];else if(u&&u.isInsert())n.retain(u.text.length),r.insert(u.text,u.attributes),u=o[s++];else{if(void 0===c)throw new Error("Cannot transform operations: first operation is too short.");if(void 0===u)throw new Error("Cannot transform operations: first operation is too long.");var l;if(c.isRetain()&&u.isRetain()){var d=b.transformAttributes(c.attributes,u.attributes);c.chars>u.chars?(l=u.chars,c.chars-=u.chars,u=o[s++]):c.chars===u.chars?(l=u.chars,c=i[a++],u=o[s++]):(l=c.chars,u.chars-=c.chars,c=i[a++]),n.retain(l,d[0]),r.retain(l,d[1])}else if(c.isDelete()&&u.isDelete())c.chars>u.chars?(c.chars-=u.chars,u=o[s++]):c.chars===u.chars?(c=i[a++],u=o[s++]):(u.chars-=c.chars,c=i[a++]);else if(c.isDelete()&&u.isRetain())c.chars>u.chars?(l=u.chars,c.chars-=u.chars,u=o[s++]):c.chars===u.chars?(l=u.chars,c=i[a++],u=o[s++]):(l=c.chars,u.chars-=c.chars,c=i[a++]),n.delete(l);else{if(!c.isRetain()||!u.isDelete())throw new Error("The two operations aren't compatible");c.chars>u.chars?(l=u.chars,c.chars-=u.chars,u=o[s++]):c.chars===u.chars?(l=c.chars,c=i[a++],u=o[s++]):(l=c.chars,u.chars-=c.chars,c=i[a++]),r.delete(l)}}return[n,r]},b.prototype.transform=function(e){return b.transform(this,e)},b}(),(t=t||{}).AnnotationList=function(){function b(e,t){if(!e)throw new Error("AnnotationList assertion failed"+(t?": "+t:""))}function c(e,t){this.pos=e,this.length=t.length,this.annotation=t.annotation,this.attachedObject_=t.attachedObject}function d(e,t){this.pos=e,this.length=t.length,this.annotation=t.annotation,this.node_=t}function e(e){this.head_=new f(0,r),this.changeHandler_=e}function f(e,t){this.length=e,this.annotation=t,this.attachedObject=null,this.next=null}var n=t.Span;c.prototype.getAttachedObject=function(){return this.attachedObject_},d.prototype.attachObject=function(e){this.node_.attachedObject=e};var r={equals:function(){return!1}};return e.prototype.insertAnnotatedSpan=function(e,t){this.wrapOperation_(new n(e.pos,0),function(n,i){b(!i||null===i.next);var o=new f(e.length,t);if(i){b(e.pos>n&&e.pos<n+i.length);var a=new f(0,r);return a.next=new f(e.pos-n,i.annotation),a.next.next=o,o.next=new f(n+i.length-e.pos,i.annotation),a.next}return o})},e.prototype.removeSpan=function(e){0!==e.length&&this.wrapOperation_(e,function(t,n){b(null!==n);var i=new f(0,r),o=i;for(e.pos>t&&(o.next=new f(e.pos-t,n.annotation),o=o.next);e.end()>t+n.length;)t+=n.length,n=n.next;var a=t+n.length-e.end();return a>0&&(o.next=new f(a,n.annotation)),i.next})},e.prototype.updateSpan=function(e,t){0!==e.length&&this.wrapOperation_(e,function(n,i){b(null!==i);var o=new f(0,r),a=o,s=n,c=e.pos-s;for(b(c<i.length),c>0&&(a.next=new f(c,i.annotation),a=a.next,s+=a.length);null!==i&&e.end()>=n+i.length;){var u=n+i.length-s;a.next=new f(u,t(i.annotation,u)),a=a.next,n+=i.length,i=i.next,s=n}var l=e.end()-s;return l>0&&(b(l<i.length),a.next=new f(l,t(i.annotation,l)),a=a.next,s+=a.length,a.next=new f(n+i.length-s,i.annotation)),o.next})},e.prototype.wrapOperation_=function(e,t){if(e.pos<0)throw new Error("Span start cannot be negative.");var n,r=[],i=[],o=this.getAffectedNodes_(e);null!==o.start?(n=o.end.next,o.end.next=null):n=o.succ;var a=t(o.startPos,o.start),s=!1,u=!1;if(a){this.mergeNodesWithSameAnnotations_(a);var l;for(o.pred&&o.pred.annotation.equals(a.annotation)?(s=!0,a.length+=o.pred.length,o.beforePred.next=a,l=o.predPos):(o.beforeStart.next=a,l=o.startPos);a.next;)i.push(new d(l,a)),l+=a.length,a=a.next;o.succ&&o.succ.annotation.equals(a.annotation)?(a.length+=o.succ.length,u=!0,a.next=o.succ.next):a.next=n,i.push(new d(l,a))}else o.pred&&o.succ&&o.pred.annotation.equals(o.succ.annotation)?(s=!0,u=!0,a=new f(o.pred.length+o.succ.length,o.pred.annotation),o.beforePred.next=a,a.next=o.succ.next,i.push(new d(o.startPos-o.pred.length,a))):o.beforeStart.next=n;s&&r.push(new c(o.predPos,o.pred));for(var p=o.startPos,h=o.start;null!==h;)r.push(new c(p,h)),p+=h.length,h=h.next;u&&r.push(new c(p,o.succ)),this.changeHandler_(r,i)},e.prototype.getAffectedNodes_=function(e){for(var t={},n=null,r=this.head_,i=r.next,o=0;null!==i&&e.pos>=o+i.length;)o+=i.length,n=r,r=i,i=i.next;if(null===i&&(0!==e.length||e.pos!==o))throw new Error("Span start exceeds the bounds of the AnnotationList.");for(t.startPos=o,0===e.length&&e.pos===o?t.start=null:t.start=i,t.beforeStart=r,o===e.pos&&o>0?(t.pred=r,t.predPos=o-r.length,t.beforePred=n):t.pred=null;null!==i&&e.end()>o;)o+=i.length,r=i,i=i.next;if(e.end()>o)throw new Error("Span end exceeds the bounds of the AnnotationList.");return 0===e.length&&e.end()===o?t.end=null:t.end=r,t.succ=o===e.end()?i:null,t},e.prototype.mergeNodesWithSameAnnotations_=function(e){if(e)for(var t=null,n=e;n;)t&&t.annotation.equals(n.annotation)?(t.length+=n.length,t.next=n.next):t=n,n=n.next},e.prototype.forEach=function(e){for(var t=this.head_.next;null!==t;)e(t.length,t.annotation,t.attachedObject),t=t.next},e.prototype.getAnnotatedSpansForPos=function(e){for(var t=0,n=this.head_.next,r=null;null!==n&&t+n.length<=e;)t+=n.length,r=n,n=n.next;if(null===n&&t!==e)throw new Error("pos exceeds the bounds of the AnnotationList");var i=[];return t===e&&r&&i.push(new c(t-r.length,r)),n&&i.push(new c(t,n)),i},e.prototype.getAnnotatedSpansForSpan=function(e){if(0===e.length)return[];for(var t=[],r=this.getAffectedNodes_(e),i=r.startPos,o=r.start;null!==o&&i<e.end();){var a=Math.max(i,e.pos),s=Math.min(i+o.length,e.end()),c=new n(a,s-a);c.annotation=o.annotation,t.push(c),i+=o.length,o=o.next}return t},e.prototype.count=function(){for(var e=0,t=this.head_.next,n=null;null!==t;)n&&b(!n.annotation.equals(t.annotation)),n=t,t=t.next,e++;return e},f.prototype.clone=function(){var e=new f(this.spanLength,this.annotation);return e.next=this.next,e},e}(),(t=t||{}).Cursor=function(){"use strict";function a(e,t){this.position=e,this.selectionEnd=t}return a.fromJSON=function(e){return new a(e.position,e.selectionEnd)},a.prototype.equals=function(e){return this.position===e.position&&this.selectionEnd===e.selectionEnd},a.prototype.compose=function(e){return e},a.prototype.transform=function(e){function c(t){for(var n=t,r=e.ops,i=0,o=e.ops.length;o>i&&(r[i].isRetain()?t-=r[i].chars:r[i].isInsert()?n+=r[i].text.length:(n-=Math.min(t,r[i].chars),t-=r[i].chars),!(0>t));i++);return n}var t=c(this.position);return this.position===this.selectionEnd?new a(t,t):new a(t,c(this.selectionEnd))},a}(),(t=t||{}).FirebaseAdapter=function(n){function c(e,t,n){this.ref_=e,this.ready_=!1,this.firebaseCallbacks_=[],this.zombie_=!1,this.document_=new i,this.revision_=0,this.pendingReceivedRevisions_={};var r=this;if(t){this.setUserId(t),this.setColor(n);var o=e.root.child(".info/connected");this.firebaseOn_(o,"value",function(e){!0===e.val()&&r.initializeUserData_()},this),this.on("ready",function(){r.monitorCursors_()})}else this.userId_=e.push().key;setTimeout(function(){r.monitorHistory_()},0)}function d(e,t){if(!e)throw new Error(t||"assertion error")}function e(e){if(0===e)return"A0";for(var t="";e>0;){var n=e%s.length;t=s[n]+t,e-=n,e/=s.length}return s[t.length+9]+t}function f(e){d(e.length>0&&e[0]===s[e.length+8]);for(var t=0,n=1;n<e.length;n++)t*=s.length,t+=s.indexOf(e[n]);return t}void 0===window.firebase&&!0&&"function"!=typeof Firebase&&(firebase=r(1001));var i=t.TextOperation,o=t.utils,a=100;o.makeEventEmitter(c,["ready","cursor","operation","ack","retry"]),c.prototype.dispose=function(){var e=this;return this.ready_?(this.removeFirebaseCallbacks_(),this.userRef_&&(this.userRef_.child("cursor").remove(),this.userRef_.child("color").remove()),this.ref_=null,this.document_=null,void(this.zombie_=!0)):void this.on("ready",function(){e.dispose()})},c.prototype.setUserId=function(e){this.userRef_&&(this.userRef_.child("cursor").remove(),this.userRef_.child("cursor").onDisconnect().cancel(),this.userRef_.child("color").remove(),this.userRef_.child("color").onDisconnect().cancel()),this.userId_=e,this.userRef_=this.ref_.child("users").child(e),this.initializeUserData_()},c.prototype.isHistoryEmpty=function(){return d(this.ready_,"Not ready yet."),0===this.revision_},c.prototype.sendOperation=function(t,n){function c(e,t){r.ref_.child("history").child(e).transaction(function(e){return null===e?t:void 0},function(i,a,s){if(i){if("disconnect"!==i.message)throw o.log("Transaction failure!",i),i;r.sent_&&r.sent_.id===e?setTimeout(function(){c(e,t)},0):n&&n(i,!1)}else n&&n(null,a)},!1)}var r=this;if(this.ready_){d(this.document_.targetLength===t.baseLength,"sendOperation() called with invalid operation.");var i=e(this.revision_);this.sent_={id:i,op:t},c(i,{a:r.userId_,o:t.toJSON(),t:firebase.database.ServerValue.TIMESTAMP})}else this.on("ready",function(){r.trigger("retry")})},c.prototype.sendCursor=function(e){this.userRef_.child("cursor").set(e),this.cursor_=e},c.prototype.setColor=function(e){this.userRef_.child("color").set(e),this.color_=e},c.prototype.getDocument=function(){return this.document_},c.prototype.registerCallbacks=function(e){for(var t in e)this.on(t,e[t])},c.prototype.initializeUserData_=function(){this.userRef_.child("cursor").onDisconnect().remove(),this.userRef_.child("color").onDisconnect().remove(),this.sendCursor(this.cursor_||null),this.setColor(this.color_||null)},c.prototype.monitorCursors_=function(){function a(e){var n=e.key,r=e.val();t.trigger("cursor",n,r.cursor,r.color)}var e=this.ref_.child("users"),t=this;this.firebaseOn_(e,"child_added",a),this.firebaseOn_(e,"child_changed",a),this.firebaseOn_(e,"child_removed",function(e){var n=e.key;t.trigger("cursor",n,null)})},c.prototype.monitorHistory_=function(){var e=this;this.ref_.child("checkpoint").once("value",function(t){if(!e.zombie_){var n=t.child("id").val(),r=t.child("o").val(),i=t.child("a").val();null!=r&&null!=n&&null!==i?(e.pendingReceivedRevisions_[n]={o:r,a:i},e.checkpointRevision_=f(n),e.monitorHistoryStartingAt_(e.checkpointRevision_+1)):(e.checkpointRevision_=0,e.monitorHistoryStartingAt_(e.checkpointRevision_))}})},c.prototype.monitorHistoryStartingAt_=function(t){var n=this.ref_.child("history").startAt(null,e(t)),r=this;setTimeout(function(){r.firebaseOn_(n,"child_added",function(e){var t=e.key;r.pendingReceivedRevisions_[t]=e.val(),r.ready_&&r.handlePendingReceivedRevisions_()}),n.once("value",function(){r.handleInitialRevisions_()})},0)},c.prototype.handleInitialRevisions_=function(){d(!this.ready_,"Should not be called multiple times."),this.revision_=this.checkpointRevision_;for(var t=e(this.revision_),n=this.pendingReceivedRevisions_;null!=n[t];){var r=this.parseRevision_(n[t]);r?this.document_=this.document_.compose(r.operation):o.log("Invalid operation.",this.ref_.toString(),t,n[t]),delete n[t],this.revision_++,t=e(this.revision_)}this.trigger("operation",this.document_),this.ready_=!0;var i=this;setTimeout(function(){i.trigger("ready")},0)},c.prototype.handlePendingReceivedRevisions_=function(){for(var t=this.pendingReceivedRevisions_,n=e(this.revision_),r=!1;null!=t[n];){this.revision_++;var i=this.parseRevision_(t[n]);i?(this.document_=this.document_.compose(i.operation),this.sent_&&n===this.sent_.id?this.sent_.op.equals(i.operation)&&i.author===this.userId_?(this.revision_%a==0&&this.saveCheckpoint_(),this.sent_=null,this.trigger("ack")):(r=!0,this.trigger("operation",i.operation)):this.trigger("operation",i.operation)):o.log("Invalid operation.",this.ref_.toString(),n,t[n]),delete t[n],n=e(this.revision_)}r&&(this.sent_=null,this.trigger("retry"))},c.prototype.parseRevision_=function(e){if("object"!=typeof e)return null;if("string"!=typeof e.a||"object"!=typeof e.o)return null;var t=null;try{t=i.fromJSON(e.o)}catch(e){return null}return t.baseLength!==this.document_.targetLength?null:{author:e.a,operation:t}},c.prototype.saveCheckpoint_=function(){this.ref_.child("checkpoint").set({a:this.userId_,o:this.document_.toJSON(),id:e(this.revision_-1)})},c.prototype.firebaseOn_=function(e,t,n,r){return this.firebaseCallbacks_.push({ref:e,eventType:t,callback:n,context:r}),e.on(t,n,r),n},c.prototype.firebaseOff_=function(e,t,n,r){e.off(t,n,r);for(var i=0;i<this.firebaseCallbacks_.length;i++){var o=this.firebaseCallbacks_[i];if(o.ref===e&&o.eventType===t&&o.callback===n&&o.context===r){this.firebaseCallbacks_.splice(i,1);break}}},c.prototype.removeFirebaseCallbacks_=function(){for(var e=0;e<this.firebaseCallbacks_.length;e++){var t=this.firebaseCallbacks_[e];t.ref.off(t.eventType,t.callback,t.context)}this.firebaseCallbacks_=[]};var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";return c}(),(t=t||{}).RichTextToolbar=function(e){function c(e){this.imageInsertionUI=e,this.element_=this.makeElement_()}var n=t.utils;return n.makeEventEmitter(c,["bold","italic","underline","strike","font","font-size","color","left","center","right","unordered-list","ordered-list","todo-list","indent-increase","indent-decrease","undo","redo","insert-image"]),c.prototype.element=function(){return this.element_},c.prototype.makeButton_=function(e,t){var r=this;t=t||e;var i=n.elt("a",[n.elt("span","",{class:"firepad-tb-"+t})],{class:"firepad-btn"});return n.on(i,"click",n.stopEventAnd(function(){r.trigger(e)})),i},c.prototype.makeElement_=function(){var e=this,t=this.makeFontDropdown_(),r=this.makeFontSizeDropdown_(),i=this.makeColorDropdown_(),o=[n.elt("div",[t],{class:"firepad-btn-group"}),n.elt("div",[r],{class:"firepad-btn-group"}),n.elt("div",[i],{class:"firepad-btn-group"}),n.elt("div",[e.makeButton_("bold"),e.makeButton_("italic"),e.makeButton_("underline"),e.makeButton_("strike","strikethrough")],{class:"firepad-btn-group"}),n.elt("div",[e.makeButton_("unordered-list","list-2"),e.makeButton_("ordered-list","numbered-list"),e.makeButton_("todo-list","list")],{class:"firepad-btn-group"}),n.elt("div",[e.makeButton_("indent-decrease"),e.makeButton_("indent-increase")],{class:"firepad-btn-group"}),n.elt("div",[e.makeButton_("left","paragraph-left"),e.makeButton_("center","paragraph-center"),e.makeButton_("right","paragraph-right")],{class:"firepad-btn-group"}),n.elt("div",[e.makeButton_("undo"),e.makeButton_("redo")],{class:"firepad-btn-group"})];e.imageInsertionUI&&o.push(n.elt("div",[e.makeButton_("insert-image")],{class:"firepad-btn-group"}));var a=n.elt("div",o,{class:"firepad-toolbar-wrapper"}),s=n.elt("div",null,{class:"firepad-toolbar"});return s.appendChild(a),s},c.prototype.makeFontDropdown_=function(){for(var e=["Arial","Comic Sans MS","Courier New","Impact","Times New Roman","Verdana"],t=[],r=0;r<e.length;r++){var i=n.elt("span",e[r]);i.setAttribute("style","font-family:"+e[r]),t.push({content:i,value:e[r]})}return this.makeDropdown_("Font","font",t)},c.prototype.makeFontSizeDropdown_=function(){for(var e=[9,10,12,14,18,24,32,42],t=[],r=0;r<e.length;r++){var i=n.elt("span",e[r].toString());i.setAttribute("style","font-size:"+e[r]+"px; line-height:"+(e[r]-6)+"px;"),t.push({content:i,value:e[r]})}return this.makeDropdown_("Size","font-size",t,"px")},c.prototype.makeColorDropdown_=function(){for(var e=["black","red","green","blue","yellow","cyan","magenta","grey"],t=[],r=0;r<e.length;r++){var i=n.elt("div");i.className="firepad-color-dropdown-item",i.setAttribute("style","background-color:"+e[r]),t.push({content:i,value:e[r]})}return this.makeDropdown_("Color","color",t)},c.prototype.makeDropdown_=function(e,t,r,i){function f(){c||(s.style.display="block",n.on(document,"click",g,!0),c=!0)}function g(){c&&(s.style.display="",n.off(document,"click",g,!0),c=!1),u=!0,setTimeout(function(){u=!1},0)}function h(e,r){"object"!=typeof e&&(e=document.createTextNode(String(e)));var a=n.elt("a",[e]);n.on(a,"click",n.stopEventAnd(function(){g(),o.trigger(t,r+i)})),s.appendChild(a)}i=i||"";var o=this,a=n.elt("a",e+" ▾",{class:"firepad-btn firepad-dropdown"}),s=n.elt("ul",[],{class:"firepad-dropdown-menu"});a.appendChild(s);for(var c=!1,u=!1,l=0;l<r.length;l++)h(r[l].content,r[l].value);return n.on(a,"click",n.stopEventAnd(function(){u||f()})),a},c}(),(t=t||{}).WrappedOperation=function(t){"use strict";function b(e,t){this.wrapped=e,this.meta=t}function c(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function d(e,t){if(e&&"object"==typeof e){if("function"==typeof e.compose)return e.compose(t);var n={};return c(e,n),c(t,n),n}return t}function e(e,t){return e&&"object"==typeof e&&"function"==typeof e.transform?e.transform(t):e}return b.prototype.apply=function(){return this.wrapped.apply.apply(this.wrapped,arguments)},b.prototype.invert=function(){var e=this.meta;return new b(this.wrapped.invert.apply(this.wrapped,arguments),e&&"object"==typeof e&&"function"==typeof e.invert?e.invert.apply(e,arguments):e)},b.prototype.compose=function(e){return new b(this.wrapped.compose(e.wrapped),d(this.meta,e.meta))},b.transform=function(t,n){var r=t.wrapped.transform(n.wrapped);return[new b(r[0],e(t.meta,n.wrapped)),new b(r[1],e(n.meta,t.wrapped))]},b.prototype.transform=function(e){return b.transform(this,e)},b}(),(t=t||{}).UndoManager=function(){"use strict";function a(t){this.maxItems=t||50,this.state=e,this.dontCompose=!1,this.undoStack=[],this.redoStack=[]}function b(e,t){for(var n=[],r=t.constructor,i=e.length-1;i>=0;i--){var o=r.transform(e[i],t);"function"==typeof o[0].isNoop&&o[0].isNoop()||n.push(o[0]),t=o[1]}return n.reverse()}var e="normal",t="undoing",n="redoing";return a.prototype.add=function(e,r){if(this.state===t)this.redoStack.push(e),this.dontCompose=!0;else if(this.state===n)this.undoStack.push(e),this.dontCompose=!0;else{var i=this.undoStack;!this.dontCompose&&r&&i.length>0?i.push(e.compose(i.pop())):(i.push(e),i.length>this.maxItems&&i.shift()),this.dontCompose=!1,this.redoStack=[]}},a.prototype.transform=function(e){this.undoStack=b(this.undoStack,e),this.redoStack=b(this.redoStack,e)},a.prototype.performUndo=function(n){if(this.state=t,0===this.undoStack.length)throw new Error("undo not possible");n(this.undoStack.pop()),this.state=e},a.prototype.performRedo=function(t){if(this.state=n,0===this.redoStack.length)throw new Error("redo not possible");t(this.redoStack.pop()),this.state=e},a.prototype.canUndo=function(){return 0!==this.undoStack.length},a.prototype.canRedo=function(){return 0!==this.redoStack.length},a.prototype.isUndoing=function(){return this.state===t},a.prototype.isRedoing=function(){return this.state===n},a}(),(t=t||{}).Client=function(){"use strict";function a(){this.state=e}function b(){}function c(e){this.outstanding=e}function d(e,t){this.outstanding=e,this.buffer=t}a.prototype.setState=function(e){this.state=e},a.prototype.applyClient=function(e){this.setState(this.state.applyClient(this,e))},a.prototype.applyServer=function(e){this.setState(this.state.applyServer(this,e))},a.prototype.serverAck=function(){this.setState(this.state.serverAck(this))},a.prototype.serverRetry=function(){this.setState(this.state.serverRetry(this))},a.prototype.sendOperation=function(e){throw new Error("sendOperation must be defined in child class")},a.prototype.applyOperation=function(e){throw new Error("applyOperation must be defined in child class")},a.Synchronized=b,b.prototype.applyClient=function(e,t){return e.sendOperation(t),new c(t)},b.prototype.applyServer=function(e,t){return e.applyOperation(t),this},b.prototype.serverAck=function(e){throw new Error("There is no pending operation.")},b.prototype.serverRetry=function(e){throw new Error("There is no pending operation.")};var e=new b;return a.AwaitingConfirm=c,c.prototype.applyClient=function(e,t){return new d(this.outstanding,t)},c.prototype.applyServer=function(e,t){var n=this.outstanding.transform(t);return e.applyOperation(n[1]),new c(n[0])},c.prototype.serverAck=function(t){return e},c.prototype.serverRetry=function(e){return e.sendOperation(this.outstanding),this},a.AwaitingWithBuffer=d,d.prototype.applyClient=function(e,t){var n=this.buffer.compose(t);return new d(this.outstanding,n)},d.prototype.applyServer=function(e,t){var n=this.outstanding.transform(t),r=this.buffer.transform(n[1]);return e.applyOperation(r[1]),new d(n[0],r[0])},d.prototype.serverRetry=function(e){var t=this.outstanding.compose(this.buffer);return e.sendOperation(t),new c(t)},d.prototype.serverAck=function(e){return e.sendOperation(this.buffer),new c(this.buffer)},a}(),(t=t||{}).EditorClient=function(){"use strict";function b(e,t){this.cursorBefore=e,this.cursorAfter=t}function c(e,t){this.id=e,this.editorAdapter=t}function d(e,t){n.call(this),this.serverAdapter=e,this.editorAdapter=t,this.undoManager=new i,this.clients={};var o=this;this.editorAdapter.registerCallbacks({change:function(e,t){o.onChange(e,t)},cursorActivity:function(){o.onCursorActivity()},blur:function(){o.onBlur()},focus:function(){o.onFocus()}}),this.editorAdapter.registerUndo(function(){o.undo()}),this.editorAdapter.registerRedo(function(){o.redo()}),this.serverAdapter.registerCallbacks({ack:function(){o.serverAck(),o.focused&&o.state instanceof n.Synchronized&&(o.updateCursor(),o.sendCursor(o.cursor)),o.emitStatus()},retry:function(){o.serverRetry()},operation:function(e){o.applyServer(e)},cursor:function(e,t,i){if(o.serverAdapter.userId_!==e&&o.state instanceof n.Synchronized){var a=o.getClientObject(e);t?(i&&a.setColor(i),a.updateCursor(r.fromJSON(t))):a.removeCursor()}}})}function e(e,t){function c(){}c.prototype=t.prototype,e.prototype=new c,e.prototype.constructor=e}function f(e){return e[e.length-1]}var n=t.Client,r=t.Cursor,i=t.UndoManager,o=t.WrappedOperation;return b.prototype.invert=function(){return new b(this.cursorAfter,this.cursorBefore)},b.prototype.compose=function(e){return new b(this.cursorBefore,e.cursorAfter)},b.prototype.transform=function(e){return new b(this.cursorBefore?this.cursorBefore.transform(e):null,this.cursorAfter?this.cursorAfter.transform(e):null)},c.prototype.setColor=function(e){this.color=e},c.prototype.updateCursor=function(e){this.removeCursor(),this.cursor=e,this.mark=this.editorAdapter.setOtherCursor(e,this.color,this.id)},c.prototype.removeCursor=function(){this.mark&&this.mark.clear()},e(d,n),d.prototype.getClientObject=function(e){var t=this.clients[e];return t||(this.clients[e]=new c(e,this.editorAdapter))},d.prototype.applyUnredo=function(e){this.undoManager.add(this.editorAdapter.invertOperation(e)),this.editorAdapter.applyOperation(e.wrapped),this.cursor=e.meta.cursorAfter,this.cursor&&this.editorAdapter.setCursor(this.cursor),this.applyClient(e.wrapped)},d.prototype.undo=function(){var e=this;this.undoManager.canUndo()&&this.undoManager.performUndo(function(t){e.applyUnredo(t)})},d.prototype.redo=function(){var e=this;this.undoManager.canRedo()&&this.undoManager.performRedo(function(t){e.applyUnredo(t)})},d.prototype.onChange=function(e,t){var n=this.cursor;this.updateCursor();var r=this.undoManager.undoStack.length>0&&t.shouldBeComposedWithInverted(f(this.undoManager.undoStack).wrapped),i=new b(this.cursor,n);this.undoManager.add(new o(t,i),r),this.applyClient(e)},d.prototype.updateCursor=function(){this.cursor=this.editorAdapter.getCursor()},d.prototype.onCursorActivity=function(){var e=this.cursor;this.updateCursor(),!this.focused||e&&this.cursor.equals(e)||this.sendCursor(this.cursor)},d.prototype.onBlur=function(){this.cursor=null,this.sendCursor(null),this.focused=!1},d.prototype.onFocus=function(){this.focused=!0,this.onCursorActivity()},d.prototype.sendCursor=function(e){this.state instanceof n.AwaitingWithBuffer||this.serverAdapter.sendCursor(e)},d.prototype.sendOperation=function(e){this.serverAdapter.sendOperation(e),this.emitStatus()},d.prototype.applyOperation=function(e){this.editorAdapter.applyOperation(e),this.updateCursor(),this.undoManager.transform(new o(e,null))},d.prototype.emitStatus=function(){var e=this;setTimeout(function(){e.trigger("synced",e.state instanceof n.Synchronized)},0)},d}(),t.utils.makeEventEmitter(t.EditorClient,["synced"]);var t,n=function(e,t){return function(){return e.apply(t,arguments)}},o=[].slice;return(void 0===t||null===t)&&(t={}),t.ACEAdapter=function(){function d(e){this.onCursorActivity=n(this.onCursorActivity,this),this.onFocus=n(this.onFocus,this),this.onBlur=n(this.onBlur,this),this.onChange=n(this.onChange,this);var t;this.ace=e,this.aceSession=this.ace.getSession(),this.aceDoc=this.aceSession.getDocument(),this.aceDoc.setNewLineMode("unix"),this.grabDocumentState(),this.ace.on("change",this.onChange),this.ace.on("blur",this.onBlur),this.ace.on("focus",this.onFocus),this.aceSession.selection.on("changeCursor",this.onCursorActivity),null==this.aceRange&&(this.aceRange=(null!=(t=ace.require)?t:!function webpackMissingModule(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}())("ace/range").Range)}return d.prototype.ignoreChanges=!1,d.prototype.grabDocumentState=function(){return this.lastDocLines=this.aceDoc.getAllLines(),this.lastCursorRange=this.aceSession.selection.getRange()},d.prototype.detach=function(){return this.ace.removeListener("change",this.onChange),this.ace.removeListener("blur",this.onBlur),this.ace.removeListener("focus",this.onCursorActivity),this.aceSession.selection.removeListener("changeCursor",this.onCursorActivity)},d.prototype.onChange=function(e){var t;return this.ignoreChanges?void 0:(t=this.operationFromACEChange(e),this.trigger.apply(this,["change"].concat(o.call(t))),this.grabDocumentState())},d.prototype.onBlur=function(){return this.ace.selection.isEmpty()?this.trigger("blur"):void 0},d.prototype.onFocus=function(){return this.trigger("focus")},d.prototype.onCursorActivity=function(){var e=this;return setTimeout(function(){return e.trigger("cursorActivity")},0)},d.prototype.operationFromACEChange=function(e){var n,r,i,o,a,s,c,u;return e.data?(i=e.data,"insertLines"===(u=i.action)||"removeLines"===u?(c=i.lines.join("\n")+"\n",n=i.action.replace("Lines","")):(c=i.text.replace(this.aceDoc.getNewLineCharacter(),"\n"),n=i.action.replace("Text","")),s=this.indexFromPos(i.range.start)):(c=e.lines.join("\n"),s=this.indexFromPos(e.start)),a=this.lastDocLines.join("\n").length-s,"remove"===e.action&&(a-=c.length),o=(new t.TextOperation).retain(s).insert(c).retain(a),r=(new t.TextOperation).retain(s).delete(c).retain(a),"remove"===e.action?[r,o]:[o,r]},d.prototype.applyOperationToACE=function(e){var t,n,r,i,o,a,s,c;for(n=0,a=0,s=(c=e.ops).length;s>a;a++)(r=c[a]).isRetain()?n+=r.chars:r.isInsert()?(this.aceDoc.insert(this.posFromIndex(n),r.text),n+=r.text.length):r.isDelete()&&(t=this.posFromIndex(n),o=this.posFromIndex(n+r.chars),i=this.aceRange.fromPoints(t,o),this.aceDoc.remove(i));return this.grabDocumentState()},d.prototype.posFromIndex=function(e){var t,n,r,i,o;for(n=r=0,i=(o=this.aceDoc.$lines).length;i>r&&(t=o[n],!(e<=t.length));n=++r)e-=t.length+1;return{row:n,column:e}},d.prototype.indexFromPos=function(e,t){var n,r,i,o;for(null==t&&(t=this.lastDocLines),r=0,n=i=0,o=e.row;o>=0?o>i:i>o;n=o>=0?++i:--i)r+=this.lastDocLines[n].length+1;return r+=e.column},d.prototype.getValue=function(){return this.aceDoc.getValue()},d.prototype.getCursor=function(){var e,n,r,i,o,a;try{i=this.indexFromPos(this.aceSession.selection.getRange().start,this.aceDoc.$lines),r=this.indexFromPos(this.aceSession.selection.getRange().end,this.aceDoc.$lines)}catch(t){e=t;try{i=this.indexFromPos(this.lastCursorRange.start),r=this.indexFromPos(this.lastCursorRange.end)}catch(e){n=e,i=(o=[0,0])[0],r=o[1]}}return i>r&&(a=[r,i],i=a[0],r=a[1]),new t.Cursor(i,r)},d.prototype.setCursor=function(e){var t,n,r;return n=this.posFromIndex(e.position),t=this.posFromIndex(e.selectionEnd),e.position>e.selectionEnd&&(r=[t,n],n=r[0],t=r[1]),this.aceSession.selection.setSelectionRange(new this.aceRange(n.row,n.column,t.row,t.column))},d.prototype.setOtherCursor=function(e,t,n){var r,i,o,a,s,c,u,l,d=this;return null==this.otherCursors&&(this.otherCursors={}),(o=this.otherCursors[n])&&(o.start.detach(),o.end.detach(),this.aceSession.removeMarker(o.id)),u=this.posFromIndex(e.position),a=this.posFromIndex(e.selectionEnd),e.selectionEnd<e.position&&(l=[a,u],u=l[0],a=l[1]),r="other-client-selection-"+t.replace("#",""),(s=e.position===e.selectionEnd)&&(r=r.replace("selection","cursor")),i="."+r+" {\n  position: absolute;\n  background-color: "+(s?"transparent":t)+";\n  border-left: 2px solid "+t+";\n}",this.addStyleRule(i),this.otherCursors[n]=o=new this.aceRange(u.row,u.column,a.row,a.column),c=this,o.clipRows=function(){var e;return e=c.aceRange.prototype.clipRows.apply(this,arguments),e.isEmpty=function(){return!1},e},o.start=this.aceDoc.createAnchor(o.start),o.end=this.aceDoc.createAnchor(o.end),o.id=this.aceSession.addMarker(o,r,"text"),{clear:function(){return o.start.detach(),o.end.detach(),d.aceSession.removeMarker(o.id)}}},d.prototype.addStyleRule=function(e){var t;if("undefined"!=typeof document&&null!==document&&(this.addedStyleRules||(this.addedStyleRules={},t=document.createElement("style"),document.documentElement.getElementsByTagName("head")[0].appendChild(t),this.addedStyleSheet=t.sheet),!this.addedStyleRules[e]))return this.addedStyleRules[e]=!0,this.addedStyleSheet.insertRule(e,0)},d.prototype.registerCallbacks=function(e){this.callbacks=e},d.prototype.trigger=function(){var e,t,n,r;return t=arguments[0],e=2<=arguments.length?o.call(arguments,1):[],null!=(n=this.callbacks)&&null!=(r=n[t])?r.apply(this,e):void 0},d.prototype.applyOperation=function(e){return e.isNoop()||(this.ignoreChanges=!0),this.applyOperationToACE(e),this.ignoreChanges=!1},d.prototype.registerUndo=function(e){return this.ace.undo=e},d.prototype.registerRedo=function(e){return this.ace.redo=e},d.prototype.invertOperation=function(e){return e.invert(this.getValue())},d}(),(t=t||{}).AttributeConstants={BOLD:"b",ITALIC:"i",UNDERLINE:"u",STRIKE:"s",FONT:"f",FONT_SIZE:"fs",COLOR:"c",BACKGROUND_COLOR:"bc",ENTITY_SENTINEL:"ent",LINE_SENTINEL:"l",LINE_INDENT:"li",LINE_ALIGN:"la",LIST_TYPE:"lt"},t.sentinelConstants={LINE_SENTINEL_CHARACTER:"",ENTITY_SENTINEL_CHARACTER:""},(t=t||{}).EntityManager=function(){function b(){this.entities_={};var t=["src","alt","width","height","style","class"];this.register("img",{render:function(t){e.assert(t.src,"image entity should have 'src'!");for(var n=["src","alt","width","height","style","class"],r="<img ",i=0;i<n.length;i++){var o=n[i];o in t&&(r+=" "+o+'="'+t[o]+'"')}return r+=">"},fromElement:function(e){for(var n={},r=0;r<t.length;r++){var i=t[r];e.hasAttribute(i)&&(n[i]=e.getAttribute(i))}return n}})}var e=t.utils;return b.prototype.register=function(e,n){t.utils.assert(n.render,"Entity options should include a 'render' function!"),t.utils.assert(n.fromElement,"Entity options should include a 'fromElement' function!"),this.entities_[e]=n},b.prototype.renderToElement=function(e,t){return this.tryRenderToElement_(e,"render",t)},b.prototype.exportToElement=function(e){var t=this.tryRenderToElement_(e,"export")||this.tryRenderToElement_(e,"getHtml")||this.tryRenderToElement_(e,"render");return t.setAttribute("data-firepad-entity",e.type),t},b.prototype.updateElement=function(e,t){var n=e.type,r=e.info;this.entities_[n]&&void 0!==this.entities_[n].update&&this.entities_[n].update(r,t)},b.prototype.fromElement=function(e){var n=e.getAttribute("data-firepad-entity");if(n||(n=e.nodeName.toLowerCase()),n&&this.entities_[n]){var r=this.entities_[n].fromElement(e);return new t.Entity(n,r)}},b.prototype.tryRenderToElement_=function(e,n,r){var i=e.type,o=e.info;if(this.entities_[i]&&this.entities_[i][n]){var a=t.document||window&&window.document,s=this.entities_[i][n](o,r,a);if(s){if("string"==typeof s){var c=(t.document||document).createElement("div");return c.innerHTML=s,c.childNodes[0]}if("object"==typeof s)return t.utils.assert(void 0!==s.nodeType,"Error rendering "+i+" entity.  render() function must return an html string or a DOM element."),s}}},b.prototype.entitySupportsUpdate=function(e){return this.entities_[e]&&this.entities_[e].update},b}(),(t=t||{}).Entity=function(){function b(e,t){return this instanceof b?(this.type=e,void(this.info=t||{})):new b(e,t)}var e=t.AttributeConstants.ENTITY_SENTINEL,n=e+"_";return b.prototype.toAttributes=function(){var t={};t[e]=this.type;for(var r in this.info)t[n+r]=this.info[r];return t},b.fromAttributes=function(t){var r=t[e],i={};for(var o in t)0===o.indexOf(n)&&(i[o.substr(n.length)]=t[o]);return new b(r,i)},b}(),(t=t||{}).RichTextCodeMirror=function(){function b(e,t,r){this.codeMirror=e,this.options_=r||{},this.entityManager_=t,this.currentAttributes_=null;var o=this;this.annotationList_=new n(function(e,t){o.onAnnotationsChanged_(e,t)}),this.initAnnotationList_(),i(this,"onCodeMirrorBeforeChange_"),i(this,"onCodeMirrorChange_"),i(this,"onCursorActivity_"),parseInt(CodeMirror.version)>=4?this.codeMirror.on("changes",this.onCodeMirrorChange_):this.codeMirror.on("change",this.onCodeMirrorChange_),this.codeMirror.on("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.on("cursorActivity",this.onCursorActivity_),this.changeId_=0,this.outstandingChanges_={},this.dirtyLines_=[]}function c(e,t){return e.line-t.line||e.ch-t.ch}function d(e,t){return c(e,t)<=0}function e(e){return e[e.length-1]}function f(e){if(0===e.length)return 0;for(var t=0,n=0;n<e.length;n++)t+=e[n].length;return t+e.length-1}function g(e){this.attributes=e||{}}function h(e){for(var t in e)return!1;return!0}function i(e,t){var n=e[t];e[t]=function(){n.apply(e,arguments)}}var n=t.AnnotationList,r=t.Span,o=t.utils,a=t.AttributeConstants,s="cmrt-",u="cmrt-",l={c:"color",bc:"background-color",fs:"font-size",li:function(e){return"padding-left: "+40*e+"px"}},p={};o.makeEventEmitter(b,["change","attributesChange","newLine"]);var m=t.sentinelConstants.LINE_SENTINEL_CHARACTER,v=t.sentinelConstants.ENTITY_SENTINEL_CHARACTER;return b.prototype.detach=function(){this.codeMirror.off("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.off("change",this.onCodeMirrorChange_),this.codeMirror.off("changes",this.onCodeMirrorChange_),this.codeMirror.off("cursorActivity",this.onCursorActivity_),this.clearAnnotations_()},b.prototype.toggleAttribute=function(e,t){var n=t||!0;if(this.emptySelection_()){var r=this.getCurrentAttributes_();r[e]===n?delete r[e]:r[e]=n,this.currentAttributes_=r}else{var i=this.getCurrentAttributes_()[e]!==n&&n;this.setAttribute(e,i)}},b.prototype.setAttribute=function(e,t){var n=this.codeMirror;if(this.emptySelection_()){var r=this.getCurrentAttributes_();!1===t?delete r[e]:r[e]=t,this.currentAttributes_=r}else this.updateTextAttributes(n.indexFromPos(n.getCursor("start")),n.indexFromPos(n.getCursor("end")),function(n){!1===t?delete n[e]:n[e]=t}),this.updateCurrentAttributes_()},b.prototype.updateTextAttributes=function(e,t,n,i,o){var s=[],c=e,u=this;this.annotationList_.updateSpan(new r(e,t-e),function(e,t){var r={};for(var l in e.attributes)r[l]=e.attributes[l];(!r[a.LINE_SENTINEL]||o)&&n(r);var d={},p={};return u.computeChangedAttributes_(e.attributes,r,d,p),h(d)||s.push({start:c,end:c+t,attributes:d,attributesInverse:p,origin:i}),c+=t,new g(r)}),s.length>0&&this.trigger("attributesChange",this,s)},b.prototype.computeChangedAttributes_=function(e,t,n,r){var i,o={};for(i in e)o[i]=!0;for(i in t)o[i]=!0;for(i in o)i in t?i in e?e[i]!==t[i]&&(n[i]=t[i],r[i]=e[i]):(n[i]=t[i],r[i]=!1):(n[i]=!1,r[i]=e[i])},b.prototype.toggleLineAttribute=function(e,t){var n,r=this.getCurrentLineAttributes_();n=!(e in r&&r[e]===t)&&t,this.setLineAttribute(e,n)},b.prototype.setLineAttribute=function(e,t){this.updateLineAttributesForSelection(function(n){!1===t?delete n[e]:n[e]=t})},b.prototype.updateLineAttributesForSelection=function(e){var t=this.codeMirror,n=t.getCursor("start"),r=t.getCursor("end"),i=n.line,o=r.line,a=t.getLine(o),s=this.areLineSentinelCharacters_(a.substr(0,r.ch));o>i&&s&&o--,this.updateLineAttributes(i,o,e)},b.prototype.updateLineAttributes=function(e,t,n){for(var r=e;t>=r;r++){var i=this.codeMirror.getLine(r),o=this.codeMirror.indexFromPos({line:r,ch:0});if(i[0]!==m){var s={};s[a.LINE_SENTINEL]=!0,n(s),this.insertText(o,m,s)}else this.updateTextAttributes(o,o+1,n,null,!0)}},b.prototype.replaceText=function(e,t,n,r,i){this.changeId_++;var o=u+this.changeId_;this.outstandingChanges_[o]={origOrigin:i,attributes:r};var a=this.codeMirror,s=a.posFromIndex(e),c="number"==typeof t?a.posFromIndex(t):null;a.replaceRange(n,s,c,o)},b.prototype.insertText=function(e,t,n,r){var i=this.codeMirror,o=i.getCursor(),a="RTCMADAPTER"==r&&!i.somethingSelected()&&e==i.indexFromPos(o);this.replaceText(e,null,t,n,r),a&&i.setCursor(o)},b.prototype.removeText=function(e,t,n){var r=this.codeMirror;r.replaceRange("",r.posFromIndex(e),r.posFromIndex(t),n)},b.prototype.insertEntityAtCursor=function(e,t,n){var r=this.codeMirror,i=r.indexFromPos(r.getCursor("head"));this.insertEntityAt(i,e,t,n)},b.prototype.insertEntityAt=function(e,n,r,i){this.codeMirror,this.insertEntity_(e,new t.Entity(n,r),i)},b.prototype.insertEntity_=function(e,t,n){this.replaceText(e,null,v,t.toAttributes(),n)},b.prototype.getAttributeSpans=function(e,t){for(var n=[],i=this.annotationList_.getAnnotatedSpansForSpan(new r(e,t-e)),o=0;o<i.length;o++)n.push({length:i[o].length,attributes:i[o].annotation.attributes});return n},b.prototype.end=function(){var e=this.codeMirror.lineCount()-1;return this.codeMirror.indexFromPos({line:e,ch:this.codeMirror.getLine(e).length})},b.prototype.getRange=function(e,t){var n=this.codeMirror.posFromIndex(e),r=this.codeMirror.posFromIndex(t);return this.codeMirror.getRange(n,r)},b.prototype.initAnnotationList_=function(){var e=this.end();0!==e&&this.annotationList_.insertAnnotatedSpan(new r(0,e),new g)},b.prototype.onAnnotationsChanged_=function(e,t){var n,r={};this.tryToUpdateEntitiesInPlace(e,t);for(var i=0;i<e.length;i++){var o=e[i].annotation.attributes;a.LINE_SENTINEL in o&&(r[this.codeMirror.posFromIndex(e[i].pos).line]=!0),(n=e[i].getAttachedObject())&&n.clear()}for(i=0;i<t.length;i++){var s=t[i].annotation,c=a.LINE_SENTINEL in s.attributes,u=a.ENTITY_SENTINEL in s.attributes,l=this.codeMirror.posFromIndex(t[i].pos);if(c)r[l.line]=!0;else if(u)this.markEntity_(t[i]);else{var d=this.getClassNameForAttributes_(s.attributes);if(""!==d){var p=this.codeMirror.posFromIndex(t[i].pos+t[i].length);n=this.codeMirror.markText(l,p,{className:d}),t[i].attachObject(n)}}}for(var h in r)this.dirtyLines_.push(this.codeMirror.getLineHandle(Number(h))),this.queueLineMarking_()},b.prototype.tryToUpdateEntitiesInPlace=function(e,t){for(var n=e.length;n--;)for(var r=e[n],i=t.length;i--;){var o=t[i];if(r.pos==o.pos&&r.length==o.length&&r.annotation.attributes.ent&&r.annotation.attributes.ent==o.annotation.attributes.ent){var a=o.annotation.attributes.ent;if(this.entityManager_.entitySupportsUpdate(a)){e.splice(n,1),t.splice(i,1);var s=r.getAttachedObject();s.update(o.annotation.attributes),o.attachObject(s)}}}},b.prototype.queueLineMarking_=function(){if(null==this.lineMarkTimeout_){var e=this;this.lineMarkTimeout_=setTimeout(function(){e.lineMarkTimeout_=null;for(var t=[],n=0;n<e.dirtyLines_.length;n++){var r=e.codeMirror.getLineNumber(e.dirtyLines_[n]);t.push(Number(r))}e.dirtyLines_=[],t.sort(function(e,t){return e-t});var i=-1;for(n=0;n<t.length;n++){var o=t[n];o>i&&(i=e.markLineSentinelCharactersForChangedLines_(o,o))}},0)}},b.prototype.addStyleWithCSS_=function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},b.prototype.getClassNameForAttributes_=function(e){var n="";for(var r in e){var i=e[r];if(r===a.LINE_SENTINEL)t.utils.assert(!0===i,"LINE_SENTINEL attribute should be true if it exists.");else{var o=(this.options_.cssPrefix||s)+r;if(!0!==i){r===a.FONT_SIZE&&"string"!=typeof i&&(i+="px");var c=i.toString().toLowerCase().replace(/[^a-z0-9-_]/g,"-");if(o+="-"+c,l[r]&&(p[r]||(p[r]={}),!p[r][c])){p[r][c]=!0;var u=l[r],d="function"==typeof u?u(i):u+": "+i,h=r==a.LINE_INDENT?"pre."+o:"."+o;this.addStyleWithCSS_(h+" { "+d+" }")}}n=n+" "+o}}return n},b.prototype.markEntity_=function(e){for(var n=e.annotation.attributes,r=t.Entity.fromAttributes(n),i=this.codeMirror,o=this,a=[],s=0;s<e.length;s++){var c=i.posFromIndex(e.pos+s),u=i.posFromIndex(e.pos+s+1),l={collapsed:!0,atomic:!0,inclusiveLeft:!1,inclusiveRight:!1},d=this.createEntityHandle_(r,e.pos),p=this.entityManager_.renderToElement(r,d);p&&(l.replacedWith=p);var h=i.markText(c,u,l);a.push(h),d.setMarker(h)}e.attachObject({clear:function(){for(var e=0;e<a.length;e++)a[e].clear()},update:function(e){for(var n=t.Entity.fromAttributes(e),r=0;r<a.length;r++)o.entityManager_.updateElement(n,a[r].replacedWith)}}),this.queueRefresh_()},b.prototype.queueRefresh_=function(){var e=this;this.refreshTimer_||(this.refreshTimer_=setTimeout(function(){e.codeMirror.refresh(),e.refreshTimer_=null},0))},b.prototype.createEntityHandle_=function(n,r){function d(){if(i){var e=i.find();return e?o.codeMirror.indexFromPos(e.from):null}return r}function e(){var e=d();null!=e&&(o.codeMirror.focus(),o.removeText(e,e+1))}function f(e){var r=t.AttributeConstants.ENTITY_SENTINEL,i=r+"_",a=d();o.updateTextAttributes(a,a+1,function(t){for(var o in t)delete t[o];t[r]=n.type;for(var a in e)t[i+a]=e[a]})}function g(e){i=e}var i=null,o=this;return{find:d,remove:e,replace:f,setMarker:g}},b.prototype.lineClassRemover_=function(e){var t=this.codeMirror,n=t.getLineHandle(e);return{clear:function(){t.removeLineClass(n,"text",".*")}}},b.prototype.emptySelection_=function(){var e=this.codeMirror.getCursor("start"),t=this.codeMirror.getCursor("end");return e.line===t.line&&e.ch===t.ch},b.prototype.onCodeMirrorBeforeChange_=function(e,t){if("+input"===t.origin||"paste"===t.origin){for(var n=[],r=0;r<t.text.length;r++){var i=t.text[r];i=i.replace(new RegExp("["+m+v+"]","g"),""),n.push(i)}t.update(t.from,t.to,n)}},b.prototype.onCodeMirrorChange_=function(e,t){if("object"==typeof t.from){for(var n=[];t;)n.push(t),t=t.next;t=n}for(var i=this.convertCoordinateSystemForChanges_(t),o=[],a=0;a<i.length;a++){var s=i[a],c=s.start,u=(s.end,s.text),l=s.removed,d=s.origin;if(l.length>0){for(var p=this.annotationList_.getAnnotatedSpansForSpan(new r(c,l.length)),h=0,f=0;f<p.length;f++){var m=p[f];o.push({start:c,end:c+m.length,removedAttributes:m.annotation.attributes,removed:l.substr(h,m.length),attributes:{},text:"",origin:s.origin}),h+=m.length}this.annotationList_.removeSpan(new r(c,l.length))}if(u.length>0){var v;"+input"===s.origin||"paste"===s.origin?v=this.currentAttributes_||{}:d in this.outstandingChanges_?(v=this.outstandingChanges_[d].attributes,d=this.outstandingChanges_[d].origOrigin,delete this.outstandingChanges_[d]):v={},this.annotationList_.insertAnnotatedSpan(new r(c,u.length),new g(v)),o.push({start:c,end:c,removedAttributes:{},removed:"",text:u,attributes:v,origin:d})}}this.markLineSentinelCharactersForChanges_(t),o.length>0&&this.trigger("change",this,o)},b.prototype.convertCoordinateSystemForChanges_=function(t){function b(t,n){return function(r){return d(r,n.from)?t(r):d(n.to,r)?t({line:r.line+n.text.length-1-(n.to.line-n.from.line),ch:n.to.line<r.line?r.ch:n.text.length<=1?r.ch-(n.to.ch-n.from.ch)+f(n.text):r.ch-n.to.ch+e(n.text).length})+f(n.removed)-f(n.text):n.from.line===r.line?t(n.from)+r.ch-n.from.ch:t(n.from)+f(n.removed.slice(0,r.line-n.from.line))+1+r.ch}}for(var n=this,r=function(e){return n.codeMirror.indexFromPos(e)},i=[],o=t.length-1;o>=0;o--){var a=t[o],s=(r=b(r,a))(a.from),c=a.removed.join("\n"),u=a.text.join("\n");i.unshift({start:s,end:s+c.length,removed:c,text:u,origin:a.origin})}return i},b.prototype.markLineSentinelCharactersForChanges_=function(e){for(var t=Number.MAX_VALUE,n=-1,r=0;r<e.length;r++){var i=e[r],o=i.from.line;i.from.ch,(i.removed.length>1||i.removed[0].indexOf(m)>=0)&&(t=Math.min(t,o),n=Math.max(n,o)),i.text.length>1?(t=Math.min(t,o),n=Math.max(n,o+i.text.length-1)):i.text[0].indexOf(m)>=0&&(t=Math.min(t,o),n=Math.max(n,o))}n=Math.min(n,this.codeMirror.lineCount()-1),this.markLineSentinelCharactersForChangedLines_(t,n)},b.prototype.markLineSentinelCharactersForChangedLines_=function(e,t){if(e<Number.MAX_VALUE)for(;e>0&&this.lineIsListItemOrIndented_(e-1);)e--;if(t>-1)for(var n=this.codeMirror.lineCount();n>t+1&&this.lineIsListItemOrIndented_(t+1);)t++;for(var r=[],i=this.codeMirror,o=e;t>=o;o++){var a=i.getLine(o),s=i.getLineHandle(o);if(i.removeLineClass(s,"text",".*"),a.length>0)for(var c=a.indexOf(m);c>=0;){for(var u=c;c<a.length&&a[c]===m;){for(var l=i.findMarksAt({line:o,ch:c}),d=0;d<l.length;d++)l[d].isForLineSentinel&&l[d].clear();c++}this.markLineSentinelCharacters_(o,u,c,r),c=a.indexOf(m,c)}else r=[]}return t},b.prototype.markLineSentinelCharacters_=function(e,t,n,r){var i=this.codeMirror,o=null,s=null,c=function(){var e=s.find();return e?e.from.line:null};if(0===t){var u=this.getLineAttributes_(e),l=u[a.LIST_TYPE],d=u[a.LINE_INDENT]||0;for(l&&0===d&&(d=1);d>=r.length;)r.push(1);"o"===l?(o=this.makeOrderedListElement_(r[d]),r[d]++):"u"===l?(o=this.makeUnorderedListElement_(),r[d]=1):"t"===l?(o=this.makeTodoListElement_(!1,c),r[d]=1):"tc"===l&&(o=this.makeTodoListElement_(!0,c),r[d]=1);var p=this.getClassNameForAttributes_(u);""!==p&&this.codeMirror.addLineClass(e,"text",p),r=r.slice(0,d+1)}var h={inclusiveLeft:!0,collapsed:!0};o&&(h.replacedWith=o),(s=i.markText({line:e,ch:t},{line:e,ch:n},h)).isForLineSentinel=!0},b.prototype.makeOrderedListElement_=function(e){return o.elt("div",e+".",{class:"firepad-list-left"})},b.prototype.makeUnorderedListElement_=function(){return o.elt("div","•",{class:"firepad-list-left"})},b.prototype.toggleTodo=function(e){var t,n=a.LIST_TYPE,r=this.getCurrentLineAttributes_();n in r&&("t"===r[n]||"tc"===r[n])?"t"===r[n]?t="tc":"tc"===r[n]&&(t=!!e&&"t"):t="t",this.setLineAttribute(n,t)},b.prototype.makeTodoListElement_=function(e,t){var n={type:"checkbox",class:"firepad-todo-left"};e&&(n.checked=!0);var r=o.elt("input",!1,n),i=this;return o.on(r,"click",o.stopEventAnd(function(e){i.codeMirror.setCursor({line:t(),ch:1}),i.toggleTodo(!0)})),r},b.prototype.lineIsListItemOrIndented_=function(e){var t=this.getLineAttributes_(e);return!1!==(t[a.LIST_TYPE]||!1)||0!==(t[a.LINE_INDENT]||0)},b.prototype.onCursorActivity_=function(){var e=this;setTimeout(function(){e.updateCurrentAttributes_()},1)},b.prototype.getCurrentAttributes_=function(){return this.currentAttributes_||this.updateCurrentAttributes_(),this.currentAttributes_},b.prototype.updateCurrentAttributes_=function(){var e=this.codeMirror,n=e.indexFromPos(e.getCursor("anchor")),r=e.indexFromPos(e.getCursor("head")),i=r;if(n>r){for(;i<this.end();){var o=this.getRange(i,i+1);if("\n"!==o&&o!==m)break;i++}i<this.end()&&i++}else for(;i>0&&("\n"===(o=this.getRange(i-1,i))||o===m);)i--;var s=this.annotationList_.getAnnotatedSpansForPos(i);this.currentAttributes_={};var c={};s.length>0&&!(a.LINE_SENTINEL in s[0].annotation.attributes)?c=s[0].annotation.attributes:s.length>1&&(t.utils.assert(!(a.LINE_SENTINEL in s[1].annotation.attributes),"Cursor can't be between two line sentinel characters."),c=s[1].annotation.attributes);for(var u in c)"l"!==u&&"lt"!==u&&"li"!==u&&0!==u.indexOf(a.ENTITY_SENTINEL)&&(this.currentAttributes_[u]=c[u])},b.prototype.getCurrentLineAttributes_=function(){var e=this.codeMirror,t=e.getCursor("anchor"),n=e.getCursor("head"),r=n.line;return 0===n.ch&&t.line<n.line&&r--,this.getLineAttributes_(r)},b.prototype.getLineAttributes_=function(e){var n={},i=this.codeMirror.getLine(e);if(i.length>0&&i[0]===m){var o=this.codeMirror.indexFromPos({line:e,ch:0}),a=this.annotationList_.getAnnotatedSpansForSpan(new r(o,1));t.utils.assert(1===a.length);for(var s in a[0].annotation.attributes)n[s]=a[0].annotation.attributes[s]}return n},b.prototype.clearAnnotations_=function(){this.annotationList_.updateSpan(new r(0,this.end()),function(e,t){return new g({})})},b.prototype.newline=function(){var e=this.codeMirror,t=this;if(this.emptySelection_()){var n=e.getCursor("head").line,r=this.getLineAttributes_(n),i=r[a.LIST_TYPE];i&&1===e.getLine(n).length?this.updateLineAttributes(n,n,function(e){delete e[a.LIST_TYPE],delete e[a.LINE_INDENT]}):(e.replaceSelection("\n","end","+input"),this.updateLineAttributes(n+1,n+1,function(e){for(var o in r)e[o]=r[o];"tc"===i&&(e[a.LIST_TYPE]="t"),t.trigger("newLine",{line:n+1,attr:e})}))}else e.replaceSelection("\n","end","+input")},b.prototype.deleteLeft=function(){var e=this.codeMirror,t=e.getCursor("head"),n=this.getLineAttributes_(t.line),r=n[a.LIST_TYPE],i=n[a.LINE_INDENT],o=this.emptySelection_()&&1===t.ch;o&&r?this.updateLineAttributes(t.line,t.line,function(e){delete e[a.LIST_TYPE],delete e[a.LINE_INDENT]}):o&&i&&i>0?this.unindent():e.deleteH(-1,"char")},b.prototype.deleteRight=function(){var e=this.codeMirror,t=e.getCursor("head"),n=e.getLine(t.line),r=this.areLineSentinelCharacters_(n),i=t.line+1<e.lineCount()?e.getLine(t.line+1):"";this.emptySelection_()&&r&&i[0]===m?(e.replaceRange("",{line:t.line,ch:0},{line:t.line+1,ch:0},"+input"),e.setCursor({line:t.line,ch:0})):e.deleteH(1,"char")},b.prototype.indent=function(){this.updateLineAttributesForSelection(function(e){var t=e[a.LINE_INDENT],n=e[a.LIST_TYPE];t?e[a.LINE_INDENT]++:e[a.LINE_INDENT]=n?2:1})},b.prototype.unindent=function(){this.updateLineAttributesForSelection(function(e){var t=e[a.LINE_INDENT];t&&t>1?e[a.LINE_INDENT]=t-1:(delete e[a.LIST_TYPE],delete e[a.LINE_INDENT])})},b.prototype.getText=function(){return this.codeMirror.getValue().replace(new RegExp(m,"g"),"")},b.prototype.areLineSentinelCharacters_=function(e){for(var t=0;t<e.length;t++)if(e[t]!==m)return!1;return!0},g.prototype.equals=function(e){if(!(e instanceof g))return!1;var t;for(t in this.attributes)if(e.attributes[t]!==this.attributes[t])return!1;for(t in e.attributes)if(e.attributes[t]!==this.attributes[t])return!1;return!0},b}(),(t=t||{}).RichTextCodeMirrorAdapter=function(){"use strict";function b(e){this.rtcm=e,this.cm=e.codeMirror,g(this,"onChange"),g(this,"onAttributesChange"),g(this,"onCursorActivity"),g(this,"onFocus"),g(this,"onBlur"),this.rtcm.on("change",this.onChange),this.rtcm.on("attributesChange",this.onAttributesChange),this.cm.on("cursorActivity",this.onCursorActivity),this.cm.on("focus",this.onFocus),this.cm.on("blur",this.onBlur)}function c(e,t){return e.line<t.line?-1:e.line>t.line?1:e.ch<t.ch?-1:e.ch>t.ch?1:0}function d(e,t){return 0===c(e,t)}function e(e){var t=e.lineCount()-1;return e.indexFromPos({line:t,ch:e.getLine(t).length})}function f(e,t){if(!e)throw new Error(t||"assertion error")}function g(e,t){var n=e[t];e[t]=function(){n.apply(e,arguments)}}function h(e){for(var t in e)return!1;return!0}function i(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");3===(e=e.replace(/^#/,"")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var n=parseInt(e,16),r=[n>>16,n>>8&255,255&n],i="rgb";return j(t)&&(i="rgba",r.push(t)),i+"("+r.join(",")+")"}function j(e){return null!==e&&void 0!==e}var n=t.TextOperation,r=t.WrappedOperation,o=t.Cursor;return b.prototype.detach=function(){this.rtcm.off("change",this.onChange),this.rtcm.off("attributesChange",this.onAttributesChange),this.cm.off("cursorActivity",this.onCursorActivity),this.cm.off("focus",this.onFocus),this.cm.off("blur",this.onBlur)},b.operationFromCodeMirrorChanges=function(t,r){for(var i=e(r),o=(new n).retain(i),a=(new n).retain(i),s=t.length-1;s>=0;s--){var c=t[s],u=c.start,l=i-u-c.text.length;o=(new n).retain(u).delete(c.removed.length).insert(c.text,c.attributes).retain(l).compose(o),a=a.compose((new n).retain(u).delete(c.text.length).insert(c.removed,c.removedAttributes).retain(l)),i+=c.removed.length-c.text.length}return[o,a]},b.operationFromAttributesChanges=function(t,r){for(var i=e(r),o=new n,a=new n,s=0,c=0;c<t.length;c++){var u=t[c],l=u.start-s;f(l>=0),o.retain(l),a.retain(l);var d=u.end-u.start;o.retain(d,u.attributes),a.retain(d,u.attributesInverse),s=u.start+d}return o.retain(i-s),a.retain(i-s),[o,a]},b.prototype.registerCallbacks=function(e){this.callbacks=e},b.prototype.onChange=function(e,t){if("RTCMADAPTER"!==t[0].origin){var n=b.operationFromCodeMirrorChanges(t,this.cm);this.trigger("change",n[0],n[1])}},b.prototype.onAttributesChange=function(e,t){if("RTCMADAPTER"!==t[0].origin){var n=b.operationFromAttributesChanges(t,this.cm);this.trigger("change",n[0],n[1])}},b.prototype.onCursorActivity=function(){var e=this;setTimeout(function(){e.trigger("cursorActivity")},1)},b.prototype.onFocus=function(){this.trigger("focus")},b.prototype.onBlur=function(){this.cm.somethingSelected()||this.trigger("blur")},b.prototype.getValue=function(){return this.cm.getValue()},b.prototype.getCursor=function(){var e,t=this.cm,n=t.getCursor(),r=t.indexFromPos(n);if(t.somethingSelected()){var i=t.getCursor(!0),a=d(n,i)?t.getCursor(!1):i;e=t.indexFromPos(a)}else e=r;return new o(r,e)},b.prototype.setCursor=function(e){this.cm.setSelection(this.cm.posFromIndex(e.position),this.cm.posFromIndex(e.selectionEnd))},b.prototype.addStyleRule=function(e){if("undefined"!=typeof document&&null!==document){if(!this.addedStyleRules){this.addedStyleRules={};var t=document.createElement("style");document.documentElement.getElementsByTagName("head")[0].appendChild(t),this.addedStyleSheet=t.sheet}if(!this.addedStyleRules[e])return this.addedStyleRules[e]=!0,this.addedStyleSheet.insertRule(e,0)}},b.prototype.setOtherCursor=function(e,t,n){var r=this.cm.posFromIndex(e.position);if("string"==typeof t&&t.match(/^#[a-fA-F0-9]{3,6}$/)){var o=this.rtcm.end();if("object"==typeof e&&"number"==typeof e.position&&"number"==typeof e.selectionEnd&&!(e.position<0||e.position>o||e.selectionEnd<0||e.selectionEnd>o)){if(e.position===e.selectionEnd){var a=this.cm.cursorCoords(r),s=document.createElement("span");return s.className="other-client",s.style.borderLeftWidth="2px",s.style.borderLeftStyle="solid",s.style.borderLeftColor=t,s.style.marginLeft=s.style.marginRight="-1px",s.style.height=.9*(a.bottom-a.top)+"px",s.setAttribute("data-clientid",n),s.style.zIndex=0,this.cm.setBookmark(r,{widget:s,insertLeft:!0})}var c="selection-"+t.replace("#",""),u=.4,l="."+c+" { background: "+i(t)+";\n background: "+i(t,u)+";}";this.addStyleRule(l);var d,p;return e.selectionEnd>e.position?(d=r,p=this.cm.posFromIndex(e.selectionEnd)):(d=this.cm.posFromIndex(e.selectionEnd),p=r),this.cm.markText(d,p,{className:c})}}},b.prototype.trigger=function(e){var t=Array.prototype.slice.call(arguments,1),n=this.callbacks&&this.callbacks[e];n&&n.apply(this,t)},b.prototype.applyOperation=function(e){e.ops.length>10&&this.rtcm.codeMirror.getWrapperElement().setAttribute("style","display: none");for(var t=e.ops,n=0,r=0,i=t.length;i>r;r++){var o=t[r];o.isRetain()?(h(o.attributes)||this.rtcm.updateTextAttributes(n,n+o.chars,function(e){for(var t in o.attributes)!1===o.attributes[t]?delete e[t]:e[t]=o.attributes[t]},"RTCMADAPTER",!0),n+=o.chars):o.isInsert()?(this.rtcm.insertText(n,o.text,o.attributes,"RTCMADAPTER"),n+=o.text.length):o.isDelete()&&this.rtcm.removeText(n,n+o.chars,"RTCMADAPTER")}e.ops.length>10&&(this.rtcm.codeMirror.getWrapperElement().setAttribute("style",""),this.rtcm.codeMirror.refresh())},b.prototype.registerUndo=function(e){this.cm.undo=e},b.prototype.registerRedo=function(e){this.cm.redo=e},b.prototype.invertOperation=function(e){for(var t,i,o=0,a=this.rtcm.codeMirror,s=new n,c=0;c<e.wrapped.ops.length;c++){var u=e.wrapped.ops[c];if(u.isRetain())if(h(u.attributes))s.retain(u.chars),o+=u.chars;else for(t=this.rtcm.getAttributeSpans(o,o+u.chars),i=0;i<t.length;i++){var l={};for(var d in u.attributes){var p=u.attributes[d],f=t[i].attributes[d];!1===p?f&&(l[d]=f):p!==f&&(l[d]=f||!1)}s.retain(t[i].length,l),o+=t[i].length}else if(u.isInsert())s.delete(u.text.length);else if(u.isDelete()){var g=a.getRange(a.posFromIndex(o),a.posFromIndex(o+u.chars));t=this.rtcm.getAttributeSpans(o,o+u.chars);var m=0;for(i=0;i<t.length;i++)s.insert(g.substr(m,t[i].length),t[i].attributes),m+=t[i].length;o+=u.chars}}return new r(s,e.meta.invert())},b}(),(t=t||{}).Formatting=function(){function b(e){return this instanceof b?void(this.attributes=e||{}):new b(e)}var e=t.AttributeConstants;return b.prototype.cloneWithNewAttribute_=function(e,t){var n={};for(var r in this.attributes)n[r]=this.attributes[r];return!1===t?delete n[e]:n[e]=t,new b(n)},b.prototype.bold=function(t){return this.cloneWithNewAttribute_(e.BOLD,t)},b.prototype.italic=function(t){return this.cloneWithNewAttribute_(e.ITALIC,t)},b.prototype.underline=function(t){return this.cloneWithNewAttribute_(e.UNDERLINE,t)},b.prototype.strike=function(t){return this.cloneWithNewAttribute_(e.STRIKE,t)},b.prototype.font=function(t){return this.cloneWithNewAttribute_(e.FONT,t)},b.prototype.fontSize=function(t){return this.cloneWithNewAttribute_(e.FONT_SIZE,t)},b.prototype.color=function(t){return this.cloneWithNewAttribute_(e.COLOR,t)},b.prototype.backgroundColor=function(t){return this.cloneWithNewAttribute_(e.BACKGROUND_COLOR,t)},b}(),(t=t||{}).Text=function(){function b(e,n){return this instanceof b?(this.text=e,void(this.formatting=n||t.Formatting())):new b(e,n)}return b}(),(t=t||{}).LineFormatting=function(){function b(t){return this instanceof b?(this.attributes=t||{},void(this.attributes[e.LINE_SENTINEL]=!0)):new b(t)}var e=t.AttributeConstants;return b.LIST_TYPE={NONE:!1,ORDERED:"o",UNORDERED:"u",TODO:"t",TODOCHECKED:"tc"},b.prototype.cloneWithNewAttribute_=function(e,t){var n={};for(var r in this.attributes)n[r]=this.attributes[r];return!1===t?delete n[e]:n[e]=t,new b(n)},b.prototype.indent=function(t){return this.cloneWithNewAttribute_(e.LINE_INDENT,t)},b.prototype.align=function(t){return this.cloneWithNewAttribute_(e.LINE_ALIGN,t)},b.prototype.listItem=function(n){return t.utils.assert(!1===n||"u"===n||"o"===n||"t"===n||"tc"===n),this.cloneWithNewAttribute_(e.LIST_TYPE,n)},b.prototype.getIndent=function(){return this.attributes[e.LINE_INDENT]||0},b.prototype.getAlign=function(){return this.attributes[e.LINE_ALIGN]||0},b.prototype.getListItem=function(){return this.attributes[e.LIST_TYPE]||!1},b}(),(t=t||{}).Line=function(){function b(e,n){return this instanceof b?("[object Array]"!==Object.prototype.toString.call(e)&&(e=void 0===e?[]:[e]),this.textPieces=e,void(this.formatting=n||t.LineFormatting())):new b(e,n)}return b}(),(t=t||{}).ParseHtml=function(){function b(e,r,i){this.listType=e||n.UNORDERED,this.lineFormatting=r||t.LineFormatting(),this.textFormatting=i||t.Formatting()}function c(){this.lines=[],this.currentLine=[],this.currentLineListItemType=null}function d(n,i){var o=(t.document||document).createElement("div");o.innerHTML=n,r=i;var a=new c;return e(o,new b,a),a.lines}function e(e,o,a){if(e.nodeType===i.ELEMENT_NODE){var s=r.fromElement(e);if(s)return void a.currentLine.push(new t.Text(t.sentinelConstants.ENTITY_SENTINEL_CHARACTER,new t.Formatting(s.toAttributes())))}switch(e.nodeType){case i.TEXT_NODE:var c=e.nodeValue.replace(/[ \n\t]+/g," ");a.currentLine.push(t.Text(c,o.textFormatting));break;case i.ELEMENT_NODE:switch(o=h(o,e.getAttribute("style")||""),e.nodeName.toLowerCase()){case"div":case"h1":case"h2":case"h3":case"p":a.newlineIfNonEmpty(o),f(e,o,a),a.newlineIfNonEmpty(o);break;case"center":o=o.withAlign("center"),a.newlineIfNonEmpty(o),f(e,o.withAlign("center"),a),a.newlineIfNonEmpty(o);break;case"b":case"strong":f(e,o.withTextFormatting(o.textFormatting.bold(!0)),a);break;case"u":f(e,o.withTextFormatting(o.textFormatting.underline(!0)),a);break;case"i":case"em":f(e,o.withTextFormatting(o.textFormatting.italic(!0)),a);break;case"s":f(e,o.withTextFormatting(o.textFormatting.strike(!0)),a);break;case"font":var u=e.getAttribute("face"),l=e.getAttribute("color"),d=parseInt(e.getAttribute("size"));u&&(o=o.withTextFormatting(o.textFormatting.font(u))),l&&(o=o.withTextFormatting(o.textFormatting.color(l))),d&&(o=o.withTextFormatting(o.textFormatting.fontSize(d))),f(e,o,a);break;case"br":a.newline(o);break;case"ul":a.newlineIfNonEmptyOrListItem(o);var p="firepad-todo"===e.getAttribute("class")?n.TODO:n.UNORDERED;f(e,o.withListType(p).withIncreasedIndent(),a),a.newlineIfNonEmpty(o);break;case"ol":a.newlineIfNonEmptyOrListItem(o),f(e,o.withListType(n.ORDERED).withIncreasedIndent(),a),a.newlineIfNonEmpty(o);break;case"li":g(e,o,a);break;case"style":break;default:f(e,o,a)}}}function f(t,n,r){if(t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++)e(t.childNodes[i],n,r)}function g(e,t,r){r.newlineIfNonEmptyOrListItem(t);var i="firepad-checked"===e.getAttribute("class")?n.TODOCHECKED:t.listType;r.makeListItem(i);var o=r.currentLine;f(e,t,r),(o===r.currentLine||r.currentLine.length>0)&&r.newline(t)}function h(e,n){for(var r=e.textFormatting,i=e.lineFormatting,o=n.split(";"),a=0;a<o.length;a++){var s=o[a].split(":");if(2===s.length){var c=t.utils.trim(s[0]).toLowerCase(),u=t.utils.trim(s[1]).toLowerCase();switch(c){case"text-decoration":var l=u.indexOf("underline")>=0,d=u.indexOf("line-through")>=0;r=r.underline(l).strike(d);break;case"font-weight":var p="bold"===u||parseInt(u)>=600;r=r.bold(p);break;case"font-style":var h="italic"===u||"oblique"===u;r=r.italic(h);break;case"color":r=r.color(u);break;case"background-color":r=r.backgroundColor(u);break;case"text-align":i=i.align(u);break;case"font-size":var f=null,g=["px","pt","%","em","xx-small","x-small","small","medium","large","x-large","xx-large","smaller","larger"];t.utils.stringEndsWith(u,g)?f=u:parseInt(u)&&(f=parseInt(u)+"px"),f&&(r=r.fontSize(f));break;case"font-family":var m=t.utils.trim(u.split(",")[0]);m=(m=m.replace(/['"]/g,"")).replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}),r=r.font(m)}}}return e.withLineFormatting(i).withTextFormatting(r)}var n=t.LineFormatting.LIST_TYPE;b.prototype.withTextFormatting=function(e){return new b(this.listType,this.lineFormatting,e)},b.prototype.withLineFormatting=function(e){return new b(this.listType,e,this.textFormatting)},b.prototype.withListType=function(e){return new b(e,this.lineFormatting,this.textFormatting)},b.prototype.withIncreasedIndent=function(){var e=this.lineFormatting.indent(this.lineFormatting.getIndent()+1);return new b(this.listType,e,this.textFormatting)},b.prototype.withAlign=function(e){var t=this.lineFormatting.align(e);return new b(this.listType,t,this.textFormatting)},c.prototype.newlineIfNonEmpty=function(e){this.cleanLine_(),this.currentLine.length>0&&this.newline(e)},c.prototype.newlineIfNonEmptyOrListItem=function(e){this.cleanLine_(),(this.currentLine.length>0||null!==this.currentLineListItemType)&&this.newline(e)},c.prototype.newline=function(e){this.cleanLine_();var n=e.lineFormatting;null!==this.currentLineListItemType&&(n=n.listItem(this.currentLineListItemType),this.currentLineListItemType=null),this.lines.push(t.Line(this.currentLine,n)),this.currentLine=[]},c.prototype.makeListItem=function(e){this.currentLineListItemType=e},c.prototype.cleanLine_=function(){if(this.currentLine.length>0){var e=this.currentLine.length-1;this.currentLine[0].text=this.currentLine[0].text.replace(/^ +/,""),this.currentLine[e].text=this.currentLine[e].text.replace(/ +$/g,"");for(var t=0;t<this.currentLine.length;t++)this.currentLine[t].text=this.currentLine[t].text.replace(/\u00a0/g," ")}1===this.currentLine.length&&""===this.currentLine[0].text&&(this.currentLine=[])};var r,i=i||{ELEMENT_NODE:1,TEXT_NODE:3};return d}(),(t=t||{}).SerializeHtml=function(){function b(e){return e===i.ORDERED?"<ol>":e===i.UNORDERED?"<ul>":'<ul class="firepad-todo">'}function c(e){return e===i.ORDERED?"</ol>":"</ul>"}function d(e,t){return e===t||e===i.TODO&&t===i.TODOCHECKED||e===i.TODOCHECKED&&t===i.TODO}function e(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g,"&nbsp;")}function f(a,s){for(var u="",l=!0,p=[],h=!1,f=!0,g=!0,m=0,v=a.ops[m],y=!1;v;){n.assert(v.isInsert());var _=v.attributes;if(l){l=!1;var S=0,w=null,C="left";r.LINE_SENTINEL in _&&(S=_[r.LINE_INDENT]||0,w=_[r.LIST_TYPE]||null,C=_[r.LINE_ALIGN]||"left"),w&&(S=S||1),h?(u+="</li>",h=!1):f||(g&&(u+="<br/>"),u+="</div>"),f=!1,n.assert(S>=0,"Indent must not be negative.");for(;p.length>S||S===p.length&&null!==w&&!d(w,p[p.length-1]);)u+=c(p.pop());for(;p.length<S;){var T=w||i.UNORDERED;y=w==i.TODO||w==i.TODOCHECKED||y,u+=b(T),p.push(T)}var E="left"!==C?' style="text-align:'+C+'"':"";if(w){var k="";switch(w){case i.TODOCHECKED:k=' class="firepad-checked"';break;case i.TODO:k=' class="firepad-unchecked"'}u+="<li"+k+E+">",h=!0}else u+="<div"+E+">";g=!0}if(r.LINE_SENTINEL in _)v=a.ops[++m];else if(r.ENTITY_SENTINEL in _){for(var x=0;x<v.text.length;x++){var I=t.Entity.fromAttributes(_);u+=s.exportToElement(I).outerHTML}v=a.ops[++m]}else{var R="",O="";for(var P in _){var A,M,N=_[P];P===r.BOLD||P===r.ITALIC||P===r.UNDERLINE||P===r.STRIKE?(n.assert(!0===N),A=M=P):P===r.FONT_SIZE?(A='span style="font-size: '+N,A+="string"!=typeof N||-1===N.indexOf("px",N.length-2)?'px"':'"',M="span"):P===r.FONT?(A='span style="font-family: '+N+'"',M="span"):P===r.COLOR?(A='span style="color: '+N+'"',M="span"):P===r.BACKGROUND_COLOR?(A='span style="background-color: '+N+'"',M="span"):n.log(!1,"Encountered unknown attribute while rendering html: "+P),A&&(R+="<"+A+">"),M&&(O="</"+M+">"+O)}var D=v.text,L=D.indexOf("\n");L>=0?(l=!0,v=L<D.length-1?new t.TextOp("insert",D.substr(L+1),_):a.ops[++m],D=D.substr(0,L)):v=a.ops[++m],(D=D.replace(/  +/g,function(e){return new Array(e.length+1).join(" ")}).replace(/^ /," ").replace(/ $/," ")).length>0&&(g=!1),u+=R+e(D)+O}}for(h?u+="</li>":f||(g&&(u+="&nbsp;"),u+="</div>");p.length>0;)u+=c(p.pop());return y&&(u=o+u),u}var n=t.utils,r=t.AttributeConstants,i=t.LineFormatting.LIST_TYPE,o='<style>ul.firepad-todo { list-style: none; margin-left: 0; padding-left: 0; } ul.firepad-todo > li { padding-left: 1em; text-indent: -1em; } ul.firepad-todo > li:before { content: "\\2610"; padding-right: 5px; } ul.firepad-todo > li.firepad-checked:before { content: "\\2611"; padding-right: 5px; }</style>\n';return f}(),(t=t||{}).textPiecesToInserts=function(n,r){function d(e,r){e instanceof t.Text&&(r=e.formatting.attributes,e=e.text),i.push({string:e,attributes:r}),n="\n"===e[e.length-1]}function e(e,r){n&&d(t.sentinelConstants.LINE_SENTINEL_CHARACTER,e.formatting.attributes);for(var i=0;i<e.textPieces.length;i++)d(e.textPieces[i]);r&&d("\n")}for(var i=[],o=0;o<r.length;o++)r[o]instanceof t.Line?e(r[o],o<r.length-1):d(r[o]);return i},(t=t||{}).Headless=function(){function b(e){if(!(this instanceof b))return new b(e);var t,o;"string"==typeof e?(t=void 0===window.firebase&&"object"!=typeof t?r(1001):window.firebase,o=t.database().refFromURL(e)):o=e,this.entityManager_=new i,this.firebaseAdapter_=new n(o),this.ready_=!1,this.zombie_=!1}var e=t.TextOperation,n=t.FirebaseAdapter,i=t.EntityManager,o=t.ParseHtml;return b.prototype.getDocument=function(e){var t=this;return t.ready_?e(t.firebaseAdapter_.getDocument()):void t.firebaseAdapter_.on("ready",function(){t.ready_=!0,e(t.firebaseAdapter_.getDocument())})},b.prototype.getText=function(e){if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");this.getDocument(function(n){var r=n.apply("");for(key in t.sentinelConstants)r=r.replace(new RegExp(t.sentinelConstants[key],"g"),"");e(r)})},b.prototype.setText=function(t,n){if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");var r=e().insert(t);this.sendOperationWithRetry(r,n)},b.prototype.initializeFakeDom=function(e){"object"==typeof document||"object"==typeof t.document?e():r(1340).env("<head></head><body></body>",function(n,r){return t.document?(r.close(),e()):(t.document=r.document,void e())})},b.prototype.getHtml=function(e){var n=this;if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");n.initializeFakeDom(function(){n.getDocument(function(r){e(t.SerializeHtml(r,n.entityManager_))})})},b.prototype.setHtml=function(n,r){var i=this;if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");i.initializeFakeDom(function(){for(var a=o(n,i.entityManager_),s=t.textPiecesToInserts(!0,a),c=new e,u=0;u<s.length;u++)c.insert(s[u].string,s[u].attributes);i.sendOperationWithRetry(c,r)})},b.prototype.sendOperationWithRetry=function(e,t){var n=this;n.getDocument(function(r){var i=e.clone().delete(r.targetLength);n.firebaseAdapter_.sendOperation(i,function(r,i){i?void 0!==t&&t(null,i):n.sendOperationWithRetry(e,t)})})},b.prototype.dispose=function(){this.zombie_=!0,this.firebaseAdapter_.dispose()},b}(),(t=t||{}).Firepad=function(n){function c(e,t,n){if(!(this instanceof c))return new c(e,t,n);if(!m&&!v)throw new Error("Couldn't find CodeMirror or ACE.  Did you forget to include codemirror.js or ace.js?");if(this.zombie_=!1,m&&t instanceof m){this.codeMirror_=this.editor_=t;var o=this.codeMirror_.getValue();if(""!==o)throw new Error("Can't initialize Firepad with a CodeMirror instance that already contains text.")}else if(v&&t&&t.session instanceof v.EditSession){if(this.ace_=this.editor_=t,""!==(o=this.ace_.getValue()))throw new Error("Can't initialize Firepad with an ACE instance that already contains text.")}else this.codeMirror_=this.editor_=new m(t);var a=this.codeMirror_?this.codeMirror_.getWrapperElement():this.ace_.container;this.firepadWrapper_=g.elt("div",null,{class:"firepad"}),a.parentNode.replaceChild(this.firepadWrapper_,a),this.firepadWrapper_.appendChild(a),g.on(a,"dragstart",g.stopEvent),this.editor_.firepad=this,this.options_=n||{},this.getOption("richTextShortcuts",!1)&&(m.keyMap.richtext||this.initializeKeyMap_(),this.codeMirror_.setOption("keyMap","richtext"),this.firepadWrapper_.className+=" firepad-richtext"),this.imageInsertionUI=this.getOption("imageInsertionUI",!0),this.getOption("richTextToolbar",!1)&&(this.addToolbar_(),this.firepadWrapper_.className+=" firepad-richtext firepad-with-toolbar"),this.addPoweredByLogo_(),this.codeMirror_&&this.codeMirror_.refresh();var h=this.getOption("userId",e.push().key),f=this.getOption("userColor",d(h));this.entityManager_=new p,this.firebaseAdapter_=new u(e,h,f),this.codeMirror_?(this.richTextCodeMirror_=new i(this.codeMirror_,this.entityManager_,{cssPrefix:"firepad-"}),this.editorAdapter_=new r(this.richTextCodeMirror_)):this.editorAdapter_=new s(this.ace_),this.client_=new l(this.firebaseAdapter_,this.editorAdapter_);var y=this;this.firebaseAdapter_.on("cursor",function(){y.trigger.apply(y,["cursor"].concat([].slice.call(arguments)))}),this.codeMirror_&&this.richTextCodeMirror_.on("newLine",function(){y.trigger.apply(y,["newLine"].concat([].slice.call(arguments)))}),this.firebaseAdapter_.on("ready",function(){y.ready_=!0,this.ace_&&this.editorAdapter_.grabDocumentState();var e=y.getOption("defaultText",null);e&&y.isHistoryEmpty()&&y.setText(e),y.trigger("ready")}),this.client_.on("synced",function(e){y.trigger("synced",e)}),"Microsoft Internet Explorer"==navigator.appName&&navigator.userAgent.match(/MSIE 8\./)&&(window.onload=function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.styleSheet.cssText=":before,:after{content:none !important;}",e.appendChild(t),setTimeout(function(){e.removeChild(t)},0)})}function d(e){for(var t=1,n=0;n<e.length;n++)t=17*(t+e.charCodeAt(n))%360;return f(t/360,1,.75)}function e(e,t,n){function d(e){var t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t}return"#"+d(e)+d(t)+d(n)}function f(t,n,r){if(0===n)return e(r,r,r);var i=.5>r?r*(1+n):r+n-n*r,o=2*r-i,a=function(e){return 0>e&&(e+=1),e>1&&(e-=1),1>6*e?o+6*(i-o)*e:1>2*e?i:2>3*e?o+6*(i-o)*(2/3-e):o};return e(a(t+1/3),a(t),a(t-1/3))}if(!t.RichTextCodeMirrorAdapter)throw new Error("Oops! It looks like you're trying to include lib/firepad.js directly.  This is actually one of many source files that make up firepad.  You want dist/firepad.js instead.");var r=t.RichTextCodeMirrorAdapter,i=t.RichTextCodeMirror,o=t.RichTextToolbar,s=t.ACEAdapter,u=t.FirebaseAdapter,l=t.EditorClient,p=t.EntityManager,h=t.AttributeConstants,g=t.utils,m=(t.LineFormatting.LIST_TYPE,n.CodeMirror),v=n.ace;return g.makeEventEmitter(c),c.fromCodeMirror=c,c.fromACE=c,c.prototype.dispose=function(){this.zombie_=!0;var e=this.codeMirror_?this.codeMirror_.getWrapperElement():this.ace_.container;this.firepadWrapper_.removeChild(e),this.firepadWrapper_.parentNode.replaceChild(e,this.firepadWrapper_),this.editor_.firepad=null,this.codeMirror_&&"richtext"===this.codeMirror_.getOption("keyMap")&&this.codeMirror_.setOption("keyMap","default"),this.firebaseAdapter_.dispose(),this.editorAdapter_.detach(),this.richTextCodeMirror_&&this.richTextCodeMirror_.detach()},c.prototype.setUserId=function(e){this.firebaseAdapter_.setUserId(e)},c.prototype.setUserColor=function(e){this.firebaseAdapter_.setColor(e)},c.prototype.getText=function(){return this.assertReady_("getText"),this.codeMirror_?this.richTextCodeMirror_.getText():this.ace_.getSession().getDocument().getValue()},c.prototype.setText=function(e){return this.assertReady_("setText"),this.ace_?this.ace_.getSession().getDocument().setValue(e):(this.codeMirror_.getWrapperElement().setAttribute("style","display: none"),this.codeMirror_.setValue(""),this.insertText(0,e),this.codeMirror_.getWrapperElement().setAttribute("style",""),this.codeMirror_.refresh(),void this.editorAdapter_.setCursor({position:0,selectionEnd:0}))},c.prototype.insertTextAtCursor=function(e){this.insertText(this.codeMirror_.indexFromPos(this.codeMirror_.getCursor()),e)},c.prototype.insertText=function(e,n){g.assert(!this.ace_,"Not supported for ace yet."),this.assertReady_("insertText"),"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]);var r=this;r.codeMirror_.operation(function(){for(var i=0===e,o=t.textPiecesToInserts(i,n),a=0;a<o.length;a++){var s=o[a].string,c=o[a].attributes;r.richTextCodeMirror_.insertText(e,s,c),e+=s.length}})},c.prototype.getOperationForSpan=function(e,n){for(var r=this.richTextCodeMirror_.getRange(e,n),i=this.richTextCodeMirror_.getAttributeSpans(e,n),o=0,a=new t.TextOperation,s=0;s<i.length;s++)a.insert(r.substr(o,i[s].length),i[s].attributes),o+=i[s].length;return a},c.prototype.getHtml=function(){return this.getHtmlFromRange(null,null)},c.prototype.getHtmlFromSelection=function(){var e=this.codeMirror_.getCursor("start"),t=this.codeMirror_.getCursor("end"),n=this.codeMirror_.indexFromPos(e),r=this.codeMirror_.indexFromPos(t);return this.getHtmlFromRange(n,r)},c.prototype.getHtmlFromRange=function(e,n){this.assertReady_("getHtmlFromRange");var r=null!=e&&null!=n?this.getOperationForSpan(e,n):this.getOperationForSpan(0,this.codeMirror_.getValue().length);return t.SerializeHtml(r,this.entityManager_)},c.prototype.insertHtml=function(e,n){var r=t.ParseHtml(n,this.entityManager_);this.insertText(e,r)},c.prototype.insertHtmlAtCursor=function(e){this.insertHtml(this.codeMirror_.indexFromPos(this.codeMirror_.getCursor()),e)},c.prototype.setHtml=function(e){var n=t.ParseHtml(e,this.entityManager_);this.setText(n)},c.prototype.isHistoryEmpty=function(){return this.assertReady_("isHistoryEmpty"),this.firebaseAdapter_.isHistoryEmpty()},c.prototype.bold=function(){this.richTextCodeMirror_.toggleAttribute(h.BOLD),this.codeMirror_.focus()},c.prototype.italic=function(){this.richTextCodeMirror_.toggleAttribute(h.ITALIC),this.codeMirror_.focus()},c.prototype.underline=function(){this.richTextCodeMirror_.toggleAttribute(h.UNDERLINE),this.codeMirror_.focus()},c.prototype.strike=function(){this.richTextCodeMirror_.toggleAttribute(h.STRIKE),this.codeMirror_.focus()},c.prototype.fontSize=function(e){this.richTextCodeMirror_.setAttribute(h.FONT_SIZE,e),this.codeMirror_.focus()},c.prototype.font=function(e){this.richTextCodeMirror_.setAttribute(h.FONT,e),this.codeMirror_.focus()},c.prototype.color=function(e){this.richTextCodeMirror_.setAttribute(h.COLOR,e),this.codeMirror_.focus()},c.prototype.highlight=function(){this.richTextCodeMirror_.toggleAttribute(h.BACKGROUND_COLOR,"rgba(255,255,0,.65)"),this.codeMirror_.focus()},c.prototype.align=function(e){if("left"!==e&&"center"!==e&&"right"!==e)throw new Error('align() must be passed "left", "center", or "right".');this.richTextCodeMirror_.setLineAttribute(h.LINE_ALIGN,e),this.codeMirror_.focus()},c.prototype.orderedList=function(){this.richTextCodeMirror_.toggleLineAttribute(h.LIST_TYPE,"o"),this.codeMirror_.focus()},c.prototype.unorderedList=function(){this.richTextCodeMirror_.toggleLineAttribute(h.LIST_TYPE,"u"),this.codeMirror_.focus()},c.prototype.todo=function(){this.richTextCodeMirror_.toggleTodo(),this.codeMirror_.focus()},c.prototype.newline=function(){this.richTextCodeMirror_.newline()},c.prototype.deleteLeft=function(){this.richTextCodeMirror_.deleteLeft()},c.prototype.deleteRight=function(){this.richTextCodeMirror_.deleteRight()},c.prototype.indent=function(){this.richTextCodeMirror_.indent(),this.codeMirror_.focus()},c.prototype.unindent=function(){this.richTextCodeMirror_.unindent(),this.codeMirror_.focus()},c.prototype.undo=function(){this.codeMirror_.undo()},c.prototype.redo=function(){this.codeMirror_.redo()},c.prototype.insertEntity=function(e,t,n){this.richTextCodeMirror_.insertEntityAtCursor(e,t,n)},c.prototype.insertEntityAt=function(e,t,n,r){this.richTextCodeMirror_.insertEntityAt(e,t,n,r)},c.prototype.registerEntity=function(e,t){this.entityManager_.register(e,t)},c.prototype.getOption=function(e,t){return e in this.options_?this.options_[e]:t},c.prototype.assertReady_=function(e){if(!this.ready_)throw new Error('You must wait for the "ready" event before calling '+e+".");if(this.zombie_)throw new Error("You can't use a Firepad after calling dispose()!  [called "+e+"]")},c.prototype.makeImageDialog_=function(){this.makeDialog_("img","Insert image url")},c.prototype.makeDialog_=function(e,t){var n=this,r=function(){var e=document.getElementById("overlay");e.style.visibility="hidden",n.firepadWrapper_.removeChild(e)},i=function(){var t=document.getElementById("overlay");t.style.visibility="hidden";var r=document.getElementById(e).value;null!==r&&n.insertEntity(e,{src:r}),n.firepadWrapper_.removeChild(t)},o=g.elt("input",null,{class:"firepad-dialog-input",id:e,type:"text",placeholder:t,autofocus:"autofocus"}),a=g.elt("a","Submit",{class:"firepad-btn",id:"submitbtn"});g.on(a,"click",g.stopEventAnd(i));var s=g.elt("a","Cancel",{class:"firepad-btn"});g.on(s,"click",g.stopEventAnd(r));var c=g.elt("div",[a,s],{class:"firepad-btn-group"}),u=g.elt("div",[o,c],{class:"firepad-dialog-div"}),l=g.elt("div",[u],{class:"firepad-dialog",id:"overlay"});this.firepadWrapper_.appendChild(l)},c.prototype.addToolbar_=function(){this.toolbar=new o(this.imageInsertionUI),this.toolbar.on("undo",this.undo,this),this.toolbar.on("redo",this.redo,this),this.toolbar.on("bold",this.bold,this),this.toolbar.on("italic",this.italic,this),this.toolbar.on("underline",this.underline,this),this.toolbar.on("strike",this.strike,this),this.toolbar.on("font-size",this.fontSize,this),this.toolbar.on("font",this.font,this),this.toolbar.on("color",this.color,this),this.toolbar.on("left",function(){this.align("left")},this),this.toolbar.on("center",function(){this.align("center")},this),this.toolbar.on("right",function(){this.align("right")},this),this.toolbar.on("ordered-list",this.orderedList,this),this.toolbar.on("unordered-list",this.unorderedList,this),this.toolbar.on("todo-list",this.todo,this),this.toolbar.on("indent-increase",this.indent,this),this.toolbar.on("indent-decrease",this.unindent,this),this.toolbar.on("insert-image",this.makeImageDialog_,this),this.firepadWrapper_.insertBefore(this.toolbar.element(),this.firepadWrapper_.firstChild)},c.prototype.addPoweredByLogo_=function(){var e=g.elt("a",null,{class:"powered-by-firepad"});e.setAttribute("href","http://www.firepad.io/"),e.setAttribute("target","_blank"),this.firepadWrapper_.appendChild(e)},c.prototype.initializeKeyMap_=function(){function a(e){return function(t){setTimeout(function(){e.call(t.firepad)},0)}}m.keyMap.richtext={"Ctrl-B":a(this.bold),"Cmd-B":a(this.bold),"Ctrl-I":a(this.italic),"Cmd-I":a(this.italic),"Ctrl-U":a(this.underline),"Cmd-U":a(this.underline),"Ctrl-H":a(this.highlight),"Cmd-H":a(this.highlight),Enter:a(this.newline),Delete:a(this.deleteRight),Backspace:a(this.deleteLeft),Tab:a(this.indent),"Shift-Tab":a(this.unindent),fallthrough:["default"]}},c}(this),t.Firepad.Formatting=t.Formatting,t.Firepad.Text=t.Text,t.Firepad.Entity=t.Entity,t.Firepad.LineFormatting=t.LineFormatting,t.Firepad.Line=t.Line,t.Firepad.TextOperation=t.TextOperation,t.Firepad.Headless=t.Headless,t.Firepad.RichTextCodeMirrorAdapter=t.RichTextCodeMirrorAdapter,t.Firepad.ACEAdapter=t.ACEAdapter,t.Firepad},this)},function(e,t,n){(function(e,t){!function(e,n){"use strict";function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return i[r]=o,s(r),r++}function clearImmediate(e){delete i[e]}function run(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function runIfPresent(e){if(o)setTimeout(runIfPresent,0,e);else{var t=i[e];if(t){o=!0;try{run(t)}finally{clearImmediate(e),o=!1}}}}function installNextTickImplementation(){s=function(e){t.nextTick(function(){runIfPresent(e)})}}function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function installPostMessageImplementation(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&runIfPresent(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},s=function(t){e.port2.postMessage(t)}}function installReadyStateChangeImplementation(){var e=a.documentElement;s=function(t){var n=a.createElement("script");n.onreadystatechange=function(){runIfPresent(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function installSetTimeoutImplementation(){s=function(e){setTimeout(runIfPresent,0,e)}}if(!e.setImmediate){var r=1,i={},o=!1,a=e.document,s,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?installNextTickImplementation():canUsePostMessage()?installPostMessageImplementation():e.MessageChannel?installMessageChannelImplementation():a&&"onreadystatechange"in a.createElement("script")?installReadyStateChangeImplementation():installSetTimeoutImplementation(),c.setImmediate=setImmediate,c.clearImmediate=clearImmediate}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(37),n(126))},function(e,t,n){(function(t){var r=n(655);(function(){(function(){var e,t=t||{},n=this,i=function(){},o=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},a=function(e){return null===e},s=function(e){return"array"==o(e)},u=function(e){var t=o(e);return"array"==t||"object"==t&&"number"==typeof e.length},l=function(e){return"string"==typeof e},d=function(e){return"number"==typeof e},p=function(e){return"function"==o(e)},h=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},f=function(e,t,n){return e.call.apply(e.bind,arguments)},g=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},m=function(e,t,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:g).apply(null,arguments)},v=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},y=Date.now||function(){return+new Date},_=function(e,t){function c(){}c.prototype=t.prototype,e.xd=t.prototype,e.prototype=new c,e.prototype.constructor=e,e.Tf=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}},b=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))};_(b,Error),b.prototype.name="CustomError";var S=function(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},w=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},C=/&/g,T=/</g,E=/>/g,k=/"/g,x=/'/g,I=/\x00/g,R=/[\x00&<>"']/,O=function(e,t){return-1!=e.indexOf(t)},P=function(e,t){return e<t?-1:e>t?1:0},A=function(e,t){t.unshift(e),b.call(this,S.apply(null,t)),t.shift()};_(A,b),A.prototype.name="AssertionError";var M=function(e,t,n,r){var i="Assertion failed";if(n)var i=i+": "+n,o=r;else e&&(i+=": "+e,o=t);throw new A(""+i,o||[])},N=function(e,t,n){e||M("",null,t,Array.prototype.slice.call(arguments,2))},D=function(e,t){throw new A("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},L=function(e,t,n){return d(e)||M("Expected number but got %s: %s.",[o(e),e],t,Array.prototype.slice.call(arguments,2)),e},F=function(e,t,n){l(e)||M("Expected string but got %s: %s.",[o(e),e],t,Array.prototype.slice.call(arguments,2))},U=function(e,t,n){p(e)||M("Expected function but got %s: %s.",[o(e),e],t,Array.prototype.slice.call(arguments,2))},j=Array.prototype.indexOf?function(e,t,n){return N(null!=e.length),Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,l(e))return l(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){N(null!=e.length),Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=l(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},B=function(e,t){for(var n=l(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)},H=Array.prototype.map?function(e,t,n){return N(null!=e.length),Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),o=l(e)?e.split(""):e,a=0;a<r;a++)a in o&&(i[a]=t.call(n,o[a],a,e));return i},z=Array.prototype.some?function(e,t,n){return N(null!=e.length),Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=l(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&t.call(n,i[o],o,e))return!0;return!1},q=function(e){var t;e:{t=Pr;for(var n=e.length,r=l(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:l(e)?e.charAt(t):e[t]},V=function(e,t){return 0<=j(e,t)},G=function(e,t){var n;return(n=0<=(t=j(e,t)))&&$(e,t),n},$=function(e,t){return N(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},X=function(e,t){var n=0;B(e,function(r,i){t.call(void 0,r,i,e)&&$(e,i)&&n++})},K=function(e){return Array.prototype.concat.apply([],arguments)},Y=function(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]},Q=function(e){return H(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")},J;e:{var Z=n.navigator;if(Z){var ee=Z.userAgent;if(ee){J=ee;break e}}J=""}var te=function(e){return O(J,e)},ne=function(e,t){for(var n in e)t.call(void 0,e[n],n,e)},re=function(e){var t=[],n=0,r;for(r in e)t[n++]=e[r];return t},ie=function(e){var t=[],n=0,r;for(r in e)t[n++]=r;return t},oe=function(e){for(var t in e)return!1;return!0},ae=function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(n in t)if(!(n in e))return!1;return!0},se=function(e){var t={},n;for(n in e)t[n]=e[n];return t},ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ue=function(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<ce.length;o++)n=ce[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}},le=function(e){return le[" "](e),e};le[" "]=i;var de=function(e,t){var n=Te;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)},pe=te("Opera"),he=te("Trident")||te("MSIE"),fe=te("Edge"),ge=fe||he,me=te("Gecko")&&!(O(J.toLowerCase(),"webkit")&&!te("Edge"))&&!(te("Trident")||te("MSIE"))&&!te("Edge"),ve=O(J.toLowerCase(),"webkit")&&!te("Edge"),ye=function(){var e=n.document;return e?e.documentMode:void 0},_e;e:{var be="",Se=function(){var e=J;return me?/rv\:([^\);]+)(\)|;)/.exec(e):fe?/Edge\/([\d\.]+)/.exec(e):he?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ve?/WebKit\/(\S+)/.exec(e):pe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Se&&(be=Se?Se[1]:""),he){var we=ye();if(null!=we&&we>parseFloat(be)){_e=String(we);break e}}_e=be}var Ce=_e,Te={},Ee=function(e){return de(e,function(){for(var t=0,n=w(String(Ce)).split("."),r=w(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=P(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==a[2].length,0==s[2].length)||P(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})},ke,xe=n.document;ke=xe&&he?ye()||("CSS1Compat"==xe.compatMode?parseInt(Ce,10):5):void 0;var Ie=null,Re=null,Oe=function(e){var t="";return Pe(e,function(e){t+=String.fromCharCode(e)}),t},Pe=function(e,t){function c(t){for(;n<e.length;){var r=e.charAt(n++),i=Re[r];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return t}Ae();for(var n=0;;){var r=c(-1),i=c(0),o=c(64),a=c(64);if(64===a&&-1===r)break;t(r<<2|i>>4),64!=o&&(t(i<<4&240|o>>2),64!=a&&t(o<<6&192|a))}},Ae=function(){if(!Ie){Ie={},Re={};for(var e=0;65>e;e++)Ie[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Re[Ie[e]]=e,62<=e&&(Re["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}},Me=function(e,t){this.Da=64,this.ec=n.Uint8Array?new Uint8Array(this.Da):Array(this.Da),this.Fc=this.hb=0,this.h=[],this.lf=e,this.Wd=t,this.Mf=n.Int32Array?new Int32Array(64):Array(64),void 0!==Ne||(Ne=n.Int32Array?new Int32Array(je):je),this.reset()},Ne;_(Me,function(){this.Da=-1});for(var De=[],Le=0;63>Le;Le++)De[Le]=0;var Fe=K(128,De);Me.prototype.reset=function(){this.Fc=this.hb=0,this.h=n.Int32Array?new Int32Array(this.Wd):Y(this.Wd)};var Ue=function(e){var t=e.ec;N(t.length==e.Da);for(var n=e.Mf,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var i=0|n[t-15],r=0|n[t-2],o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}for(var r=0|e.h[0],i=0|e.h[1],s=0|e.h[2],c=0|e.h[3],u=0|e.h[4],l=0|e.h[5],d=0|e.h[6],o=0|e.h[7],t=0;64>t;t++)var p=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0,a=u&l^~u&d,o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0,a=a+(0|Ne[t])|0,a=o+(a+(0|n[t])|0)|0,o=d,d=l,l=u,u=c+a|0,c=s,s=i,i=r,r=a+p|0;e.h[0]=e.h[0]+r|0,e.h[1]=e.h[1]+i|0,e.h[2]=e.h[2]+s|0,e.h[3]=e.h[3]+c|0,e.h[4]=e.h[4]+u|0,e.h[5]=e.h[5]+l|0,e.h[6]=e.h[6]+d|0,e.h[7]=e.h[7]+o|0};Me.prototype.update=function(e,t){void 0===t&&(t=e.length);var n=0,r=this.hb;if(l(e))for(;n<t;)this.ec[r++]=e.charCodeAt(n++),r==this.Da&&(Ue(this),r=0);else{if(!u(e))throw Error("message must be string or array");for(;n<t;){var i=e[n++];if(!("number"==typeof i&&0<=i&&255>=i&&i==(0|i)))throw Error("message must be a byte array");this.ec[r++]=i,r==this.Da&&(Ue(this),r=0)}}this.hb=r,this.Fc+=t},Me.prototype.digest=function(){var e=[],t=8*this.Fc;56>this.hb?this.update(Fe,56-this.hb):this.update(Fe,this.Da-(this.hb-56));for(var n=63;56<=n;n--)this.ec[n]=255&t,t/=256;for(Ue(this),n=t=0;n<this.lf;n++)for(var r=24;0<=r;r-=8)e[t++]=this.h[n]>>r&255;return e};var je=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],We=function(){Me.call(this,8,Be)};_(We,Me);var Be=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],He=function(){this.Ga=this.Ga,this.tc=this.tc};He.prototype.Ga=!1,He.prototype.isDisposed=function(){return this.Ga},He.prototype.cb=function(){if(this.tc)for(;this.tc.length;)this.tc.shift()()};var ze=!he||9<=Number(ke),qe=he&&!Ee("9");!ve||Ee("528"),me&&Ee("1.9b")||he&&Ee("8")||pe&&Ee("9.5")||ve&&Ee("528"),me&&!Ee("8")||he&&Ee("9");var Ve=function(e,t){this.type=e,this.currentTarget=this.target=t,this.defaultPrevented=this.nb=!1,this.ee=!0};Ve.prototype.preventDefault=function(){this.defaultPrevented=!0,this.ee=!1};var Ge=function(e,t){Ve.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.eb=this.state=null,e&&this.init(e,t)};_(Ge,Ve),Ge.prototype.init=function(e,t){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.currentTarget=t,t=e.relatedTarget){if(me){var i;e:{try{le(t.nodeName),i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===r?(this.offsetX=ve||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=ve||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.state=e.state,this.eb=e,e.defaultPrevented&&this.preventDefault()},Ge.prototype.preventDefault=function(){Ge.xd.preventDefault.call(this);var e=this.eb;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,qe)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Ge.prototype.Pe=function(){return this.eb};var $e="closure_listenable_"+(1e6*Math.random()|0),Xe=0,Ke=function(e,t,n,r,i){this.listener=e,this.xc=null,this.src=t,this.type=n,this.capture=!!r,this.kc=i,this.key=++Xe,this.rb=this.dc=!1},Ye=function(e){e.rb=!0,e.listener=null,e.xc=null,e.src=null,e.kc=null},Qe=function(e){this.src=e,this.G={},this.$b=0};Qe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.G[o])||(e=this.G[o]=[],this.$b++);var a=Ze(e,t,r,i);return-1<a?(t=e[a],n||(t.dc=!1)):(t=new Ke(t,this.src,o,!!r,i),t.dc=n,e.push(t)),t},Qe.prototype.remove=function(e,t,n,r){if(!((e=e.toString())in this.G))return!1;var i=this.G[e];return-1<(t=Ze(i,t,n,r))&&(Ye(i[t]),$(i,t),0==i.length&&(delete this.G[e],this.$b--),!0)};var Je=function(e,t){var n=t.type;n in e.G&&G(e.G[n],t)&&(Ye(t),0==e.G[n].length&&(delete e.G[n],e.$b--))};Qe.prototype.Uc=function(e,t,n,r){var i=-1;return(e=this.G[e.toString()])&&(i=Ze(e,t,n,r)),-1<i?e[i]:null};var Ze=function(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.rb&&o.listener==t&&o.capture==!!n&&o.kc==r)return i}return-1},et="closure_lm_"+(1e6*Math.random()|0),tt={},nt=0,rt=function(e,t,n,r,i){if(s(t))for(var o=0;o<t.length;o++)rt(e,t[o],n,r,i);else n=gt(n),e&&e[$e]?e.listen(t,n,r,i):it(e,t,n,!1,r,i)},it=function(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=!!i,s=ht(e);if(s||(e[et]=s=new Qe(e)),!(n=s.add(t,n,r,i,o)).xc){if(r=ot(),n.xc=r,r.src=e,r.listener=n,e.addEventListener)e.addEventListener(t.toString(),r,a);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(ut(t.toString()),r)}nt++}},ot=function(){var e=pt,t=ze?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t},at=function(e,t,n,r,i){if(s(t))for(var o=0;o<t.length;o++)at(e,t[o],n,r,i);else n=gt(n),e&&e[$e]?vr(e,t,n,r,i):it(e,t,n,!0,r,i)},st=function(e,t,n,r,i){if(s(t))for(var o=0;o<t.length;o++)st(e,t[o],n,r,i);else n=gt(n),e&&e[$e]?e.fa.remove(String(t),n,r,i):e&&(e=ht(e))&&(t=e.Uc(t,n,!!r,i))&&ct(t)},ct=function(e){if(!d(e)&&e&&!e.rb){var t=e.src;if(t&&t[$e])Je(t.fa,e);else{var n=e.type,r=e.xc;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent&&t.detachEvent(ut(n),r),nt--,(n=ht(t))?(Je(n,e),0==n.$b&&(n.src=null,t[et]=null)):Ye(e)}}},ut=function(e){return e in tt?tt[e]:tt[e]="on"+e},lt=function(e,t,n,r){var i=!0;if((e=ht(e))&&(t=e.G[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.rb&&(o=dt(o,r),i=i&&!1!==o)}return i},dt=function(e,t){var n=e.listener,r=e.kc||e.src;return e.dc&&ct(e),n.call(r,t)},pt=function(e,t){if(e.rb)return!0;if(!ze){if(!t)e:{t=["window","event"];for(var r=n,i;i=t.shift();){if(null==r[i]){t=null;break e}r=r[i]}t=r}if(i=t,t=new Ge(i,this),r=!0,!(0>i.keyCode||void 0!=i.returnValue)){e:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=t.currentTarget;o;o=o.parentNode)i.push(o);for(e=e.type,o=i.length-1;!t.nb&&0<=o;o--){t.currentTarget=i[o];var a=lt(i[o],e,!0,t),r=r&&a}for(o=0;!t.nb&&o<i.length;o++)t.currentTarget=i[o],a=lt(i[o],e,!1,t),r=r&&a}return r}return dt(e,new Ge(t,this))},ht=function(e){return(e=e[et])instanceof Qe?e:null},ft="__closure_events_fn_"+(1e9*Math.random()>>>0),gt=function(e){return N(e,"Listener can not be null."),p(e)?e:(N(e.handleEvent,"An object listener must have handleEvent method."),e[ft]||(e[ft]=function(t){return e.handleEvent(t)}),e[ft])},mt=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,vt=function(){this.Cc="",this.we=_t};vt.prototype.Eb=!0,vt.prototype.Bb=function(){return this.Cc},vt.prototype.toString=function(){return"Const{"+this.Cc+"}"};var yt=function(e){return e instanceof vt&&e.constructor===vt&&e.we===_t?e.Cc:(D("expected object of type Const, got '"+e+"'"),"type_error:Const")},_t={},bt=function(e){var t=new vt;return t.Cc=e,t};bt("");var St=function(){this.wc="",this.xe=wt};St.prototype.Eb=!0,St.prototype.Bb=function(){return this.wc},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.wc+"}"};var wt={},Ct=function(){this.pa="",this.ve=xt};Ct.prototype.Eb=!0,Ct.prototype.Bb=function(){return this.pa},Ct.prototype.toString=function(){return"SafeUrl{"+this.pa+"}"};var Tt=function(e){return e instanceof Ct&&e.constructor===Ct&&e.ve===xt?e.pa:(D("expected object of type SafeUrl, got '"+e+"' of type "+o(e)),"type_error:SafeUrl")},Et=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,kt=function(e){return e instanceof Ct?e:(e=e.Eb?e.Bb():String(e),Et.test(e)||(e="about:invalid#zClosurez"),It(e))},xt={},It=function(e){var t=new Ct;return t.pa=e,t};It("about:blank");var Rt=function(e){var t=[];return Pt(new Ot,e,t),t.join("")},Ot=function(){this.yc=void 0},Pt=function(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(s(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),i=r[o],Pt(e,e.yc?e.yc.call(r,String(o),i):i,n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),o="";for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(i=t[r])&&(n.push(o),Nt(r,n),n.push(":"),Pt(e,e.yc?e.yc.call(t,r,i):i,n),o=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Nt(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}},At={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Mt=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Nt=function(e,t){t.push('"',e.replace(Mt,function(e){var t=At[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),At[e]=t),t}),'"')},Dt=function(){};Dt.prototype.Dd=null;var Lt=function(e){return e.Dd||(e.Dd=e.$c())},Ft,Ut=function(){};_(Ut,Dt),Ut.prototype.fc=function(){var e=jt(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ut.prototype.$c=function(){var e={};return jt(this)&&(e[0]=!0,e[1]=!0),e};var jt=function(e){if(!e.Vd&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.Vd=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.Vd};Ft=new Ut;var Wt=function(){};_(Wt,Dt),Wt.prototype.fc=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Bt;throw Error("Unsupported browser")},Wt.prototype.$c=function(){return{}};var Bt=function(){this.ua=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.ua.onload=m(this.Re,this),this.ua.onerror=m(this.Sd,this),this.ua.onprogress=m(this.Se,this),this.ua.ontimeout=m(this.Te,this)};(e=Bt.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.ua.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.ua.send(e)}else this.ua.send()},e.abort=function(){this.ua.abort()},e.setRequestHeader=function(){},e.Re=function(){this.status=200,this.responseText=this.ua.responseText,Ht(this,4)},e.Sd=function(){this.status=500,this.responseText="",Ht(this,4)},e.Te=function(){this.Sd()},e.Se=function(){this.status=200,Ht(this,1)};var Ht=function(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()},zt=function(e,t,n){this.ef=n,this.Fe=e,this.wf=t,this.sc=0,this.lc=null};zt.prototype.get=function(){var e;return 0<this.sc?(this.sc--,e=this.lc,this.lc=e.next,e.next=null):e=this.Fe(),e},zt.prototype.put=function(e){this.wf(e),this.sc<this.ef&&(this.sc++,e.next=this.lc,this.lc=e)};var qt=function(e){n.setTimeout(function(){throw e},0)},Vt,Gt=function(){var e=n.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!te("Presto")&&(e=function(){(r=document.createElement("IFRAME")).style.display="none",r.src="",document.documentElement.appendChild(r);var e=r.contentWindow;(r=e.document).open(),r.write(""),r.close();var t="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,r=m(function(e){"*"!=n&&e.origin!=n||e.data!=t||this.port1.onmessage()},this);e.addEventListener("message",r,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(t,n)}}}),void 0!==e&&!te("Trident")&&!te("MSIE")){var t=new e,r={},i=r;return t.port1.onmessage=function(){if(void 0!==r.next){var e=(r=r.next).Gd;r.Gd=null,e()}},function(e){i.next={Gd:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){n.setTimeout(e,0)}},$t=function(){this.Jc=this.Za=null},Xt=new zt(function(){return new Kt},function(e){e.reset()},100);$t.prototype.add=function(e,t){var n=Xt.get();n.set(e,t),this.Jc?this.Jc.next=n:(N(!this.Za),this.Za=n),this.Jc=n},$t.prototype.remove=function(){var e=null;return this.Za&&(e=this.Za,this.Za=this.Za.next,this.Za||(this.Jc=null),e.next=null),e};var Kt=function(){this.next=this.scope=this.Tc=null};Kt.prototype.set=function(e,t){this.Tc=e,this.scope=t,this.next=null},Kt.prototype.reset=function(){this.next=this.scope=this.Tc=null};var Yt=function(e,t){Qt||Jt(),Zt||(Qt(),Zt=!0),en.add(e,t)},Qt,Jt=function(){if(-1!=String(n.Promise).indexOf("[native code]")){var e=n.Promise.resolve(void 0);Qt=function(){e.then(tn)}}else Qt=function(){var e=tn;!p(n.setImmediate)||n.Window&&n.Window.prototype&&!te("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(Vt||(Vt=Gt()),Vt(e)):n.setImmediate(e)}},Zt=!1,en=new $t,tn=function(){for(var e;e=en.remove();){try{e.Tc.call(e.scope)}catch(e){qt(e)}Xt.put(e)}Zt=!1};!me&&!he||he&&9<=Number(ke)||me&&Ee("1.9.1"),he&&Ee("9");var nn=function(){this.pa="",this.ue=on};nn.prototype.Eb=!0,nn.prototype.Bb=function(){return this.pa},nn.prototype.toString=function(){return"SafeHtml{"+this.pa+"}"};var rn=function(e){return e instanceof nn&&e.constructor===nn&&e.ue===on?e.pa:(D("expected object of type SafeHtml, got '"+e+"' of type "+o(e)),"type_error:SafeHtml")},on={};nn.prototype.$e=function(e){return this.pa=e,this};var an=function(e,t){ne(t,function(t,n){t&&t.Eb&&(t=t.Bb()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:sn.hasOwnProperty(n)?e.setAttribute(sn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})},sn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},cn=function(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0},un=function(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}},ln=function(e,t){if(this.N=0,this.ra=void 0,this.bb=this.na=this.s=null,this.jc=this.Sc=!1,e!=i)try{var n=this;e.call(t,function(e){wn(n,2,e)},function(e){if(!(e instanceof Pn))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}wn(n,3,e)})}catch(e){wn(this,3,e)}},dn=function(){this.next=this.context=this.jb=this.Oa=this.child=null,this.xb=!1};dn.prototype.reset=function(){this.context=this.jb=this.Oa=this.child=null,this.xb=!1};var pn=new zt(function(){return new dn},function(e){e.reset()},100),hn=function(e,t,n){var r=pn.get();return r.Oa=e,r.jb=t,r.context=n,r},fn=function(e){if(e instanceof ln)return e;var t=new ln(i);return wn(t,2,e),t},gn=function(e){return new ln(function(t,n){n(e)})},mn=function(e,t,n){Cn(e,t,n,null)||Yt(v(t,e))},vn=function(e){return new ln(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Ne:!0,value:o}:{Ne:!1,reason:o},0==n&&t(r)},o=0,a;o<e.length;o++)a=e[o],mn(a,v(i,o,!0),v(i,o,!1));else t(r)})};ln.prototype.then=function(e,t,n){return null!=e&&U(e,"opt_onFulfilled should be a function."),null!=t&&U(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Sn(this,p(e)?e:null,p(t)?t:null,n)},cn(ln);var yn=function(e,t){return t=hn(t,t,void 0),t.xb=!0,bn(e,t),e};ln.prototype.f=function(e,t){return Sn(this,null,e,t)},ln.prototype.cancel=function(e){0==this.N&&Yt(function(){var t=new Pn(e);_n(this,t)},this)};var _n=function(e,t){if(0==e.N)if(e.s){var n=e.s;if(n.na){for(var r=0,i=null,o=null,a=n.na;a&&(a.xb||(r++,a.child==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(0==n.N&&1==r?_n(n,t):(o?(r=o,N(n.na),N(null!=r),r.next==n.bb&&(n.bb=r),r.next=r.next.next):kn(n),xn(n,i,3,t)))}e.s=null}else wn(e,3,t)},bn=function(e,t){e.na||2!=e.N&&3!=e.N||En(e),N(null!=t.Oa),e.bb?e.bb.next=t:e.na=t,e.bb=t},Sn=function(e,t,n,r){var i=hn(null,null,null);return i.child=new ln(function(e,o){i.Oa=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.jb=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Pn?o(t):e(i)}catch(e){o(e)}}:o}),i.child.s=e,bn(e,i),i.child};ln.prototype.Jf=function(e){N(1==this.N),this.N=0,wn(this,2,e)},ln.prototype.Kf=function(e){N(1==this.N),this.N=0,wn(this,3,e)};var wn=function(e,t,n){0==e.N&&(e===n&&(t=3,n=new TypeError("Promise cannot resolve to itself")),e.N=1,Cn(n,e.Jf,e.Kf,e)||(e.ra=n,e.N=t,e.s=null,En(e),3!=t||n instanceof Pn||Rn(e,n)))},Cn=function(e,t,n,r){if(e instanceof ln)return null!=t&&U(t,"opt_onFulfilled should be a function."),null!=n&&U(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),bn(e,hn(t||i,n||null,r)),!0;if(un(e))return e.then(t,n,r),!0;if(h(e))try{var o=e.then;if(p(o))return Tn(e,o,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1},Tn=function(e,t,n,r,i){var o=!1,a=function(e){o||(o=!0,n.call(i,e))},s=function(e){o||(o=!0,r.call(i,e))};try{t.call(e,a,s)}catch(e){s(e)}},En=function(e){e.Sc||(e.Sc=!0,Yt(e.Je,e))},kn=function(e){var t=null;return e.na&&(t=e.na,e.na=t.next,t.next=null),e.na||(e.bb=null),null!=t&&N(null!=t.Oa),t};ln.prototype.Je=function(){for(var e;e=kn(this);)xn(this,e,this.N,this.ra);this.Sc=!1};var xn=function(e,t,n,r){if(3==n&&t.jb&&!t.xb)for(;e&&e.jc;e=e.s)e.jc=!1;if(t.child)t.child.s=null,In(t,n,r);else try{t.xb?t.Oa.call(t.context):In(t,n,r)}catch(e){On.call(null,e)}pn.put(t)},In=function(e,t,n){2==t?e.Oa.call(e.context,n):e.jb&&e.jb.call(e.context,n)},Rn=function(e,t){e.jc=!0,Yt(function(){e.jc&&On.call(null,t)})},On=qt,Pn=function(e){b.call(this,e)};_(Pn,b),Pn.prototype.name="cancel";var An=function(e,t){this.zc=[],this.$d=e,this.Jd=t||null,this.Cb=this.fb=!1,this.ra=void 0,this.ud=this.Cd=this.Nc=!1,this.Gc=0,this.s=null,this.Oc=0};An.prototype.cancel=function(e){if(this.fb)this.ra instanceof An&&this.ra.cancel();else{if(this.s){var t=this.s;delete this.s,e?t.cancel(e):(t.Oc--,0>=t.Oc&&t.cancel())}this.$d?this.$d.call(this.Jd,this):this.ud=!0,this.fb||Dn(this,new Hn)}},An.prototype.Hd=function(e,t){this.Nc=!1,Mn(this,e,t)};var Mn=function(e,t,n){e.fb=!0,e.ra=n,e.Cb=!t,Wn(e)},Nn=function(e){if(e.fb){if(!e.ud)throw new Bn;e.ud=!1}};An.prototype.callback=function(e){Nn(this),Ln(e),Mn(this,!0,e)};var Dn=function(e,t){Nn(e),Ln(t),Mn(e,!1,t)},Ln=function(e){N(!(e instanceof An),"An execution sequence may not be initiated with a blocking Deferred.")},Fn=function(e){var t=Vn("https://apis.google.com/js/client.js?onload="+zo);Un(t,null,e,void 0)},Un=function(e,t,n,r){N(!e.Cd,"Blocking Deferreds can not be re-used"),e.zc.push([t,n,r]),e.fb&&Wn(e)};An.prototype.then=function(e,t,n){var r,i,o=new ln(function(e,t){r=e,i=t});return Un(this,r,function(e){e instanceof Hn?o.cancel():i(e)}),o.then(e,t,n)},cn(An);var jn=function(e){return z(e.zc,function(e){return p(e[1])})},Wn=function(e){if(e.Gc&&e.fb&&jn(e)){var t=e.Gc,r=qn[t];r&&(n.clearTimeout(r.Db),delete qn[t]),e.Gc=0}e.s&&(e.s.Oc--,delete e.s);for(var t=e.ra,i=r=!1;e.zc.length&&!e.Nc;){var o=(s=e.zc.shift())[0],a=s[1],s=s[2];if(o=e.Cb?a:o)try{var c=o.call(s||e.Jd,t);void 0!==c&&(e.Cb=e.Cb&&(c==t||c instanceof Error),e.ra=t=c),(un(t)||"function"==typeof n.Promise&&t instanceof n.Promise)&&(i=!0,e.Nc=!0)}catch(n){t=n,e.Cb=!0,jn(e)||(r=!0)}}e.ra=t,i&&(c=m(e.Hd,e,!0),i=m(e.Hd,e,!1),t instanceof An?(Un(t,c,i),t.Cd=!0):t.then(c,i)),r&&(t=new zn(t),qn[t.Db]=t,e.Gc=t.Db)},Bn=function(){b.call(this)};_(Bn,b),Bn.prototype.message="Deferred has already fired",Bn.prototype.name="AlreadyCalledError";var Hn=function(){b.call(this)};_(Hn,b),Hn.prototype.message="Deferred was canceled",Hn.prototype.name="CanceledError";var zn=function(e){this.Db=n.setTimeout(m(this.If,this),0),this.P=e};zn.prototype.If=function(){throw N(qn[this.Db],"Cannot throw an error that is not scheduled."),delete qn[this.Db],this.P};var qn={},Vn=function(e){var t=new St;return t.wc=e,Gn(t)},Gn=function(e){var t={},n=t.document||document,r;e instanceof St&&e.constructor===St&&e.xe===wt?r=e.wc:(D("expected object of type TrustedResourceUrl, got '"+e+"' of type "+o(e)),r="type_error:TrustedResourceUrl");var i=document.createElement("SCRIPT"),a=new An(Xn,e={fe:i,Zb:void 0}),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout(function(){Kn(i,!0),Dn(a,new Yn(1,"Timeout reached for loading script "+r))},c),e.Zb=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Kn(i,t.Uf||!1,s),a.callback(null))},i.onerror=function(){Kn(i,!0,s),Dn(a,new Yn(0,"Error while loading script "+r))},e=t.attributes||{},ue(e,{type:"text/javascript",charset:"UTF-8",src:r}),an(i,e),$n(n).appendChild(i),a},$n=function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement},Xn=function(){if(this&&this.fe){var e=this.fe;e&&"SCRIPT"==e.tagName&&Kn(e,!0,this.Zb)}},Kn=function(e,t,r){null!=r&&n.clearTimeout(r),e.onload=i,e.onerror=i,e.onreadystatechange=i,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)},Yn=function(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),b.call(this,n),this.code=e};_(Yn,b);var Qn="StopIteration"in n?n.StopIteration:{message:"StopIteration",stack:""},Jn=function(){};Jn.prototype.next=function(){throw Qn},Jn.prototype.ye=function(){return this};var Zn=function(e,t){this.ga={},this.w=[],this.wb=this.o=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else e&&this.addAll(e)};Zn.prototype.Z=function(){er(this);for(var e=[],t=0;t<this.w.length;t++)e.push(this.ga[this.w[t]]);return e},Zn.prototype.oa=function(){return er(this),this.w.concat()},Zn.prototype.yb=function(e){return tr(this.ga,e)},Zn.prototype.remove=function(e){return!!tr(this.ga,e)&&(delete this.ga[e],this.o--,this.wb++,this.w.length>2*this.o&&er(this),!0)};var er=function(e){if(e.o!=e.w.length){for(var t=0,n=0;t<e.w.length;){var r=e.w[t];tr(e.ga,r)&&(e.w[n++]=r),t++}e.w.length=n}if(e.o!=e.w.length){for(var i={},n=t=0;t<e.w.length;)r=e.w[t],tr(i,r)||(e.w[n++]=r,i[r]=1),t++;e.w.length=n}};(e=Zn.prototype).get=function(e,t){return tr(this.ga,e)?this.ga[e]:t},e.set=function(e,t){tr(this.ga,e)||(this.o++,this.w.push(e),this.wb++),this.ga[e]=t},e.addAll=function(e){var t;e instanceof Zn?(t=e.oa(),e=e.Z()):(t=ie(e),e=re(e));for(var n=0;n<t.length;n++)this.set(t[n],e[n])},e.forEach=function(e,t){for(var n=this.oa(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}},e.clone=function(){return new Zn(this)},e.ye=function(e){er(this);var t=0,n=this.wb,r=this,i=new Jn;return i.next=function(){if(n!=r.wb)throw Error("The map has changed since the iterator was created");if(t>=r.w.length)throw Qn;var i=r.w[t++];return e?i:r.ga[i]},i};var tr=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},nr=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if(l(e))return e.split("");if(u(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}return re(e)},rr=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.Z||"function"!=typeof e.Z){if(u(e)||l(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}return ie(e)}},ir=function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(u(e)||l(e))W(e,t,void 0);else for(var n=rr(e),r=nr(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)},or=function(e,t,n,r,i){this.reset(e,t,n,r,i)};or.prototype.Md=null;var ar=0;or.prototype.reset=function(e,t,n,r,i){"number"==typeof i||ar++,r||y(),this.Ib=e,this.hf=t,delete this.Md},or.prototype.ie=function(e){this.Ib=e};var sr=function(e){this.jf=e,this.Td=this.Pc=this.Ib=this.s=null},cr=function(e,t){this.name=e,this.value=t};cr.prototype.toString=function(){return this.name};var ur=new cr("SEVERE",1e3),lr=new cr("CONFIG",700),dr=new cr("FINE",500);sr.prototype.getParent=function(){return this.s},sr.prototype.ie=function(e){this.Ib=e};var pr=function(e){return e.Ib?e.Ib:e.s?pr(e.s):(D("Root logger has no level set."),null)};sr.prototype.log=function(e,t,r){if(e.value>=pr(this).value)for(p(t)&&(t=t()),e=new or(e,String(t),this.jf),r&&(e.Md=r),r="log:"+e.hf,n.console&&(n.console.timeStamp?n.console.timeStamp(r):n.console.markTimeline&&n.console.markTimeline(r)),n.msWriteProfilerMark&&n.msWriteProfilerMark(r),r=this;r;){var i=r,o=e;if(i.Td)for(var a=0;t=i.Td[a];a++)t(o);r=r.getParent()}};var hr={},fr=null,gr=function(e){fr||(fr=new sr(""),hr[""]=fr,fr.ie(lr));var t;if(!(t=hr[e])){t=new sr(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=gr(e.substr(0,n))).Pc||(n.Pc={}),n.Pc[r]=t,t.s=n,hr[e]=t}return t},mr=function(){He.call(this),this.fa=new Qe(this),this.ze=this,this.hd=null};_(mr,He),mr.prototype[$e]=!0,(e=mr.prototype).addEventListener=function(e,t,n,r){rt(this,e,t,n,r)},e.removeEventListener=function(e,t,n,r){st(this,e,t,n,r)},e.dispatchEvent=function(e){_r(this);var t,n=this.hd;if(n){t=[];for(var r=1;n;n=n.hd)t.push(n),N(1e3>++r,"infinite loop")}if(n=this.ze,r=e.type||e,l(e))e=new Ve(e,n);else if(e instanceof Ve)e.target=e.target||n;else{var i=e;e=new Ve(r,n),ue(e,i)}var i=!0,o;if(t)for(var a=t.length-1;!e.nb&&0<=a;a--)o=e.currentTarget=t[a],i=yr(o,r,!0,e)&&i;if(e.nb||(o=e.currentTarget=n,i=yr(o,r,!0,e)&&i,e.nb||(i=yr(o,r,!1,e)&&i)),t)for(a=0;!e.nb&&a<t.length;a++)o=e.currentTarget=t[a],i=yr(o,r,!1,e)&&i;return i},e.cb=function(){if(mr.xd.cb.call(this),this.fa){var e=this.fa,t=0,n;for(n in e.G){for(var r=e.G[n],i=0;i<r.length;i++)++t,Ye(r[i]);delete e.G[n],e.$b--}}this.hd=null},e.listen=function(e,t,n,r){return _r(this),this.fa.add(String(e),t,!1,n,r)};var vr=function(e,t,n,r,i){e.fa.add(String(t),n,!0,r,i)},yr=function(e,t,n,r){if(!(t=e.fa.G[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.rb&&a.capture==n){var s=a.listener,c=a.kc||a.src;a.dc&&Je(e.fa,a),i=!1!==s.call(c,r)&&i}}return i&&0!=r.ee};mr.prototype.Uc=function(e,t,n,r){return this.fa.Uc(String(e),t,n,r)};var _r=function(e){N(e.fa,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},br=function(e,t){e&&e.log(dr,t,void 0)},Sr=function(e,t,r){if(p(e))r&&(e=m(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=m(e.handleEvent,e)}return 2147483647<Number(t)?-1:n.setTimeout(e,t||0)},wr=function(e){var t=null;return new ln(function(n,r){-1==(t=Sr(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).f(function(e){throw n.clearTimeout(t),e})},Cr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Tr=function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i,o=null;0<=r?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}},Er=function(e){mr.call(this),this.headers=new Zn,this.Lc=e||null,this.va=!1,this.Kc=this.b=null,this.Hb=this.Zd=this.qc="",this.Ka=this.Yc=this.oc=this.Rc=!1,this.sb=0,this.Ec=null,this.de="",this.Hc=this.sf=this.te=!1};_(Er,mr);var kr=Er.prototype,xr=gr("goog.net.XhrIo");kr.U=xr;var Ir=/^https?$/i,Rr=["POST","PUT"];Er.prototype.send=function(e,t,r,i){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.qc+"; newUri="+e);t=t?t.toUpperCase():"GET",this.qc=e,this.Hb="",this.Zd=t,this.Rc=!1,this.va=!0,this.b=this.Lc?this.Lc.fc():Ft.fc(),this.Kc=Lt(this.Lc?this.Lc:Ft),this.b.onreadystatechange=m(this.be,this),this.sf&&"onprogress"in this.b&&(this.b.onprogress=m(function(e){this.ae(e,!0)},this),this.b.upload&&(this.b.upload.onprogress=m(this.ae,this)));try{br(this.U,Wr(this,"Opening Xhr")),this.Yc=!0,this.b.open(t,String(e),!0),this.Yc=!1}catch(e){return br(this.U,Wr(this,"Error opening Xhr: "+e.message)),void this.P(5,e)}e=r||"";var o=this.headers.clone();i&&ir(i,function(e,t){o.set(t,e)}),i=q(o.oa()),r=n.FormData&&e instanceof n.FormData,!V(Rr,t)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.b.setRequestHeader(t,e)},this),this.de&&(this.b.responseType=this.de),"withCredentials"in this.b&&this.b.withCredentials!==this.te&&(this.b.withCredentials=this.te);try{Lr(this),0<this.sb&&(this.Hc=Or(this.b),br(this.U,Wr(this,"Will abort after "+this.sb+"ms if incomplete, xhr2 "+this.Hc)),this.Hc?(this.b.timeout=this.sb,this.b.ontimeout=m(this.Zb,this)):this.Ec=Sr(this.Zb,this.sb,this)),br(this.U,Wr(this,"Sending request")),this.oc=!0,this.b.send(e),this.oc=!1}catch(e){br(this.U,Wr(this,"Send error: "+e.message)),this.P(5,e)}};var Or=function(e){return he&&Ee(9)&&d(e.timeout)&&void 0!==e.ontimeout},Pr=function(e){return"content-type"==e.toLowerCase()};Er.prototype.Zb=function(){void 0!==t&&this.b&&(this.Hb="Timed out after "+this.sb+"ms, aborting",br(this.U,Wr(this,this.Hb)),this.dispatchEvent("timeout"),this.abort(8))},Er.prototype.P=function(e,t){this.va=!1,this.b&&(this.Ka=!0,this.b.abort(),this.Ka=!1),this.Hb=t,Ar(this),Dr(this)};var Ar=function(e){e.Rc||(e.Rc=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))};Er.prototype.abort=function(){this.b&&this.va&&(br(this.U,Wr(this,"Aborting")),this.va=!1,this.Ka=!0,this.b.abort(),this.Ka=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dr(this))},Er.prototype.cb=function(){this.b&&(this.va&&(this.va=!1,this.Ka=!0,this.b.abort(),this.Ka=!1),Dr(this,!0)),Er.xd.cb.call(this)},Er.prototype.be=function(){this.isDisposed()||(this.Yc||this.oc||this.Ka?Mr(this):this.nf())},Er.prototype.nf=function(){Mr(this)};var Mr=function(e){if(e.va&&void 0!==t)if(e.Kc[1]&&4==Fr(e)&&2==Ur(e))br(e.U,Wr(e,"Local request error detected and ignored"));else if(e.oc&&4==Fr(e))Sr(e.be,0,e);else if(e.dispatchEvent("readystatechange"),4==Fr(e)){br(e.U,Wr(e,"Request complete")),e.va=!1;try{var r=Ur(e),i;e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:i=!0;break e;default:i=!1}var o;if(!(o=i)){var a;if(a=0===r){if(!(c=String(e.qc).match(Cr)[1]||null)&&n.self&&n.self.location)var s=n.self.location.protocol,c=s.substr(0,s.length-1);a=!Ir.test(c?c.toLowerCase():"")}o=a}if(o)e.dispatchEvent("complete"),e.dispatchEvent("success");else{var u;try{u=2<Fr(e)?e.b.statusText:""}catch(t){br(e.U,"Can not get status: "+t.message),u=""}e.Hb=u+" ["+Ur(e)+"]",Ar(e)}}finally{Dr(e)}}};Er.prototype.ae=function(e,t){N("progress"===e.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(Nr(e,"progress")),this.dispatchEvent(Nr(e,t?"downloadprogress":"uploadprogress"))};var Nr=function(e,t){return{type:t,lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}},Dr=function(e,t){if(e.b){Lr(e);var n=e.b,r=e.Kc[0]?i:null;e.b=null,e.Kc=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.U)&&e.log(ur,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}},Lr=function(e){e.b&&e.Hc&&(e.b.ontimeout=null),d(e.Ec)&&(n.clearTimeout(e.Ec),e.Ec=null)},Fr=function(e){return e.b?e.b.readyState:0},Ur=function(e){try{return 2<Fr(e)?e.b.status:-1}catch(e){return-1}},jr=function(e){try{return e.b?e.b.responseText:""}catch(t){return br(e.U,"Can not get responseText: "+t.message),""}},Wr=function(e,t){return t+" ["+e.Zd+" "+e.qc+" "+Ur(e)+"]"},Br=function(e,t){this.ea=this.Xa=this.ha="",this.lb=null,this.Ja=this.xa="",this.S=this.df=!1;var n;e instanceof Br?(this.S=void 0!==t?t:e.S,Hr(this,e.ha),n=e.Xa,Kr(this),this.Xa=n,zr(this,e.ea),qr(this,e.lb),Vr(this,e.xa),Gr(this,e.W.clone()),e=e.Ja,Kr(this),this.Ja=e):e&&(n=String(e).match(Cr))?(this.S=!!t,Hr(this,n[1]||"",!0),e=n[2]||"",Kr(this),this.Xa=Jr(e),zr(this,n[3]||"",!0),qr(this,n[4]),Vr(this,n[5]||"",!0),Gr(this,n[6]||"",!0),e=n[7]||"",Kr(this),this.Ja=Jr(e)):(this.S=!!t,this.W=new ai(null,0,this.S))};Br.prototype.toString=function(){var e=[],t=this.ha;t&&e.push(Zr(t,ti,!0),":");var n=this.ea;return(n||"file"==t)&&(e.push("//"),(t=this.Xa)&&e.push(Zr(t,ti,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.lb)&&e.push(":",String(n))),(n=this.xa)&&(this.ea&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zr(n,"/"==n.charAt(0)?ri:ni,!0))),(n=this.W.toString())&&e.push("?",n),(n=this.Ja)&&e.push("#",Zr(n,oi)),e.join("")},Br.prototype.resolve=function(e){var t=this.clone(),n=!!e.ha;if(n?Hr(t,e.ha):n=!!e.Xa,n){var r=e.Xa;Kr(t),t.Xa=r}else n=!!e.ea;if(n?zr(t,e.ea):n=null!=e.lb,r=e.xa,n)qr(t,e.lb);else if(n=!!e.xa)if("/"!=r.charAt(0)&&(this.ea&&!this.xa?r="/"+r:-1!=(i=t.xa.lastIndexOf("/"))&&(r=t.xa.substr(0,i+1)+r)),".."==(i=r)||"."==i)r="";else if(O(i,"./")||O(i,"/.")){for(var r=0==i.lastIndexOf("/",0),i=i.split("/"),o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i;return n?Vr(t,r):n=""!==e.W.toString(),n?Gr(t,e.W.clone()):n=!!e.Ja,n&&(e=e.Ja,Kr(t),t.Ja=e),t},Br.prototype.clone=function(){return new Br(this)};var Hr=function(e,t,n){Kr(e),e.ha=n?Jr(t,!0):t,e.ha&&(e.ha=e.ha.replace(/:$/,""))},zr=function(e,t,n){Kr(e),e.ea=n?Jr(t,!0):t},qr=function(e,t){if(Kr(e),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.lb=t}else e.lb=null},Vr=function(e,t,n){Kr(e),e.xa=n?Jr(t,!0):t},Gr=function(e,t,n){Kr(e),t instanceof ai?(e.W=t,e.W.td(e.S)):(n||(t=Zr(t,ii)),e.W=new ai(t,0,e.S))},$r=function(e,t,n){Kr(e),e.W.set(t,n)},Xr=function(e,t){return e.W.get(t)};Br.prototype.removeParameter=function(e){return Kr(this),this.W.remove(e),this};var Kr=function(e){if(e.df)throw Error("Tried to modify a read-only Uri")};Br.prototype.td=function(e){return this.S=e,this.W&&this.W.td(e),this};var Yr=function(e){return e instanceof Br?e.clone():new Br(e,void 0)},Qr=function(e,t){var n=new Br(null,void 0);return Hr(n,"https"),e&&zr(n,e),t&&Vr(n,t),n},Jr=function(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""},Zr=function(e,t,n){return l(e)?(e=encodeURI(e).replace(t,ei),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null},ei=function(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)},ti=/[#\/\?@]/g,ni=/[\#\?:]/g,ri=/[\#\?]/g,ii=/[\#\?@]/g,oi=/#/g,ai=function(e,t,n){this.o=this.l=null,this.O=e||null,this.S=!!n},si=function(e){e.l||(e.l=new Zn,e.o=0,e.O&&Tr(e.O,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))},ci=function(e){var t=rr(e);if(void 0===t)throw Error("Keys are undefined");var n=new ai(null,0,void 0);e=nr(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];s(o)?ui(n,i,o):n.add(i,o)}return n};(e=ai.prototype).add=function(e,t){si(this),this.O=null,e=this.R(e);var n=this.l.get(e);return n||this.l.set(e,n=[]),n.push(t),this.o=L(this.o)+1,this},e.remove=function(e){return si(this),e=this.R(e),!!this.l.yb(e)&&(this.O=null,this.o=L(this.o)-this.l.get(e).length,this.l.remove(e))},e.yb=function(e){return si(this),e=this.R(e),this.l.yb(e)},e.oa=function(){si(this);for(var e=this.l.Z(),t=this.l.oa(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.Z=function(e){si(this);var t=[];if(l(e))this.yb(e)&&(t=K(t,this.l.get(this.R(e))));else{e=this.l.Z();for(var n=0;n<e.length;n++)t=K(t,e[n])}return t},e.set=function(e,t){return si(this),this.O=null,e=this.R(e),this.yb(e)&&(this.o=L(this.o)-this.l.get(e).length),this.l.set(e,[t]),this.o=L(this.o)+1,this},e.get=function(e,t){return 0<(e=e?this.Z(e):[]).length?String(e[0]):t};var ui=function(e,t,n){e.remove(t),0<n.length&&(e.O=null,e.l.set(e.R(t),Y(n)),e.o=L(e.o)+n.length)};ai.prototype.toString=function(){if(this.O)return this.O;if(!this.l)return"";for(var e=[],t=this.l.oa(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),r=this.Z(r),o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.O=e.join("&")},ai.prototype.clone=function(){var e=new ai;return e.O=this.O,this.l&&(e.l=this.l.clone(),e.o=this.o),e},ai.prototype.R=function(e){return e=String(e),this.S&&(e=e.toLowerCase()),e},ai.prototype.td=function(e){e&&!this.S&&(si(this),this.O=null,this.l.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(this.remove(t),ui(this,n,e))},this)),this.S=e};var li=function(){var e=Ii();return he&&!!ke&&11==ke||/Edge\/\d+/.test(e)},di=function(){return n.window&&n.window.location.href||""},pi=function(e,t){t=t||n.window;var r="about:blank";e&&(r=Tt(kt(e))),t.location.href=r},hi=function(e,t){var n=[],r;for(r in e)r in t?typeof e[r]!=typeof t[r]?n.push(r):s(e[r])?ae(e[r],t[r])||n.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=t[r]?0<hi(e[r],t[r]).length&&n.push(r):e[r]!==t[r]&&n.push(r):n.push(r);for(r in t)r in e||n.push(r);return n},fi=function(){var e;return e=Ii(),!((e="Chrome"!=ki(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!he||!ke||9<ke)},gi=function(e){return!!((e=(e||Ii()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))},mi=function(e){e=e||n.window;try{e.close()}catch(e){}},vi=function(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ii().toLowerCase(),r&&(t.target=r,O(n,"crios/")&&(t.target="_blank")),"Firefox"==ki(Ii())&&(e=e||"http://localhost",t.scrollbars=!0);var a;n=e||"about:blank",(r=t)||(r={}),e=window,t=n instanceof Ct?n:kt(void 0!==n.href?n.href:String(n)),n=r.target||n.target,i=[];for(a in r)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+r[a]);break;case"target":case"noreferrer":break;default:i.push(a+"="+(r[a]?1:0))}if(a=i.join(","),(te("iPhone")&&!te("iPod")&&!te("iPad")||te("iPad")||te("iPod"))&&e.navigator&&e.navigator.standalone&&n&&"_self"!=n?(a=e.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&(i=a&&(a instanceof HTMLAnchorElement||!(a instanceof Location||a instanceof Element)),o=h(a)?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):void 0===a?"undefined":null===a?"null":typeof a,N(i,"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",o)),t=t instanceof Ct?t:kt(t),a.href=Tt(t),a.setAttribute("target",n),r.noreferrer&&a.setAttribute("rel","noreferrer"),(r=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),a.dispatchEvent(r),a={}):r.noreferrer?(a=e.open("",n,a),r=Tt(t),a&&(ge&&O(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),a.opener=null,e=bt("b/12014412, meta tag with sanitized URL"),R.test(r)&&(-1!=r.indexOf("&")&&(r=r.replace(C,"&amp;")),-1!=r.indexOf("<")&&(r=r.replace(T,"&lt;")),-1!=r.indexOf(">")&&(r=r.replace(E,"&gt;")),-1!=r.indexOf('"')&&(r=r.replace(k,"&quot;")),-1!=r.indexOf("'")&&(r=r.replace(x,"&#39;")),-1!=r.indexOf("\0")&&(r=r.replace(I,"&#0;"))),r='<META HTTP-EQUIV="refresh" content="0; url='+r+'">',F(yt(e),"must provide justification"),N(!/^[\s\xa0]*$/.test(yt(e)),"must provide non-empty justification"),a.document.write(rn((new nn).$e(r))),a.document.close())):a=e.open(Tt(t),n,a),a)try{a.focus()}catch(e){}return a},yi=function(e){return new ln(function(t){var n=function(){wr(2e3).then(function(){if(e&&!e.closed)return n();t()})};return n()})},_i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bi=function(){var e=null;return new ln(function(t){"complete"==n.document.readyState?t():(e=function(){t()},at(window,"load",e))}).f(function(t){throw st(window,"load",e),t})},Si=function(){return wi(void 0)?bi().then(function(){return new ln(function(e,t){var r=n.document,i=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),e()},!1)})}):gn(Error("Cordova must run in an Android or iOS file scheme."))},wi=function(e){return e=e||Ii(),!("file:"!==Ai()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))},Ci=function(){var e=n.window;try{return!(!e||e==e.top)}catch(e){return!1}},Ti=function(){return r.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},Ei=function(){var e=Ti();return"ReactNative"===e||"Node"===e},ki=function(e){var t=e.toLowerCase();return O(t,"opera/")||O(t,"opr/")||O(t,"opios/")?"Opera":O(t,"iemobile")?"IEMobile":O(t,"msie")||O(t,"trident/")?"IE":O(t,"edge/")?"Edge":O(t,"firefox/")?"Firefox":O(t,"silk/")?"Silk":O(t,"blackberry")?"Blackberry":O(t,"webos")?"Webos":!O(t,"safari/")||O(t,"chrome/")||O(t,"crios/")||O(t,"android")?!O(t,"chrome/")&&!O(t,"crios/")||O(t,"edge/")?O(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"},xi=function(e){var t=Ti();return("Browser"===t?ki(Ii()):t)+"/JsCore/"+e},Ii=function(){return n.navigator&&n.navigator.userAgent||""},Ri=function(e,t){e=e.split("."),t=t||n;for(var r=0;r<e.length&&"object"==typeof t&&null!=t;r++)t=t[e[r]];return r!=e.length&&(t=void 0),t},Oi=function(){var e;if(e=(Pi()||"chrome-extension:"===Ai()||wi())&&!Ei())e:{try{var t=n.localStorage,r=Fi();if(t){t.setItem(r,"1"),t.removeItem(r),e=!li()||!!n.indexedDB;break e}}catch(e){}e=!1}return e},Pi=function(){return"http:"===Ai()||"https:"===Ai()},Ai=function(){return n.location&&n.location.protocol||null},Mi=function(e){return e=e||Ii(),!gi(e)&&"Firefox"!=ki(e)},Ni=function(e){return void 0===e?null:Rt(e)},Di=function(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&null!==e[n]&&void 0!==e[n]&&(t[n]=e[n]);return t},Li=function(e){if(null!==e)return JSON.parse(e)},Fi=function(e){return e||""+Math.floor(1e9*Math.random()).toString()},Ui=function(e){return e=e||Ii(),"Safari"!=ki(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)},ji=function(){var e=n.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var r=0;r<e.CP.length;r++)e.CP[r]=null},Wi=function(){return!n.navigator||"boolean"!=typeof n.navigator.onLine||n.navigator.onLine},Bi=function(e,t,n,r){if(e>t)throw Error("Short delay should be less than long delay!");this.Ff=e,this.gf=t,e=n||Ii(),r=r||Ti(),this.cf=gi(e)||"ReactNative"===r};Bi.prototype.get=function(){return this.cf?this.gf:this.Ff};var Hi=function(){var e=n.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState},zi=function(){var e=n.document,t=null;return Hi()||!e?fn():new ln(function(n){t=function(){Hi()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).f(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})},qi={},Vi=function(e){qi[e]||(qi[e]=!0,"undefined"!=typeof console&&console.warn)},Gi;try{var $i={};Object.defineProperty($i,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($i,"abcd",{configurable:!0,enumerable:!0,value:2}),Gi=2==$i.abcd}catch(e){Gi=!1}var Xi=function(e,t,n){Gi?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n},Ki=function(e,t){Gi?Object.defineProperty(e,"provider",{configurable:!0,enumerable:!0,get:function(){return Vi("firebase.auth.AuthCredential.provider is deprecated. Please use the providerId field instead."),t}}):e.provider=t},Yi=function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Xi(e,n,t[n])},Qi=function(e){var t={};return Yi(t,e),t},Ji=function(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},Zi=function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0},eo=function(e){var t=e;if("object"==typeof e&&null!=e){var t="length"in e?[]:{},n;for(n in e)Xi(t,n,eo(e[n]))}return t},to="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),no=["client_id","response_type","scope","redirect_uri","state"],ro={Pf:{Mb:500,Lb:600,providerId:"facebook.com",qd:no},Qf:{Mb:500,Lb:620,providerId:"github.com",qd:no},Rf:{Mb:515,Lb:680,providerId:"google.com",qd:no},Sf:{Mb:485,Lb:705,providerId:"twitter.com",qd:to}},io=function(e){for(var t in ro)if(ro[t].providerId==e)return ro[t];return null},oo=function(e,t){this.code="auth/"+e,this.message=t||so[e]||""};_(oo,Error),oo.prototype.C=function(){return{code:this.code,message:this.message}},oo.prototype.toJSON=function(){return this.C()};var ao=function(e){var t=e&&e.code;return t?new oo(t.substring(5),e.message):null},so={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"","code-expired":"","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-identifier-number":"","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"","missing-verification-code":"","missing-identifier-number":"","missing-verification-id":"","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},co=function(e,t,n,r,i){if(this.da=e,this.J=t||null,this.tb=n||null,this.sd=r||null,this.P=i||null,!this.tb&&!this.P)throw new oo("invalid-auth-event");if(this.tb&&this.P)throw new oo("invalid-auth-event");if(this.tb&&!this.sd)throw new oo("invalid-auth-event")};co.prototype.ic=function(){return this.sd},co.prototype.getError=function(){return this.P},co.prototype.C=function(){return{type:this.da,eventId:this.J,urlResponse:this.tb,sessionId:this.sd,error:this.P&&this.P.C()}};var uo=function(e){return(e=e||{}).type?new co(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&ao(e.error)):null},lo=function(e){var t="unauthorized-domain",n=void 0,r=Yr(e);e=r.ea,"chrome-extension"==(r=r.ha)?n=S("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=S("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",oo.call(this,t,n)};_(lo,oo);var po=function(e){this.ff=e.sub,y(),this.gc=e.email||null},ho=function(e,t){return e.then(function(e){if(e.idToken){var n;e:{var r=e.idToken.split(".");if(3==r.length){for(var i=(4-(r=r[1]).length%4)%4,o=0;o<i;o++)r+=".";try{var a=JSON.parse(Oe(r));if(a.sub&&a.iss&&a.aud&&a.exp){n=new po(a);break e}}catch(e){}}n=null}if(!n||t!=n.ff)throw new oo("user-mismatch");return e}throw new oo("user-mismatch")}).f(function(e){throw e&&e.code&&"auth/user-not-found"==e.code?new oo("user-mismatch"):e})},fo=function(e,t){if(t.idToken||t.accessToken)t.idToken&&Xi(this,"idToken",t.idToken),t.accessToken&&Xi(this,"accessToken",t.accessToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new oo("internal-error","failed to construct a credential");Xi(this,"accessToken",t.oauthToken),Xi(this,"secret",t.oauthTokenSecret)}Ki(this,e),Xi(this,"providerId",e)};fo.prototype.Ab=function(e){return ra(e,go(this))},fo.prototype.cd=function(e,t){var n=go(this);return n.idToken=t,ia(e,n)},fo.prototype.ed=function(e,t){var n=go(this);return ho(oa(e,n),t)};var go=function(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:ci(t).toString(),requestUri:"http://localhost"}};fo.prototype.C=function(){var e={providerId:this.providerId};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e};var mo=function(e,t){this.vf=t||[],Yi(this,{providerId:e,isOAuthProvider:!0}),this.Id={}};mo.prototype.setCustomParameters=function(e){return this.Id=se(e),this};var vo=function(e){mo.call(this,e,no),this.rd=[]};_(vo,mo),vo.prototype.addScope=function(e){return V(this.rd,e)||this.rd.push(e),this},vo.prototype.Rd=function(){return Y(this.rd)},vo.prototype.credential=function(e,t){if(!e&&!t)throw new oo("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,{idToken:e||null,accessToken:t||null})};var yo=function(){vo.call(this,"facebook.com")};_(yo,vo),Xi(yo,"PROVIDER_ID","facebook.com");var _o=function(e){if(!e)throw new oo("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return h(e)&&(t=e.accessToken),(new yo).credential(null,t)},bo=function(){vo.call(this,"github.com")};_(bo,vo),Xi(bo,"PROVIDER_ID","github.com");var So=function(e){if(!e)throw new oo("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return h(e)&&(t=e.accessToken),(new bo).credential(null,t)},wo=function(){vo.call(this,"google.com"),this.addScope("profile")};_(wo,vo),Xi(wo,"PROVIDER_ID","google.com");var Co=function(e,t){var n=e;return h(e)&&(n=e.idToken,t=e.accessToken),(new wo).credential(n,t)},To=function(){mo.call(this,"twitter.com",to)};_(To,mo),Xi(To,"PROVIDER_ID","twitter.com");var Eo=function(e,t){var n=e;if(h(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new oo("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n)},ko=function(e,t){this.gc=e,this.jd=t,Ki(this,"password"),Xi(this,"providerId","password")};ko.prototype.Ab=function(e){return Oa(e,ka,{email:this.gc,password:this.jd})},ko.prototype.cd=function(e,t){return Oa(e,ba,{idToken:t,email:this.gc,password:this.jd})},ko.prototype.ed=function(e,t){return ho(this.Ab(e),t)},ko.prototype.C=function(){return{email:this.gc,password:this.jd}};var xo=function(){Yi(this,{providerId:"password",isOAuthProvider:!1})};Yi(xo,{PROVIDER_ID:"password"});var Io=function(e){if(!(e.Bd&&e.Ad||e.Yb&&e.ya))throw new oo("internal-error");this.I=e,Xi(this,"providerId","identifier")};Io.prototype.Ab=function(e){return e.se(Ro(this))},Io.prototype.cd=function(e,t){var n=Ro(this);return n.idToken=t,Oa(e,Ia,n)},Io.prototype.ed=function(e,t){var n=Ro(this);return n.operation="REAUTH",e=Oa(e,Ra,n),ho(e,t)},Io.prototype.C=function(){var e={providerId:"identifier"};return this.I.Bd&&(e.verificationId=this.I.Bd),this.I.Ad&&(e.verificationCode=this.I.Ad),this.I.Yb&&(e.temporaryProof=this.I.Yb),this.I.ya&&(e.identifierNumber=this.I.ya),e};var Ro=function(e){return e.I.Yb&&e.I.ya?{temporaryProof:e.I.Yb,identifierNumber:e.I.ya}:{sessionInfo:e.I.Bd,code:e.I.Ad}},Oo=function(e){try{this.Ce=e||r.auth()}catch(e){throw new oo("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.identifierAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yi(this,{providerId:"identifier",isOAuthProvider:!1})};Oo.prototype.se=function(e,t){var n=this.Ce.g;return fn(t.verify()).then(function(r){if(!l(r))throw new oo("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return Oa(n,ya,{identifierNumber:e,recaptchaToken:r});default:throw new oo("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Yi(Oo,{PROVIDER_ID:"identifier"});var Po=function(e){if(e.temporaryProof&&e.identifierNumber)return new Io({Yb:e.temporaryProof,ya:e.identifierNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{switch(t){case"google.com":return Co(e,n);case"facebook.com":return _o(n);case"github.com":return So(n);case"twitter.com":return Eo(n,r);default:return new vo(t).credential(e,n)}}catch(e){return null}},Ao=function(e){if(!e.isOAuthProvider)throw new oo("invalid-oauth-provider")},Mo=function(e,t,n){oo.call(this,e,n),(e=t||{}).email&&Xi(this,"email",e.email),e.ya&&Xi(this,"identifierNumber",e.ya),e.credential&&Xi(this,"credential",e.credential)};_(Mo,oo),Mo.prototype.C=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.identifierNumber&&(e.identifierNumber=this.identifierNumber);var t=this.credential&&this.credential.C();return t&&ue(e,t),e},Mo.prototype.toJSON=function(){return this.C()};var No=function(e){if(e.code){var t=e.code||"";0==t.indexOf("auth/")&&(t=t.substring(5));var n={credential:Po(e)};if(e.email)n.email=e.email;else{if(!e.identifierNumber)return new oo(t,e.message||void 0);n.ya=e.identifierNumber}return new Mo(t,n,e.message)}return null},Do=function(e){this.Of=e};_(Do,Dt),Do.prototype.fc=function(){return new this.Of},Do.prototype.$c=function(){return{}};var Lo=function(e,t,i){var o;if(o="Node"==Ti(),!(o=n.XMLHttpRequest||o&&r.INTERNAL.node&&r.INTERNAL.node.XMLHttpRequest))throw new oo("internal-error","The XMLHttpRequest compatibility library was not found.");this.j=e,e=t||{},this.Bf=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.Cf=e.secureTokenTimeout||Uo,this.ge=se(e.secureTokenHeaders||jo),this.Le=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.Me=e.firebaseTimeout||Wo,this.Pd=se(e.firebaseHeaders||Bo),i&&(this.Pd["X-Client-Version"]=i,this.ge["X-Client-Version"]=i),this.Ee=new Wt,this.Nf=new Do(o)},Fo,Uo=new Bi(3e4,6e4),jo={"Content-Type":"application/x-www-form-urlencoded"},Wo=new Bi(3e4,6e4),Bo={"Content-Type":"application/json"},Ho=function(e,t,n,r,i,o,a){Wi()?(fi()?e=m(e.Ef,e):(Fo||(Fo=new ln(function(e,t){qo(e,t)})),e=m(e.Df,e)),e(t,n,r,i,o,a)):n&&n(null)};Lo.prototype.Ef=function(e,t,n,r,i,o){var a="Node"==Ti(),s=Ei()?a?new Er(this.Nf):new Er:new Er(this.Ee),c;o&&(s.sb=Math.max(0,o),c=setTimeout(function(){s.dispatchEvent("timeout")},o)),s.listen("complete",function(){c&&clearTimeout(c);var e=null;try{e=JSON.parse(jr(this))||null}catch(t){e=null}t&&t(e)}),vr(s,"ready",function(){c&&clearTimeout(c),this.Ga||(this.Ga=!0,this.cb())}),vr(s,"timeout",function(){c&&clearTimeout(c),this.Ga||(this.Ga=!0,this.cb()),t&&t(null)}),s.send(e,n,r,i)};var zo="__fcb"+Math.floor(1e6*Math.random()).toString(),qo=function(e,t){((window.gapi||{}).client||{}).request?e():(n[zo]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},Fn(function(){t(Error("CORS_UNSUPPORTED"))}))};Lo.prototype.Df=function(e,t,n,r,i){var o=this;Fo.then(function(){window.gapi.client.setApiKey(o.j);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).f(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})};var Vo=function(e,t){return new ln(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Ho(e,e.Bf+"?key="+encodeURIComponent(e.j),function(e){e?e.error?r(Pa(e)):e.access_token&&e.refresh_token?n(e):r(new oo("internal-error")):r(new oo("network-request-failed"))},"POST",ci(t).toString(),e.ge,e.Cf.get()):r(new oo("internal-error"))})},Go=function(e,t,n,r,i,o){var a=Yr(e.Le+t);$r(a,"key",e.j),o&&$r(a,"cb",y().toString());var s="GET"==n;if(s)for(var c in r)r.hasOwnProperty(c)&&$r(a,c,r[c]);return new ln(function(t,o){Ho(e,a.toString(),function(e){e?e.error?o(Pa(e,i||{})):t(e):o(new oo("network-request-failed"))},n,s?void 0:Rt(Di(r)),e.Pd,e.Me.get())})},$o=function(e){if(!mt.test(e.email))throw new oo("invalid-email")},Xo=function(e){"email"in e&&$o(e)},Ko=function(e,t){return Oa(e,la,{identifier:t,continueUri:Pi()?di():"http://localhost"}).then(function(e){return e.allProviders||[]})},Yo=function(e){return Oa(e,ma,{}).then(function(e){return e.authorizedDomains||[]})},Qo=function(e){if(!e.idToken)throw new oo("internal-error")},Jo=function(e){if(e.identifierNumber||e.temporaryProof){if(!e.identifierNumber||!e.temporaryProof)throw new oo("internal-error")}else{if(!e.sessionInfo)throw new oo("missing-verification-id");if(!e.code)throw new oo("missing-verification-code")}};Lo.prototype.signInAnonymously=function(){return Oa(this,Sa,{})},Lo.prototype.updateEmail=function(e,t){return Oa(this,_a,{idToken:e,email:t})},Lo.prototype.updatePassword=function(e,t){return Oa(this,ba,{idToken:e,password:t})};var Zo={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};Lo.prototype.updateProfile=function(e,t){var n={idToken:e},r=[];return ne(Zo,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Oa(this,_a,n)},Lo.prototype.sendPasswordResetEmail=function(e){return Oa(this,ga,{requestType:"PASSWORD_RESET",email:e})},Lo.prototype.sendEmailVerification=function(e){return Oa(this,fa,{requestType:"VERIFY_EMAIL",idToken:e})},Lo.prototype.se=function(e){return Oa(this,xa,e)};var ea=function(e,t,n){return Oa(e,pa,{idToken:t,deleteProvider:n})},ta=function(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new oo("internal-error")},na=function(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=No(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=No(e)):"EMAIL_EXISTS"==e.errorMessage&&(e.code="email-already-in-use",t=No(e)),t)throw t;if(!e.idToken)throw new oo("internal-error")},ra=function(e,t){return t.returnIdpCredential=!0,Oa(e,wa,t)},ia=function(e,t){return t.returnIdpCredential=!0,Oa(e,Ta,t)},oa=function(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Oa(e,Ca,t)},aa=function(e){if(!e.oobCode)throw new oo("invalid-action-code")};Lo.prototype.confirmPasswordReset=function(e,t){return Oa(this,va,{oobCode:e,newPassword:t})},Lo.prototype.checkActionCode=function(e){return Oa(this,ca,{oobCode:e})},Lo.prototype.applyActionCode=function(e){return Oa(this,sa,{oobCode:e})};var sa={endpoint:"setAccountInfo",A:aa,Wa:"email"},ca={endpoint:"resetPassword",A:aa,Y:function(e){if(!e.email||!e.requestType)throw new oo("internal-error")}},ua={endpoint:"signupNewUser",A:function(e){if($o(e),!e.password)throw new oo("weak-password")},Y:Qo,sa:!0},la={endpoint:"createAuthUri"},da={endpoint:"deleteAccount",Ua:["idToken"]},pa={endpoint:"setAccountInfo",Ua:["idToken","deleteProvider"],A:function(e){if(!s(e.deleteProvider))throw new oo("internal-error")}},ha={endpoint:"getAccountInfo"},fa={endpoint:"getOobConfirmationCode",Ua:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new oo("internal-error")},Wa:"email"},ga={endpoint:"getOobConfirmationCode",Ua:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new oo("internal-error");$o(e)},Wa:"email"},ma={De:!0,endpoint:"getProjectConfig",We:"GET"},va={endpoint:"resetPassword",A:aa,Wa:"email"},ya={endpoint:"sendVerificationCode",Ua:["identifierNumber","recaptchaToken"],Wa:"sessionInfo"},_a={endpoint:"setAccountInfo",Ua:["idToken"],A:Xo,sa:!0},ba={endpoint:"setAccountInfo",Ua:["idToken"],A:function(e){if(Xo(e),!e.password)throw new oo("weak-password")},Y:Qo,sa:!0},Sa={endpoint:"signupNewUser",Y:Qo,sa:!0},wa={endpoint:"verifyAssertion",A:ta,Y:na,sa:!0},Ca={endpoint:"verifyAssertion",A:ta,Y:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new oo("user-not-found");if(!e.idToken)throw new oo("internal-error")},sa:!0},Ta={endpoint:"verifyAssertion",A:function(e){if(ta(e),!e.idToken)throw new oo("internal-error")},Y:na,sa:!0},Ea={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new oo("invalid-custom-token")},Y:Qo,sa:!0},ka={endpoint:"verifyPassword",A:function(e){if($o(e),!e.password)throw new oo("wrong-password")},Y:Qo,sa:!0},xa={endpoint:"verifyidentifierNumber",A:Jo,Y:Qo},Ia={endpoint:"verifyidentifierNumber",A:function(e){if(!e.idToken)throw new oo("internal-error");Jo(e)},Y:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",No(e);Qo(e)}},Ra={Ge:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyidentifierNumber",A:Jo,Y:Qo},Oa=function(e,t,n){if(!Zi(n,t.Ua))return gn(new oo("internal-error"));var r=t.We||"POST",i;return fn(n).then(t.A).then(function(){return t.sa&&(n.returnSecureToken=!0),Go(e,t.endpoint,r,n,t.Ge,t.De||!1)}).then(function(e){return i=e}).then(t.Y).then(function(){if(!t.Wa)return i;if(!(t.Wa in i))throw new oo("internal-error");return i[t.Wa]})},Pa=function(e,t){var n,r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||""]?new oo(r[n]):null)return n;n=e.error&&e.error.message||"",ue(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_identifier_NUMBER:"invalid-identifier-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_identifier_NUMBER:"missing-identifier-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new oo(r[i],t);return!t&&e&&(t=Ni(e)),new oo("internal-error",t)},Aa=function(e){this.V=e};Aa.prototype.value=function(){return this.V},Aa.prototype.je=function(e){return this.V.style=e,this};var Ma=function(e){this.V=e||{}};Ma.prototype.value=function(){return this.V},Ma.prototype.je=function(e){return this.V.style=e,this};var Na=function(e){this.Lf=e,this.nc=null,this.gd=La(this)},Da=function(e){var t=new Ma;return t.V.where=document.body,t.V.url=e.Lf,t.V.messageHandlersFilter=Ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),t.V.attributes=t.V.attributes||{},new Aa(t.V.attributes).je({position:"absolute",top:"-100px",width:"1px",height:"1px"}),t.V.dontclear=!0,t},La=function(e){return Wa().then(function(){return new ln(function(t,n){Ri("gapi.iframes.getContext")().open(Da(e).value(),function(r){e.nc=r,e.nc.restyle({setHideOnLeave:!1});var i=setTimeout(function(){n(Error("Network Error"))},ja.get()),o=function(){clearTimeout(i),t()};r.ping(o).then(o,function(){n(Error("Network Error"))})})})})};Na.prototype.sendMessage=function(e){var t=this;return this.gd.then(function(){return new ln(function(n){t.nc.send(e.type,e,n,Ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var Fa=function(e,t){e.gd.then(function(){e.nc.register("authEvent",t,Ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},Ua=new Bi(3e4,6e4),ja=new Bi(5e3,15e3),Wa=function(){return new ln(function(e,t){if(Wi()){var r=function(){ji(),Ri("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){ji(),t(Error("Network Error"))},timeout:Ua.get()})};if(Ri("gapi.iframes.Iframe"))e();else if(Ri("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){Ri("gapi.load")?r():t(Error("Network Error"))},fn(Vn("https://apis.google.com/js/api.js?onload="+i)).f(function(){t(Error("Network Error"))})}}else t(Error("Network Error"))})},Ba=function(e,t,n){this.v=e,this.j=t,this.D=n,this.Ya=null,this.ac=Qr(this.v,"/__/auth/iframe"),$r(this.ac,"apiKey",this.j),$r(this.ac,"appName",this.D)};Ba.prototype.setVersion=function(e){return this.Ya=e,this},Ba.prototype.toString=function(){return this.Ya?$r(this.ac,"v",this.Ya):this.ac.removeParameter("v"),this.ac.toString()};var Ha=function(e,t,n,r,i){this.v=e,this.j=t,this.D=n,this.Be=r,this.Ya=this.J=this.pd=null,this.Pb=i};Ha.prototype.setVersion=function(e){return this.Ya=e,this},Ha.prototype.toString=function(){var e=Qr(this.v,"/__/auth/handler");if($r(e,"apiKey",this.j),$r(e,"appName",this.D),$r(e,"authType",this.Be),this.Pb.isOAuthProvider){$r(e,"providerId",this.Pb.providerId);var t=this.Pb,n=Di(t.Id),r;for(r in n)n[r]=n[r].toString();for(t=t.vf,n=se(n),r=0;r<t.length;r++){var i=t[r];i in n&&delete n[i]}oe(n)||$r(e,"customParameters",Ni(n))}if("function"==typeof this.Pb.Rd&&(t=this.Pb.Rd()).length&&$r(e,"scopes",t.join(",")),this.pd?$r(e,"redirectUrl",this.pd):e.removeParameter("redirectUrl"),this.J?$r(e,"eventId",this.J):e.removeParameter("eventId"),this.Ya?$r(e,"v",this.Ya):e.removeParameter("v"),this.bc)for(var o in this.bc)this.bc.hasOwnProperty(o)&&!Xr(e,o)&&$r(e,o,this.bc[o]);return e.toString()};var za=function(e,t,n,r){this.v=e,this.j=t,this.D=n,this.Oe=(this.Ea=r||null)?xi(this.Ea):null,r=this.Ea,this.Xe=new Ba(e,t,n).setVersion(r).toString(),this.ma=[],this.g=new Lo(t,null,this.Oe),this.pc=this.wa=null},qa=function(e){var t=di();return Yo(e).then(function(e){e:{for(var n=(r=Yr(t)).ha,r=r.ea,i=0;i<e.length;i++){var o,a=e[i];o=r;var s=n;if(0==a.indexOf("chrome-extension://")?o=Yr(a).ea==o&&"chrome-extension"==s:"http"!=s&&"https"!=s?o=!1:_i.test(a)?o=o==a:(a=a.split(".").join("\\."),o=new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)),o){e=!0;break e}}e=!1}if(!e)throw new lo(di())})};(e=za.prototype).Gb=function(){if(this.pc)return this.pc;var e=this;return this.pc=bi().then(function(){e.mc=new Na(e.Xe),Ga(e)})},e.Vb=function(e,t,n){var r=new oo("popup-closed-by-user"),i=new oo("web-storage-unsupported"),o=this,a=!1;return this.La().then(function(){$a(o).then(function(n){n||(e&&mi(e),t(i),a=!0)})}).f(function(){}).then(function(){if(!a)return yi(e)}).then(function(){if(!a)return wr(n).then(function(){t(r)})})},e.ke=function(){var e=Ii();return!Mi(e)&&!Ui(e)},e.Ud=function(){return!1},e.Nb=function(e,t,n,r,i,o,a){if(!e)return gn(new oo("popup-blocked"));if(a&&!Mi())return this.La().f(function(t){mi(e),i(t)}),r(),fn();this.wa||(this.wa=qa(this.g));var s=this;return this.wa.then(function(){var t=s.La().f(function(t){throw mi(e),i(t),t});return r(),t}).then(function(){if(Ao(n),!a){var r=Va(s.v,s.j,s.D,t,n,null,o,s.Ea);pi(r,e)}}).f(function(e){throw"auth/network-request-failed"==e.code&&(s.wa=null),e})},e.Ob=function(e,t,n){this.wa||(this.wa=qa(this.g));var r=this;return this.wa.then(function(){Ao(t);var i=Va(r.v,r.j,r.D,e,t,di(),n,r.Ea);pi(i)})},e.La=function(){var e=this;return this.Gb().then(function(){return e.mc.gd}).f(function(){throw e.wa=null,new oo("network-request-failed")})},e.ne=function(){return!0};var Va=function(e,t,n,r,i,o,a,s,c){return e=new Ha(e,t,n,r,i),e.pd=o,e.J=a,o=e.setVersion(s),o.bc=se(c||null),o.toString()},Ga=function(e){if(!e.mc)throw Error("IfcHandler must be initialized!");Fa(e.mc,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=uo(t.authEvent),n=0;n<e.ma.length;n++)r=e.ma[n](t)||r;return n={},n.status=r?"ACK":"ERROR",fn(n)}return n.status="ERROR",fn(n)})},$a=function(e){var t={type:"webStorageSupport"};return e.Gb().then(function(){return e.mc.sendMessage(t)}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})};za.prototype.$a=function(e){this.ma.push(e)},za.prototype.Tb=function(e){X(this.ma,function(t){return t==e})};var Xa=function(e){if(this.B=e||r.INTERNAL.reactNative&&r.INTERNAL.reactNative.AsyncStorage,!this.B)throw new oo("internal-error","The React Native compatibility library was not found.")};(e=Xa.prototype).get=function(e){return fn(this.B.getItem(e)).then(function(e){return e&&Li(e)})},e.set=function(e,t){return fn(this.B.setItem(e,Ni(t)))},e.remove=function(e){return fn(this.B.removeItem(e))},e.ab=function(){},e.Ta=function(){};var Ka=function(){this.B={}};(e=Ka.prototype).get=function(e){return fn(this.B[e])},e.set=function(e,t){return this.B[e]=t,fn()},e.remove=function(e){return delete this.B[e],fn()},e.ab=function(){},e.Ta=function(){};var Ya=function(){if(!Qa()){if("Node"==Ti())throw new oo("internal-error","The LocalStorage compatibility library was not found.");throw new oo("web-storage-unsupported")}this.B=n.localStorage||r.INTERNAL.node.localStorage},Qa=function(){var e="Node"==Ti();if(!(e=n.localStorage||e&&r.INTERNAL.node&&r.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}};(e=Ya.prototype).get=function(e){var t=this;return fn().then(function(){var n=t.B.getItem(e);return Li(n)})},e.set=function(e,t){var n=this;return fn().then(function(){var r=Ni(t);null===r?n.remove(e):n.B.setItem(e,r)})},e.remove=function(e){var t=this;return fn().then(function(){t.B.removeItem(e)})},e.ab=function(e){n.window&&rt(n.window,"storage",e)},e.Ta=function(e){n.window&&st(n.window,"storage",e)};var Ja=function(){this.B={}};(e=Ja.prototype).get=function(){return fn(null)},e.set=function(){return fn()},e.remove=function(){return fn()},e.ab=function(){},e.Ta=function(){};var Za=function(){if(!es()){if("Node"==Ti())throw new oo("internal-error","The SessionStorage compatibility library was not found.");throw new oo("web-storage-unsupported")}this.B=n.sessionStorage||r.INTERNAL.node.sessionStorage},es=function(){var e="Node"==Ti();if(!(e=n.sessionStorage||e&&r.INTERNAL.node&&r.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}};(e=Za.prototype).get=function(e){var t=this;return fn().then(function(){var n=t.B.getItem(e);return Li(n)})},e.set=function(e,t){var n=this;return fn().then(function(){var r=Ni(t);null===r?n.remove(e):n.B.setItem(e,r)})},e.remove=function(e){var t=this;return fn().then(function(){t.B.removeItem(e)})},e.ab=function(){},e.Ta=function(){};var ts=function(e,t,r,i,o,a){if(!window.indexedDB)throw new oo("web-storage-unsupported");this.He=e,this.fd=t,this.Qc=r,this.re=i,this.wb=o,this.$={},this.Wb=[],this.Jb=0,this.Ye=a||n.indexedDB},ns,rs=function(e){return new ln(function(t,n){var r=e.Ye.open(e.He,e.wb);r.onerror=function(e){n(Error(e.target.errorCode))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore(e.fd,{keyPath:e.Qc})}catch(e){n(e)}},r.onsuccess=function(e){t(e.target.result)}})},is=function(e){return e.Xd||(e.Xd=rs(e)),e.Xd},os=function(e,t){return t.objectStore(e.fd)},as=function(e,t,n){return t.transaction([e.fd],n?"readwrite":"readonly")},ss=function(e){return new ln(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}})};(e=ts.prototype).set=function(e,t){var n=!1,r,i=this;return yn(is(this).then(function(t){return r=t,t=os(i,as(i,r,!0)),ss(t.get(e))}).then(function(o){var a=os(i,as(i,r,!0));return o?(o.value=t,ss(a.put(o))):(i.Jb++,n=!0,o={},o[i.Qc]=e,o[i.re]=t,ss(a.add(o)))}).then(function(){i.$[e]=t}),function(){n&&i.Jb--})},e.get=function(e){var t=this;return is(this).then(function(n){return ss(os(t,as(t,n,!1)).get(e))}).then(function(e){return e&&e.value})},e.remove=function(e){var t=!1,n=this;return yn(is(this).then(function(r){return t=!0,n.Jb++,ss(os(n,as(n,r,!0)).delete(e))}).then(function(){delete n.$[e]}),function(){t&&n.Jb--})},e.Hf=function(){var e=this;return is(this).then(function(t){var n=os(e,as(e,t,!1));return n.getAll?ss(n.getAll()):new ln(function(e,t){var r=[],i=n.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){t(Error(e.target.errorCode))}})}).then(function(t){var n={},r=[];if(0==e.Jb){for(r=0;r<t.length;r++)n[t[r][e.Qc]]=t[r][e.re];r=hi(e.$,n),e.$=n}return r})},e.ab=function(e){0==this.Wb.length&&this.vd(),this.Wb.push(e)},e.Ta=function(e){X(this.Wb,function(t){return t==e}),0==this.Wb.length&&this.Bc()},e.vd=function(){var e=this;this.Bc();var t=function(){return e.kd=wr(800).then(m(e.Hf,e)).then(function(t){0<t.length&&W(e.Wb,function(e){e(t)})}).then(t).f(function(e){"STOP_EVENT"!=e.message&&t()}),e.kd};t()},e.Bc=function(){this.kd&&this.kd.cancel("STOP_EVENT")};var cs=function(){this.Ld={Browser:ls,Node:ds,ReactNative:ps}[Ti()]},us,ls={M:Ya,yd:Za},ds={M:Ya,yd:Za},ps={M:Xa,yd:Ja},hs=function(e){var t={},n=e.email,r=e.newEmail;if(e=e.requestType,!n||!e)throw Error("Invalid provider user info!");t.fromEmail=r||null,t.email=n,Xi(this,"operation",e),Xi(this,"data",eo(t))},fs=function(e,t,n,r,i,o){if(this.pf=e,this.xf=t,this.Qe=n,this.rc=r,this.zd=i,this.yf=!!o,this.kb=null,this.Ma=this.rc,this.zd<this.rc)throw Error("Proactive refresh lower bound greater than upper bound!")};fs.prototype.start=function(){this.Ma=this.rc,ms(this,!0)};var gs=function(e,t){return t?(e.Ma=e.rc,e.Qe()):(t=e.Ma,e.Ma*=2,e.Ma>e.zd&&(e.Ma=e.zd),t)},ms=function(e,t){e.stop(),e.kb=wr(gs(e,t)).then(function(){return e.yf?fn():zi()}).then(function(){return e.pf()}).then(function(){ms(e,!0)}).f(function(t){e.xf(t)&&ms(e,!1)})};fs.prototype.stop=function(){this.kb&&(this.kb.cancel(),this.kb=null)};var vs=function(e){var t={};t["facebook.com"]=_s,t["google.com"]=Ss,t["github.com"]=bs,t["twitter.com"]=ws;var n=e&&e.providerId;return n?t[n]?new t[n](e):new ys(e):null},ys=function(e){var t=Li(e.rawUserInfo||"{}");if(!(e=e.providerId))throw Error("Invalid additional user info!");Xi(this,"profile",eo(t||{})),Xi(this,"providerId",e)},_s=function(e){if(ys.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider id!")};_(_s,ys);var bs=function(e){if(ys.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider id!");Xi(this,"username",this.profile&&this.profile.login||null)};_(bs,ys);var Ss=function(e){if(ys.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider id!")};_(Ss,ys);var ws=function(e){if(ys.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider id!");Xi(this,"username",e.screenName||null)};_(ws,ys);var Cs=function(e,t,n,r){this.kf=e,this.he=t,this.zf=n,this.Ub=r,this.T={},us||(us=new cs),e=us;try{var i;li()?(ns||(ns=new ts("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1)),i=ns):i=new e.Ld.M,this.Qa=i}catch(e){this.Qa=new Ka,this.Ub=!0}try{this.Dc=new e.Ld.yd}catch(e){this.Dc=new Ka}this.wd=m(this.le,this),this.$={}},Ts,Es=function(){return Ts||(Ts=new Cs("firebase",":",!(Ui(Ii())||!Ci()),Mi())),Ts};(e=Cs.prototype).R=function(e,t){return this.kf+this.he+e.name+(t?this.he+t:"")},e.get=function(e,t){return(e.M?this.Qa:this.Dc).get(this.R(e,t))},e.remove=function(e,t){return t=this.R(e,t),e.M&&!this.Ub&&(this.$[t]=null),(e.M?this.Qa:this.Dc).remove(t)},e.set=function(e,t,n){var r=this.R(e,n),i=this,o=e.M?this.Qa:this.Dc;return o.set(r,t).then(function(){return o.get(r)}).then(function(t){e.M&&!this.Ub&&(i.$[r]=t)})},e.addListener=function(e,t,r){e=this.R(e,t),this.Ub||(this.$[e]=n.localStorage.getItem(e)),oe(this.T)&&this.vd(),this.T[e]||(this.T[e]=[]),this.T[e].push(r)},e.removeListener=function(e,t,n){e=this.R(e,t),this.T[e]&&(X(this.T[e],function(e){return e==n}),0==this.T[e].length&&delete this.T[e]),oe(this.T)&&this.Bc()},e.vd=function(){this.Qa.ab(this.wd),this.Ub||li()||ks(this)};var ks=function(e){xs(e),e.dd=setInterval(function(){for(var t in e.T){var r=n.localStorage.getItem(t),i=e.$[t];r!=i&&(e.$[t]=r,r=new Ge({type:"storage",key:t,target:window,oldValue:i,newValue:r,rf:!0}),e.le(r))}},1e3)},xs=function(e){e.dd&&(clearInterval(e.dd),e.dd=null)};Cs.prototype.Bc=function(){this.Qa.Ta(this.wd),xs(this)},Cs.prototype.le=function(e){if(e&&e.Pe){var t=e.eb.key;if(void 0!==e.eb.rf?this.Qa.Ta(this.wd):xs(this),this.zf){var r=n.localStorage.getItem(t);(e=e.eb.newValue)!=r&&(e?n.localStorage.setItem(t,e):e||n.localStorage.removeItem(t))}this.$[t]=n.localStorage.getItem(t),this.Ed(t)}else W(e,m(this.Ed,this))},Cs.prototype.Ed=function(e){this.T[e]&&W(this.T[e],function(e){e()})};var Is=function(e,t){this.u=e,this.i=t||Es()},Rs={name:"authEvent",M:!0},Os=function(e){return e.i.get(Rs,e.u).then(function(e){return uo(e)})};Is.prototype.$a=function(e){this.i.addListener(Rs,this.u,e)},Is.prototype.Tb=function(e){this.i.removeListener(Rs,this.u,e)};var Ps=function(e){this.i=e||Es()},As={name:"sessionId",M:!1};Ps.prototype.ic=function(e){return this.i.get(As,e)};var Ms=function(e,t,n,r,i,o){this.v=e,this.j=t,this.D=n,this.Ea=r||null,this.me=t+":"+n,this.Af=new Ps,this.Qd=new Is(this.me),this.Zc=null,this.ma=[],this.bf=i||500,this.tf=o||2e3,this.Fb=this.uc=null},Ns=function(e){return new oo("invalid-cordova-configuration",e)};Ms.prototype.La=function(){return this.ad?this.ad:this.ad=Si().then(function(){if("function"!=typeof Ri("universalLinks.subscribe",n))throw Ns("cordova-universal-links-plugin is not installed");if(void 0===Ri("BuildInfo.packageName",n))throw Ns("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ri("cordova.plugins.browsertab.openUrl",n))throw Ns("cordova-plugin-browsertab is not installed");if("function"!=typeof Ri("cordova.InAppBrowser.open",n))throw Ns("cordova-plugin-inappbrowser is not installed")},function(){throw new oo("cordova-not-ready")})};var Ds=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")},Ls=function(e){var t=new We;return t.update(e),Q(t.digest())};(e=Ms.prototype).Vb=function(e,t){return t(new oo("operation-not-supported-in-this-environment")),fn()},e.Nb=function(){return gn(new oo("operation-not-supported-in-this-environment"))},e.ne=function(){return!1},e.ke=function(){return!0},e.Ud=function(){return!0},e.Ob=function(e,t,r){if(this.uc)return gn(new oo("redirect-operation-pending"));var i=this,o=n.document,a=null,s=null,c=null,u=null;return this.uc=yn(fn().then(function(){return Ao(t),js(i)}).then(function(){return Fs(i,e,t,r)}).then(function(){return new ln(function(e,t){s=function(){var t=Ri("cordova.plugins.browsertab.close",n);return e(),"function"==typeof t&&t(),i.Fb&&"function"==typeof i.Fb.close&&(i.Fb.close(),i.Fb=null),!1},i.$a(s),c=function(){a||(a=wr(i.tf).then(function(){t(new oo("redirect-cancelled-by-user"))}))},u=function(){Hi()&&c()},o.addEventListener("resume",c,!1),Ii().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)}).f(function(e){return Ws(i).then(function(){throw e})})}),function(){c&&o.removeEventListener("resume",c,!1),u&&o.removeEventListener("visibilitychange",u,!1),a&&a.cancel(),s&&i.Tb(s),i.uc=null})};var Fs=function(e,t,r,i){var o=Ds(),a=new co(t,i,null,o,new oo("no-auth-event")),s=Ri("BuildInfo.packageName",n);if("string"!=typeof s)throw new oo("invalid-cordova-configuration");var c=Ri("BuildInfo.displayName",n),u={};if(Ii().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=s;else{if(!Ii().toLowerCase().match(/android/))return gn(new oo("operation-not-supported-in-this-environment"));u.apn=s}c&&(u.appDisplayName=c),o=Ls(o),u.sessionId=o;var l=Va(e.v,e.j,e.D,t,r,null,i,e.Ea,u);return e.La().then(function(){var t=e.me;return e.Af.i.set(Rs,a.C(),t)}).then(function(){var t=Ri("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof t)throw new oo("invalid-cordova-configuration");var r=null;t(function(t){if(t){if("function"!=typeof(r=Ri("cordova.plugins.browsertab.openUrl",n)))throw new oo("invalid-cordova-configuration");r(l)}else{if("function"!=typeof(r=Ri("cordova.InAppBrowser.open",n)))throw new oo("invalid-cordova-configuration");t=r;var i;i=!(!(i=Ii()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!i.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.Fb=t(l,i?"_blank":"_system","location=yes")}})})},Us=function(e,t){for(var n=0;n<e.ma.length;n++)try{e.ma[n](t)}catch(e){}},js=function(e){return e.Zc||(e.Zc=e.La().then(function(){return new ln(function(t){var n=function(r){return t(r),e.Tb(n),!1};e.$a(n),Bs(e)})})),e.Zc},Ws=function(e){var t=null;return Os(e.Qd).then(function(n){return t=n,(n=e.Qd).i.remove(Rs,n.u)}).then(function(){return t})},Bs=function(e){var t=Ri("universalLinks.subscribe",n);if("function"!=typeof t)throw new oo("invalid-cordova-configuration");var r=new co("unknown",null,null,null,new oo("no-auth-event")),i=!1,o=wr(e.bf).then(function(){return Ws(e).then(function(){i||Us(e,r)})}),a=function(t){i=!0,o&&o.cancel(),Ws(e).then(function(n){var i=r;if(n&&t&&t.url){var i=null,o;o=t.url;var a=Yr(o),s=Xr(a,"link"),c=Xr(Yr(s),"link"),a=Xr(a,"deep_link_id");-1!=(o=Xr(Yr(a),"link")||a||c||s||o).indexOf("/__/auth/callback")&&(i=Yr(o),i=Li(Xr(i,"firebaseError")||null),i=(i="object"==typeof i?ao(i):null)?new co(n.da,n.J,null,null,i):new co(n.da,n.J,o,n.ic())),i=i||r}Us(e,i)})},s=n.handleOpenURL;n.handleOpenURL=function(e){if(0==e.indexOf(Ri("BuildInfo.packageName",n)+"://")&&a({url:e}),"function"==typeof s)try{s(e)}catch(e){}},t(null,a)};Ms.prototype.$a=function(e){this.ma.push(e),js(this).f(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new co("unknown",null,null,null,new oo("no-auth-event")),e(t))})},Ms.prototype.Tb=function(e){X(this.ma,function(t){return t==e})};var Hs=function(e){this.u=e,this.i=Es()},zs={name:"pendingRedirect",M:!1},qs=function(e){return e.i.set(zs,"pending",e.u)},Vs=function(e){return e.i.remove(zs,e.u)},Gs=function(e){return e.i.get(zs,e.u).then(function(e){return"pending"==e})},$s=function(e,t,n){this.v=e,this.j=t,this.D=n,this.Xb=[],this.ib=!1,this.Mc=m(this.Wc,this),this.Ra=new tc(this),this.ld=new sc(this),this.Kb=new Hs(this.j+":"+this.D),this.Aa={},this.Aa.unknown=this.Ra,this.Aa.signInViaRedirect=this.Ra,this.Aa.linkViaRedirect=this.Ra,this.Aa.reauthViaRedirect=this.Ra,this.Aa.signInViaPopup=this.ld,this.Aa.linkViaPopup=this.ld,this.Aa.reauthViaPopup=this.ld,this.K=Xs(this.v,this.j,this.D)},Xs=function(e,t,n){var i=r.SDK_VERSION||null;return wi()?new Ms(e,t,n,i):new za(e,t,n,i)};$s.prototype.reset=function(){this.ib=!1,this.K.Tb(this.Mc),this.K=Xs(this.v,this.j,this.D)},$s.prototype.Gb=function(){var e=this;this.ib||(this.ib=!0,this.K.$a(this.Mc));var t=this.K;return this.K.La().f(function(n){throw e.K==t&&e.reset(),n})};var Ks=function(e){e.K.ke()&&e.Gb().f(function(t){var n=new co("unknown",null,null,null,new oo("operation-not-supported-in-this-environment"));Js(t)&&e.Wc(n)}),e.K.Ud()||nc(e.Ra)};$s.prototype.subscribe=function(e){if(V(this.Xb,e)||this.Xb.push(e),!this.ib){var t=this;Gs(this.Kb).then(function(e){e?Vs(t.Kb).then(function(){t.Gb().f(function(e){var n=new co("unknown",null,null,null,new oo("operation-not-supported-in-this-environment"));Js(e)&&t.Wc(n)})}):Ks(t)}).f(function(){Ks(t)})}},$s.prototype.unsubscribe=function(e){X(this.Xb,function(t){return t==e})},$s.prototype.Wc=function(e){if(!e)throw new oo("invalid-auth-event");for(var t=!1,n=0;n<this.Xb.length;n++){var r=this.Xb[n];if(r.Fd(e.da,e.J)){(t=this.Aa[e.da])&&t.ce(e,r),t=!0;break}}return nc(this.Ra),t};var Ys=new Bi(2e3,1e4),Qs=new Bi(3e4,6e4);$s.prototype.getRedirectResult=function(){return this.Ra.getRedirectResult()},$s.prototype.Nb=function(e,t,n,r,i){var o=this;return this.K.Nb(e,t,n,function(){o.ib||(o.ib=!0,o.K.$a(o.Mc))},function(){o.reset()},r,i)};var Js=function(e){return!(!e||"auth/cordova-not-ready"!=e.code)};$s.prototype.Ob=function(e,t,n){var r=this,i;return qs(this.Kb).then(function(){return r.K.Ob(e,t,n).f(function(e){if(Js(e))throw new oo("operation-not-supported-in-this-environment");return i=e,Vs(r.Kb).then(function(){throw i})}).then(function(){return r.K.ne()?new ln(function(){}):Vs(r.Kb).then(function(){return r.getRedirectResult()}).then(function(){}).f(function(){})})})},$s.prototype.Vb=function(e,t,n,r){return this.K.Vb(n,function(n){e.Va(t,null,n,r)},Ys.get())};var Zs={},ec=function(e,t,n){var r=t+":"+n;return Zs[r]||(Zs[r]=new $s(e,t,n)),Zs[r]},tc=function(e){this.i=e,this.qb=null,this.Rb=[],this.Qb=[],this.ob=null,this.od=!1};tc.prototype.reset=function(){this.qb=null,this.ob&&(this.ob.cancel(),this.ob=null)},tc.prototype.ce=function(e,t){if(!e)return gn(new oo("invalid-auth-event"));this.reset(),this.od=!0;var n=e.da,r=e.J,i=e.getError()&&"auth/web-storage-unsupported"==e.getError().code,o=e.getError()&&"auth/operation-not-supported-in-this-environment"==e.getError().code;return"unknown"!=n||i||o?e=e.P?this.md(e,t):t.zb(n,r)?this.nd(e,t):gn(new oo("invalid-auth-event")):(oc(this,!1,null,null),e=fn()),e};var nc=function(e){e.od||(e.od=!0,oc(e,!1,null,null))};tc.prototype.md=function(e){return oc(this,!0,null,e.getError()),fn()},tc.prototype.nd=function(e,t){var n=this;t=t.zb(e.da,e.J);var r=e.tb,i=e.ic(),o=!!e.da.match(/Redirect$/);return t(r,i).then(function(e){oc(n,o,e,null)}).f(function(e){oc(n,o,null,e)})};var rc=function(e,t){if(e.qb=function(){return gn(t)},e.Qb.length)for(var n=0;n<e.Qb.length;n++)e.Qb[n](t)},ic=function(e,t){if(e.qb=function(){return fn(t)},e.Rb.length)for(var n=0;n<e.Rb.length;n++)e.Rb[n](t)},oc=function(e,t,n,r){t?r?rc(e,r):ic(e,n):ic(e,{user:null}),e.Rb=[],e.Qb=[]};tc.prototype.getRedirectResult=function(){var e=this;return new ln(function(t,n){e.qb?e.qb().then(t,n):(e.Rb.push(t),e.Qb.push(n),ac(e))})};var ac=function(e){var t=new oo("timeout");e.ob&&e.ob.cancel(),e.ob=wr(Qs.get()).then(function(){e.qb||oc(e,!0,null,t)})},sc=function(e){this.i=e};sc.prototype.ce=function(e,t){if(!e)return gn(new oo("invalid-auth-event"));var n=e.da,r=e.J;return e.P?this.md(e,t):t.zb(n,r)?this.nd(e,t):gn(new oo("invalid-auth-event"))},sc.prototype.md=function(e,t){return t.Va(e.da,null,e.getError(),e.J),fn()},sc.prototype.nd=function(e,t){var n=e.J,r=e.da,i=t.zb(r,n),o=e.tb;return e=e.ic(),i(o,e).then(function(e){t.Va(r,e,null,n)}).f(function(e){t.Va(r,null,e,n)})};var cc=function(e){this.g=e,this.Ba=this.X=null,this.Ha=0};cc.prototype.C=function(){return{apiKey:this.g.j,refreshToken:this.X,accessToken:this.Ba,expirationTime:this.Ha}};var uc=function(e,t){var n=t.idToken,r=t.refreshToken;t=lc(t.expiresIn),e.Ba=n,e.Ha=t,e.X=r},lc=function(e){return y()+1e3*parseInt(e,10)},dc=function(e,t){return Vo(e.g,t).then(function(t){return e.Ba=t.access_token,e.Ha=lc(t.expires_in),e.X=t.refresh_token,{accessToken:e.Ba,expirationTime:e.Ha,refreshToken:e.X}}).f(function(t){throw"auth/user-token-expired"==t.code&&(e.X=null),t})};cc.prototype.getToken=function(e){return e=!!e,this.Ba&&!this.X?gn(new oo("user-token-expired")):e||!this.Ba||y()>this.Ha-3e4?this.X?dc(this,{grant_type:"refresh_token",refresh_token:this.X}):fn(null):fn({accessToken:this.Ba,expirationTime:this.Ha,refreshToken:this.X})};var pc=function(e,t,n,r,i){Yi(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,providerId:t})},hc=function(e,t){Ve.call(this,e);for(var n in t)this[n]=t[n]};_(hc,Ve);var fc=function(e,t,n){this.ba=[],this.j=e.apiKey,this.D=e.appName,this.v=e.authDomain||null,e=r.SDK_VERSION?xi(r.SDK_VERSION):null,this.g=new Lo(this.j,null,e),this.ia=new cc(this.g),yc(this,t.idToken),uc(this.ia,t),Xi(this,"refreshToken",this.ia.X),wc(this,n||{}),mr.call(this),this.vc=!1,this.v&&Oi()&&(this.m=ec(this.v,this.j,this.D)),this.Ac=[],this.ka=null,this.mb=gc(this),this.vb=m(this.Xc,this)};_(fc,mr),fc.prototype.Xc=function(){this.mb.kb&&(this.mb.stop(),this.mb.start())};var gc=function(e){return new fs(function(){return e.getToken(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.ia.Ha-y()-3e5;return 0<t?t:0},3e4,96e4,!1)},mc=function(e){e.Kd||e.mb.kb||(e.mb.start(),st(e,"tokenChanged",e.vb),rt(e,"tokenChanged",e.vb))},vc=function(e){st(e,"tokenChanged",e.vb),e.mb.stop()},yc=function(e,t){e.Yd=t,Xi(e,"_lat",t)},_c=function(e,t){X(e.Ac,function(e){return e==t})},bc=function(e){for(var t=[],n=0;n<e.Ac.length;n++)t.push(e.Ac[n](e));return vn(t).then(function(){return e})},Sc=function(e){e.m&&!e.vc&&(e.vc=!0,e.m.subscribe(e))},wc=function(e,t){Yi(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,identifierNumber:t.identifierNumber||null,isAnonymous:t.isAnonymous||!1,providerData:[]})};Xi(fc.prototype,"providerId","firebase");var Cc=function(){},Tc=function(e){return fn().then(function(){if(e.Kd)throw new oo("app-deleted")})},Ec=function(e){return H(e.providerData,function(e){return e.providerId})},kc=function(e,t){t&&(xc(e,t.providerId),e.providerData.push(t))},xc=function(e,t){X(e.providerData,function(e){return e.providerId==t})},Ic=function(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Xi(e,t,n)};fc.prototype.copy=function(e){var t=this;t!=e&&(Yi(this,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,identifierNumber:e.identifierNumber,isAnonymous:e.isAnonymous,providerData:[]}),W(e.providerData,function(e){kc(t,e)}),this.ia=e.ia,Xi(this,"refreshToken",this.ia.X))},fc.prototype.reload=function(){var e=this;return this.c(Tc(this).then(function(){return Rc(e).then(function(){return bc(e)}).then(Cc)}))};var Rc=function(e){return e.getToken().then(function(t){var n=e.isAnonymous;return Pc(e,t).then(function(){return n||Ic(e,"isAnonymous",!1),t})})};fc.prototype.getToken=function(e){var t=this;return this.c(Tc(this).then(function(){return t.ia.getToken(e)}).then(function(e){if(!e)throw new oo("internal-error");return e.accessToken!=t.Yd&&(yc(t,e.accessToken),t.Na()),Ic(t,"refreshToken",e.refreshToken),e.accessToken}))};var Oc=function(e,t){t.idToken&&e.Yd!=t.idToken&&(uc(e.ia,t),e.Na(),yc(e,t.idToken),Ic(e,"refreshToken",e.ia.X))};fc.prototype.Na=function(){this.dispatchEvent(new hc("tokenChanged"))};var Pc=function(e,t){return Oa(e.g,ha,{idToken:t}).then(m(e.qf,e))};fc.prototype.qf=function(e){if(!(e=e.users)||!e.length)throw new oo("internal-error");e=e[0],wc(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,identifierNumber:e.identifierNumber});for(var t=Ac(e),n=0;n<t.length;n++)kc(this,t[n]);Ic(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))};var Ac=function(e){return(e=e.providerUserInfo)&&e.length?H(e,function(e){return new pc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl)}):[]},Mc=function(e,t){var n=null;return e.c(t.ed(e.g,e.uid).then(function(t){return Oc(e,t),n=Lc(e,t,"reauthenticate"),e.ka=null,e.reload()}).then(function(){return n}),!0)};fc.prototype.reauthenticate=function(e){return Vi("firebase.User.prototype.reauthenticate is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.reauthenticateWithCredential(e)},fc.prototype.reauthenticateWithCredential=function(e){return Mc(this,e).then(function(){})};var Nc=function(e,t){return Rc(e).then(function(){if(V(Ec(e),t))return bc(e).then(function(){throw new oo("provider-already-linked")})})},Dc=function(e,t){var n=null;return e.c(Nc(e,t.providerId).then(function(){return e.getToken()}).then(function(n){return t.cd(e.g,n)}).then(function(t){return n=Lc(e,t,"link"),Fc(e,t)}).then(function(){return n}))};fc.prototype.link=function(e){return Vi("firebase.User.prototype.link is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.linkWithCredential(e)},fc.prototype.linkWithCredential=function(e){return Dc(this,e).then(function(e){return e.user})};var Lc=function(e,t,n){var r=Po(t);return t=vs(t),Qi({user:e,credential:r,additionalUserInfo:t,operationType:n})},Fc=function(e,t){return Oc(e,t),e.reload().then(function(){return e})};(e=fc.prototype).updateEmail=function(e){var t=this;return this.c(this.getToken().then(function(n){return t.g.updateEmail(n,e)}).then(function(e){return Oc(t,e),t.reload()}))},e.updatePassword=function(e){var t=this;return this.c(this.getToken().then(function(n){return t.g.updatePassword(n,e)}).then(function(e){return Oc(t,e),t.reload()}))},e.updateProfile=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Tc(this);var t=this;return this.c(this.getToken().then(function(n){return t.g.updateProfile(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Oc(t,e),Ic(t,"displayName",e.displayName||null),Ic(t,"photoURL",e.photoUrl||null),bc(t)}).then(Cc))},e.unlink=function(e){var t=this;return this.c(Rc(this).then(function(n){return V(Ec(t),e)?ea(t.g,n,[e]).then(function(e){var n={};return W(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),W(Ec(t),function(e){n[e]||xc(t,e)}),bc(t)}):bc(t).then(function(){throw new oo("no-such-provider")})}))},e.delete=function(){var e=this;return this.c(this.getToken().then(function(t){return Oa(e.g,da,{idToken:t})}).then(function(){e.dispatchEvent(new hc("userDeleted"))})).then(function(){for(var t=0;t<e.ba.length;t++)e.ba[t].cancel("app-deleted");e.ba=[],e.Kd=!0,vc(e),Xi(e,"refreshToken",null),e.m&&e.m.unsubscribe(e)})},e.Fd=function(e,t){return!!("linkViaPopup"==e&&(this.ca||null)==t&&this.aa||"reauthViaPopup"==e&&(this.ca||null)==t&&this.aa||"linkViaRedirect"==e&&(this.za||null)==t||"reauthViaRedirect"==e&&(this.za||null)==t)},e.Va=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.ca||null)||(n&&this.Pa?this.Pa(n):t&&!n&&this.aa&&this.aa(t),this.F&&(this.F.cancel(),this.F=null),delete this.aa,delete this.Pa)},e.zb=function(e,t){return"linkViaPopup"==e&&t==(this.ca||null)?m(this.Nd,this):"reauthViaPopup"==e&&t==(this.ca||null)?m(this.Od,this):"linkViaRedirect"==e&&(this.za||null)==t?m(this.Nd,this):"reauthViaRedirect"==e&&(this.za||null)==t?m(this.Od,this):null},e.hc=function(){return Fi(this.uid+":::")};var Uc=function(e,t){return Wc(e,"linkViaPopup",t,function(){return Nc(e,t.providerId).then(function(){return bc(e)})},!1)};fc.prototype.linkWithPopup=function(e){return Uc(this,e).then(function(e){return e?Qi({user:e.user,credential:e.credential,operationType:e.operationType}):e})};var jc=function(e,t){return Wc(e,"reauthViaPopup",t,function(){return fn()},!0)};fc.prototype.reauthenticateWithPopup=function(e){return jc(this,e).then(function(e){return e?Qi({user:e.user,credential:e.credential,operationType:e.operationType}):e})};var Wc=function(e,t,n,i,o){if(!Oi())return gn(new oo("operation-not-supported-in-this-environment"));if(e.ka&&!o)return gn(e.ka);var a=io(n.providerId),s=e.hc(),c=null;(!Mi()||Ci())&&e.v&&n.isOAuthProvider&&(c=Va(e.v,e.j,e.D,t,n,null,s,r.SDK_VERSION||null));var u=vi(c,a&&a.Mb,a&&a.Lb);return i=i().then(function(){if(Hc(e),!o)return e.getToken().then(function(){})}).then(function(){return e.m.Nb(u,t,n,s,!!c)}).then(function(){return new ln(function(n,r){e.Va(t,null,new oo("cancelled-popup-request"),e.ca||null),e.aa=n,e.Pa=r,e.ca=s,e.F=e.m.Vb(e,t,u,s)})}).then(function(e){return u&&mi(u),e}).f(function(e){throw u&&mi(u),e}),e.c(i,o)};fc.prototype.linkWithRedirect=function(e){var t=this;return Bc(this,"linkViaRedirect",e,function(){return Nc(t,e.providerId)},!1)},fc.prototype.reauthenticateWithRedirect=function(e){return Bc(this,"reauthViaRedirect",e,function(){return fn()},!0)};var Bc=function(e,t,n,r,i){if(!Oi())return gn(new oo("operation-not-supported-in-this-environment"));if(e.ka&&!i)return gn(e.ka);var o=null,a=e.hc();return r=r().then(function(){if(Hc(e),!i)return e.getToken().then(function(){})}).then(function(){return e.za=a,bc(e)}).then(function(t){return e.Sa&&(t=e.Sa,t=t.i.set($c,e.C(),t.u)),t}).then(function(){return e.m.Ob(t,n,a)}).f(function(t){if(o=t,e.Sa)return Xc(e.Sa);throw o}).then(function(){if(o)throw o}),e.c(r,i)},Hc=function(e){if(!e.m||!e.vc){if(e.m&&!e.vc)throw new oo("internal-error");throw new oo("auth-domain-config-required")}};fc.prototype.Nd=function(e,t){var n=this;this.F&&(this.F.cancel(),this.F=null);var r=null,i=this.getToken().then(function(r){return ia(n.g,{requestUri:e,sessionId:t,idToken:r})}).then(function(e){return r=Lc(n,e,"link"),Fc(n,e)}).then(function(){return r});return this.c(i)},fc.prototype.Od=function(e,t){var n=this;this.F&&(this.F.cancel(),this.F=null);var r=null,i=fn().then(function(){return ho(oa(n.g,{requestUri:e,sessionId:t}),n.uid)}).then(function(e){return r=Lc(n,e,"reauthenticate"),Oc(n,e),n.ka=null,n.reload()}).then(function(){return r});return this.c(i,!0)},fc.prototype.sendEmailVerification=function(){var e=this;return this.c(this.getToken().then(function(t){return e.g.sendEmailVerification(t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},fc.prototype.c=function(e,t){var n=this,r=zc(this,e,t);return this.ba.push(r),yn(r,function(){G(n.ba,r)}),r};var zc=function(e,t,n){return e.ka&&!n?(t.cancel(),gn(e.ka)):t.f(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.ka||e.dispatchEvent(new hc("userInvalidated")),e.ka=t),t})};fc.prototype.toJSON=function(){return this.C()},fc.prototype.C=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,identifierNumber:this.identifierNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.j,appName:this.D,authDomain:this.v,stsTokenManager:this.ia.C(),redirectEventId:this.za||null};return W(this.providerData,function(t){e.providerData.push(Ji(t))}),e};var qc=function(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n.idToken=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-y())/1e3;var r=new fc(t,n,e);return e.providerData&&W(e.providerData,function(e){e&&kc(r,Qi(e))}),e.redirectEventId&&(r.za=e.redirectEventId),r},Vc=function(e,t,n){var r=new fc(e,t);return n&&(r.Sa=n),r.reload().then(function(){return r})},Gc=function(e){this.u=e,this.i=Es()},$c={name:"redirectUser",M:!1},Xc=function(e){return e.i.remove($c,e.u)},Kc=function(e,t){return e.i.get($c,e.u).then(function(e){return e&&t&&(e.authDomain=t),qc(e||{})})},Yc=function(e){this.u=e,this.i=Es()},Qc={name:"authUser",M:!0},Jc=function(e,t){return e.i.set(Qc,t.C(),e.u)},Zc=function(e){return e.i.remove(Qc,e.u)},eu=function(e,t){return e.i.get(Qc,e.u).then(function(e){return e&&t&&(e.authDomain=t),qc(e||{})})},tu=function(e){if(this.Fa=!1,Xi(this,"app",e),!hu(this).options||!hu(this).options.apiKey)throw new oo("invalid-api-key");e=r.SDK_VERSION?xi(r.SDK_VERSION):null,this.g=new Lo(hu(this).options&&hu(this).options.apiKey,null,e),this.ba=[],this.Ca=[],this.ub=[],this.mf=r.INTERNAL.createSubscribe(m(this.Ze,this)),this.Ic=void 0,r.INTERNAL.createSubscribe(m(this.af,this)),su(this,null),this.ta=new Yc(hu(this).options.apiKey+":"+hu(this).name),this.pb=new Gc(hu(this).options.apiKey+":"+hu(this).name),this.cc=this.c(uu(this)),this.qa=this.c(lu(this)),this.bd=!1,this.Vc=m(this.Gf,this),this.qe=m(this.gb,this),this.vb=m(this.Xc,this),this.oe=m(this.Ue,this),this.pe=m(this.Ve,this),ru(this),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.Ia=0};tu.prototype.toJSON=function(){return{apiKey:hu(this).options.apiKey,authDomain:hu(this).options.authDomain,appName:hu(this).name,currentUser:fu(this)&&fu(this).C()}};var nu=function(e){return e.Ie||gn(new oo("auth-domain-config-required"))},ru=function(e){var t=hu(e).options.authDomain,n=hu(e).options.apiKey;t&&Oi()&&(e.Ie=e.cc.then(function(){if(!e.Fa)return e.m=ec(t,n,hu(e).name),e.m.subscribe(e),fu(e)&&Sc(fu(e)),e.Sb&&(Sc(e.Sb),e.Sb=null),e.m}))};(e=tu.prototype).Fd=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.ca==t&&!!this.aa;default:return!1}},e.Va=function(e,t,n,r){"signInViaPopup"==e&&this.ca==r&&(n&&this.Pa?this.Pa(n):t&&!n&&this.aa&&this.aa(t),this.F&&(this.F.cancel(),this.F=null),delete this.aa,delete this.Pa)},e.zb=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.ca==t&&this.aa?m(this.Ke,this):null},e.Ke=function(e,t){var n=this;e={requestUri:e,sessionId:t},this.F&&(this.F.cancel(),this.F=null);var r=null,i=null,o=ra(n.g,e).then(function(e){return r=Po(e),i=vs(e),e});return e=n.cc.then(function(){return o}).then(function(e){return au(n,e)}).then(function(){return Qi({user:fu(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),this.c(e)},e.hc=function(){return Fi()};var iu=function(e,t){if(!Oi())return gn(new oo("operation-not-supported-in-this-environment"));var n=io(t.providerId),i=e.hc(),o=null;(!Mi()||Ci())&&hu(e).options.authDomain&&t.isOAuthProvider&&(o=Va(hu(e).options.authDomain,hu(e).options.apiKey,hu(e).name,"signInViaPopup",t,null,i,r.SDK_VERSION||null));var a=vi(o,n&&n.Mb,n&&n.Lb),n=nu(e).then(function(e){return e.Nb(a,"signInViaPopup",t,i,!!o)}).then(function(){return new ln(function(t,n){e.Va("signInViaPopup",null,new oo("cancelled-popup-request"),e.ca),e.aa=t,e.Pa=n,e.ca=i,e.F=e.m.Vb(e,"signInViaPopup",a,i)})}).then(function(e){return a&&mi(a),e}).f(function(e){throw a&&mi(a),e});return e.c(n)};tu.prototype.signInWithPopup=function(e){return iu(this,e).then(function(e){return e?Qi({user:e.user,credential:e.credential,operationType:e.operationType}):e})},tu.prototype.getRedirectResult=function(){return ou(this).then(function(e){return e?Qi({user:e.user,credential:e.credential,operationType:e.operationType}):e})},tu.prototype.signInWithRedirect=function(e){if(!Oi())return gn(new oo("operation-not-supported-in-this-environment"));var t=this,n=nu(this).then(function(){return t.m.Ob("signInViaRedirect",e)});return this.c(n)};var ou=function(e){if(!Oi())return gn(new oo("operation-not-supported-in-this-environment"));var t=nu(e).then(function(){return e.m.getRedirectResult()});return e.c(t)},au=function(e,t){var n={};return n.apiKey=hu(e).options.apiKey,n.authDomain=hu(e).options.authDomain,n.appName=hu(e).name,e.cc.then(function(){return Vc(n,t,e.pb)}).then(function(t){return fu(e)&&t.uid==fu(e).uid?(fu(e).copy(t),e.gb(t)):(su(e,t),Sc(t),e.gb(t))}).then(function(){e.Na()})},su=function(e,t){fu(e)&&(_c(fu(e),e.qe),st(fu(e),"tokenChanged",e.vb),st(fu(e),"userDeleted",e.oe),st(fu(e),"userInvalidated",e.pe),vc(fu(e))),t&&(t.Ac.push(e.qe),rt(t,"tokenChanged",e.vb),rt(t,"userDeleted",e.oe),rt(t,"userInvalidated",e.pe),0<e.Ia&&mc(t)),Xi(e,"currentUser",t)};tu.prototype.signOut=function(){var e=this,t=this.qa.then(function(){return fu(e)?(su(e,null),Zc(e.ta).then(function(){e.Na()})):fn()});return this.c(t)};var cu=function(e){var t=Kc(e.pb,hu(e).options.authDomain).then(function(t){return(e.Sb=t)&&(t.Sa=e.pb),Xc(e.pb)});return e.c(t)},uu=function(e){var t=hu(e).options.authDomain,n=cu(e).then(function(){return eu(e.ta,t)}).then(function(t){return t?(t.Sa=e.pb,e.Sb&&(e.Sb.za||null)==(t.za||null)?t:t.reload().then(function(){return Jc(e.ta,t).then(function(){return t})}).f(function(n){return"auth/network-request-failed"==n.code?t:Zc(e.ta)})):null}).then(function(t){su(e,t||null)});return e.c(n)},lu=function(e){return e.cc.then(function(){return e.getRedirectResult()}).f(function(){}).then(function(){if(!e.Fa)return e.Vc()}).f(function(){}).then(function(){if(!e.Fa){e.bd=!0;var t=e.ta;t.i.addListener(Qc,t.u,e.Vc)}})};(e=tu.prototype).Gf=function(){var e=this;return eu(this.ta,hu(this).options.authDomain).then(function(t){if(!e.Fa){var n;if(n=fu(e)&&t){n=fu(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return fu(e).copy(t),fu(e).getToken();(fu(e)||t)&&(su(e,t),t&&(Sc(t),t.Sa=e.pb),e.m&&e.m.subscribe(e),e.Na())}})},e.gb=function(e){return Jc(this.ta,e)},e.Xc=function(){this.Na(),this.gb(fu(this))},e.Ue=function(){this.signOut()},e.Ve=function(){this.signOut()};var du=function(e,t){var n=null,r=null;return e.c(t.then(function(t){return n=Po(t),r=vs(t),au(e,t)}).then(function(){return Qi({user:fu(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))};(e=tu.prototype).Ze=function(e){var t=this;this.addAuthTokenListener(function(){e.next(fu(t))})},e.af=function(e){var t=this;mu(this,function(){e.next(fu(t))})},e.onAuthStateChanged=function(e,t,n){var i=this;return this.bd&&r.Promise.resolve().then(function(){p(e)?e(fu(i)):p(e.next)&&e.next(fu(i))}),this.mf(e,t,n)},e.getToken=function(e){var t=this,n=this.qa.then(function(){return fu(t)?fu(t).getToken(e).then(function(e){return{accessToken:e}}):null});return this.c(n)},e.signInWithCustomToken=function(e){var t=this;return this.qa.then(function(){return du(t,Oa(t.g,Ea,{token:e}))}).then(function(e){return e=e.user,Ic(e,"isAnonymous",!1),t.gb(e)}).then(function(){return fu(t)})},e.signInWithEmailAndPassword=function(e,t){var n=this;return this.qa.then(function(){return du(n,Oa(n.g,ka,{email:e,password:t}))}).then(function(e){return e.user})},e.createUserWithEmailAndPassword=function(e,t){var n=this;return this.qa.then(function(){return du(n,Oa(n.g,ua,{email:e,password:t}))}).then(function(e){return e.user})},e.signInWithCredential=function(e){return pu(this,e).then(function(e){return e.user})};var pu=function(e,t){return e.qa.then(function(){return du(e,t.Ab(e.g))})};tu.prototype.signInAnonymously=function(){var e=fu(this),t=this;return e&&e.isAnonymous?fn(e):this.qa.then(function(){return du(t,t.g.signInAnonymously())}).then(function(e){return e=e.user,Ic(e,"isAnonymous",!0),t.gb(e)}).then(function(){return fu(t)})};var hu=function(e){return e.app},fu=function(e){return e.currentUser};tu.prototype.getUid=function(){return fu(this)&&fu(this).uid||null};var gu=function(e){return fu(e)&&fu(e)._lat||null};(e=tu.prototype).Na=function(){if(this.bd){for(var e=0;e<this.Ca.length;e++)this.Ca[e]&&this.Ca[e](gu(this));if(this.Ic!==this.getUid()&&this.ub.length)for(this.Ic=this.getUid(),e=0;e<this.ub.length;e++)this.ub[e]&&this.ub[e](gu(this))}},e.Ae=function(e){this.addAuthTokenListener(e),this.Ia++,0<this.Ia&&fu(this)&&mc(fu(this))},e.uf=function(e){var t=this;W(this.Ca,function(n){n==e&&t.Ia--}),0>this.Ia&&(this.Ia=0),0==this.Ia&&fu(this)&&vc(fu(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.Ca.push(e),this.c(this.qa.then(function(){t.Fa||V(t.Ca,e)&&e(gu(t))}))},e.removeAuthTokenListener=function(e){X(this.Ca,function(t){return t==e})};var mu=function(e,t){e.ub.push(t),e.c(e.qa.then(function(){!e.Fa&&V(e.ub,t)&&e.Ic!==e.getUid()&&(e.Ic=e.getUid(),t(gu(e)))}))};(e=tu.prototype).delete=function(){this.Fa=!0;for(var e=0;e<this.ba.length;e++)this.ba[e].cancel("app-deleted");return this.ba=[],this.ta&&(e=this.ta).i.removeListener(Qc,e.u,this.Vc),this.m&&this.m.unsubscribe(this),r.Promise.resolve()},e.c=function(e){var t=this;return this.ba.push(e),yn(e,function(){G(t.ba,e)}),e},e.fetchProvidersForEmail=function(e){return this.c(Ko(this.g,e))},e.verifyPasswordResetCode=function(e){return this.checkActionCode(e).then(function(e){return e.data.email})},e.confirmPasswordReset=function(e,t){return this.c(this.g.confirmPasswordReset(e,t).then(function(){}))},e.checkActionCode=function(e){return this.c(this.g.checkActionCode(e).then(function(e){return new hs(e)}))},e.applyActionCode=function(e){return this.c(this.g.applyActionCode(e).then(function(){}))},e.sendPasswordResetEmail=function(e){return this.c(this.g.sendPasswordResetEmail(e).then(function(){}))};var vu="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),yu=function(e,t){return{name:e||"",ja:"a valid string",optional:!!t,la:l}},_u=function(e){return{name:e||"",ja:"a valid object",optional:!1,la:h}},bu=function(e,t){return{name:e||"",ja:"a function",optional:!!t,la:p}},Su=function(){return{name:"",ja:"null",optional:!1,la:a}},wu=function(){return{name:"credential",ja:"a valid credential",optional:!1,la:function(e){return!!e&&!!e.Ab}}},Cu=function(){return{name:"authProvider",ja:"a valid Auth provider",optional:!1,la:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}},Tu=function(e,t,n,r){return{name:n||"",ja:e.ja+" or "+t.ja,optional:!!r,la:function(n){return e.la(n)||t.la(n)}}},Eu=function(e,t){for(var n in t){var r=t[n].name;e[r]=xu(r,e[n],t[n].a)}},ku=function(e,t,n,r){e[t]=xu(t,n,r)},xu=function(e,t,n){if(!n)return t;var r=Iu(e);e=function(){var e=Array.prototype.slice.call(arguments),i;e:{i=Array.prototype.slice.call(e);var o;o=0;for(var a=!1,s=0;s<n.length;s++)if(n[s].optional)a=!0;else{if(a)throw new oo("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(a=n.length,i.length<o||a<i.length)i="Expected "+(o==a?1==o?"1 argument":o+" arguments":o+"-"+a+" arguments")+" but got "+i.length+".";else{for(o=0;o<i.length;o++)if(a=n[o].optional&&void 0===i[o],!n[o].la(i[o])&&!a){if(i=n[o],0>o||o>=vu.length)throw new oo("internal-error","Argument validator received an unsupported number of arguments.");i=vu[o]+" argument "+(i.name?'"'+i.name+'" ':"")+"must be "+i.ja+".";break e}i=null}}if(i)throw new oo("argument-error",r+" failed: "+i);return t.apply(this,e)};for(var i in t)e[i]=t[i];for(i in t.prototype)e.prototype[i]=t.prototype[i];return e},Iu=function(e){return(e=e.split("."))[e.length-1]};Eu(tu.prototype,{applyActionCode:{name:"applyActionCode",a:[yu("code")]},checkActionCode:{name:"checkActionCode",a:[yu("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[yu("code"),yu("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[yu("email"),yu("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[yu("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[Tu(_u(),bu(),"nextOrObserver"),bu("opt_error",!0),bu("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[yu("email")]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[wu()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[yu("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[yu("email"),yu("password")]},signInWithPopup:{name:"signInWithPopup",a:[Cu()]},signInWithRedirect:{name:"signInWithRedirect",a:[Cu()]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[yu(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[yu("code")]}}),Eu(fc.prototype,{delete:{name:"delete",a:[]},getToken:{name:"getToken",a:[{name:"opt_forceRefresh",ja:"a boolean",optional:!0,la:function(e){return"boolean"==typeof e}}]},link:{name:"link",a:[wu()]},linkWithCredential:{name:"linkWithCredential",a:[wu()]},linkWithPopup:{name:"linkWithPopup",a:[Cu()]},linkWithRedirect:{name:"linkWithRedirect",a:[Cu()]},reauthenticate:{name:"reauthenticate",a:[wu()]},reauthenticateWithCredential:{name:"reauthenticateWithCredential",a:[wu()]},reauthenticateWithPopup:{name:"reauthenticateWithPopup",a:[Cu()]},reauthenticateWithRedirect:{name:"reauthenticateWithRedirect",a:[Cu()]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[]},toJSON:{name:"toJSON",a:[yu(null,!0)]},unlink:{name:"unlink",a:[yu("provider")]},updateEmail:{name:"updateEmail",a:[yu("email")]},updatePassword:{name:"updatePassword",a:[yu("password")]},updateProfile:{name:"updateProfile",a:[_u("profile")]}}),Eu(ln.prototype,{f:{name:"catch"},then:{name:"then"}}),ku(xo,"credential",function(e,t){return new ko(e,t)},[yu("email"),yu("password")]),Eu(yo.prototype,{addScope:{name:"addScope",a:[yu("scope")]},setCustomParameters:{name:"setCustomParameters",a:[_u("customOAuthParameters")]}}),ku(yo,"credential",_o,[Tu(yu(),_u(),"token")]),Eu(bo.prototype,{addScope:{name:"addScope",a:[yu("scope")]},setCustomParameters:{name:"setCustomParameters",a:[_u("customOAuthParameters")]}}),ku(bo,"credential",So,[Tu(yu(),_u(),"token")]),Eu(wo.prototype,{addScope:{name:"addScope",a:[yu("scope")]},setCustomParameters:{name:"setCustomParameters",a:[_u("customOAuthParameters")]}}),ku(wo,"credential",Co,[Tu(yu(),Tu(_u(),Su()),"idToken"),Tu(yu(),Su(),"accessToken",!0)]),Eu(To.prototype,{setCustomParameters:{name:"setCustomParameters",a:[_u("customOAuthParameters")]}}),ku(To,"credential",Eo,[Tu(yu(),_u(),"token"),yu("secret",!0)]),Eu(oo.prototype,{toJSON:{name:"toJSON",a:[yu(null,!0)]}}),Eu(Mo.prototype,{toJSON:{name:"toJSON",a:[yu(null,!0)]}}),Eu(lo.prototype,{toJSON:{name:"toJSON",a:[yu(null,!0)]}}),function(){if(void 0===r||!r.INTERNAL||!r.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:tu,Error:oo};ku(e,"EmailAuthProvider",xo,[]),ku(e,"FacebookAuthProvider",yo,[]),ku(e,"GithubAuthProvider",bo,[]),ku(e,"GoogleAuthProvider",wo,[]),ku(e,"TwitterAuthProvider",To,[]),r.INTERNAL.registerService("auth",function(e,t){return e=new tu(e),t({INTERNAL:{getUid:m(e.getUid,e),getToken:m(e.getToken,e),addAuthTokenListener:m(e.Ae,e),removeAuthTokenListener:m(e.uf,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),r.INTERNAL.extendNamespace({User:fc})}()}).call(this)}).call(void 0!==typeof t?t:void 0!==typeof self?self:void 0!==typeof window?window:{}),e.exports=r.auth}).call(t,n(37))},function(module,exports,__webpack_require__){(function(global){var firebase=__webpack_require__(655);(function(){!function(){function n(e){return void 0!==e}function ba(){}function ca(e){e.Vb=function(){return e.Ye?e.Ye:e.Ye=new e}}function da(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function ea(e){return"array"==da(e)}function fa(e){var t=da(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"string"==typeof e}function ga(e){return"number"==typeof e}function ha(e){return"function"==da(e)}function ia(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ja(e,t,n){return e.call.apply(e.bind,arguments)}function ka(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function q(e,t,n){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka).apply(null,arguments)}function la(e,t){function c(){}c.prototype=t.prototype,e.wg=t.prototype,e.prototype=new c,e.prototype.constructor=e,e.sg=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ma(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(e){}throw Error("Invalid JSON string: "+a)}function na(){this.Fd=void 0}function oa(e,t,n){switch(typeof t){case"string":pa(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":n.push(t);break;case"undefined":n.push("null");break;case"object":if(null==t){n.push("null");break}if(ea(t)){var r=t.length;n.push("[");for(var i="",o=0;o<r;o++)n.push(i),i=t[o],oa(e,e.Fd?e.Fd.call(t,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&"function"!=typeof(i=t[o])&&(n.push(r),pa(o,n),n.push(":"),oa(e,e.Fd?e.Fd.call(t,o,i):i,n),r=",");n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}function pa(e,t){t.push('"',e.replace(ra,function(e){if(e in qa)return qa[e];var t=e.charCodeAt(0),n="\\u";return 16>t?n+="000":256>t?n+="00":4096>t&&(n+="0"),qa[e]=n+t.toString(16)}),'"')}function sa(){this.Wa=-1}function ta(){this.Wa=-1,this.Wa=64,this.M=[],this.Wd=[],this.Af=[],this.zd=[],this.zd[0]=128;for(var e=1;e<this.Wa;++e)this.zd[e]=0;this.Pd=this.$b=0,this.reset()}function ua(e,t,n){n||(n=0);var r=e.Af;if(p(t))for(var i=0;16>i;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}t=e.M[0],n=e.M[1];for(var a=e.M[2],s=e.M[3],c=e.M[4],u,i=0;80>i;i++)40>i?20>i?(o=s^n&(a^s),u=1518500249):(o=n^a^s,u=1859775393):60>i?(o=n&a|s&(n|a),u=2400959708):(o=n^a^s,u=3395469782),o=(t<<5|t>>>27)+o+c+u+r[i]&4294967295,c=s,s=a,a=4294967295&(n<<30|n>>>2),n=t,t=o;e.M[0]=e.M[0]+t&4294967295,e.M[1]=e.M[1]+n&4294967295,e.M[2]=e.M[2]+a&4294967295,e.M[3]=e.M[3]+s&4294967295,e.M[4]=e.M[4]+c&4294967295}function Da(e,t){var n=Ea(e,t,void 0);return 0>n?null:p(e)?e.charAt(n):e[n]}function Ea(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&t.call(n,i[o],o,e))return o;return-1}function Fa(e,n){var r=xa(e,n);0<=r&&t.splice.call(e,r,1)}function Ga(e,n,r){return 2>=arguments.length?t.slice.call(e,n):t.slice.call(e,n,r)}function Ha(e,t){e.sort(t||Ia)}function Ia(e,t){return e>t?1:e<t?-1:0}function v(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function Ja(e,t){var n={},r;for(r in e)n[r]=t.call(void 0,e[r],r,e);return n}function Ka(e,t){for(var n in e)if(!t.call(void 0,e[n],n,e))return!1;return!0}function La(e){var t=0,n;for(n in e)t++;return t}function Ma(e){for(var t in e)return t}function Na(e){var t=[],n=0,r;for(r in e)t[n++]=e[r];return t}function Oa(e){var t=[],n=0,r;for(r in e)t[n++]=r;return t}function Pa(e,t){for(var n in e)if(e[n]==t)return!0;return!1}function Qa(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r}function Ra(e,t){var n=Qa(e,t,void 0);return n&&e[n]}function Sa(e){for(var t in e)return!1;return!0}function Ta(e){var t={},n;for(n in e)t[n]=e[n];return t}function ab(e,t){if(!fa(e))throw Error("encodeByteArray takes an array as a parameter");bb();for(var n=t?Za:Ya,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|(l=c?e[i+2]:0)>>6,l=63&l;c||(l=64,a||(s=64)),r.push(n[u],n[o],n[s],n[l])}return r.join("")}function bb(){if(!Ya){Ya={},Za={},$a={};for(var e=0;65>e;e++)Ya[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Za[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),$a[Za[e]]=e,62<=e&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)]=e)}}function cb(e,t){if(!e)throw db(t)}function db(e){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)}function eb(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function fb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gb(e){var t=[];return fb(e,function(e,n){ea(n)?ya(n,function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""}function ib(){var e=this;this.reject=this.resolve=null,this.ra=new hb(function(t,n){e.resolve=t,e.reject=n})}function jb(e,t){return function(n,r){n?e.reject(n):e.resolve(r),ha(t)&&(kb(e.ra),1===t.length?t(n):t(n,r))}}function kb(e){e.then(void 0,ba)}function lb(e){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(e):ma(e)}function x(e){if("undefined"!=typeof JSON&&n(JSON.stringify))e=JSON.stringify(e);else{var t=[];oa(new na,e,t),e=t.join("")}return e}function mb(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);55296<=i&&56319>=i&&(i-=55296,r++,cb(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(e.charCodeAt(r)-56320)),128>i?t[n++]=i:(2048>i?t[n++]=i>>6|192:(65536>i?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function nb(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t++:2048>r?t+=2:55296<=r&&56319>=r?(t+=4,n++):t+=3}return t}function y(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function A(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e=e+" failed: "+r+" argument "}function B(e,t,r,i){if((!i||n(r))&&!ha(r))throw Error(A(e,t,i)+"must be a valid function.")}function ob(e,t,r){if(n(r)&&(!ia(r)||null===r))throw Error(A(e,t,!0)+"must be a valid context object.")}function pb(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function C(e,t){this.name=e,this.R=t}function qb(e,t){return new C(e,t)}function rb(e,t){return sb(e.name,t.name)}function tb(e,t){return sb(e,t)}function ub(e){this.uc=e,this.Cd="firebase:"}function vb(){this.pc={}}function wb(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ub(t)}}catch(e){}return new vb}function zb(e,t,n,r,i){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Sc=t,this.pe=n,this.qg=r,this.gf=i||"",this.$a=xb.get("host:"+e)||this.host}function Ab(e,t){t!==e.$a&&(e.$a=t,"s-"===e.$a.substr(0,2)&&xb.set("host:"+e.host,e.$a))}function Bb(e,t,n){if(D("string"==typeof t,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),t===Cb)t=(e.Sc?"wss://":"ws://")+e.$a+"/.ws?";else{if(t!==Db)throw Error("Unknown connection type: "+t);t=(e.Sc?"https://":"http://")+e.$a+"/.lp?"}e.host!==e.$a&&(n.ns=e.pe);var r=[];return v(n,function(e,t){r.push(t+"="+e)}),t+r.join("&")}function Eb(e,t){return e&&"object"==typeof e?(D(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e}function Fb(e,t){var n=new Gb;return Hb(e,new E(""),function(e,r){Ib(n,e,Jb(r,t))}),n}function Jb(e,t){var n=Eb(n=e.C().H(),t),r;if(e.J()){var i=Eb(e.Ca(),t);return i!==e.Ca()||n!==e.C().H()?new Kb(i,G(n)):e}return r=e,n!==e.C().H()&&(r=r.fa(new Kb(n))),e.O(H,function(e,n){var i=Jb(n,t);i!==n&&(r=r.T(e,i))}),r}function Nb(e){try{var t;bb();for(var n=$a,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=c&&r.push(s<<6&192|c))}if(8192>r.length)t=String.fromCharCode.apply(null,r);else{for(e="",n=0;n<r.length;n+=8192)e+=String.fromCharCode.apply(null,Ga(r,n,n+8192));t=e}return t}catch(e){I("base64Decode failed: ",e)}return null}function Ob(e){var t=mb(e);(e=new ta).update(t);var t=[],n=8*e.Pd;56>e.$b?e.update(e.zd,56-e.$b):e.update(e.zd,e.Wa-(e.$b-56));for(var r=e.Wa-1;56<=r;r--)e.Wd[r]=255&n,n/=256;for(ua(e,e.Wd),r=n=0;5>r;r++)for(var i=24;0<=i;i-=8)t[n]=e.M[r]>>i&255,++n;return ab(t)}function Pb(e){for(var t="",n=0;n<arguments.length;n++)t=fa(arguments[n])?t+Pb.apply(null,arguments[n]):"object"==typeof arguments[n]?t+x(arguments[n]):t+arguments[n],t+=" ";return t}function Sb(e,t){cb(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?Qb=q(console.log,console):"object"==typeof console.log&&(Qb=function(e){})),t&&yb.set("logging_enabled",!0)):ha(e)?Qb=e:(Qb=null,yb.remove("logging_enabled"))}function I(e){if(!0===Rb&&(Rb=!1,null===Qb&&!0===yb.get("logging_enabled")&&Sb(!0)),Qb){var t=Pb.apply(null,arguments);Qb(t)}}function Tb(e){return function(){I(e,arguments)}}function Ub(e){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+Pb.apply(null,arguments);console.error}}function Vb(e){var t=Pb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function J(e){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+Pb.apply(null,arguments);console.warn}}function Wb(e){var t,n,r,i,o,a=e;if(o=n=e=t="",r=!0,i="https",p(a)){var s=a.indexOf("//");for(0<=s&&(i=a.substring(0,s-1),a=a.substring(s+2)),-1===(s=a.indexOf("/"))&&(s=a.length),t=a.substring(0,s),o="",a=a.substring(s).split("/"),s=0;s<a.length;s++)if(0<a[s].length){var c=a[s];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(e){}o+="/"+c}3===(a=t.split(".")).length?(e=a[1],n=a[0].toLowerCase()):2===a.length&&(e=a[0]),0<=(s=t.indexOf(":"))&&(r="https"===i||"wss"===i)}return"firebase"===e&&Vb(t+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||Vb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&J("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{jc:new zb(t,r,n,"ws"===i||"wss"===i),path:new E(o)}}function Xb(e){return ga(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function Yb(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function sb(e,t){if(e===t)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return-1;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return 1;var n=Zb(e),r=Zb(t);return null!==n?null!==r?0==n-r?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}function $b(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+x(t))}function ac(e){if("object"!=typeof e||null===e)return x(e);var t=[],n;for(n in e)t.push(n);t.sort(),n="{";for(var r=0;r<t.length;r++)0!==r&&(n+=","),n+=x(t[r]),n+=":",n+=ac(e[t[r]]);return n+"}"}function bc(e,t){if(e.length<=t)return[e];for(var n=[],r=0;r<e.length;r+=t)r+t>e?n.push(e.substring(r,e.length)):n.push(e.substring(r,r+t));return n}function cc(e,t){if(ea(e))for(var n=0;n<e.length;++n)t(n,e[n]);else v(e,t)}function dc(e){D(!Xb(e),"Invalid JSON number");var t,n,r,i;for(0===e?(r=n=0,t=-1/0==1/e?1:0):(t=0>e,(e=Math.abs(e))>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=r+1023,r=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),i=[],e=52;e;--e)i.push(r%2?1:0),r=Math.floor(r/2);for(e=11;e;--e)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(t?1:0),i.reverse(),t=i.join(""),n="",e=0;64>e;e+=8)1===(r=parseInt(t.substr(e,8),2).toString(16)).length&&(r="0"+r),n+=r;return n.toLowerCase()}function Zb(e){return ec.test(e)&&-2147483648<=(e=Number(e))&&2147483647>=e?e:null}function fc(e){try{e()}catch(e){setTimeout(function(){throw J("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function gc(e,t,n){Object.defineProperty(e,t,{get:n})}function hc(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n}function ic(e){var t={},n={},r={},i="";try{var o=e.split("."),t=lb(Nb(o[0])||""),n=lb(Nb(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(e){}return{tg:t,Je:n,data:r,mg:i}}function jc(e){var t=(e=ic(e)).Je;return!!e.mg&&!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}function kc(e){return"object"==typeof(e=ic(e).Je)&&!0===w(e,"admin")}function lc(){}function nc(e){return q(e.compare,e)}function pc(e){D(!e.e()&&".priority"!==K(e),"Can't create PathIndex with empty path or .priority key"),this.bc=e}function rc(){}function sc(){}function uc(){}function xc(e,t){this.od=e,this.cc=t}function yc(e,t,n){return new xc(Ja(e.od,function(r,i){var o=w(e.cc,i);if(D(o,"Missing index implementation for "+i),r===mc){if(o.xc(t.R)){for(var a=[],s=n.Wb(qb),c=M(s);c;)c.name!=t.name&&a.push(c),c=M(s);return a.push(t),zc(a,nc(o))}return mc}return o=n.get(t.name),a=r,o&&(a=a.remove(new C(t.name,o))),a.Oa(t,t.R)}),e.cc)}function Ac(e,t,n){return new xc(Ja(e.od,function(e){if(e===mc)return e;var r=n.get(t.name);return r?e.remove(new C(t.name,r)):e}),e.cc)}function Kb(e,t){this.B=e,D(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=t||L,Cc(this.aa),this.Db=null}function Gc(){this.set={}}function Hc(e,t){v(e.set,function(e,n){t(n,e)})}function Ic(e){D(ea(e)&&0<e.length,"Requires a non-empty array"),this.Bf=e,this.Dc={}}function Jc(e,t){D(Da(e.Bf,function(e){return e===t}),"Unknown event: "+t)}function Lc(){if(Ic.call(this,["online"]),this.hc=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!pb()){var e=this;window.addEventListener("online",function(){e.hc||(e.hc=!0,e.Ge("online",!0))},!1),window.addEventListener("offline",function(){e.hc&&(e.hc=!1,e.Ge("online",!1))},!1)}}function Mc(){Ic.call(this,["visible"]);var e,t;if("undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.Mb=!0,t){var n=this;document.addEventListener(t,function(){var t=!document[e];t!==n.Mb&&(n.Mb=t,n.Ge("visible",t))},!1)}}function E(e,t){if(1==arguments.length){this.o=e.split("/");for(var n=0,r=0;r<this.o.length;r++)0<this.o[r].length&&(this.o[n]=this.o[r],n++);this.o.length=n,this.Y=0}else this.o=e,this.Y=t}function P(e,t){var n=K(e);if(null===n)return t;if(n===K(t))return P(N(e),N(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Nc(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=sb(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function K(e){return e.Y>=e.o.length?null:e.o[e.Y]}function Ec(e){return e.o.length-e.Y}function N(e){var t=e.Y;return t<e.o.length&&t++,new E(e.o,t)}function Oc(e){return e.Y<e.o.length?e.o[e.o.length-1]:null}function Pc(e,t){this.Qa=e.slice(),this.Ha=Math.max(1,this.Qa.length),this.Qe=t;for(var n=0;n<this.Qa.length;n++)this.Ha+=nb(this.Qa[n]);Qc(this)}function Qc(e){if(768<e.Ha)throw Error(e.Qe+"has a key path longer than 768 bytes ("+e.Ha+").");if(32<e.Qa.length)throw Error(e.Qe+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rc(e))}function Rc(e){return 0==e.Qa.length?"":"in property '"+e.Qa.join(".")+"'"}function Sc(){this.children={},this.bd=0,this.value=null}function Tc(e,t,n){this.ud=e||"",this.Pc=t||null,this.A=n||new Sc}function Uc(e,t){for(var n=t instanceof E?t:new E(t),r=e,i;null!==(i=K(n));)r=new Tc(i,r,w(r.A.children,i)||new Sc),n=N(n);return r}function Vc(e,t){D(void 0!==t,"Cannot set value to undefined"),e.A.value=t,Wc(e)}function Xc(e,t,n,r){n&&!r&&t(e),e.O(function(e){Xc(e,t,!0,r)}),n&&r&&t(e)}function Yc(e,t){for(var n=e.parent();null!==n&&!t(n);)n=n.parent()}function Wc(e){if(null!==e.Pc){var t=e.Pc,n=e.ud,r=e.e(),i=eb(t.A.children,n);r&&i?(delete t.A.children[n],t.A.bd--,Wc(t)):r||i||(t.A.children[n]=e.A,t.A.bd++,Wc(t))}}function Zc(e,t){this.La=e,this.ba=t||$c}function ad(e,t){for(var n,r=e.ba,i=null;!r.e();){if(0===(n=e.La(t,r.key))){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:0<n&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function bd(e,t,n,r,i){for(this.Hd=i||null,this.le=r,this.Pa=[],i=1;!e.e();)if(i=t?n(e.key,t):1,r&&(i*=-1),0>i)e=this.le?e.left:e.right;else{if(0===i){this.Pa.push(e);break}this.Pa.push(e),e=this.le?e.right:e.left}}function M(e){if(0===e.Pa.length)return null;var t=e.Pa.pop(),n;if(n=e.Hd?e.Hd(t.key,t.value):{key:t.key,value:t.value},e.le)for(t=t.left;!t.e();)e.Pa.push(t),t=t.right;else for(t=t.right;!t.e();)e.Pa.push(t),t=t.left;return n}function cd(e){if(0===e.Pa.length)return null;var t;return t=e.Pa,t=t[t.length-1],e.Hd?e.Hd(t.key,t.value):{key:t.key,value:t.value}}function dd(e,t,n,r,i){this.key=e,this.value=t,this.color=null==n||n,this.left=null!=r?r:$c,this.right=null!=i?i:$c}function ed(e){return e.left.e()?e:ed(e.left)}function hd(e){return e.left.e()?$c:(e.left.ea()||e.left.left.ea()||(e=id(e)),e=e.X(null,null,null,hd(e.left),null),gd(e))}function gd(e){return e.right.ea()&&!e.left.ea()&&(e=ld(e)),e.left.ea()&&e.left.left.ea()&&(e=jd(e)),e.left.ea()&&e.right.ea()&&(e=kd(e)),e}function id(e){return(e=kd(e)).right.left.ea()&&(e=e.X(null,null,null,null,jd(e.right)),e=ld(e),e=kd(e)),e}function ld(e){return e.right.X(null,null,e.color,e.X(null,null,!0,null,e.right.left),null)}function jd(e){return e.left.X(null,null,e.color,null,e.X(null,null,!0,e.left.right,null))}function kd(e){return e.X(null,null,!e.color,e.left.X(null,null,!e.left.color,null,null),e.right.X(null,null,!e.right.color,null,null))}function md(){}function O(e,t,n){this.k=e,(this.aa=t)&&Cc(this.aa),e.e()&&D(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.yb=n,this.Db=null}function pd(e,t){var n;return(n=(n=od(e,t))?(n=n.Gc())&&n.name:e.k.Gc())?new C(n,e.k.get(n)):null}function qd(e,t){var n;return(n=(n=od(e,t))?(n=n.ec())&&n.name:e.k.ec())?new C(n,e.k.get(n)):null}function od(e,t){return t===tc?null:e.yb.get(t.toString())}function G(e,t){if(null===e)return L;var n=null;if("object"==typeof e&&".priority"in e?n=e[".priority"]:void 0!==t&&(n=t),D(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Kb(e,G(n));if(e instanceof Array){var r=L,i=e;return v(i,function(e,t){if(eb(i,t)&&"."!==t.substring(0,1)){var n=G(e);!n.J()&&n.e()||(r=r.T(t,n))}}),r.fa(G(n))}var o=[],a=!1,s=e;if(fb(s,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=G(s[e]);t.e()||(a=a||!t.C().e(),o.push(new C(e,t)))}}),0==o.length)return L;var c=zc(o,rb,function(e){return e.name},tb);if(a){var u=zc(o,nc(H));return new O(c,G(n),new xc({".priority":u},{".priority":H}))}return new O(c,G(n),Bc)}function sd(e){this.count=parseInt(Math.log(e+1)/rd,10),this.Oe=this.count-1,this.Cf=e+1&parseInt(Array(this.count+1).join("1"),2)}function td(e){var t=!(e.Cf&1<<e.Oe);return e.Oe--,t}function zc(t,n,r,i){function e(n,i){if(0==(a=i-n))return null;if(1==a){var o=t[n];return new dd(c=r?r(o):o,o.R,!1,null,null)}var a=e(n,o=parseInt(a/2,10)+n),s=e(o+1,i),o=t[o],c=r?r(o):o;return new dd(c,o.R,!1,a,s)}t.sort(n);var o=function(n){function d(n,s){var c=a-n,u=a;a-=n;var u=e(c+1,u),c=t[c],u=new dd(r?r(c):c,c.R,s,null,u);i?i.left=u:o=u,i=u}for(var i=null,o=null,a=t.length,s=0;s<n.count;++s){var c=td(n),u=Math.pow(2,n.count-(s+1));c?d(u,!1):(d(u,!1),d(u,!0))}return o}(new sd(t.length));return null!==o?new Zc(i||n,o):new Zc(i||n)}function Fc(e){return"number"==typeof e?"number:"+dc(e):"string:"+e}function Cc(e){if(e.J()){var t=e.H();D("string"==typeof t||"number"==typeof t||"object"==typeof t&&eb(t,".sv"),"Priority must be a string or number.")}else D(e===qc||e.e(),"priority of unexpected type.");D(e===qc||e.C().e(),"Priority nodes can't have a priority of their own.")}function ud(){O.call(this,new Zc(tb),L,Bc)}function vd(e,t){this.value=e,this.children=t||wd}function xd(e){var t=R;return v(e,function(e,n){t=t.set(new E(n),e)}),t}function yd(e,t,n){if(null!=e.value&&n(e.value))return{path:Q,value:e.value};if(t.e())return null;var r=K(t);return null!==(e=e.children.get(r))&&null!=(t=yd(e,N(t),n))?{path:new E(r).n(t.path),value:t.value}:null}function zd(e,t){return yd(e,t,function(){return!0})}function Ad(e,t,n){if(t.e())return n;var r=K(t);return t=Ad(e.children.get(r)||R,N(t),n),r=t.e()?e.children.remove(r):e.children.Oa(r,t),new vd(e.value,r)}function Bd(e,t){return Cd(e,Q,t)}function Cd(e,t,n){var r={};return e.children.ha(function(e,i){r[e]=Cd(i,t.n(e),n)}),n(t,e.value,r)}function Dd(e,t,n){return Ed(e,t,Q,n)}function Ed(e,t,n,r){var i=!!e.value&&r(n,e.value);return i||(t.e()?null:(i=K(t),(e=e.children.get(i))?Ed(e,N(t),n.n(i),r):null))}function Fd(e,t,n){Gd(e,t,Q,n)}function Gd(e,t,n,r){if(t.e())return e;e.value&&r(n,e.value);var i=K(t);return(e=e.children.get(i))?Gd(e,N(t),n.n(i),r):R}function Hd(e,t){Id(e,Q,t)}function Id(e,t,n){e.children.ha(function(e,r){Id(r,t.n(e),n)}),e.value&&n(t,e.value)}function Jd(e,t){e.children.ha(function(e,n){n.value&&t(e,n.value)})}function Md(e){return p(e)&&0!==e.length&&!Kd.test(e)}function Nd(e){return null===e||p(e)||ga(e)&&!Xb(e)||ia(e)&&eb(e,".sv")}function Od(e,t,r,i){i&&!n(t)||Pd(A(e,1,i),t,r)}function Pd(e,t,r){if(r instanceof E&&(r=new Pc(r,e)),!n(t))throw Error(e+"contains undefined "+Rc(r));if(ha(t))throw Error(e+"contains a function "+Rc(r)+" with contents: "+t.toString());if(Xb(t))throw Error(e+"contains "+t.toString()+" "+Rc(r));if(p(t)&&t.length>10485760/3&&10485760<nb(t))throw Error(e+"contains a string greater than 10485760 utf8 bytes "+Rc(r)+" ('"+t.substring(0,50)+"...')");if(ia(t)){var i=!1,o=!1;if(fb(t,function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!Md(t)))throw Error(e+" contains an invalid key ("+t+") "+Rc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),Pd(e,n,r),r.pop()}),i&&o)throw Error(e+' contains ".value" child '+Rc(r)+" in addition to actual children.")}}function Qd(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!Md(i[o]))throw Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');for(t.sort(Nc),i=null,n=0;n<t.length;n++){if(r=t[n],null!==i&&i.contains(r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}function Rd(e,t,n){var r=A(e,1,!1);if(!ia(t)||ea(t))throw Error(r+" must be an object containing the children to replace.");var i=[];fb(t,function(e,t){var o=new E(e);if(Pd(r,t,n.n(o)),".priority"===Oc(o)&&!Nd(t))throw Error(r+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(o)}),Qd(r,i)}function Sd(e,t,n){if(Xb(n))throw Error(A(e,t,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nd(n))throw Error(A(e,t,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Td(e,t,r){if(!r||n(t))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(A(e,1,r)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Ud(e,t){if(n(t)&&!Md(t))throw Error(A(e,2,!0)+'was an invalid key: "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Vd(e,t){if(!p(t)||0===t.length||Ld.test(t))throw Error(A(e,1,!1)+'was an invalid path: "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Wd(e,t){if(".info"===K(t))throw Error(e+" failed: Can't modify data under /.info/")}function Xd(e,t){var n=t.path.toString(),r;if(!(r=!p(t.jc.host)||0===t.jc.host.length||!Md(t.jc.pe))&&(r=0!==n.length)&&(n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),r=!(p(n)&&0!==n.length&&!Ld.test(n))),r)throw Error(A(e,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}function Gb(){this.k=this.B=null}function Ib(e,t,n){if(t.e())e.B=n,e.k=null;else if(null!==e.B)e.B=e.B.F(t,n);else{null==e.k&&(e.k=new Gc);var r=K(t);e.k.contains(r)||e.k.add(r,new Gb),Ib(e=e.k.get(r),t=N(t),n)}}function Yd(e,t){if(t.e())return e.B=null,e.k=null,!0;if(null!==e.B){if(e.B.J())return!1;var n=e.B;return e.B=null,n.O(H,function(t,n){Ib(e,new E(t),n)}),Yd(e,t)}return null===e.k||(n=K(t),t=N(t),e.k.contains(n)&&Yd(e.k.get(n),t)&&e.k.remove(n),!!e.k.e()&&(e.k=null,!0))}function Hb(e,t,n){null!==e.B?n(t,e.B):e.O(function(e,r){Hb(r,new E(t.toString()+"/"+e),n)})}function Zd(e,t){this.type=$d,this.source=e,this.path=t}function ae(e,t,n){this.type=be,this.source=e,this.path=t,this.children=n}function de(e,t,n){this.type=ee,this.source=fe,this.path=e,this.Ob=t,this.Id=n}function ce(e,t,n){this.type=ge,this.source=e,this.path=t,this.Ga=n}function he(e,t,n,r){this.ee=e,this.Se=t,this.Hb=n,this.Ee=r,D(!r||t,"Tagged queries must be from server.")}function je(e,t,n){this.A=e,this.da=t,this.Sb=n}function ke(e){return e.da}function le(e){return e.Sb}function me(e,t){return t.e()?e.da&&!e.Sb:ne(e,K(t))}function ne(e,t){return e.da&&!e.Sb||e.A.Da(t)}function oe(e,t){this.N=e,this.Ld=t}function pe(e,t,n,r){return new oe(new je(t,n,r),e.Ld)}function qe(e){return e.N.da?e.N.j():null}function re(e){return e.Ld.da?e.Ld.j():null}function se(){}function ue(e,t,n){this.xf=e,this.Ka=t,this.yd=n}function ve(e,t){this.Sd=e,this.Df=t}function we(e){this.U=e}function De(e,t,n,r,i,o){var a=t.N;if(null!=r.lc(n))return t;var s;if(n.e())D(ke(t.w()),"If change path is empty, we must have complete server data"),le(t.w())?(i=re(t),r=r.rc(i instanceof O?i:L)):r=r.Aa(re(t)),o=e.U.ya(t.N.j(),r,o);else{var c=K(n);if(".priority"==c)D(1==Ec(n),"Can't have a priority with additional path components"),o=a.j(),s=t.w().j(),r=r.ad(n,o,s),o=null!=r?e.U.fa(o,r):a.j();else{var u=N(n);ne(a,c)?(s=t.w().j(),r=r.ad(n,a.j(),s),r=null!=r?a.j().Q(c).F(u,r):a.j().Q(c)):r=r.qc(c,t.w()),o=null!=r?e.U.F(a.j(),c,r,u,i,o):a.j()}}return pe(t,o,a.da||n.e(),e.U.Na())}function ze(e,t,n,r,i,o,a,s){var c=t.w();if(a=a?e.U:e.U.Ub(),n.e())r=a.ya(c.j(),r,null);else if(a.Na()&&!c.Sb)r=c.j().F(n,r),r=a.ya(c.j(),r,null);else{var u=K(n);if(!me(c,n)&&1<Ec(n))return t;var l=N(n);r=c.j().Q(u).F(l,r),r=".priority"==u?a.fa(c.j(),r):a.F(c.j(),u,r,l,te,null)}return c=c.da||n.e(),t=new oe(t.N,new je(r,c,a.Na())),De(e,t,n,i,new ue(i,t,o),s)}function ye(e,t,n,r,i,o,a){var s=t.N;if(i=new ue(i,t,o),n.e())a=e.U.ya(t.N.j(),r,a),e=pe(t,a,!0,e.U.Na());else if(".priority"===(o=K(n)))a=e.U.fa(t.N.j(),r),e=pe(t,a,s.da,s.Sb);else{n=N(n);var c=s.j().Q(o);if(!n.e()){var u=i.Te(o);r=null!=u?".priority"===Oc(n)&&u.P(n.parent()).e()?u:u.F(n,r):L}c.Z(r)?e=t:(a=e.U.F(s.j(),o,r,n,i,a),e=pe(t,a,s.da,e.U.Na()))}return e}function Ae(e,t,n,r,i,o,a){var s=t;return Hd(r,function(r,c){var u=n.n(r);ne(t.N,K(u))&&(s=ye(e,s,u,c,i,o,a))}),Hd(r,function(r,c){var u=n.n(r);ne(t.N,K(u))||(s=ye(e,s,u,c,i,o,a))}),s}function Fe(e,t){return Hd(t,function(t,n){e=e.F(t,n)}),e}function Be(e,t,n,r,i,o,a,s){if(t.w().j().e()&&!ke(t.w()))return t;var c=t;n=n.e()?r:Ad(R,n,r);var u=t.w().j();return n.children.ha(function(n,r){if(u.Da(n)){var l=Fe(l=t.w().j().Q(n),r);c=ze(e,c,new E(n),l,i,o,a,s)}}),n.children.ha(function(n,r){var l=!ne(t.w(),n)&&null==r.value;u.Da(n)||l||(l=t.w().j().Q(n),l=Fe(l,r),c=ze(e,c,new E(n),l,i,o,a,s))}),c}function Ce(e,t,n,r,i,o,a){if(null!=i.lc(n))return t;var s=le(t.w()),c=t.w();if(null!=r.value){if(n.e()&&c.da||me(c,n))return ze(e,t,n,c.j().P(n),i,o,s,a);if(n.e()){var u=R;return c.j().O(tc,function(e,t){u=u.set(new E(e),t)}),Be(e,t,n,u,i,o,s,a)}return t}return u=R,Hd(r,function(e){var t=n.n(e);me(c,t)&&(u=u.set(e,c.j().P(t)))}),Be(e,t,n,u,i,o,s,a)}function Ge(e){this.V=e,this.g=e.m.g}function He(e,t,n,r){var i=[],o=[];return ya(t,function(t){t.type===Ie&&e.g.nd(t.qe,t.Ja)&&o.push(new S(Je,t.Ja,t.Xa))}),Ke(e,i,Le,t,r,n),Ke(e,i,Me,t,r,n),Ke(e,i,Je,o,r,n),Ke(e,i,Ie,t,r,n),Ke(e,i,Ne,t,r,n),i}function Ke(e,t,n,r,i,o){Ha(r=za(r,function(e){return e.type===n}),q(e.Ff,e)),ya(r,function(n){var r=Oe(e,n,o);ya(i,function(i){i.nf(n.type)&&t.push(i.createEvent(r,e.V))})})}function Oe(e,t,n){return"value"!==t.type&&"child_removed"!==t.type&&(t.Dd=n.Ve(t.Xa,t.Ja,e.g)),t}function Pe(e,t){this.V=e;var n=new Qe((r=e.m).g),r=T(r)?new Qe(r.g):r.xa?new Re(r):new Se(r);this.hf=new we(r);var i=t.w(),o=t.N,a=n.ya(L,i.j(),null),s=r.ya(L,o.j(),null);this.Ka=new oe(new je(s,o.da,r.Na()),new je(a,i.da,n.Na())),this.Za=[],this.Jf=new Ge(e)}function Te(e){return e.V}function Ve(e,t){var n=e.Ka.N,r=[];return n.j().J()||n.j().O(H,function(e,t){r.push(new S(Me,t,e))}),n.da&&r.push(Ee(n.j())),Ue(e,r,n.j(),t)}function Ue(e,t,n,r){return He(e.Jf,t,n,r?[r]:e.Za)}function We(e,t,n,r){this.ae=t,this.Md=n,this.Dd=r,this.hd=e}function Xe(e,t,n){this.ae=e,this.error=t,this.path=n}function Ye(){this.vb=[]}function Ze(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.Yb();null===n||o.Z(n.Yb())||(e.vb.push(n),n=null),null===n&&(n=new $e(o)),n.add(i)}n&&e.vb.push(n)}function af(e,t,n){Ze(e,n),bf(e,function(e){return e.Z(t)})}function cf(e,t,n){Ze(e,n),bf(e,function(e){return e.contains(t)||t.contains(e)})}function bf(e,t){for(var n=!0,r=0;r<e.vb.length;r++)if(i=e.vb[r])if(i=i.Yb(),t(i)){for(var i=e.vb[r],o=0;o<i.jd.length;o++){var a=i.jd[o];if(null!==a){i.jd[o]=null;var s=a.Tb();Qb&&I("event: "+a.toString()),fc(s)}}e.vb[r]=null}else n=!1;n&&(e.vb=[])}function $e(e){this.qa=e,this.jd=[]}function Qe(e){this.g=e}function Se(e){this.he=new Qe(e.g),this.g=e.g;var t;e.ka?(t=ef(e),t=e.g.Ec(ff(e),t)):t=e.g.Hc(),this.Uc=t,e.na?(t=gf(e),e=e.g.Ec(hf(e),t)):e=e.g.Fc(),this.vc=e}function Re(e){this.sa=new Se(e),this.g=e.g,D(e.xa,"Only valid if limit has been set"),this.oa=e.oa,this.Ib=!jf(e)}function kf(e,t,n,r,i,o){var a;if(e.Ib){var s=nc(e.g);a=function(e,t){return s(t,e)}}else a=nc(e.g);D(t.Eb()==e.oa,"");var c=new C(n,r),u=e.Ib?pd(t,e.g):qd(t,e.g),l=e.sa.matches(c);if(t.Da(n)){for(var d=t.Q(n),u=i.fe(e.g,u,e.Ib);null!=u&&(u.name==n||t.Da(u.name));)u=i.fe(e.g,u,e.Ib);return i=null==u?1:a(u,c),l&&!r.e()&&0<=i?(null!=o&&df(o,new S(Ie,r,n,d)),t.T(n,r)):(null!=o&&df(o,new S(Le,d,n)),t=t.T(n,L),null!=u&&e.sa.matches(u)?(null!=o&&df(o,new S(Me,u.R,u.name)),t.T(u.name,u.R)):t)}return r.e()?t:l&&0<=a(u,c)?(null!=o&&(df(o,new S(Le,u.R,u.name)),df(o,new S(Me,r,n))),t.T(n,r).T(u.name,L)):t}function S(e,t,n,r){this.type=e,this.Ja=t,this.Xa=n,this.qe=r,this.Dd=void 0}function Ee(e){return new S(Ne,e)}function xe(){this.fb={}}function df(e,t){var n=t.type,r=t.Xa;D(n==Me||n==Ie||n==Le,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");var i=w(e.fb,r);if(i){var o=i.type;if(n==Me&&o==Le)e.fb[r]=new S(Ie,t.Ja,r,i.Ja);else if(n==Le&&o==Me)delete e.fb[r];else if(n==Le&&o==Ie)e.fb[r]=new S(Le,i.qe,r);else if(n==Ie&&o==Me)e.fb[r]=new S(Me,t.Ja,r);else{if(n!=Ie||o!=Ie)throw Mb("Illegal combination of changes: "+t+" occurred after "+i);e.fb[r]=new S(Ie,t.Ja,r,i.qe)}}else e.fb[r]=t}function lf(){this.Rb=this.na=this.Kb=this.ka=this.xa=!1,this.oa=0,this.mb="",this.dc=null,this.zb="",this.ac=null,this.xb="",this.g=H}function jf(e){return""===e.mb?e.ka:"l"===e.mb}function ff(e){return D(e.ka,"Only valid if start has been set"),e.dc}function ef(e){return D(e.ka,"Only valid if start has been set"),e.Kb?e.zb:"[MIN_NAME]"}function hf(e){return D(e.na,"Only valid if end has been set"),e.ac}function gf(e){return D(e.na,"Only valid if end has been set"),e.Rb?e.xb:"[MAX_NAME]"}function nf(e){var t=new lf;return t.xa=e.xa,t.oa=e.oa,t.ka=e.ka,t.dc=e.dc,t.Kb=e.Kb,t.zb=e.zb,t.na=e.na,t.ac=e.ac,t.Rb=e.Rb,t.xb=e.xb,t.g=e.g,t.mb=e.mb,t}function of(e,t){var n=nf(e);return n.g=t,n}function pf(e){var t={};if(e.ka&&(t.sp=e.dc,e.Kb&&(t.sn=e.zb)),e.na&&(t.ep=e.ac,e.Rb&&(t.en=e.xb)),e.xa){t.l=e.oa;var n=e.mb;""===n&&(n=jf(e)?"l":"r"),t.vf=n}return e.g!==H&&(t.i=e.g.toString()),t}function T(e){return!(e.ka||e.na||e.xa)}function qf(e){return T(e)&&e.g==H}function rf(e){var t={};if(qf(e))return t;var n;return e.g===H?n="$priority":e.g===wc?n="$value":e.g===tc?n="$key":(D(e.g instanceof pc,"Unrecognized index type!"),n=e.g.toString()),t.orderBy=x(n),e.ka&&(t.startAt=x(e.dc),e.Kb&&(t.startAt+=","+x(e.zb))),e.na&&(t.endAt=x(e.ac),e.Rb&&(t.endAt+=","+x(e.xb))),e.xa&&(jf(e)?t.limitToFirst=e.oa:t.limitToLast=e.oa),t}function sf(e){this.W=e}function uf(e,t,n){if(t.e())return new sf(new vd(n));if(null!=(i=zd(e.W,t))){var r=i.path,i=i.value;return t=P(r,t),i=i.F(t,n),new sf(e.W.set(r,i))}return e=Ad(e.W,t,new vd(n)),new sf(e)}function vf(e,t,n){var r=e;return fb(n,function(e,n){r=uf(r,t.n(e),n)}),r}function wf(e,t){var n=zd(e.W,t);return null!=n?e.W.get(n.path).P(P(n.path,t)):null}function xf(e){var t=[],n=e.W.value;return null!=n?n.J()||n.O(H,function(e,n){t.push(new C(e,n))}):e.W.children.ha(function(e,n){null!=n.value&&t.push(new C(e,n.value))}),t}function yf(e,t){if(t.e())return e;var n=wf(e,t);return new sf(null!=n?new vd(n):e.W.subtree(t))}function zf(e,t,n){if(null!=t.value)return n.F(e,t.value);var r=null;return t.children.ha(function(t,i){".priority"===t?(D(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=zf(e.n(t),i,n)}),n.P(e).e()||null===r||(n=n.F(e.n(".priority"),r)),n}function Af(){this.Jd=L}function Bf(e){this.oc=e}function Cf(e,t){e.oc.INTERNAL.addAuthTokenListener(t)}function Df(){this.S=tf,this.la=[],this.Bc=-1}function Ef(e,t){for(var n=0;n<e.la.length;n++){var r=e.la[n];if(r.Zc===t)return r}return null}function Ff(e,t){return e.Ga?e.path.contains(t):!!Qa(e.children,function(n,r){return e.path.n(r).contains(t)})}function Hf(e){return e.visible}function Gf(e,t,n){for(var r=tf,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path;if(o.Ga)n.contains(a)?(a=P(n,a),r=uf(r,a,o.Ga)):a.contains(n)&&(a=P(a,n),r=uf(r,Q,o.Ga.P(a)));else{if(!o.children)throw Mb("WriteRecord should have .snap or .children");n.contains(a)?(a=P(n,a),r=vf(r,a,o.children)):a.contains(n)&&((a=P(a,n)).e()?r=vf(r,Q,o.children):(o=w(o.children,K(a)))&&(o=o.P(N(a)),r=uf(r,Q,o)))}}}return r}function If(e,t){this.Lb=e,this.W=t}function Jf(e,t){this.rf={},this.Vc=new Kf(e),this.va=t;var n=1e4+2e4*Math.random();hc(q(this.lf,this),Math.floor(n))}function Lf(){this.tc={}}function Mf(e,t,r){n(r)||(r=1),eb(e.tc,t)||(e.tc[t]=0),e.tc[t]+=r}function Kf(e){this.Ef=e,this.rd=null}function Pf(e){return e=e.toString(),Nf[e]||(Nf[e]=new Lf),Nf[e]}function Qf(e,t){var n=e.toString();return Of[n]||(Of[n]=t()),Of[n]}function Rf(e,t,n){this.f=Tb("p:rest:"),this.L=e,this.Gb=t,this.$c=n,this.$={}}function Sf(e,t){return n(t)?"tag$"+t:(D(qf(e.m),"should have a tag if it's not a default query."),e.path.toString())}function Tf(e,t,n,r){(n=n||{}).format="export",e.$c.getToken(!1).then(function(i){(i=i&&i.accessToken)&&(n.auth=i);var o=(e.L.Sc?"https://":"http://")+e.L.host+t+"?"+gb(n);e.f("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(r&&4===a.readyState){e.f("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var t=null;if(200<=a.status&&300>a.status){try{t=lb(a.responseText)}catch(e){J("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,t)}else 401!==a.status&&404!==a.status&&J("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}function Uf(e){this.te=e,this.Bd=[],this.Qb=0,this.Yd=-1,this.Fb=null}function Vf(e,t,n){e.Yd=t,e.Fb=n,e.Yd<e.Qb&&(e.Fb(),e.Fb=null)}function Wf(e,t,n){for(e.Bd[t]=n;e.Bd[e.Qb];){var r=e.Bd[e.Qb];delete e.Bd[e.Qb];for(var i=0;i<r.length;++i)if(r[i]){var o=e;fc(function(){o.te(r[i])})}if(e.Qb===e.Yd){e.Fb&&(clearTimeout(e.Fb),e.Fb(),e.Fb=null);break}e.Qb++}}function Yf(e,t,n,r){this.Zd=e,this.f=Tb(this.Zd),this.frames=this.zc=null,this.pb=this.qb=this.Fe=0,this.Va=Pf(t),e={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),n&&(e.s=n),r&&(e.ls=r),this.Ke=Bb(t,Cb,e)}function ag(e,t){if(e.frames.push(t),e.frames.length==e.Fe){var n=e.frames.join("");e.frames=null,n=lb(n),e.Xf(n)}}function $f(e){clearInterval(e.zc),e.zc=setInterval(function(){e.Ia&&bg(e,"0"),$f(e)},Math.floor(45e3))}function bg(e,t){try{e.Ia.send(t)}catch(t){e.f("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(q(e.bb,e),0)}}function cg(e,t,n,r){this.Zd=e,this.f=Tb(e),this.jc=t,this.pb=this.qb=0,this.Va=Pf(t),this.tf=n,this.wc=!1,this.Cb=r,this.Yc=function(e){return Bb(t,Db,e)}}function gg(e,t){var n=x(t).length;e.pb+=n,Mf(e.Va,"bytes_received",n)}function fg(e,t,n,r){if(this.Yc=r,this.ib=n,this.ve=new Gc,this.Qc=[],this.$d=Math.floor(1e8*Math.random()),this.Kd=!0,this.Qd=Lb(),window["pLPCommand"+this.Qd]=e,window["pRTLPCB"+this.Qd]=t,e=document.createElement("iframe"),e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||I("No IE domain setting required")}catch(t){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}e.contentDocument?e.gb=e.contentDocument:e.contentWindow?e.gb=e.contentWindow.document:e.document&&(e.gb=e.document),this.Ea=e,e="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";<\/script>'),e="<html><body>"+e+"</body></html>";try{this.Ea.gb.open(),this.Ea.gb.write(e),this.Ea.gb.close()}catch(e){I("frame writing exception"),e.stack&&I(e.stack),I(e)}}function ig(e){if(e.Ud&&e.Kd&&e.ve.count()<(0<e.Qc.length?2:1)){e.$d++,(t={}).id=e.Vf,t.pw=e.Wf,t.ser=e.$d;for(var t=e.Yc(t),n="",r=0;0<e.Qc.length&&1870>=e.Qc[0].Pe.length+30+n.length;){var i=e.Qc.shift(),n=n+"&seg"+r+"="+i.jg+"&ts"+r+"="+i.pg+"&d"+r+"="+i.Pe;r++}return jg(e,t+n,e.$d),!0}return!1}function jg(e,t,n){function d(){e.ve.remove(n),ig(e)}e.ve.add(n,1);var r=setTimeout(d,Math.floor(25e3));hg(e,t,function(){clearTimeout(r),d()})}function hg(e,t,n){setTimeout(function(){try{if(e.Kd){var r=e.Ea.gb.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){I("Long-poll script failed to load: "+t),e.Kd=!1,e.close()},e.Ea.gb.body.appendChild(r)}}catch(e){}},Math.floor(1))}function kg(e){lg(this,e)}function lg(e,t){var n=Yf&&Yf.isAvailable(),r=n&&!(xb.Ze||!0===xb.get("previous_websocket_failure"));if(t.qg&&(n||J("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)e.Wc=[Yf];else{var i=e.Wc=[];cc(mg,function(e,t){t&&t.isAvailable()&&i.push(t)})}}function ng(e){if(0<e.Wc.length)return e.Wc[0];throw Error("No transports available")}function og(e,t,n,r,i,o,a){this.id=e,this.f=Tb("c:"+this.id+":"),this.te=n,this.Lc=r,this.ia=i,this.se=o,this.L=t,this.Ad=[],this.Le=0,this.sf=new kg(t),this.Ua=0,this.Cb=a,this.f("Connection created"),pg(this)}function pg(e){var t=ng(e.sf);e.I=new t("c:"+e.id+":"+e.Le++,e.L,void 0,e.Cb),e.xe=t.responsesRequiredToBeHealthy||0;var n=qg(e,e.I),r=rg(e,e.I);e.Xc=e.I,e.Rc=e.I,e.D=null,e.Bb=!1,setTimeout(function(){e.I&&e.I.open(n,r)},Math.floor(0)),0<(t=t.healthyTimeout||0)&&(e.md=hc(function(){e.md=null,e.Bb||(e.I&&102400<e.I.pb?(e.f("Connection exceeded healthy timeout but has received "+e.I.pb+" bytes.  Marking connection healthy."),e.Bb=!0,e.I.sd()):e.I&&10240<e.I.qb?e.f("Connection exceeded healthy timeout but has sent "+e.I.qb+" bytes.  Leaving connection alive."):(e.f("Closing unhealthy connection after timeout."),e.close()))},Math.floor(t)))}function rg(e,t){return function(n){t===e.I?(e.I=null,n||0!==e.Ua?1===e.Ua&&e.f("Realtime connection lost."):(e.f("Realtime connection failed."),"s-"===e.L.$a.substr(0,2)&&(xb.remove("host:"+e.L.host),e.L.$a=e.L.host)),e.close()):t===e.D?(e.f("Secondary connection lost."),n=e.D,e.D=null,e.Xc!==n&&e.Rc!==n||e.close()):e.f("closing an old connection")}}function qg(e,t){return function(n){if(2!=e.Ua)if(t===e.Rc){var r=$b("t",n);if(n=$b("d",n),"c"==r){if(r=$b("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;e.qf=n.s,Ab(e.L,o),0==e.Ua&&(e.I.start(),sg(e,e.I,r),"5"!==i&&J("Protocol version mismatch detected"),n=e.sf,(n=1<n.Wc.length?n.Wc[1]:null)&&tg(e,n))}else if("n"===r){for(e.f("recvd end transmission on primary"),e.Rc=e.D,n=0;n<e.Ad.length;++n)e.wd(e.Ad[n]);e.Ad=[],ug(e)}else"s"===r?(e.f("Connection shutdown command received. Shutting down..."),e.se&&(e.se(n),e.se=null),e.ia=null,e.close()):"r"===r?(e.f("Reset packet received.  New host: "+n),Ab(e.L,n),1===e.Ua?e.close():(vg(e),pg(e))):"e"===r?Ub("Server Error: "+n):"o"===r?(e.f("got pong on primary."),wg(e),xg(e)):Ub("Unknown control packet command: "+r)}else"d"==r&&e.wd(n)}else if(t===e.D)if(r=$b("t",n),n=$b("d",n),"c"==r)"t"in n&&("a"===(n=n.t)?yg(e):"r"===n?(e.f("Got a reset on secondary, closing it"),e.D.close(),e.Xc!==e.D&&e.Rc!==e.D||e.close()):"o"===n&&(e.f("got pong on secondary."),e.pf--,yg(e)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);e.Ad.push(n)}else e.f("message on old connection")}}function ug(e){e.Xc===e.D&&e.Rc===e.D&&(e.f("cleaning up and promoting a connection: "+e.D.Zd),e.I=e.D,e.D=null)}function yg(e){0>=e.pf?(e.f("Secondary connection is healthy."),e.Bb=!0,e.D.sd(),e.D.start(),e.f("sending client ack on secondary"),e.D.send({t:"c",d:{t:"a",d:{}}}),e.f("Ending transmission on primary"),e.I.send({t:"c",d:{t:"n",d:{}}}),e.Xc=e.D,ug(e)):(e.f("sending ping on secondary."),e.D.send({t:"c",d:{t:"p",d:{}}}))}function wg(e){e.Bb||(e.xe--,0>=e.xe&&(e.f("Primary connection is healthy."),e.Bb=!0,e.I.sd()))}function tg(e,t){e.D=new t("c:"+e.id+":"+e.Le++,e.L,e.qf),e.pf=t.responsesRequiredToBeHealthy||0,e.D.open(qg(e,e.D),rg(e,e.D)),hc(function(){e.D&&(e.f("Timed out trying to upgrade."),e.D.close())},Math.floor(6e4))}function sg(e,t,n){e.f("Realtime connection established."),e.I=t,e.Ua=1,e.Lc&&(e.Lc(n,e.qf),e.Lc=null),0===e.xe?(e.f("Primary connection is healthy."),e.Bb=!0):hc(function(){xg(e)},Math.floor(5e3))}function xg(e){e.Bb||1!==e.Ua||(e.f("sending ping on primary."),zg(e,{t:"c",d:{t:"p",d:{}}}))}function zg(e,t){if(1!==e.Ua)throw"Connection is not connected";e.Xc.send(t)}function vg(e){e.f("Shutting down all connections"),e.I&&(e.I.close(),e.I=null),e.D&&(e.D.close(),e.D=null),e.md&&(clearTimeout(e.md),e.md=null)}function Ag(e,t,n,r,i,o){if(this.id=Bg++,this.f=Tb("p:"+this.id+":"),this.qd={},this.$={},this.pa=[],this.Oc=0,this.Kc=[],this.ma=!1,this.Sa=1e3,this.td=3e5,this.Gb=t,this.Jc=n,this.ue=r,this.L=e,this.ob=this.Fa=this.Cb=this.ze=null,this.$c=i,this.de=!1,this.ke=0,o)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Vd=o,this.ub=null,this.Mb=!1,this.Gd={},this.ig=0,this.Re=!0,this.Ac=this.me=null,Cg(this,0),Mc.Vb().gc("visible",this.Zf,this),-1===e.host.indexOf("fblocal")&&Lc.Vb().gc("online",this.Yf,this)}function Eg(e,t){var n=t.eg,r=n.path.toString(),i=n.ja();e.f("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=pf(n.m),o.t=t.tag),o.h=t.ld(),e.ua("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&eb(a,"w")){var c=w(a,"w");ea(c)&&0<=xa(c,"no_index")&&J('Using an unspecified index. Consider adding ".indexOn": "'+n.m.g.toString()+'" at '+n.path.toString()+" to your security rules for better performance")}(e.$[r]&&e.$[r][i])===t&&(e.f("listen response",o),"ok"!==s&&Fg(e,r,i),t.G&&t.G(s,a))})}function Gg(e){if(e.ma&&e.ob){var t=e.ob,n=jc(t)?"auth":"gauth",r={cred:t};null===e.Vd?r.noauth=!0:"object"==typeof e.Vd&&(r.authvar=e.Vd),e.ua(n,r,function(n){var r=n.s;n=n.d||"error",e.ob===t&&("ok"===r?e.ke=0:Hg(e,r,n))})}}function Ig(e,t,n,r,i){n={p:n,d:r},e.f("onDisconnect "+t,n),e.ua(t,n,function(e){i&&setTimeout(function(){i(e.s,e.d)},Math.floor(0))})}function Jg(e,t,r,i,o,a){i={p:r,d:i},n(a)&&(i.h=a),e.pa.push({action:t,mf:i,G:o}),e.Oc++,t=e.pa.length-1,e.ma?Kg(e,t):e.f("Buffering put: "+r)}function Kg(e,t){var n=e.pa[t].action,r=e.pa[t].mf,i=e.pa[t].G;e.pa[t].fg=e.ma,e.ua(n,r,function(r){e.f(n+" response",r),delete e.pa[t],e.Oc--,0===e.Oc&&(e.pa=[]),i&&i(r.s,r.d)})}function Cg(e,t){D(!e.Fa,"Scheduling a connect when we're already connected/ing?"),e.ub&&clearTimeout(e.ub),e.ub=setTimeout(function(){e.ub=null,Ng(e)},Math.floor(t))}function Ng(e){if(Og(e)){e.f("Making a connection attempt"),e.me=(new Date).getTime(),e.Ac=null;var t=q(e.wd,e),n=q(e.Lc,e),r=q(e.df,e),i=e.id+":"+Dg++,o=e.Cb,a=!1,s=null,c=function(){s?s.close():(a=!0,r())};e.Fa={close:c,ua:function(e){D(s,"sendRequest call when we're not connected not allowed."),s.ua(e)}};var u=e.de;e.de=!1,e.$c.getToken(u).then(function(c){a?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),e.ob=c&&c.accessToken,s=new og(i,e.L,t,n,r,function(t){J(t+" ("+e.L.toString()+")"),e.ab("server_kill")},o))}).then(null,function(t){e.f("Failed to get token: "+t),a||c()})}}function Lg(e,t,n){(e=Fg(e,t,n=n?Aa(n,function(e){return ac(e)}).join("$"):"default"))&&e.G&&e.G("permission_denied")}function Fg(e,t,r){t=new E(t).toString();var i;return n(e.$[t])?(i=e.$[t][r],delete e.$[t][r],0===La(e.$[t])&&delete e.$[t]):i=void 0,i}function Hg(e,t,n){I("Auth token revoked: "+t+"/"+n),e.ob=null,e.de=!0,e.Fa.close(),"invalid_token"!==t&&"permission_denied"!==t||(e.ke++,3<=e.ke&&(e.Sa=3e4,e=e.$c,t='Provided authentication credentials for the app named "'+e.oc.name+'" are invalid. This usually indicates your app was not initialized correctly. ',t="credential"in e.oc.options?t+'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in e.oc.options?t+'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',J(t)))}function Mg(e){Gg(e),v(e.$,function(t){v(t,function(t){Eg(e,t)})});for(var t=0;t<e.pa.length;t++)e.pa[t]&&Kg(e,t);for(;e.Kc.length;)t=e.Kc.shift(),Ig(e,t.action,t.we,t.data,t.G)}function Og(e){var t;return t=Lc.Vb().hc,Sa(e.qd)&&t}function Pg(e){e instanceof Qg||Vb("Don't call new Database() directly - please use firebase.database()."),this.ta=e,this.ba=new U(e,Q),this.INTERNAL=new Rg(this)}function Tg(e,t){null===e.ta&&Vb("Cannot call "+t+" on a deleted database.")}function Rg(e){this.Ya=e}function V(e,t,n){this.A=e,this.V=t,this.g=n}function Vg(e,t,n){this.Pb=e,this.rb=t,this.tb=n||null}function Wg(e,t,n){this.ga=e,this.rb=t,this.tb=n}function Xg(){this.za={}}function Zg(e){return za(Na(e.za),function(e){return!T(e.V.m)})}function $g(e,t){if(T(t.m))return Yg(e);var n=t.ja();return w(e.za,n)}function Yg(e){return Ra(e.za,function(e){return T(e.V.m)})||null}function ah(e){this.wa=R,this.jb=new Df,this.De={},this.ic={},this.Cc=e}function bh(e,t,r,i,o){var a=e.jb,s=o;return D(i>a.Bc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.la.push({path:t,Ga:r,Zc:i,visible:s}),s&&(a.S=uf(a.S,t,r)),a.Bc=i,o?ch(e,new ce(fe,t,r)):[]}function dh(e,t,n,r){var i=e.jb;return D(r>i.Bc,"Stacking an older merge on top of newer ones"),i.la.push({path:t,children:n,Zc:r,visible:!0}),i.S=vf(i.S,t,n),i.Bc=r,n=xd(n),ch(e,new ae(fe,t,n))}function eh(e,t,n){n=n||!1;var r=Ef(e.jb,t);if(e.jb.Ed(t)){var i=R;return null!=r.Ga?i=i.set(Q,!0):fb(r.children,function(e,t){i=i.set(new E(e),t)}),ch(e,new de(r.path,i,n))}return[]}function fh(e,t,n){return n=xd(n),ch(e,new ae(ie,t,n))}function gh(e,t,n,r){if(null!=(r=hh(e,r))){var i=ih(r);return r=i.path,i=i.Hb,t=P(r,t),n=new ce(new he(!1,!0,i,!0),t,n),jh(e,r,n)}return[]}function kh(e,t,n,r){if(r=hh(e,r)){var i=ih(r);return r=i.path,i=i.Hb,t=P(r,t),n=xd(n),n=new ae(new he(!1,!0,i,!0),t,n),jh(e,r,n)}return[]}function oh(e){return Bd(e,function(e,t,n){if(t&&null!=Yg(t))return[Yg(t)];var r=[];return t&&(r=Zg(t)),v(n,function(e){r=r.concat(e)}),r})}function sh(e,t){for(var n=0;n<t.length;++n)if(!T((r=t[n]).m)){var r=lh(r),i=e.ic[r];delete e.ic[r],delete e.De["_"+i]}}function qh(e){return T(e.m)&&!qf(e.m)?e.wb():e}function nh(e,t,n){var r=t.path,i=rh(e,t);if(n=ph(e,n),t=e.Cc.Ae(qh(t),i,n.ld,n.G),r=e.wa.subtree(r),i)D(null==Yg(r.value),"If we're adding a query, it shouldn't be shadowed");else for(i=Bd(r,function(e,t,n){if(!e.e()&&t&&null!=Yg(t))return[Te(Yg(t))];var r=[];return t&&(r=r.concat(Aa(Zg(t),function(e){return e.V}))),v(n,function(e){r=r.concat(e)}),r}),r=0;r<i.length;++r)n=i[r],e.Cc.Od(qh(n),rh(e,n));return t}function ph(e,t){var n=t.V,r=rh(e,n);return{ld:function(){return(t.w()||L).hash()},G:function(t){if("ok"===t){if(r){var i=n.path;if(t=hh(e,r)){var o=ih(t);t=o.path,o=o.Hb,i=P(t,i),i=new Zd(new he(!1,!0,o,!0),i),t=jh(e,t,i)}else t=[]}else t=ch(e,new Zd(ie,n.path));return t}return i="Unknown Error","too_big"===t?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?i="Client doesn't have permission to access the desired data.":"unavailable"==t&&(i="The service is unavailable"),i=Error(t+" at "+n.path.toString()+": "+i),i.code=t.toUpperCase(),e.kb(n,null,i)}}}function lh(e){return e.path.toString()+"$"+e.ja()}function ih(e){var t=e.indexOf("$");return D(-1!==t&&t<e.length-1,"Bad queryKey."),{Hb:e.substr(t+1),path:new E(e.substr(0,t))}}function hh(e,t){var n=e.De,r="_"+t;return r in n?n[r]:void 0}function rh(e,t){var n=lh(t);return w(e.ic,n)}function jh(e,t,n){var r=e.wa.get(t);return D(r,"Missing sync point for query tag that we're tracking"),r.eb(n,new If(t,e.jb),null)}function ch(e,t){return th(e,t,e.wa,null,new If(Q,e.jb))}function th(e,t,n,r,i){if(t.path.e())return uh(e,t,n,r,i);var o=n.get(Q);null==r&&null!=o&&(r=o.hb(Q));var a=[],s=K(t.path),c=t.Mc(s);if((n=n.children.get(s))&&c)var u=r?r.Q(s):null,s=i.n(s),a=a.concat(th(e,c,n,u,s));return o&&(a=a.concat(o.eb(t,i,r))),a}function uh(e,t,n,r,i){var o=n.get(Q);null==r&&null!=o&&(r=o.hb(Q));var a=[];return n.children.ha(function(n,o){var s=r?r.Q(n):null,c=i.n(n),u=t.Mc(n);u&&(a=a.concat(uh(e,u,o,s,c)))}),o&&(a=a.concat(o.eb(t,i,r))),a}function Qg(e,t,n){this.app=n;var r=new Bf(n);if(this.L=e,this.Va=Pf(e),this.Vc=null,this.ca=new Ye,this.vd=1,this.Ra=null,t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Rf(this.L,q(this.Gb,this),r),setTimeout(q(this.Jc,this,!0),0);else{if(t=n.options.databaseAuthVariableOverride,"undefined"!==da(t)&&null!==t){if("object"!==da(t))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{x(t)}catch(e){throw Error("Invalid authOverride provided: "+e)}}this.va=this.Ra=new Ag(this.L,q(this.Gb,this),q(this.Jc,this),q(this.ue,this),r,t)}var i=this;Cf(r,function(e){i.va.kf(e)}),this.og=Qf(e,q(function(){return new Jf(this.Va,this.va)},this)),this.mc=new Tc,this.ie=new Af,this.pd=new ah({Ae:function(e,t,n,r){return t=[],(n=i.ie.j(e.path)).e()||(t=ch(i.pd,new ce(ie,e.path,n)),setTimeout(function(){r("ok")},0)),t},Od:ba}),vh(this,"connected",!1),this.ia=new Gb,this.Ya=new Pg(this),this.fd=0,this.je=null,this.K=new ah({Ae:function(e,t,n,r){return i.va.$e(e,n,t,function(t,n){var o=r(t,n);cf(i.ca,e.path,o)}),[]},Od:function(e,t){i.va.uf(e,t)}})}function wh(e){return e=e.ie.j(new E(".info/serverTimeOffset")).H()||0,(new Date).getTime()+e}function xh(e){return e=e={timestamp:wh(e)},e.timestamp=e.timestamp||(new Date).getTime(),e}function vh(e,t,n){t=new E("/.info/"+t),n=G(n);var r=e.ie;r.Jd=r.Jd.F(t,n),n=ch(e.pd,new ce(ie,t,n)),cf(e.ca,t,n)}function zh(e){e.f("onDisconnectEvents");var t=xh(e),n=[];Hb(Fb(e.ia,t),Q,function(t,r){n=n.concat(ch(e.K,new ce(ie,t,r)));var i=Bh(e,t);yh(e,i)}),e.ia=new Gb,cf(e.ca,Q,n)}function Ch(e,t,n,r){var i=G(n);e.va.re(t.toString(),i.H(!0),function(n,o){"ok"===n&&Ib(e.ia,t,i),Ah(r,n,o)})}function Dh(e,t,n,r,i){var o=G(n,r);e.va.re(t.toString(),o.H(!0),function(n,r){"ok"===n&&Ib(e.ia,t,o),Ah(i,n,r)})}function Eh(e,t,n,r){var i=!0,o;for(o in n)i=!1;i?(I("onDisconnect().update() called with empty data.  Don't do anything."),Ah(r,"ok")):e.va.cf(t.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=G(n[a]);Ib(e.ia,t.n(a),s)}Ah(r,i,o)})}function Fh(e,t,n){n=".info"===K(t.path)?e.pd.Nb(t,n):e.K.Nb(t,n),af(e.ca,t.path,n)}function Ah(e,t,n){e&&fc(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),(i=Error(i)).code=r,e(i)}})}function Gh(e,t,r,i,o){function f(){}e.f("transaction on "+t);var a=new U(e,t);if(a.gc("value",f),r={path:t,update:r,G:i,status:null,ef:Lb(),He:o,of:0,Rd:function(){a.Ic("value",f)},Td:null,Ba:null,cd:null,dd:null,ed:null},i=e.K.Aa(t,void 0)||L,r.cd=i,i=r.update(i.H()),n(i)){Pd("transaction failed: Data returned ",i,r.path),r.status=1;var s=(o=Uc(e.mc,t)).Ca()||[];s.push(r),Vc(o,s),"object"==typeof i&&null!==i&&eb(i,".priority")?(s=w(i,".priority"),D(Nd(s),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):s=(e.K.Aa(t)||L).C().H(),o=xh(e),o=Jb(i=G(i,s),o),r.dd=i,r.ed=o,r.Ba=e.vd++,r=bh(e.K,t,o,r.Ba,r.He),cf(e.ca,t,r),Hh(e)}else r.Rd(),r.dd=null,r.ed=null,r.G&&(e=new V(r.cd,new U(e,r.path),H),r.G(null,!1,e))}function Hh(e,t){var n=t||e.mc;if(t||Ih(e,n),null!==n.Ca()){var r=Jh(e,n);D(0<r.length,"Sending zero length transaction queue"),Ca(r,function(e){return 1===e.status})&&Kh(e,n.path(),r)}else n.kd()&&n.O(function(t){Hh(e,t)})}function Kh(e,t,n){for(var r=Aa(n,function(e){return e.Ba}),r=i=e.K.Aa(t,r)||L,i=i.hash(),o=0;o<n.length;o++){var a=n[o];D(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.of++;var s=P(t,a.path),r=r.F(s,a.dd)}r=r.H(!0),e.va.put(t.toString(),r,function(r){e.f("transaction put response",{path:t.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(eh(e.K,n[o].Ba)),n[o].G){var a=n[o].ed,s=new U(e,n[o].path);r.push(q(n[o].G,null,null,!0,new V(a,s,H)))}n[o].Rd()}for(Ih(e,Uc(e.mc,t)),Hh(e),cf(e.ca,t,i),o=0;o<r.length;o++)fc(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(J("transaction at "+t.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].Td=r;yh(e,t)}},i)}function yh(e,t){var n=Lh(e,t),r=n.path();return Mh(e,n=Jh(e,n),r),r}function Mh(e,t,r){if(0!==t.length){for(var i=[],o=[],a=za(t,function(e){return 1===e.status}),a=Aa(a,function(e){return e.Ba}),s=0;s<t.length;s++){var c=t[s],u=P(r,c.path),l=!1,d;if(D(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)l=!0,d=c.Td,o=o.concat(eh(e.K,c.Ba,!0));else if(1===c.status)if(25<=c.of)l=!0,d="maxretry",o=o.concat(eh(e.K,c.Ba,!0));else{var p=e.K.Aa(c.path,a)||L;c.cd=p;var h=t[s].update(p.H());n(h)?(Pd("transaction failed: Data returned ",h,c.path),u=G(h),"object"==typeof h&&null!=h&&eb(h,".priority")||(u=u.fa(p.C())),p=c.Ba,h=xh(e),h=Jb(u,h),c.dd=u,c.ed=h,c.Ba=e.vd++,Fa(a,p),o=o.concat(bh(e.K,c.path,h,c.Ba,c.He)),o=o.concat(eh(e.K,p,!0))):(l=!0,d="nodata",o=o.concat(eh(e.K,c.Ba,!0)))}cf(e.ca,r,o),o=[],l&&(t[s].status=3,setTimeout(t[s].Rd,Math.floor(0)),t[s].G&&("nodata"===d?(c=new U(e,t[s].path),i.push(q(t[s].G,null,null,!1,new V(t[s].cd,c,H)))):i.push(q(t[s].G,null,Error(d),!1,null))))}for(Ih(e,e.mc),s=0;s<i.length;s++)fc(i[s]);Hh(e)}}function Lh(e,t){for(var n,r=e.mc;null!==(n=K(t))&&null===r.Ca();)r=Uc(r,n),t=N(t);return r}function Jh(e,t){var n=[];return Nh(e,t,n),n.sort(function(e,t){return e.ef-t.ef}),n}function Nh(e,t,n){var r=t.Ca();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);t.O(function(t){Nh(e,t,n)})}function Ih(e,t){var n=t.Ca();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Vc(t,0<n.length?n:null)}t.O(function(t){Ih(e,t)})}function Bh(e,t){var n=Lh(e,t).path(),r=Uc(e.mc,t);return Yc(r,function(t){Oh(e,t)}),Oh(e,r),Xc(r,function(t){Oh(e,t)}),n}function Oh(e,t){var n=t.Ca();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(D(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].Td="set"):(D(1===n[a].status,"Unexpected transaction status in abort"),n[a].Rd(),i=i.concat(eh(e.K,n[a].Ba,!0)),n[a].G&&r.push(q(n[a].G,null,Error("set"),!1,null))));for(-1===o?Vc(t,null):n.length=o+1,cf(e.ca,t.path(),i),a=0;a<r.length;a++)fc(r[a])}}function Ug(){this.lb={},this.wf=!1}function Ph(e,t){this.committed=e,this.snapshot=t}function X(e,t,n,r){this.u=e,this.path=t,this.m=n,this.Nc=r}function Qh(e){var t=null,n=null;if(e.ka&&(t=ff(e)),e.na&&(n=hf(e)),e.g===tc){if(e.ka){if("[MIN_NAME]"!=ef(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof t)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(e.na){if("[MAX_NAME]"!=gf(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(e.g===H){if(null!=t&&!Nd(t)||null!=n&&!Nd(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(D(e.g instanceof pc||e.g===wc,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function Rh(e){if(e.ka&&e.na&&e.xa&&(!e.xa||""===e.mb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function Sh(e,t){if(!0===e.Nc)throw Error(t+": You can't combine multiple orderBy calls.")}function Th(e,t,n){var r={cancel:null,Ma:null};if(t&&n)r.cancel=t,B(e,3,r.cancel,!0),r.Ma=n,ob(e,4,r.Ma);else if(t)if("object"==typeof t&&null!==t)r.Ma=t;else{if("function"!=typeof t)throw Error(A(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r}function Y(e,t){this.ta=e,this.qa=t}function U(e,t){if(!(e instanceof Qg))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,e,t,mf,!1),this.then=void 0,this.catch=void 0}var g,aa=this,qa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ra=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;la(ta,sa),ta.prototype.reset=function(){this.M[0]=1732584193,this.M[1]=4023233417,this.M[2]=2562383102,this.M[3]=271733878,this.M[4]=3285377520,this.Pd=this.$b=0},ta.prototype.update=function(e,t){if(null!=e){n(t)||(t=e.length);for(var r=t-this.Wa,i=0,o=this.Wd,a=this.$b;i<t;){if(0==a)for(;i<=r;)ua(this,e,i),i+=this.Wa;if(p(e)){for(;i<t;)if(o[a]=e.charCodeAt(i),++a,++i,a==this.Wa){ua(this,o),a=0;break}}else for(;i<t;)if(o[a]=e[i],++a,++i,a==this.Wa){ua(this,o),a=0;break}}this.$b=a,this.Pd+=t}};var r;e:{var va=aa.navigator;if(va){var wa=va.userAgent;if(wa){r=wa;break e}}r=""}var t=Array.prototype,xa=t.indexOf?function(e,n,r){return t.indexOf.call(e,n,r)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,p(e))return p(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ya=t.forEach?function(e,n,r){t.forEach.call(e,n,r)}:function(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},za=t.filter?function(e,n,r){return t.filter.call(e,n,r)}:function(e,t,n){for(var r=e.length,i=[],o=0,a=p(e)?e.split(""):e,s=0;s<r;s++)if(s in a){var c=a[s];t.call(n,c,s,e)&&(i[o++]=c)}return i},Aa=t.map?function(e,n,r){return t.map.call(e,n,r)}:function(e,t,n){for(var r=e.length,i=Array(r),o=p(e)?e.split(""):e,a=0;a<r;a++)a in o&&(i[a]=t.call(n,o[a],a,e));return i},Ba=t.reduce?function(e,n,r,i){for(var o=[],a=1,s=arguments.length;a<s;a++)o.push(arguments[a]);return i&&(o[0]=q(n,i)),t.reduce.apply(e,o)}:function(e,t,n,r){var i=n;return ya(e,function(n,o){i=t.call(r,i,n,o,e)}),i},Ca=t.every?function(e,n,r){return t.every.call(e,n,r)}:function(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&!t.call(n,i[o],o,e))return!1;return!0},Ua=-1!=r.indexOf("Opera")||-1!=r.indexOf("OPR"),Va=-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE"),Wa=-1!=r.indexOf("Gecko")&&-1==r.toLowerCase().indexOf("webkit")&&!(-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE")),Xa=-1!=r.toLowerCase().indexOf("webkit");!function(){var e="",t;Ua&&aa.opera?(e=aa.opera.version,ha(e)&&e()):(Wa?t=/rv\:([^\);]+)(\)|;)/:Va?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(t=/WebKit\/(\S+)/),t&&(e=(e=t.exec(r))?e[1]:""),Va&&(t=(t=aa.document)?t.documentMode:void 0)>parseFloat(e)&&String(t))}();var Ya=null,Za=null,$a=null,hb=firebase.Promise;g=ub.prototype,g.set=function(e,t){null==t?this.uc.removeItem(this.Cd+e):this.uc.setItem(this.Cd+e,x(t))},g.get=function(e){return null==(e=this.uc.getItem(this.Cd+e))?null:lb(e)},g.remove=function(e){this.uc.removeItem(this.Cd+e)},g.Ze=!1,g.toString=function(){return this.uc.toString()},vb.prototype.set=function(e,t){null==t?delete this.pc[e]:this.pc[e]=t},vb.prototype.get=function(e){return eb(this.pc,e)?this.pc[e]:null},vb.prototype.remove=function(e){delete this.pc[e]},vb.prototype.Ze=!0;var xb=wb("localStorage"),yb=wb("sessionStorage");zb.prototype.toString=function(){var e=(this.Sc?"https://":"http://")+this.host;return this.gf&&(e+="<"+this.gf+">"),e};var Lb=function(){var e=1;return function(){return e++}}(),D=cb,Mb=db,Qb=null,Rb=!0,ec=/^-?\d{1,10}$/,mc={};lc.prototype.nd=function(e,t){return 0!==this.compare(new C("[MIN_NAME]",e),new C("[MIN_NAME]",t))},lc.prototype.Hc=function(){return oc},la(pc,lc),g=pc.prototype,g.xc=function(e){return!e.P(this.bc).e()},g.compare=function(e,t){var n=e.R.P(this.bc),r=t.R.P(this.bc);return 0===(n=n.sc(r))?sb(e.name,t.name):n},g.Ec=function(e,t){var n=G(e);return new C(t,n=L.F(this.bc,n))},g.Fc=function(){return new C("[MAX_NAME]",L.F(this.bc,qc))},g.toString=function(){return this.bc.slice().join("/")},la(rc,lc),g=rc.prototype,g.compare=function(e,t){var n=e.R.C(),r=t.R.C();return 0===(n=n.sc(r))?sb(e.name,t.name):n},g.xc=function(e){return!e.C().e()},g.nd=function(e,t){return!e.C().Z(t.C())},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",new Kb("[PRIORITY-POST]",qc))},g.Ec=function(e,t){return new C(t,new Kb("[PRIORITY-POST]",G(e)))},g.toString=function(){return".priority"};var H=new rc;la(sc,lc),g=sc.prototype,g.compare=function(e,t){return sb(e.name,t.name)},g.xc=function(){throw Mb("KeyIndex.isDefinedOn not expected to be called.")},g.nd=function(){return!1},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",L)},g.Ec=function(e){return D(p(e),"KeyIndex indexValue must always be a string."),new C(e,L)},g.toString=function(){return".key"};var tc=new sc;la(uc,lc),g=uc.prototype,g.compare=function(e,t){var n=e.R.sc(t.R);return 0===n?sb(e.name,t.name):n},g.xc=function(){return!0},g.nd=function(e,t){return!e.Z(t)},g.Hc=function(){return oc},g.Fc=function(){return vc},g.Ec=function(e,t){return new C(t,G(e))},g.toString=function(){return".value"};var wc=new uc;xc.prototype.get=function(e){var t=w(this.od,e);if(!t)throw Error("No index defined for "+e);return t===mc?null:t};var Bc=new xc({".priority":mc},{".priority":H}),Dc=["object","boolean","number","string"];g=Kb.prototype,g.J=function(){return!0},g.C=function(){return this.aa},g.fa=function(e){return new Kb(this.B,e)},g.Q=function(e){return".priority"===e?this.aa:L},g.P=function(e){return e.e()?this:".priority"===K(e)?this.aa:L},g.Da=function(){return!1},g.Ve=function(){return null},g.T=function(e,t){return".priority"===e?this.fa(t):t.e()&&".priority"!==e?this:L.T(e,t).fa(this.aa)},g.F=function(e,t){var n=K(e);return null===n?t:t.e()&&".priority"!==n?this:(D(".priority"!==n||1===Ec(e),".priority must be the last token in a path"),this.T(n,L.F(N(e),t)))},g.e=function(){return!1},g.Eb=function(){return 0},g.O=function(){return!1},g.H=function(e){return e&&!this.C().e()?{".value":this.Ca(),".priority":this.C().H()}:this.Ca()},g.hash=function(){if(null===this.Db){var e="";this.aa.e()||(e+="priority:"+Fc(this.aa.H())+":");var t=typeof this.B,e=e+(t+":"),e="number"===t?e+dc(this.B):e+this.B;this.Db=Ob(e)}return this.Db},g.Ca=function(){return this.B},g.sc=function(e){if(e===L)return 1;if(e instanceof O)return-1;D(e.J(),"Unknown node type");var t=typeof e.B,n=typeof this.B,r=xa(Dc,t),i=xa(Dc,n);return D(0<=r,"Unknown leaf type: "+t),D(0<=i,"Unknown leaf type: "+n),r===i?"object"===n?0:this.B<e.B?-1:this.B===e.B?0:1:i-r},g.nb=function(){return this},g.yc=function(){return!0},g.Z=function(e){return e===this||!!e.J()&&(this.B===e.B&&this.aa.Z(e.aa))},g.toString=function(){return x(this.H(!0))},g=Gc.prototype,g.add=function(e,t){this.set[e]=null===t||t},g.contains=function(e){return eb(this.set,e)},g.get=function(e){return this.contains(e)?this.set[e]:void 0},g.remove=function(e){delete this.set[e]},g.clear=function(){this.set={}},g.e=function(){return Sa(this.set)},g.count=function(){return La(this.set)},g.keys=function(){var e=[];return v(this.set,function(t,n){e.push(n)}),e},Ic.prototype.Ge=function(e,t){var n,r=(n=this.Dc[e]||[]).length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=n[o];n=i}else n=[];for(r=0;r<n.length;r++)n[r].Ie.apply(n[r].Ma,Array.prototype.slice.call(arguments,1))},Ic.prototype.gc=function(e,t,n){Jc(this,e),this.Dc[e]=this.Dc[e]||[],this.Dc[e].push({Ie:t,Ma:n}),(e=this.Ue(e))&&t.apply(n,e)},Ic.prototype.Ic=function(e,t,n){Jc(this,e),e=this.Dc[e]||[];for(var r=0;r<e.length;r++)if(e[r].Ie===t&&(!n||n===e[r].Ma)){e.splice(r,1);break}};var Kc=function(){var e=0,t=[];return function(n){var r=n===e;e=n;for(var i=Array(8),o=7;0<=o;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(D(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;0<=o&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;12>o;o++)t[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(t[o]);return D(20===n.length,"nextPushId: Length should be 20."),n}}();la(Lc,Ic),Lc.prototype.Ue=function(e){return D("online"===e,"Unknown event type: "+e),[this.hc]},ca(Lc),la(Mc,Ic),Mc.prototype.Ue=function(e){return D("visible"===e,"Unknown event type: "+e),[this.Mb]},ca(Mc),g=E.prototype,g.toString=function(){for(var e="",t=this.Y;t<this.o.length;t++)""!==this.o[t]&&(e+="/"+this.o[t]);return e||"/"},g.slice=function(e){return this.o.slice(this.Y+(e||0))},g.parent=function(){if(this.Y>=this.o.length)return null;for(var e=[],t=this.Y;t<this.o.length-1;t++)e.push(this.o[t]);return new E(e,0)},g.n=function(e){for(var t=[],n=this.Y;n<this.o.length;n++)t.push(this.o[n]);if(e instanceof E)for(n=e.Y;n<e.o.length;n++)t.push(e.o[n]);else for(e=e.split("/"),n=0;n<e.length;n++)0<e[n].length&&t.push(e[n]);return new E(t,0)},g.e=function(){return this.Y>=this.o.length},g.Z=function(e){if(Ec(this)!==Ec(e))return!1;for(var t=this.Y,n=e.Y;t<=this.o.length;t++,n++)if(this.o[t]!==e.o[n])return!1;return!0},g.contains=function(e){var t=this.Y,n=e.Y;if(Ec(this)>Ec(e))return!1;for(;t<this.o.length;){if(this.o[t]!==e.o[n])return!1;++t,++n}return!0};var Q=new E("");Pc.prototype.push=function(e){0<this.Qa.length&&(this.Ha+=1),this.Qa.push(e),this.Ha+=nb(e),Qc(this)},Pc.prototype.pop=function(){var e=this.Qa.pop();this.Ha-=nb(e),0<this.Qa.length&&--this.Ha},g=Tc.prototype,g.Ca=function(){return this.A.value},g.clear=function(){this.A.value=null,this.A.children={},this.A.bd=0,Wc(this)},g.kd=function(){return 0<this.A.bd},g.e=function(){return null===this.Ca()&&!this.kd()},g.O=function(e){var t=this;v(this.A.children,function(n,r){e(new Tc(r,t,n))})},g.path=function(){return new E(null===this.Pc?this.ud:this.Pc.path()+"/"+this.ud)},g.name=function(){return this.ud},g.parent=function(){return this.Pc},g=Zc.prototype,g.Oa=function(e,t){return new Zc(this.La,this.ba.Oa(e,t,this.La).X(null,null,!1,null,null))},g.remove=function(e){return new Zc(this.La,this.ba.remove(e,this.La).X(null,null,!1,null,null))},g.get=function(e){for(var t,n=this.ba;!n.e();){if(0===(t=this.La(e,n.key)))return n.value;0>t?n=n.left:0<t&&(n=n.right)}return null},g.e=function(){return this.ba.e()},g.count=function(){return this.ba.count()},g.Gc=function(){return this.ba.Gc()},g.ec=function(){return this.ba.ec()},g.ha=function(e){return this.ba.ha(e)},g.Wb=function(e){return new bd(this.ba,null,this.La,!1,e)},g.Xb=function(e,t){return new bd(this.ba,e,this.La,!1,t)},g.Zb=function(e,t){return new bd(this.ba,e,this.La,!0,t)},g.We=function(e){return new bd(this.ba,null,this.La,!0,e)},g=dd.prototype,g.X=function(e,t,n,r,i){return new dd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ha=function(e){return this.left.ha(e)||e(this.key,this.value)||this.right.ha(e)},g.Gc=function(){return ed(this).key},g.ec=function(){return this.right.e()?this.key:this.right.ec()},g.Oa=function(e,t,n){var r,i;return i=this,r=n(e,i.key),i=0>r?i.X(null,null,null,i.left.Oa(e,t,n),null):0===r?i.X(null,t,null,null,null):i.X(null,null,null,null,i.right.Oa(e,t,n)),gd(i)},g.remove=function(e,t){var n,r;if(n=this,0>t(e,n.key))n.left.e()||n.left.ea()||n.left.left.ea()||(n=id(n)),n=n.X(null,null,null,n.left.remove(e,t),null);else{if(n.left.ea()&&(n=jd(n)),n.right.e()||n.right.ea()||n.right.left.ea()||(n=kd(n)).left.left.ea()&&(n=jd(n),n=kd(n)),0===t(e,n.key)){if(n.right.e())return $c;r=ed(n.right),n=n.X(r.key,r.value,null,null,hd(n.right))}n=n.X(null,null,null,null,n.right.remove(e,t))}return gd(n)},g.ea=function(){return this.color},g=md.prototype,g.X=function(){return this},g.Oa=function(e,t){return new dd(e,t,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ha=function(){return!1},g.Gc=function(){return null},g.ec=function(){return null},g.ea=function(){return!1};var $c=new md;g=O.prototype,g.J=function(){return!1},g.C=function(){return this.aa||L},g.fa=function(e){return this.k.e()?this:new O(this.k,e,this.yb)},g.Q=function(e){return".priority"===e?this.C():null===(e=this.k.get(e))?L:e},g.P=function(e){var t=K(e);return null===t?this:this.Q(t).P(N(e))},g.Da=function(e){return null!==this.k.get(e)},g.T=function(e,t){if(D(t,"We should always be passing snapshot nodes"),".priority"===e)return this.fa(t);var n=new C(e,t),r,i;return t.e()?(r=this.k.remove(e),n=Ac(this.yb,n,this.k)):(r=this.k.Oa(e,t),n=yc(this.yb,n,this.k)),i=r.e()?L:this.aa,new O(r,i,n)},g.F=function(e,t){var n=K(e);if(null===n)return t;D(".priority"!==K(e)||1===Ec(e),".priority must be the last token in a path");var r=this.Q(n).F(N(e),t);return this.T(n,r)},g.e=function(){return this.k.e()},g.Eb=function(){return this.k.count()};var nd=/^(0|[1-9]\d*)$/;g=O.prototype,g.H=function(e){if(this.e())return null;var t={},n=0,r=0,i=!0;if(this.O(H,function(o,a){t[o]=a.H(e),n++,i&&nd.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){var o=[],a;for(a in t)o[a]=t[a];return o}return e&&!this.C().e()&&(t[".priority"]=this.C().H()),t},g.hash=function(){if(null===this.Db){var e="";this.C().e()||(e+="priority:"+Fc(this.C().H())+":"),this.O(H,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.Db=""===e?"":Ob(e)}return this.Db},g.Ve=function(e,t,n){return(n=od(this,n))?(e=ad(n,new C(e,t)))?e.name:null:ad(this.k,e)},g.O=function(e,t){var n=od(this,e);return n?n.ha(function(e){return t(e.name,e.R)}):this.k.ha(t)},g.Wb=function(e){return this.Xb(e.Hc(),e)},g.Xb=function(e,t){var n=od(this,t);if(n)return n.Xb(e,function(e){return e});for(var r=cd(n=this.k.Xb(e.name,qb));null!=r&&0>t.compare(r,e);)M(n),r=cd(n);return n},g.We=function(e){return this.Zb(e.Fc(),e)},g.Zb=function(e,t){var n=od(this,t);if(n)return n.Zb(e,function(e){return e});for(var r=cd(n=this.k.Zb(e.name,qb));null!=r&&0<t.compare(r,e);)M(n),r=cd(n);return n},g.sc=function(e){return this.e()?e.e()?0:-1:e.J()||e.e()?1:e===qc?-1:0},g.nb=function(e){if(e===tc||Pa(this.yb.cc,e.toString()))return this;var t=this.yb,n=this.k;D(e!==tc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=M(n=n.Wb(qb));o;)i=i||e.xc(o.R),r.push(o),o=M(n);return r=i?zc(r,nc(e)):mc,i=e.toString(),n=Ta(t.cc),n[i]=e,e=Ta(t.od),e[i]=r,new O(this.k,this.aa,new xc(e,n))},g.yc=function(e){return e===tc||Pa(this.yb.cc,e.toString())},g.Z=function(e){if(e===this)return!0;if(e.J())return!1;if(this.C().Z(e.C())&&this.k.count()===e.k.count()){var t=this.Wb(H);e=e.Wb(H);for(var n=M(t),r=M(e);n&&r;){if(n.name!==r.name||!n.R.Z(r.R))return!1;n=M(t),r=M(e)}return null===n&&null===r}return!1},g.toString=function(){return x(this.H(!0))};var rd=Math.log(2),L=new O(new Zc(tb),null,Bc);la(ud,O),g=ud.prototype,g.sc=function(e){return e===this?0:1},g.Z=function(e){return e===this},g.C=function(){return this},g.Q=function(){return L},g.e=function(){return!1};var qc=new ud,oc=new C("[MIN_NAME]",L),vc=new C("[MAX_NAME]",qc),wd=new Zc(function(e,t){return e===t?0:e<t?-1:1});g=vd.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(e){if(e.e())return this;var t=this.children.get(K(e));return null!==t?t.subtree(N(e)):R},g.set=function(e,t){if(e.e())return new vd(t,this.children);var n=K(e),r=(this.children.get(n)||R).set(N(e),t),n=this.children.Oa(n,r);return new vd(this.value,n)},g.remove=function(e){if(e.e())return this.children.e()?R:new vd(null,this.children);var t=K(e),n=this.children.get(t);return n?(e=n.remove(N(e)),t=e.e()?this.children.remove(t):this.children.Oa(t,e),null===this.value&&t.e()?R:new vd(this.value,t)):this},g.get=function(e){if(e.e())return this.value;var t=this.children.get(K(e));return t?t.get(N(e)):null};var R=new vd(null);vd.prototype.toString=function(){var e={};return Hd(this,function(t,n){e[t.toString()]=n.toString()}),x(e)};var Kd=/[\[\].#$\/\u0000-\u001F\u007F]/,Ld=/[\[\].#$\u0000-\u001F\u007F]/;Gb.prototype.find=function(e){if(null!=this.B)return this.B.P(e);if(e.e()||null==this.k)return null;var t=K(e);return e=N(e),this.k.contains(t)?this.k.get(t).find(e):null},Gb.prototype.O=function(e){null!==this.k&&Hc(this.k,function(t,n){e(t,n)})},Zd.prototype.Mc=function(){return this.path.e()?new Zd(this.source,Q):new Zd(this.source,N(this.path))},Zd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},ae.prototype.Mc=function(e){return this.path.e()?(e=this.children.subtree(new E(e))).e()?null:e.value?new ce(this.source,Q,e.value):new ae(this.source,Q,e):(D(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ae(this.source,N(this.path),this.children))},ae.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},de.prototype.Mc=function(e){return this.path.e()?null!=this.Ob.value?(D(this.Ob.children.e(),"affectedTree should not have overlapping affected paths."),this):(e=this.Ob.subtree(new E(e)),new de(Q,e,this.Id)):(D(K(this.path)===e,"operationForChild called for unrelated child."),new de(N(this.path),this.Ob,this.Id))},de.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Ob+")"},ce.prototype.Mc=function(e){return this.path.e()?new ce(this.source,Q,this.Ga.Q(e)):new ce(this.source,N(this.path),this.Ga)},ce.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"};var ge=0,be=1,ee=2,$d=3,fe=new he(!0,!1,null,!1),ie=new he(!1,!0,null,!1);he.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Hb+")":"server"},je.prototype.j=function(){return this.A},oe.prototype.w=function(){return this.Ld},se.prototype.Te=function(){return null},se.prototype.fe=function(){return null};var te=new se;ue.prototype.Te=function(e){var t=this.Ka.N;return ne(t,e)?t.j().Q(e):(t=null!=this.yd?new je(this.yd,!0,!1):this.Ka.w(),this.xf.qc(e,t))},ue.prototype.fe=function(e,t,n){var r=null!=this.yd?this.yd:re(this.Ka);return 0===(e=this.xf.Xd(r,t,1,n,e)).length?null:e[0]},we.prototype.eb=function(e,t,n,r){var i=new xe,o;if(t.type===ge)t.source.ee?n=ye(this,e,t.path,t.Ga,n,r,i):(D(t.source.Se,"Unknown source."),o=t.source.Ee||le(e.w())&&!t.path.e(),n=ze(this,e,t.path,t.Ga,n,r,o,i));else if(t.type===be)t.source.ee?n=Ae(this,e,t.path,t.children,n,r,i):(D(t.source.Se,"Unknown source."),o=t.source.Ee||le(e.w()),n=Be(this,e,t.path,t.children,n,r,o,i));else if(t.type===ee)if(t.Id)if(t=t.path,null!=n.lc(t))n=e;else{if(o=new ue(n,e,r),r=e.N.j(),t.e()||".priority"===K(t))ke(e.w())?t=n.Aa(re(e)):(t=e.w().j(),D(t instanceof O,"serverChildren would be complete if leaf node"),t=n.rc(t)),t=this.U.ya(r,t,i);else{var a=K(t),s=n.qc(a,e.w());null==s&&ne(e.w(),a)&&(s=r.Q(a)),(t=null!=s?this.U.F(r,a,s,N(t),o,i):e.N.j().Da(a)?this.U.F(r,a,L,N(t),o,i):r).e()&&ke(e.w())&&(r=n.Aa(re(e))).J()&&(t=this.U.ya(t,r,i))}n=pe(e,t,r=ke(e.w())||null!=n.lc(Q),this.U.Na())}else n=Ce(this,e,t.path,t.Ob,n,r,i);else{if(t.type!==$d)throw Mb("Unknown operation type: "+t.type);r=t.path,o=(t=e.w()).j(),a=t.da||r.e(),n=De(this,new oe(e.N,new je(o,a,t.Sb)),r,n,te,i)}return i=Na(i.fb),r=n,(t=r.N).da&&(o=t.j().J()||t.j().e(),a=qe(e),(0<i.length||!e.N.da||o&&!t.j().Z(a)||!t.j().C().Z(a.C()))&&i.push(Ee(qe(r)))),new ve(n,i)},Ge.prototype.Ff=function(e,t){if(null==e.Xa||null==t.Xa)throw Mb("Should only compare child_ events.");return this.g.compare(new C(e.Xa,e.Ja),new C(t.Xa,t.Ja))},g=Pe.prototype,g.w=function(){return this.Ka.w().j()},g.hb=function(e){var t=re(this.Ka);return t&&(T(this.V.m)||!e.e()&&!t.Q(K(e)).e())?t.P(e):null},g.e=function(){return 0===this.Za.length},g.Nb=function(e){this.Za.push(e)},g.kb=function(e,t){var n=[];if(t){D(null==e,"A cancel should cancel all event registrations.");var r=this.V.path;ya(this.Za,function(e){(e=e.Me(t,r))&&n.push(e)})}if(e){for(var i=[],o=0;o<this.Za.length;++o){var a=this.Za[o];if(a.matches(e)){if(e.Xe()){i=i.concat(this.Za.slice(o+1));break}}else i.push(a)}this.Za=i}else this.Za=[];return n},g.eb=function(e,t,n){e.type===be&&null!==e.source.Hb&&(D(re(this.Ka),"We should always have a full cache before handling merges"),D(qe(this.Ka),"Missing event cache, even though we have a server cache"));var r=this.Ka;return e=this.hf.eb(r,e,t,n),t=this.hf,n=e.Sd,D(n.N.j().yc(t.U.g),"Event snap not indexed"),D(n.w().j().yc(t.U.g),"Server snap not indexed"),D(ke(e.Sd.w())||!ke(r.w()),"Once a server snap is complete, it should never go back"),this.Ka=e.Sd,Ue(this,e.Df,e.Sd.N.j(),null)},We.prototype.Yb=function(){var e=this.Md.wb();return"value"===this.hd?e.path:e.getParent().path},We.prototype.ge=function(){return this.hd},We.prototype.Tb=function(){return this.ae.Tb(this)},We.prototype.toString=function(){return this.Yb().toString()+":"+this.hd+":"+x(this.Md.be())},Xe.prototype.Yb=function(){return this.path},Xe.prototype.ge=function(){return"cancel"},Xe.prototype.Tb=function(){return this.ae.Tb(this)},Xe.prototype.toString=function(){return this.path.toString()+":cancel"},$e.prototype.add=function(e){this.jd.push(e)},$e.prototype.Yb=function(){return this.qa},g=Qe.prototype,g.F=function(e,t,n,r,i,o){return D(e.yc(this.g),"A node must be indexed if only a child is updated"),(i=e.Q(t)).P(r).Z(n.P(r))&&i.e()==n.e()?e:(null!=o&&(n.e()?e.Da(t)?df(o,new S(Le,i,t)):D(e.J(),"A child remove without an old child only makes sense on a leaf node"):i.e()?df(o,new S(Me,n,t)):df(o,new S(Ie,n,t,i))),e.J()&&n.e()?e:e.T(t,n).nb(this.g))},g.ya=function(e,t,n){return null!=n&&(e.J()||e.O(H,function(e,r){t.Da(e)||df(n,new S(Le,r,e))}),t.J()||t.O(H,function(t,r){if(e.Da(t)){var i=e.Q(t);i.Z(r)||df(n,new S(Ie,r,t,i))}else df(n,new S(Me,r,t))})),t.nb(this.g)},g.fa=function(e,t){return e.e()?L:e.fa(t)},g.Na=function(){return!1},g.Ub=function(){return this},g=Se.prototype,g.matches=function(e){return 0>=this.g.compare(this.Uc,e)&&0>=this.g.compare(e,this.vc)},g.F=function(e,t,n,r,i,o){return this.matches(new C(t,n))||(n=L),this.he.F(e,t,n,r,i,o)},g.ya=function(e,t,n){t.J()&&(t=L);var r=(r=t.nb(this.g)).fa(L),i=this;return t.O(H,function(e,t){i.matches(new C(e,t))||(r=r.T(e,L))}),this.he.ya(e,r,n)},g.fa=function(e){return e},g.Na=function(){return!0},g.Ub=function(){return this.he},g=Re.prototype,g.F=function(e,t,n,r,i,o){return this.sa.matches(new C(t,n))||(n=L),e.Q(t).Z(n)?e:e.Eb()<this.oa?this.sa.Ub().F(e,t,n,r,i,o):kf(this,e,t,n,i,o)},g.ya=function(e,t,n){var r;if(t.J()||t.e())r=L.nb(this.g);else if(2*this.oa<t.Eb()&&t.yc(this.g)){r=L.nb(this.g),t=this.Ib?t.Zb(this.sa.vc,this.g):t.Xb(this.sa.Uc,this.g);for(var i=0;0<t.Pa.length&&i<this.oa;){var o=M(t),a;if(!(a=this.Ib?0>=this.g.compare(this.sa.Uc,o):0>=this.g.compare(o,this.sa.vc)))break;r=r.T(o.name,o.R),i++}}else{r=(r=t.nb(this.g)).fa(L);var s,c,u;if(this.Ib){t=r.We(this.g),s=this.sa.vc,c=this.sa.Uc;var l=nc(this.g);u=function(e,t){return l(t,e)}}else t=r.Wb(this.g),s=this.sa.Uc,c=this.sa.vc,u=nc(this.g);for(var i=0,d=!1;0<t.Pa.length;)o=M(t),!d&&0>=u(s,o)&&(d=!0),(a=d&&i<this.oa&&0>=u(o,c))?i++:r=r.T(o.name,L)}return this.sa.Ub().ya(e,r,n)},g.fa=function(e){return e},g.Na=function(){return!0},g.Ub=function(){return this.sa.Ub()};var Me="child_added",Le="child_removed",Ie="child_changed",Je="child_moved",Ne="value",mf=new lf;g=lf.prototype,g.ne=function(e){var t=nf(this);return t.xa=!0,t.oa=e,t.mb="l",t},g.oe=function(e){var t=nf(this);return t.xa=!0,t.oa=e,t.mb="r",t},g.Nd=function(e,t){var r=nf(this);return r.ka=!0,n(e)||(e=null),r.dc=e,null!=t?(r.Kb=!0,r.zb=t):(r.Kb=!1,r.zb=""),r},g.gd=function(e,t){var r=nf(this);return r.na=!0,n(e)||(e=null),r.ac=e,n(t)?(r.Rb=!0,r.xb=t):(r.vg=!1,r.xb=""),r},g.toString=function(){return x(pf(this))};var tf=new sf(new vd(null));sf.prototype.Ed=function(e){return e.e()?tf:(e=Ad(this.W,e,R),new sf(e))},sf.prototype.e=function(){return this.W.e()},sf.prototype.apply=function(e){return zf(Q,this.W,e)},Af.prototype.j=function(e){return this.Jd.P(e)},Af.prototype.toString=function(){return this.Jd.toString()},Bf.prototype.getToken=function(e){return this.oc.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},g=Df.prototype,g.Ed=function(e){var t=Ea(this.la,function(t){return t.Zc===e});D(0<=t,"removeWrite called with nonexistent writeId.");var n=this.la[t];this.la.splice(t,1);for(var r=n.visible,i=!1,o=this.la.length-1;r&&0<=o;){var a=this.la[o];a.visible&&(o>=t&&Ff(a,n.path)?r=!1:n.path.contains(a.path)&&(i=!0)),o--}if(r){if(i)this.S=Gf(this.la,Hf,Q),this.Bc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(n.Ga)this.S=this.S.Ed(n.path);else{var s=this;v(n.children,function(e,t){s.S=s.S.Ed(n.path.n(t))})}return!0}return!1},g.Aa=function(e,t,n,r){if(n||r){var i=yf(this.S,e);return!r&&i.e()?t:r||null!=t||null!=wf(i,Q)?(i=Gf(this.la,function(t){return(t.visible||r)&&(!n||!(0<=xa(n,t.Zc)))&&(t.path.contains(e)||e.contains(t.path))},e),t=t||L,i.apply(t)):null}return null!=(i=wf(this.S,e))?i:(i=yf(this.S,e)).e()?t:null!=t||null!=wf(i,Q)?(t=t||L,i.apply(t)):null},g.rc=function(e,t){var n=L,r=wf(this.S,e);if(r)r.J()||r.O(H,function(e,t){n=n.T(e,t)});else if(t){var i=yf(this.S,e);t.O(H,function(e,t){var r=yf(i,new E(e)).apply(t);n=n.T(e,r)}),ya(xf(i),function(e){n=n.T(e.name,e.R)})}else i=yf(this.S,e),ya(xf(i),function(e){n=n.T(e.name,e.R)});return n},g.ad=function(e,t,n,r){return D(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=e.n(t),null!=wf(this.S,e)?null:(e=yf(this.S,e)).e()?r.P(t):e.apply(r.P(t))},g.qc=function(e,t,n){e=e.n(t);var r=wf(this.S,e);return null!=r?r:ne(n,t)?yf(this.S,e).apply(n.j().Q(t)):null},g.lc=function(e){return wf(this.S,e)},g.Xd=function(e,t,n,r,i,o){var a;if(e=yf(this.S,e),null==(a=wf(e,Q))){if(null==t)return[];a=e.apply(t)}if((a=a.nb(o)).e()||a.J())return[];for(t=[],e=nc(o),o=M(i=i?a.Zb(n,o):a.Xb(n,o));o&&t.length<r;)0!==e(o,n)&&t.push(o),o=M(i);return t},g=If.prototype,g.Aa=function(e,t,n){return this.W.Aa(this.Lb,e,t,n)},g.rc=function(e){return this.W.rc(this.Lb,e)},g.ad=function(e,t,n){return this.W.ad(this.Lb,e,t,n)},g.lc=function(e){return this.W.lc(this.Lb.n(e))},g.Xd=function(e,t,n,r,i){return this.W.Xd(this.Lb,e,t,n,r,i)},g.qc=function(e,t){return this.W.qc(this.Lb,e,t)},g.n=function(e){return new If(this.Lb.n(e),this.W)},Jf.prototype.lf=function(){var e=this.Vc.get(),t={},n=!1,r;for(r in e)0<e[r]&&eb(this.rf,r)&&(t[r]=e[r],n=!0);n&&this.va.ye(t),hc(q(this.lf,this),Math.floor(6e5*Math.random()))},Lf.prototype.get=function(){return Ta(this.tc)},Kf.prototype.get=function(){var e=this.Ef.get(),t=Ta(e);if(this.rd)for(var n in this.rd)t[n]-=this.rd[n];return this.rd=e,t};var Nf={},Of={};g=Rf.prototype,g.$e=function(e,t,n,r){var i=e.path.toString();this.f("Listen called for "+i+" "+e.ja());var o=Sf(e,n),a={};this.$[o]=a,e=rf(e.m);var s=this;Tf(this,i+".json",e,function(e,t){var c=t;404===e&&(e=c=null),null===e&&s.Gb(i,c,!1,n),w(s.$,o)===a&&r(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},g.uf=function(e,t){var n=Sf(e,t);delete this.$[n]},g.kf=function(){},g.re=function(){},g.cf=function(){},g.xd=function(){},g.put=function(){},g.af=function(){},g.ye=function(){};var Cb="websocket",Db="long_polling",Xf=null;"undefined"!=typeof MozWebSocket?Xf=MozWebSocket:"undefined"!=typeof WebSocket&&(Xf=WebSocket);var Zf;Yf.prototype.open=function(e,t){this.ib=t,this.Xf=e,this.f("Websocket connecting to "+this.Ke),this.wc=!1,xb.set("previous_websocket_failure",!0);try{this.Ia=new Xf(this.Ke)}catch(e){this.f("Error instantiating WebSocket.");var n=e.message||e.data;return n&&this.f(n),void this.bb()}var r=this;this.Ia.onopen=function(){r.f("Websocket connected."),r.wc=!0},this.Ia.onclose=function(){r.f("Websocket connection was disconnected."),r.Ia=null,r.bb()},this.Ia.onmessage=function(e){if(null!==r.Ia)if(e=e.data,r.pb+=e.length,Mf(r.Va,"bytes_received",e.length),$f(r),null!==r.frames)ag(r,e);else{e:{if(D(null===r.frames,"We already have a frame buffer"),6>=e.length){var t=Number(e);if(!isNaN(t)){r.Fe=t,r.frames=[],e=null;break e}}r.Fe=1,r.frames=[]}null!==e&&ag(r,e)}},this.Ia.onerror=function(e){r.f("WebSocket error.  Closing connection."),(e=e.message||e.data)&&r.f(e),r.bb()}},Yf.prototype.start=function(){},Yf.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==Xf&&!Zf},Yf.responsesRequiredToBeHealthy=2,Yf.healthyTimeout=3e4,g=Yf.prototype,g.sd=function(){xb.remove("previous_websocket_failure")},g.send=function(e){$f(this),e=x(e),this.qb+=e.length,Mf(this.Va,"bytes_sent",e.length),1<(e=bc(e,16384)).length&&bg(this,String(e.length));for(var t=0;t<e.length;t++)bg(this,e[t])},g.Tc=function(){this.Ab=!0,this.zc&&(clearInterval(this.zc),this.zc=null),this.Ia&&(this.Ia.close(),this.Ia=null)},g.bb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.Tc(),this.ib&&(this.ib(this.wc),this.ib=null))},g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.Tc())};var dg,eg;cg.prototype.open=function(e,t){this.Ne=0,this.ia=t,this.bf=new Uf(e),this.Ab=!1;var n=this;this.sb=setTimeout(function(){n.f("Timed out trying to connect."),n.bb(),n.sb=null},Math.floor(3e4)),Yb(function(){if(!n.Ab){n.Ta=new fg(function(e,t,r,i,o){if(gg(n,arguments),n.Ta)if(n.sb&&(clearTimeout(n.sb),n.sb=null),n.wc=!0,"start"==e)n.id=t,n.ff=r;else{if("close"!==e)throw Error("Unrecognized command received: "+e);t?(n.Ta.Kd=!1,Vf(n.bf,t,function(){n.bb()})):n.bb()}},function(e,t){gg(n,arguments),Wf(n.bf,e,t)},function(){n.bb()},n.Yc);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.Ta.Qd&&(e.cb=n.Ta.Qd),e.v="5",n.tf&&(e.s=n.tf),n.Cb&&(e.ls=n.Cb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),e=n.Yc(e),n.f("Connecting via long-poll to "+e),hg(n.Ta,e,function(){})}})},cg.prototype.start=function(){var e=this.Ta,t=this.ff;for(e.Vf=this.id,e.Wf=t,e.Ud=!0;ig(e););e=this.id,t=this.ff,this.fc=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.fc.src=this.Yc(n),this.fc.style.display="none",document.body.appendChild(this.fc)},cg.isAvailable=function(){return dg||!eg&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.rg)&&!0},g=cg.prototype,g.sd=function(){},g.Tc=function(){this.Ab=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.sb&&(clearTimeout(this.sb),this.sb=null)},g.bb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.Tc(),this.ia&&(this.ia(this.wc),this.ia=null))},g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.Tc())},g.send=function(e){e=x(e),this.qb+=e.length,Mf(this.Va,"bytes_sent",e.length),e=bc(e=ab(e=mb(e),!0),1840);for(var t=0;t<e.length;t++){var n=this.Ta;n.Qc.push({jg:this.Ne,pg:e.length,Pe:e[t]}),n.Ud&&ig(n),this.Ne++}},fg.prototype.close=function(){if(this.Ud=!1,this.Ea){this.Ea.gb.body.innerHTML="";var e=this;setTimeout(function(){null!==e.Ea&&(document.body.removeChild(e.Ea),e.Ea=null)},Math.floor(0))}var t=this.ib;t&&(this.ib=null,t())};var mg=[cg,Yf];og.prototype.ua=function(e){zg(this,{t:"d",d:e})},og.prototype.wd=function(e){wg(this),this.te(e)},og.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,vg(this),this.ia&&(this.ia(),this.ia=null))};var Bg=0,Dg=0;g=Ag.prototype,g.ua=function(e,t,n){var r=++this.ig;e={r:r,a:e,b:t},this.f(x(e)),D(this.ma,"sendRequest call when we're not connected not allowed."),this.Fa.ua(e),n&&(this.Gd[r]=n)},g.$e=function(e,t,n,r){var i=e.ja(),o=e.path.toString();this.f("Listen called for "+o+" "+i),this.$[o]=this.$[o]||{},D(qf(e.m)||!T(e.m),"listen() called for non-default but complete query"),D(!this.$[o][i],"listen() called twice for same path/queryId."),e={G:r,ld:t,eg:e,tag:n},this.$[o][i]=e,this.ma&&Eg(this,e)},g.kf=function(e){this.ob=e,this.f("Auth token refreshed"),this.ob?Gg(this):this.ma&&this.ua("unauth",{},function(){}),(e&&40===e.length||kc(e))&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3e4)},g.uf=function(e,t){var n=e.path.toString(),r=e.ja();if(this.f("Unlisten called for "+n+" "+r),D(qf(e.m)||!T(e.m),"unlisten() called for non-default but complete query"),Fg(this,n,r)&&this.ma){var i=pf(e.m);this.f("Unlisten on "+n+" for "+r),n={p:n},t&&(n.q=i,n.t=t),this.ua("n",n)}},g.re=function(e,t,n){this.ma?Ig(this,"o",e,t,n):this.Kc.push({we:e,action:"o",data:t,G:n})},g.cf=function(e,t,n){this.ma?Ig(this,"om",e,t,n):this.Kc.push({we:e,action:"om",data:t,G:n})},g.xd=function(e,t){this.ma?Ig(this,"oc",e,null,t):this.Kc.push({we:e,action:"oc",data:null,G:t})},g.put=function(e,t,n,r){Jg(this,"p",e,t,n,r)},g.af=function(e,t,n,r){Jg(this,"m",e,t,n,r)},g.ye=function(e){this.ma&&(e={c:e},this.f("reportStats",e),this.ua("s",e,function(e){"ok"!==e.s&&this.f("reportStats","Error sending stats: "+e.d)}))},g.wd=function(e){if("r"in e){this.f("from server: "+x(e));var t=e.r,n=this.Gd[t];n&&(delete this.Gd[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&(t=e.a,e=e.b,this.f("handleServerMessage",t,e),"d"===t?this.Gb(e.p,e.d,!1,e.t):"m"===t?this.Gb(e.p,e.d,!0,e.t):"c"===t?Lg(this,e.p,e.q):"ac"===t?Hg(this,e.s,e.d):"sd"===t?this.ze&&this.ze(e):Ub("Unrecognized action received from server: "+x(t)+"\nAre you using the latest client?"))}},g.Lc=function(e,t){if(this.f("connection ready"),this.ma=!0,this.Ac=(new Date).getTime(),this.ue({serverTimeOffset:e-(new Date).getTime()}),this.Cb=t,this.Re){var n={};n["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1,pb()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.ye(n)}Mg(this),this.Re=!1,this.Jc(!0)},g.Zf=function(e){e&&!this.Mb&&this.Sa===this.td&&(this.f("Window became visible.  Reducing delay."),this.Sa=1e3,this.Fa||Cg(this,0)),this.Mb=e},g.Yf=function(e){e?(this.f("Browser went online."),this.Sa=1e3,this.Fa||Cg(this,0)):(this.f("Browser went offline.  Killing connection."),this.Fa&&this.Fa.close())},g.df=function(){this.f("data client disconnected"),this.ma=!1,this.Fa=null;for(var e=0;e<this.pa.length;e++){var t=this.pa[e];t&&"h"in t.mf&&t.fg&&(t.G&&t.G("disconnect"),delete this.pa[e],this.Oc--)}0===this.Oc&&(this.pa=[]),this.Gd={},Og(this)&&(this.Mb?this.Ac&&(3e4<(new Date).getTime()-this.Ac&&(this.Sa=1e3),this.Ac=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Sa=this.td,this.me=(new Date).getTime()),e=Math.max(0,this.Sa-((new Date).getTime()-this.me)),e*=Math.random(),this.f("Trying to reconnect in "+e+"ms"),Cg(this,e),this.Sa=Math.min(this.td,1.3*this.Sa)),this.Jc(!1)},g.ab=function(e){I("Interrupting connection for reason: "+e),this.qd[e]=!0,this.Fa?this.Fa.close():(this.ub&&(clearTimeout(this.ub),this.ub=null),this.ma&&this.df())},g.kc=function(e){I("Resuming connection for reason: "+e),delete this.qd[e],Sa(this.qd)&&(this.Sa=1e3,this.Fa||Cg(this,0))};var Sg={TIMESTAMP:{".sv":"timestamp"}};g=Pg.prototype,g.app=null,g.jf=function(e){return Tg(this,"ref"),y("database.ref",0,1,arguments.length),n(e)?this.ba.n(e):this.ba},g.gg=function(e){Tg(this,"database.refFromURL"),y("database.refFromURL",1,1,arguments.length);var t=Wb(e);Xd("database.refFromURL",t);var n=t.jc;return n.host!==this.ta.L.host&&Vb("database.refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+this.ta.L.host+")"),this.jf(t.path.toString())},g.Pf=function(){y("database.goOffline",0,0,arguments.length),Tg(this,"goOffline"),this.ta.ab()},g.Qf=function(){y("database.goOnline",0,0,arguments.length),Tg(this,"goOnline"),this.ta.kc()},Object.defineProperty(Pg.prototype,"app",{get:function(){return this.ta.app}}),Rg.prototype.delete=function(){Tg(this.Ya,"delete");var e=Ug.Vb(),t=this.Ya.ta;return w(e.lb,t.app.name)!==t&&Vb("Database "+t.app.name+" has already been deleted."),t.ab(),delete e.lb[t.app.name],this.Ya.ta=null,this.Ya.ba=null,this.Ya=this.Ya.INTERNAL=null,firebase.Promise.resolve()},Pg.prototype.ref=Pg.prototype.jf,Pg.prototype.refFromURL=Pg.prototype.gg,Pg.prototype.goOnline=Pg.prototype.Qf,Pg.prototype.goOffline=Pg.prototype.Pf,Rg.prototype.delete=Rg.prototype.delete,V.prototype.H=function(){return y("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.H()},V.prototype.val=V.prototype.H,V.prototype.be=function(){return y("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.H(!0)},V.prototype.exportVal=V.prototype.be,V.prototype.toJSON=function(){return y("Firebase.DataSnapshot.toJSON",0,1,arguments.length),this.be()},V.prototype.toJSON=V.prototype.toJSON,V.prototype.Lf=function(){return y("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},V.prototype.exists=V.prototype.Lf,V.prototype.n=function(e){y("Firebase.DataSnapshot.child",0,1,arguments.length),ga(e)&&(e=String(e)),Vd("Firebase.DataSnapshot.child",e);var t=new E(e),n=this.V.n(t);return new V(this.A.P(t),n,H)},V.prototype.child=V.prototype.n,V.prototype.Da=function(e){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Vd("Firebase.DataSnapshot.hasChild",e);var t=new E(e);return!this.A.P(t).e()},V.prototype.hasChild=V.prototype.Da,V.prototype.C=function(){return y("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().H()},V.prototype.getPriority=V.prototype.C,V.prototype.forEach=function(e){if(y("Firebase.DataSnapshot.forEach",1,1,arguments.length),B("Firebase.DataSnapshot.forEach",1,e,!1),this.A.J())return!1;var t=this;return!!this.A.O(this.g,function(n,r){return e(new V(r,t.V.n(n),H))})},V.prototype.forEach=V.prototype.forEach,V.prototype.kd=function(){return y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.J()&&!this.A.e()},V.prototype.hasChildren=V.prototype.kd,V.prototype.getKey=function(){return y("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.getKey()},gc(V.prototype,"key",V.prototype.getKey),V.prototype.Eb=function(){return y("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Eb()},V.prototype.numChildren=V.prototype.Eb,V.prototype.wb=function(){return y("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},gc(V.prototype,"ref",V.prototype.wb),g=Vg.prototype,g.nf=function(e){return"value"===e},g.createEvent=function(e,t){var n=t.m.g;return new We("value",this,new V(e.Ja,t.wb(),n))},g.Tb=function(e){var t=this.tb;if("cancel"===e.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(t,e.error)}}var r=this.Pb;return function(){r.call(t,e.Md)}},g.Me=function(e,t){return this.rb?new Xe(this,e,t):null},g.matches=function(e){return e instanceof Vg&&(!e.Pb||!this.Pb||e.Pb===this.Pb&&e.tb===this.tb)},g.Xe=function(){return null!==this.Pb},g=Wg.prototype,g.nf=function(e){return("children_removed"===(e="children_added"===e?"child_added":e)?"child_removed":e)in this.ga},g.Me=function(e,t){return this.rb?new Xe(this,e,t):null},g.createEvent=function(e,t){D(null!=e.Xa,"Child events should have a childName.");var n=t.wb().n(e.Xa);return new We(e.type,this,new V(e.Ja,n,t.m.g),e.Dd)},g.Tb=function(e){var t=this.tb;if("cancel"===e.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(t,e.error)}}var r=this.ga[e.hd];return function(){r.call(t,e.Md,e.Dd)}},g.matches=function(e){if(e instanceof Wg){if(!this.ga||!e.ga)return!0;if(this.tb===e.tb&&(t=La(e.ga))===La(this.ga)){if(1===t){var t=Ma(e.ga),n=Ma(this.ga);return!(n!==t||e.ga[t]&&this.ga[n]&&e.ga[t]!==this.ga[n])}return Ka(this.ga,function(t,n){return e.ga[n]===t})}}return!1},g.Xe=function(){return null!==this.ga},g=Xg.prototype,g.e=function(){return Sa(this.za)},g.eb=function(e,t,n){var r=e.source.Hb;if(null!==r)return r=w(this.za,r),D(null!=r,"SyncTree gave us an op for an invalid query."),r.eb(e,t,n);var i=[];return v(this.za,function(r){i=i.concat(r.eb(e,t,n))}),i},g.Nb=function(e,t,n,r,i){var o=e.ja(),a=w(this.za,o);if(!a){var s=!1;(a=n.Aa(i?r:null))?s=!0:(a=r instanceof O?n.rc(r):L,s=!1),a=new Pe(e,new oe(new je(a,s,!1),new je(r,i,!1))),this.za[o]=a}return a.Nb(t),Ve(a,t)},g.kb=function(e,t,n){var r=e.ja(),i=[],o=[],a=null!=Yg(this);if("default"===r){var s=this;v(this.za,function(e,r){o=o.concat(e.kb(t,n)),e.e()&&(delete s.za[r],T(e.V.m)||i.push(e.V))})}else{var c=w(this.za,r);c&&(o=o.concat(c.kb(t,n)),c.e()&&(delete this.za[r],T(c.V.m)||i.push(c.V)))}return a&&null==Yg(this)&&i.push(new U(e.u,e.path)),{hg:i,Kf:o}},g.hb=function(e){var t=null;return v(this.za,function(n){t=t||n.hb(e)}),t},ah.prototype.Nb=function(e,t){var n=e.path,r=null,i=!1;Fd(this.wa,n,function(e,t){var o=P(e,n);r=r||t.hb(o),i=i||null!=Yg(t)});var o=this.wa.get(n);o?(i=i||null!=Yg(o),r=r||o.hb(Q)):(o=new Xg,this.wa=this.wa.set(n,o));var a;null!=r?a=!0:(a=!1,r=L,Jd(this.wa.subtree(n),function(e,t){var n=t.hb(Q);n&&(r=r.T(e,n))}));var s=null!=$g(o,e);if(!s&&!T(e.m)){var c=lh(e);D(!(c in this.ic),"View does not exist, but we have a tag");var u=mh++;this.ic[c]=u,this.De["_"+u]=c}return a=o.Nb(e,t,new If(n,this.jb),r,a),s||i||(o=$g(o,e),a=a.concat(nh(this,e,o))),a},ah.prototype.kb=function(e,t,n){var r=e.path,i=this.wa.get(r),o=[];if(i&&("default"===e.ja()||null!=$g(i,e))){o=i.kb(e,t,n),i.e()&&(this.wa=this.wa.remove(r)),i=o.hg,o=o.Kf,t=-1!==Ea(i,function(e){return T(e.m)});var a=Dd(this.wa,r,function(e,t){return null!=Yg(t)});if(t&&!a&&!(r=this.wa.subtree(r)).e())for(var r=oh(r),s=0;s<r.length;++s){var c=(u=r[s]).V,u=ph(this,u);this.Cc.Ae(qh(c),rh(this,c),u.ld,u.G)}if(!a&&0<i.length&&!n)if(t)this.Cc.Od(qh(e),null);else{var l=this;ya(i,function(e){e.ja();var t=l.ic[lh(e)];l.Cc.Od(qh(e),t)})}sh(this,i)}return o},ah.prototype.Aa=function(e,t){var n=this.jb,r=Dd(this.wa,e,function(t,n){var r=P(t,e);if(r=n.hb(r))return r});return n.Aa(e,r,t,!0)};var mh=1;g=Qg.prototype,g.toString=function(){return(this.L.Sc?"https://":"http://")+this.L.host},g.name=function(){return this.L.pe},g.Gb=function(e,t,n,r){this.fd++;var i=new E(e);t=this.je?this.je(e,t):t,e=[],r?n?(t=Ja(t,function(e){return G(e)}),e=kh(this.K,i,t,r)):(t=G(t),e=gh(this.K,i,t,r)):n?(r=Ja(t,function(e){return G(e)}),e=fh(this.K,i,r)):(r=G(t),e=ch(this.K,new ce(ie,i,r))),r=i,0<e.length&&(r=yh(this,i)),cf(this.ca,r,e)},g.Jc=function(e){vh(this,"connected",e),!1===e&&zh(this)},g.ue=function(e){var t=this;cc(e,function(e,n){vh(t,n,e)})},g.Jb=function(e,t,n,r){this.f("set",{path:e.toString(),value:t,ug:n});var i=xh(this),i=Jb(t=G(t,n),i),o=this.vd++,i=bh(this.K,e,i,o,!0);Ze(this.ca,i);var a=this;this.va.put(e.toString(),t.H(!0),function(t,n){var i="ok"===t;i||J("set at "+e+" failed: "+t),i=eh(a.K,o,!i),cf(a.ca,e,i),Ah(r,t,n)}),yh(this,i=Bh(this,e)),cf(this.ca,i,[])},g.update=function(e,t,n){this.f("update",{path:e.toString(),value:t});var r=!0,i=xh(this),o={};if(v(t,function(e,t){r=!1;var n=G(e);o[t]=Jb(n,i)}),r)I("update() called with empty data.  Don't do anything."),Ah(n,"ok");else{var a=this.vd++,s=dh(this.K,e,o,a);Ze(this.ca,s);var c=this;this.va.af(e.toString(),t,function(t,r){(i="ok"===t)||J("update at "+e+" failed: "+t);var i=eh(c.K,a,!i),o=e;0<i.length&&(o=yh(c,e)),cf(c.ca,o,i),Ah(n,t,r)}),v(t,function(t,n){var r=Bh(c,e.n(n));yh(c,r)}),cf(this.ca,e,[])}},g.xd=function(e,t){var n=this;this.va.xd(e.toString(),function(r,i){"ok"===r&&Yd(n.ia,e),Ah(t,r,i)})},g.ab=function(){this.Ra&&this.Ra.ab("repo_interrupt")},g.kc=function(){this.Ra&&this.Ra.kc("repo_interrupt")},g.Be=function(e){if("undefined"!=typeof console){e?(this.Vc||(this.Vc=new Kf(this.Va)),e=this.Vc.get()):e=this.Va.get();var t=Ba(Oa(e),function(e,t){return Math.max(t.length,e)},0),n;for(n in e)for(var r=e[n],i=n.length;i<t+2;i++)n+=" "}},g.Ce=function(e){Mf(this.Va,e),this.og.rf[e]=!0},g.f=function(e){var t="";this.Ra&&(t=this.Ra.id+":"),I(t,arguments)},Ug.prototype.ab=function(){for(var e in this.lb)this.lb[e].ab()},Ug.prototype.kc=function(){for(var e in this.lb)this.lb[e].kc()},Ug.prototype.ce=function(e){this.wf=e},ca(Ug),Ug.prototype.interrupt=Ug.prototype.ab,Ug.prototype.resume=Ug.prototype.kc;var W={};W.nc=Ag,W.DataConnection=W.nc,Ag.prototype.ng=function(e,t){this.ua("q",{p:e},t)},W.nc.prototype.simpleListen=W.nc.prototype.ng,Ag.prototype.Hf=function(e,t){this.ua("echo",{d:e},t)},W.nc.prototype.echo=W.nc.prototype.Hf,Ag.prototype.interrupt=Ag.prototype.ab,W.zf=og,W.RealTimeConnection=W.zf,og.prototype.sendRequest=og.prototype.ua,og.prototype.close=og.prototype.close,W.Rf=function(e){var t=Ag.prototype.put;return Ag.prototype.put=function(r,i,o,a){n(a)&&(a=e()),t.call(this,r,i,o,a)},function(){Ag.prototype.put=t}},W.hijackHash=W.Rf,W.yf=zb,W.ConnectionTarget=W.yf,W.ja=function(e){return e.ja()},W.queryIdentifier=W.ja,W.Uf=function(e){return e.u.Ra.$},W.listens=W.Uf,W.ce=function(e){Ug.Vb().ce(e)},W.forceRestClient=W.ce,W.Context=Ug,g=X.prototype,g.wb=function(){return y("Query.ref",0,0,arguments.length),new U(this.u,this.path)},g.gc=function(e,t,n,r){y("Query.on",2,4,arguments.length),Td("Query.on",e,!1),B("Query.on",2,t,!1);var i=Th("Query.on",n,r);if("value"===e)Fh(this.u,this,new Vg(t,i.cancel||null,i.Ma||null));else{var o={};o[e]=t,Fh(this.u,this,new Wg(o,i.cancel,i.Ma))}return t},g.Ic=function(e,t,n){y("Query.off",0,3,arguments.length),Td("Query.off",e,!0),B("Query.off",2,t,!0),ob("Query.off",3,n);var r=null,i=null;"value"===e?r=new Vg(t||null,null,n||null):e&&(t&&(i={},i[e]=t),r=new Wg(i,null,n||null)),i=this.u,r=".info"===K(this.path)?i.pd.kb(this,r):i.K.kb(this,r),af(i.ca,this.path,r)},g.$f=function(e,t){function c(a){i&&(i=!1,r.Ic(e,c),t&&t.call(n.Ma,a),o.resolve(a))}y("Query.once",1,4,arguments.length),Td("Query.once",e,!1),B("Query.once",2,t,!0);var n=Th("Query.once",arguments[2],arguments[3]),r=this,i=!0,o=new ib;return kb(o.ra),this.gc(e,c,function(t){r.Ic(e,c),n.cancel&&n.cancel.call(n.Ma,t),o.reject(t)}),o.ra},g.ne=function(e){if(y("Query.limitToFirst",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.ne(e),this.Nc)},g.oe=function(e){if(y("Query.limitToLast",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.oe(e),this.Nc)},g.ag=function(e){if(y("Query.orderByChild",1,1,arguments.length),"$key"===e)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Vd("Query.orderByChild",e),Sh(this,"Query.orderByChild");var t=new E(e);if(t.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new pc(t),t=of(this.m,t),Qh(t),new X(this.u,this.path,t,!0)},g.bg=function(){y("Query.orderByKey",0,0,arguments.length),Sh(this,"Query.orderByKey");var e=of(this.m,tc);return Qh(e),new X(this.u,this.path,e,!0)},g.cg=function(){y("Query.orderByPriority",0,0,arguments.length),Sh(this,"Query.orderByPriority");var e=of(this.m,H);return Qh(e),new X(this.u,this.path,e,!0)},g.dg=function(){y("Query.orderByValue",0,0,arguments.length),Sh(this,"Query.orderByValue");var e=of(this.m,wc);return Qh(e),new X(this.u,this.path,e,!0)},g.Nd=function(e,t){y("Query.startAt",0,2,arguments.length),Od("Query.startAt",e,this.path,!0),Ud("Query.startAt",t);var r=this.m.Nd(e,t);if(Rh(r),Qh(r),this.m.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(e)||(t=e=null),new X(this.u,this.path,r,this.Nc)},g.gd=function(e,t){y("Query.endAt",0,2,arguments.length),Od("Query.endAt",e,this.path,!0),Ud("Query.endAt",t);var n=this.m.gd(e,t);if(Rh(n),Qh(n),this.m.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.u,this.path,n,this.Nc)},g.If=function(e,t){if(y("Query.equalTo",1,2,arguments.length),Od("Query.equalTo",e,this.path,!1),Ud("Query.equalTo",t),this.m.ka)throw Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.m.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(e,t).gd(e,t)},g.toString=function(){y("Query.toString",0,0,arguments.length);for(var e=this.path,t="",n=e.Y;n<e.o.length;n++)""!==e.o[n]&&(t+="/"+encodeURIComponent(String(e.o[n])));return this.u.toString()+(t||"/")},g.toJSON=function(){return y("Query.toJSON",0,1,arguments.length),this.toString()},g.ja=function(){var e=ac(pf(this.m));return"{}"===e?"default":e},g.isEqual=function(e){if(y("Query.isEqual",1,1,arguments.length),!(e instanceof X))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var t=this.u===e.u,n=this.path.Z(e.path),r=this.ja()===e.ja();return t&&n&&r},X.prototype.on=X.prototype.gc,X.prototype.off=X.prototype.Ic,X.prototype.once=X.prototype.$f,X.prototype.limitToFirst=X.prototype.ne,X.prototype.limitToLast=X.prototype.oe,X.prototype.orderByChild=X.prototype.ag,X.prototype.orderByKey=X.prototype.bg,X.prototype.orderByPriority=X.prototype.cg,X.prototype.orderByValue=X.prototype.dg,X.prototype.startAt=X.prototype.Nd,X.prototype.endAt=X.prototype.gd,X.prototype.equalTo=X.prototype.If,X.prototype.toString=X.prototype.toString,X.prototype.isEqual=X.prototype.isEqual,gc(X.prototype,"ref",X.prototype.wb),Y.prototype.cancel=function(e){y("Firebase.onDisconnect().cancel",0,1,arguments.length),B("Firebase.onDisconnect().cancel",1,e,!0);var t=new ib;return this.ta.xd(this.qa,jb(t,e)),t.ra},Y.prototype.cancel=Y.prototype.cancel,Y.prototype.remove=function(e){y("Firebase.onDisconnect().remove",0,1,arguments.length),Wd("Firebase.onDisconnect().remove",this.qa),B("Firebase.onDisconnect().remove",1,e,!0);var t=new ib;return Ch(this.ta,this.qa,null,jb(t,e)),t.ra},Y.prototype.remove=Y.prototype.remove,Y.prototype.set=function(e,t){y("Firebase.onDisconnect().set",1,2,arguments.length),Wd("Firebase.onDisconnect().set",this.qa),Od("Firebase.onDisconnect().set",e,this.qa,!1),B("Firebase.onDisconnect().set",2,t,!0);var n=new ib;return Ch(this.ta,this.qa,e,jb(n,t)),n.ra},Y.prototype.set=Y.prototype.set,Y.prototype.Jb=function(e,t,n){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Wd("Firebase.onDisconnect().setWithPriority",this.qa),Od("Firebase.onDisconnect().setWithPriority",e,this.qa,!1),Sd("Firebase.onDisconnect().setWithPriority",2,t),B("Firebase.onDisconnect().setWithPriority",3,n,!0);var r=new ib;return Dh(this.ta,this.qa,e,t,jb(r,n)),r.ra},Y.prototype.setWithPriority=Y.prototype.Jb,Y.prototype.update=function(e,t){if(y("Firebase.onDisconnect().update",1,2,arguments.length),Wd("Firebase.onDisconnect().update",this.qa),ea(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,J("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.onDisconnect().update",e,this.qa),B("Firebase.onDisconnect().update",2,t,!0),n=new ib,Eh(this.ta,this.qa,e,jb(n,t)),n.ra},Y.prototype.update=Y.prototype.update;var Z={Mf:function(){dg=Zf=!0}};if(Z.forceLongPolling=Z.Mf,Z.Nf=function(){eg=!0},Z.forceWebSockets=Z.Nf,Z.Tf=function(){return Yf.isAvailable()},Z.isWebSocketsAvailable=Z.Tf,Z.lg=function(e,t){e.u.Ra.ze=t},Z.setSecurityDebugCallback=Z.lg,Z.Be=function(e,t){e.u.Be(t)},Z.stats=Z.Be,Z.Ce=function(e,t){e.u.Ce(t)},Z.statsIncrementCounter=Z.Ce,Z.fd=function(e){return e.u.fd},Z.dataUpdateCount=Z.fd,Z.Sf=function(e,t){e.u.je=t},Z.interceptServerData=Z.Sf,la(U,X),g=U.prototype,g.getKey=function(){return y("Firebase.key",0,0,arguments.length),this.path.e()?null:Oc(this.path)},g.n=function(e){if(y("Firebase.child",1,1,arguments.length),ga(e))e=String(e);else if(!(e instanceof E))if(null===K(this.path)){var t=e;t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Vd("Firebase.child",t)}else Vd("Firebase.child",e);return new U(this.u,this.path.n(e))},g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new U(this.u,e)},g.Of=function(){y("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},g.Gf=function(){return this.u.Ya},g.set=function(e,t){y("Firebase.set",1,2,arguments.length),Wd("Firebase.set",this.path),Od("Firebase.set",e,this.path,!1),B("Firebase.set",2,t,!0);var n=new ib;return this.u.Jb(this.path,e,null,jb(n,t)),n.ra},g.update=function(e,t){if(y("Firebase.update",1,2,arguments.length),Wd("Firebase.update",this.path),ea(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,J("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.update",e,this.path),B("Firebase.update",2,t,!0),n=new ib,this.u.update(this.path,e,jb(n,t)),n.ra},g.Jb=function(e,t,n){if(y("Firebase.setWithPriority",2,3,arguments.length),Wd("Firebase.setWithPriority",this.path),Od("Firebase.setWithPriority",e,this.path,!1),Sd("Firebase.setWithPriority",2,t),B("Firebase.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new ib;return this.u.Jb(this.path,e,t,jb(r,n)),r.ra},g.remove=function(e){return y("Firebase.remove",0,1,arguments.length),Wd("Firebase.remove",this.path),B("Firebase.remove",1,e,!0),this.set(null,e)},g.transaction=function(e,t,r){if(y("Firebase.transaction",1,3,arguments.length),Wd("Firebase.transaction",this.path),B("Firebase.transaction",1,e,!1),B("Firebase.transaction",2,t,!0),n(r)&&"boolean"!=typeof r)throw Error(A("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";void 0===r&&(r=!0);var i=new ib;return ha(t)&&kb(i.ra),Gh(this.u,this.path,e,function(e,n,r){e?i.reject(e):i.resolve(new Ph(n,r)),ha(t)&&t(e,n,r)},r),i.ra},g.kg=function(e,t){y("Firebase.setPriority",1,2,arguments.length),Wd("Firebase.setPriority",this.path),Sd("Firebase.setPriority",1,e),B("Firebase.setPriority",2,t,!0);var n=new ib;return this.u.Jb(this.path.n(".priority"),e,null,jb(n,t)),n.ra},g.push=function(e,t){y("Firebase.push",0,2,arguments.length),Wd("Firebase.push",this.path),Od("Firebase.push",e,this.path,!0),B("Firebase.push",2,t,!0);var n=wh(this.u),r=Kc(n),n=this.n(r),i=this.n(r),r=null!=e?n.set(e,t).then(function(){return i}):hb.resolve(i);return n.then=q(r.then,r),n.catch=q(r.then,r,void 0),ha(t)&&kb(r),n},g.ib=function(){return Wd("Firebase.onDisconnect",this.path),new Y(this.u,this.path)},U.prototype.child=U.prototype.n,U.prototype.set=U.prototype.set,U.prototype.update=U.prototype.update,U.prototype.setWithPriority=U.prototype.Jb,U.prototype.remove=U.prototype.remove,U.prototype.transaction=U.prototype.transaction,U.prototype.setPriority=U.prototype.kg,U.prototype.push=U.prototype.push,U.prototype.onDisconnect=U.prototype.ib,gc(U.prototype,"database",U.prototype.Gf),gc(U.prototype,"key",U.prototype.getKey),gc(U.prototype,"parent",U.prototype.getParent),gc(U.prototype,"root",U.prototype.Of),void 0===firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",function(e){var t=Ug.Vb();n(i=e.options.databaseURL)||Vb("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var r=Wb(i),i=r.jc;return Xd("Invalid Firebase Database URL",r),r.path.e()||Vb("Database URL must point to the root of a Firebase Database (not including a child path)."),(r=w(t.lb,e.name))&&Vb("FIREBASE INTERNAL ERROR: Database initialized multiple times."),r=new Qg(i,t.wf,e),t.lb[e.name]=r,r.Ya},{Reference:U,Query:X,Database:Pg,enableLogging:Sb,INTERNAL:Z,TEST_ACCESS:W,ServerValue:Sg})}catch(e){Vb("Failed to register the Firebase Database Service ("+e+")")}}()}).call(void 0!==typeof global?global:void 0!==typeof self?self:void 0!==typeof window?window:{}),module.exports=firebase.database}).call(exports,__webpack_require__(37))},function(e,t,n){(function(t){var r=n(655);(function(){(function(){for(var n,i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},o="undefined"!=typeof window&&window===this?this:void 0!==t&&null!=t?t:this,s=["Number","MIN_SAFE_INTEGER"],u=0;u<s.length-1;u++){var l=s[u];l in o||(o[l]={}),o=o[l]}var d=s[s.length-1];-9007199254740991!=o[d]&&i(o,d,{configurable:!0,writable:!0,value:-9007199254740991});var p=this,h=function(e){return void 0!==e},f=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},m=function(e,t){this.code="storage/"+e,this.message="Firebase Storage: "+t,this.serverResponse=null,this.name="FirebaseError"};!function(){function b(){}var e=Error;b.prototype=e.prototype,m.b=e.prototype,m.prototype=new b,m.a=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}();var v=function(){return new m("unknown","An unknown error occurred, please check the error payload for server response.")},y=function(){return new m("canceled","User canceled the upload/download.")},_=function(){return new m("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},S=function(e,t,n){return new m("invalid-argument","Invalid argument in `"+t+"` at index "+e+": "+n)},w=function(){return new m("app-deleted","The Firebase app was deleted.")},C=function(e,t){return new m("invalid-format","String does not match format '"+e+"': "+t)},T=function(e){throw new m("internal-error","Internal error: "+e)},E="https://firebasestorage.googleapis.com",k=function(e){if(void 0!==r)return new r.Promise(e);throw Error("Error in Firebase Storage - be sure to load firebase-app.js first.")},x=function(e,t){return-1!==e.indexOf(t)},I=function(t,n,r){function d(){c||(c=!0,n.apply(null,arguments))}function e(e){o=setTimeout(function(){o=null,t(g,2===s)},e)}function g(t,n){if(!c)if(t)d.apply(null,arguments);else if(2===s||a)d.apply(null,arguments);else{64>i&&(i*=2);var r;1===s?(s=2,r=0):r=1e3*(i+Math.random()),e(r)}}function f(t){u||(u=!0,c||(null!==o?(t||(s=2),clearTimeout(o),e(0)):t||(s=1)))}var i=1,o=null,a=!1,s=0,c=!1,u=!1;return e(0),setTimeout(function(){a=!0,f(!0)},r),f},R=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},O=function(e){var t={};return R(e,function(e,n){t[e]=n}),t},P=function(e,t,n,r){this.l=e,this.b={},this.method=t,this.headers={},this.body=null,this.m=n,this.c=this.a=null,this.f=[200],this.i=[],this.timeout=r,this.g=!0},A=function(e){var t=encodeURIComponent,n="?";return R(e,function(e,r){e=t(e)+"="+t(r),n=n+e+"&"}),n=n.slice(0,-1)},M=function(e,t,n,r,i,o,a,s,c,u,l){this.F=e,this.D=t,this.A=n,this.u=r,this.B=i.slice(),this.s=o.slice(),this.m=this.o=this.c=this.b=null,this.g=this.i=!1,this.v=a,this.l=s,this.f=u,this.G=l,this.C=c;var d=this;this.w=k(function(e,t){d.o=e,d.m=t,D(d)})},N=function(e,t,n){this.b=e,this.c=t,this.a=!!n},D=function(e){function b(e,n){function c(e){t.f(e.loaded,e.lengthComputable?e.total:-1)}n?e(!1,new N(!1,null,!0)):(n=new ct,n.h.withCredentials=t.G,t.b=n,null!==t.f&&h(n.h.upload)&&n.h.upload.addEventListener("progress",c),ut(n,t.F,t.D,t.u,t.A).then(function(n){null!==t.f&&h(n.h.upload)&&n.h.upload.removeEventListener("progress",c),t.b=null;var r=0===lt(n),i=dt(n);if(!(r=!r))var r=x([408,429],i),o=x(t.s,i),r=500<=i&&600>i||r||o;r?(n=2===lt(n),e(!1,new N(!1,null,n))):e(!0,new N(x(t.B,i),n))}))}function c(e,n){var r=t.o;e=t.m;var i=n.c;if(n.b)try{var o=t.v(i,pt(i));h(o)?r(o):r()}catch(t){e(t)}else null!==i?(n=v(),o=pt(i),n.serverResponse=o,e(t.l?t.l(i,n):n)):(n=n.a?t.g?w():y():new m("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),e(n))}var t=e;e.i?c(0,new N(!1,null,!0)):e.c=I(b,c,e.C)};M.prototype.a=function(){return this.w},M.prototype.cancel=function(e){this.i=!0,this.g=e||!1,null!==this.c&&(0,this.c)(!1),null!==this.b&&this.b.abort()};var L=function(e,t,n){var i=A(e.b),i=e.l+i,o=e.headers?O(e.headers):{};return null!==t&&0<t.length&&(o.Authorization="Firebase "+t),o["X-Firebase-Storage-Version"]="webjs/"+(void 0!==r?r.SDK_VERSION:"AppManager"),new M(i,e.method,o,e.body,e.f,e.i,e.m,e.a,e.timeout,e.c,n)},F=function(e){this.b=r.Promise.reject(e)};F.prototype.a=function(){return this.b},F.prototype.cancel=function(){};var U=function(e,t){this.bucket=e,this.path=t},j=function(e){var t=encodeURIComponent;return"/b/"+t(e.bucket)+"/o/"+t(e.path)},W=function(e){var t;try{t=B(e)}catch(t){return new U(e,"")}if(""===t.path)return t;throw new m("invalid-default-bucket","Invalid default bucket '"+e+"'.")},B=function(e){for(var t=null,n=[{M:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,H:{bucket:1,path:3},L:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path=e.path.slice(0,-1))}},{M:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,H:{bucket:1,path:3},L:function(e){e.path=decodeURIComponent(e.path)}}],r=0;r<n.length;r++){var i=n[r],o=i.M.exec(e);if(o){t=o[i.H.bucket],(o=o[i.H.path])||(o=""),t=new U(t,o),i.L(t);break}}if(null==t)throw new m("invalid-url","Invalid URL '"+e+"'.");return t},H=function(){this.a={},this.b=Number.MIN_SAFE_INTEGER},z=function(e,t){function c(){delete r.a[n]}var n=e.b;e.b++,e.a[n]=t;var r=e;t.a().then(c,c)},q=function(e){R(e.a,function(e,t){t&&t.cancel(!0)}),e.a={}},V=function(e){return h(e)&&null!==e},G=function(e){return"string"==typeof e||e instanceof String},$=function(){return"undefined"!=typeof Blob},X=function(e,t,n,r,i){this.a=e,this.g=null,null!==this.a&&(e=this.a.options,V(e)&&(e=e.storageBucket||null,this.g=null==e?null:W(e).bucket)),this.s=t,this.o=n,this.l=i,this.m=r,this.c=12e4,this.b=6e4,this.i=new H,this.f=!1},K=function(e){return null!==e.a&&V(e.a.INTERNAL)&&V(e.a.INTERNAL.getToken)?e.a.INTERNAL.getToken().then(function(e){return V(e)?e.accessToken:null},function(){return null}):r.Promise.resolve(null)};X.prototype.bucket=function(){if(this.f)throw w();return this.g};var Y=function(e,t,n){return e.f?new F(w()):(t=e.o(t,n,null===e.a,e.l),z(e.i,t),t)},Q=function(e,t){return t=t.split("/").filter(function(e){return 0<e.length}).join("/"),0===e.length?t:e+"/"+t},J=function(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)},Z=function(e,t){return t},ee=function(e,t,n,r){this.c=e,this.b=t||e,this.writable=!!n,this.a=r||Z},te=null,ne=function(){if(te)return te;var e=[];e.push(new ee("bucket")),e.push(new ee("generation")),e.push(new ee("metageneration")),e.push(new ee("name","fullPath",!0));var t=new ee("name");return t.a=function(e,t){return!G(t)||2>t.length?t:J(t)},e.push(t),t=new ee("size"),t.a=function(e,t){return V(t)?+t:t},e.push(t),e.push(new ee("timeCreated")),e.push(new ee("updated")),e.push(new ee("md5Hash",null,!0)),e.push(new ee("cacheControl",null,!0)),e.push(new ee("contentDisposition",null,!0)),e.push(new ee("contentEncoding",null,!0)),e.push(new ee("contentLanguage",null,!0)),e.push(new ee("contentType",null,!0)),e.push(new ee("metadata","customMetadata",!0)),e.push(new ee("downloadTokens","downloadURLs",!1,function(e,t){if(!(G(t)&&0<t.length))return[];var n=encodeURIComponent;return t.split(",").map(function(t){var r=e.fullPath,r="https://firebasestorage.googleapis.com/v0/b/"+n(e.bucket)+"/o/"+n(r);return t=A({alt:"media",token:t}),r+t})})),te=e},re=function(e,t){Object.defineProperty(e,"ref",{get:function(){return t.s(t,new U(e.bucket,e.fullPath))}})},ie=function(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.c]=e[o.b])}return JSON.stringify(n)},oe=function(e){if(!e||"object"!=typeof e)throw"Expected Metadata object.";for(var t in e){var n=e[t];if("customMetadata"===t){if("object"!=typeof n)throw"Expected object for 'customMetadata' mapping."}else if(null!=n&&"object"==typeof n)throw"Mapping for '"+t+"' cannot be an object."}},ae=function(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].b){r=o;break}if(!(r<=n.length&&n.length<=i))throw r===i?(t=r,r=1===r?"argument":"arguments"):(t="between "+r+" and "+i,r="arguments"),new m("invalid-argument-count","Invalid argument count in `"+e+"`: Expected "+t+" "+r+", received "+n.length+".");for(o=0;o<n.length;o++)try{t[o].a(n[o])}catch(t){if(t instanceof Error)throw S(o,e,t.message);throw S(o,e,t)}},se=function(e,t){var n=this;this.a=function(t){n.b&&!h(t)||e(t)},this.b=!!t},ce=function(e,t){return function(n){e(n),t(n)}},ue=function(e,t){function c(e){if(!("string"==typeof e||e instanceof String))throw"Expected string."}var n;return n=e?ce(c,e):c,new se(n,t)},le=function(){return new se(function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||$()&&e instanceof Blob))throw"Expected Blob or File."})},de=function(){return new se(function(e){if(!(("number"==typeof e||e instanceof Number)&&0<=e))throw"Expected a number 0 or greater."})},pe=function(e,t){return new se(function(t){if(!(null===t||V(t)&&t instanceof Object))throw"Expected an Object.";V(e)&&e(t)},t)},he=function(){return new se(function(e){if(null!==e&&"function"!=f(e))throw"Expected a Function."},!0)},fe=function(e){return function(){var t=[];Array.prototype.push.apply(t,arguments),r.Promise.resolve(!0).then(function(){e.apply(null,t)})}},ge=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},me=function(e,t){return e<t?-1:e>t?1:0},ve;e:{var ye=p.navigator;if(ye){var _e=ye.userAgent;if(_e){ve=_e;break e}}ve=""}var be=function(e,t){var n=Ae;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)},Se=-1!=ve.indexOf("Opera"),we=-1!=ve.indexOf("Trident")||-1!=ve.indexOf("MSIE"),Ce=-1!=ve.indexOf("Edge"),Te=!(-1==ve.indexOf("Gecko")||-1!=ve.toLowerCase().indexOf("webkit")&&-1==ve.indexOf("Edge")||-1!=ve.indexOf("Trident")||-1!=ve.indexOf("MSIE")||-1!=ve.indexOf("Edge")),Ee=-1!=ve.toLowerCase().indexOf("webkit")&&-1==ve.indexOf("Edge"),ke;e:{var xe="",Ie=function(){var e=ve;return Te?/rv\:([^\);]+)(\)|;)/.exec(e):Ce?/Edge\/([\d\.]+)/.exec(e):we?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ee?/WebKit\/(\S+)/.exec(e):Se?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ie&&(xe=Ie?Ie[1]:""),we){var Re,Oe=p.document;if(null!=(Re=Oe?Oe.documentMode:void 0)&&Re>parseFloat(xe)){ke=String(Re);break e}}ke=xe}var Pe=ke,Ae={},Me=function(e){return be(e,function(){for(var t=0,n=ge(String(Pe)).split("."),r=ge(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=me(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||me(0==a[2].length,0==s[2].length)||me(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})},Ne=function(e){var t=p.BlobBuilder||p.WebKitBlobBuilder;if(h(t)){for(var t=new t,n=0;n<arguments.length;n++)t.append(arguments[n]);return t.getBlob()}if(t=Array.prototype.slice.call(arguments),n=p.BlobBuilder||p.WebKitBlobBuilder,h(n)){for(var n=new n,r=0;r<t.length;r++)n.append(t[r],void 0);t=n.getBlob(void 0)}else{if(!h(p.Blob))throw Error("This browser doesn't seem to support creating Blobs");t=new Blob(t,{})}return t},De=function(e,t,n){return h(n)||(n=e.size),e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?Te&&!Me("13.0")||Ee&&!Me("537.1")?(0>t&&(t+=e.size),0>t&&(t=0),0>n&&(n+=e.size),n<t&&(n=t),e.slice(t,n-t)):e.slice(t,n):null},Le={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Fe=function(e){switch(e){case"raw":case"base64":case"base64url":case"data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url]."}},Ue=function(e,t){this.data=e,this.a=t||null},je=function(e,t){switch(e){case"raw":return new Ue(We(t));case"base64":case"base64url":return new Ue(Be(e,t));case"data_url":var n;if((e=new He(t)).a)n=Be("base64",e.c);else{try{n=decodeURIComponent(e.c)}catch(e){throw C("data_url","Malformed data URL.")}n=We(n)}return new Ue(n,new He(t).b)}throw v()},We=function(e){for(var t=[],n=0;n<e.length;n++)if(127>=(r=e.charCodeAt(n)))t.push(r);else if(2047>=r)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var r=65536|(1023&r)<<10|1023&e.charCodeAt(++n);t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r);return new Uint8Array(t)},Be=function(e,t){switch(e){case"base64":var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw C(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case"base64url":if(n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/"),n||r)throw C(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(t)}catch(t){throw C(e,"Invalid character found")}for(e=new Uint8Array(i.length),t=0;t<i.length;t++)e[t]=i.charCodeAt(t);return e},He=function(e){var t=e.match(/^data:([^,]+)?,/);if(null===t)throw C("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");if(t=t[1]||null,this.a=!1,this.b=null,null!=t){var n=t.length-7;this.b=(this.a=0<=n&&t.indexOf(";base64",n)==n)?t.substring(0,t.length-7):t}this.c=e.substring(e.indexOf(",")+1)},ze=function(e,t){$()&&e instanceof Blob?(this.j=e,t=e.size,e=e.type):(e instanceof ArrayBuffer?(t?this.j=new Uint8Array(e):(this.j=new Uint8Array(e.byteLength),this.j.set(new Uint8Array(e))),t=this.j.length):(t?this.j=e:(this.j=new Uint8Array(e.length),this.j.set(e)),t=e.length),e=""),this.a=t,this.b=e};ze.prototype.type=function(){return this.b},ze.prototype.slice=function(e,t){return $()&&this.j instanceof Blob?null===(e=De(this.j,e,t))?null:new ze(e):(e=new Uint8Array(this.j.buffer,e,t-e),new ze(e,!0))};var qe=function(e){var t=[];if(Array.prototype.push.apply(t,arguments),$())return t=t.map(function(e){return e instanceof ze?e.j:e}),new ze(Ne.apply(null,t));var n=0;(t=t.map(function(e){return G(e)?je("raw",e).data:e.j})).forEach(function(e){n+=e.byteLength});var r=new Uint8Array(n),i=0;return t.forEach(function(e){for(var t=0;t<e.length;t++)r[i++]=e[t]}),new ze(r,!0)},Ve=function(e,t,n){"function"==f(e)||V(t)||V(n)?(this.b=e,this.error=t||null,this.a=n||null):(this.b=e.next||null,this.error=e.error||null,this.a=e.complete||null)},Ge=function(e){if(!e)throw v()},$e=function(e,t){return function(n,r){var i;e:{try{i=JSON.parse(r)}catch(e){i=null;break e}i="object"==(n=typeof i)&&null!=i||"function"==n?i:null}if(null===i)i=null;else{n={type:"file"},r=t.length;for(var o=0;o<r;o++){var a=t[o];n[a.b]=a.a(n,i[a.c])}re(n,e),i=n}return Ge(null!==i),i}},Xe=function(e){return function(t,n){return t=401===dt(t)?new m("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===dt(t)?new m("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===dt(t)?new m("unauthorized","User does not have permission to access '"+e.path+"'."):n,t.serverResponse=n.serverResponse,t}},Ke=function(e){var t=Xe(e);return function(n,r){var i=t(n,r);return 404===dt(n)&&(i=new m("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}},Ye=function(e,t,n){var r=j(t);return e=new P(E+"/v0"+r,"GET",$e(e,n),e.c),e.a=Ke(t),e},Qe=function(e,t){var n=j(t);return e=new P(E+"/v0"+n,"DELETE",function(){},e.c),e.f=[200,204],e.a=Ke(t),e},Je=function(e,t,n){return n=n?O(n):{},n.fullPath=e.path,n.size=t.a,n.contentType||(e=t&&t.type()||"application/octet-stream",n.contentType=e),n},Ze=function(e,t,n,r,i){var o="/b/"+encodeURIComponent(t.bucket)+"/o",a={"X-Goog-Upload-Protocol":"multipart"},s;s="";for(var c=0;2>c;c++)s+=Math.random().toString().slice(2);if(a["Content-Type"]="multipart/related; boundary="+s,i=Je(t,r,i),c=ie(i,n),null===(r=qe("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+i.contentType+"\r\n\r\n",r,"\r\n--"+s+"--")))throw _();return e=new P(E+"/v0"+o,"POST",$e(e,n),e.b),e.b={name:i.fullPath},e.headers=a,e.body=r.j,e.a=Xe(t),e},et=function(e,t,n,r){this.current=e,this.total=t,this.I=!!n,this.metadata=r||null},tt=function(e,t){var n;try{n=e.h.getResponseHeader("X-Goog-Upload-Status")}catch(e){Ge(!1)}return Ge(x(t||["active"],n)),n},nt=function(e,t,n,r,i){var o="/b/"+encodeURIComponent(t.bucket)+"/o",a=Je(t,r,i);return i={name:a.fullPath},o=E+"/v0"+o,r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.a,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=ie(a,n),e=new P(o,"POST",function(e){tt(e);var t;try{t=e.h.getResponseHeader("X-Goog-Upload-URL")}catch(e){Ge(!1)}return Ge(G(t)),t},e.b),e.b=i,e.headers=r,e.body=n,e.a=Xe(t),e},rt=function(e,t,n,r){return e=new P(n,"POST",function(e){var t=tt(e,["active","final"]),n;try{n=e.h.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Ge(!1)}return e=n,isFinite(e)&&(e=String(e)),e="string"==typeof e?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN,Ge(!isNaN(e)),new et(e,r.a,"final"===t)},e.b),e.headers={"X-Goog-Upload-Command":"query"},e.a=Xe(t),e.g=!1,e},it=function(e,t,n,r,i,o,a,s){var c=new et(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.a),r.a!==c.total)throw new m("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=a=c.total-c.current;0<i&&(u=Math.min(u,i));var l=c.current;if(i={"X-Goog-Upload-Command":u===a?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},null===(a=r.slice(l,l+u)))throw _();return n=new P(n,"POST",function(e,n){var i=tt(e,["active","final"]),a=c.current+u,s=r.a,l;return l="final"===i?$e(t,o)(e,n):null,new et(a,s,"final"===i,l)},t.b),n.headers=i,n.body=a.j,n.c=s||null,n.a=Xe(e),n.g=!1,n},ot={STATE_CHANGED:"state_changed"},at={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},st=function(e){switch(e){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":default:return"error"}},ct=function(){var e=this;this.h=new XMLHttpRequest,this.b=0,this.c=k(function(t){e.h.addEventListener("abort",function(){e.b=2,t(e)}),e.h.addEventListener("error",function(){e.b=1,t(e)}),e.h.addEventListener("load",function(){t(e)})}),this.a=!1},ut=function(e,t,n,r,i){if(e.a)throw T("cannot .send() more than once");return e.a=!0,e.h.open(n,t,!0),V(i)&&R(i,function(t,n){e.h.setRequestHeader(t,n.toString())}),V(r)?e.h.send(r):e.h.send(),e.c},lt=function(e){if(!e.a)throw T("cannot .getErrorCode() before sending");return e.b},dt=function(e){if(!e.a)throw T("cannot .getStatus() before sending");try{return e.h.status}catch(e){return-1}},pt=function(e){if(!e.a)throw T("cannot .getResponseText() before sending");return e.h.responseText};ct.prototype.abort=function(){this.h.abort()};var ht=function(){},ft=function(e,t,n,r,i,o){this.b=e,this.i=t,this.f=n,this.a=r,this.g=i,this.c=o};(n=ft.prototype).X=function(){return this.b},n.sa=function(){return this.i},n.pa=function(){return this.f},n.ka=function(){return this.a},n.Y=function(){if(V(this.a)){var e=this.a.downloadURLs;return V(e)&&V(e[0])?e[0]:null}return null},n.ra=function(){return this.g},n.na=function(){return this.c};var gt=function(e,t,n,r,i,o){var a=this;this.O=e,this.c=t,this.o=n,this.f=i,this.i=void 0===o?null:o,this.u=r,this.l=0,this.G=this.w=!1,this.B=[],this.U=262144<this.f.a,this.b="running",this.a=this.A=this.g=null,this.m=1,this.s=function(e){a.a=null,a.m=1,"storage/canceled"===e.code?(a.w=!0,kt(a)):(a.g=e,Et(a,"error"))},this.N=function(e){a.a=null,"storage/canceled"===e.code?kt(a):(a.g=e,Et(a,"error"))},this.D=this.v=null,this.F=k(function(e,t){a.v=e,a.D=t,vt(a)}),this.F.then(null,function(){})},mt=function(e){var t=e.l;return function(n){Tt(e,t+n)}},vt=function(e){"running"===e.b&&null===e.a&&(e.U?null===e.A?_t(e):e.w?bt(e):e.G?wt(e):St(e):Ct(e))},yt=function(e,t){K(e.c).then(function(n){switch(e.b){case"running":t(n);break;case"canceling":Et(e,"canceled");break;case"pausing":Et(e,"paused")}})},_t=function(e){yt(e,function(t){var n=nt(e.c,e.o,e.u,e.f,e.i);e.a=Y(e.c,n,t),e.a.a().then(function(t){e.a=null,e.A=t,e.w=!1,kt(e)},e.s)})},bt=function(e){var t=e.A;yt(e,function(n){var r=rt(e.c,e.o,t,e.f);e.a=Y(e.c,r,n),e.a.a().then(function(t){e.a=null,Tt(e,t.current),e.w=!1,t.I&&(e.G=!0),kt(e)},e.s)})},St=function(e){var t=262144*e.m,n=new et(e.l,e.f.a),r=e.A;yt(e,function(i){var o;try{o=it(e.o,e.c,r,e.f,t,e.u,n,mt(e))}catch(t){return e.g=t,void Et(e,"error")}e.a=Y(e.c,o,i),e.a.a().then(function(t){33554432>262144*e.m&&(e.m*=2),e.a=null,Tt(e,t.current),t.I?(e.i=t.metadata,Et(e,"success")):kt(e)},e.s)})},wt=function(e){yt(e,function(t){var n=Ye(e.c,e.o,e.u);e.a=Y(e.c,n,t),e.a.a().then(function(t){e.a=null,e.i=t,Et(e,"success")},e.N)})},Ct=function(e){yt(e,function(t){var n=Ze(e.c,e.o,e.u,e.f,e.i);e.a=Y(e.c,n,t),e.a.a().then(function(t){e.a=null,e.i=t,Tt(e,e.f.a),Et(e,"success")},e.s)})},Tt=function(e,t){var n=e.l;e.l=t,e.l!==n&&xt(e)},Et=function(e,t){if(e.b!==t)switch(t){case"canceling":case"pausing":e.b=t,null!==e.a&&e.a.cancel();break;case"running":var n="paused"===e.b;e.b=t,n&&(xt(e),vt(e));break;case"paused":e.b=t,xt(e);break;case"canceled":e.g=y(),e.b=t,xt(e);break;case"error":e.b=t,xt(e);break;case"success":e.b=t,xt(e)}},kt=function(e){switch(e.b){case"pausing":Et(e,"paused");break;case"canceling":Et(e,"canceled");break;case"running":vt(e)}};gt.prototype.C=function(){return new ft(this.l,this.f.a,st(this.b),this.i,this,this.O)},gt.prototype.P=function(t,n,r,i){function e(e){try{return void o(e)}catch(e){}try{if(a(e),!(h(e.next)||h(e.error)||h(e.complete)))throw""}catch(e){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function g(e){return function(t,n,r){null!==e&&ae("on",e,arguments);var i=new Ve(t,n,r);return s.B.push(i),Rt(s,i),function(){var e=s.B,t=e.indexOf(i);-1!==t&&e.splice(t,1)}}}var o=he().a,a=pe(null,!0).a;ae("on",[ue(function(){if("state_changed"!==t)throw"Expected one of the event types: [state_changed]."}),pe(e,!0),he(),he()],arguments);var s=this,c=[pe(function(t){if(null===t)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";e(t)}),he(),he()];return h(n)||h(r)||h(i)?g(null)(n,r,i):g(c)},gt.prototype.then=function(e,t){return this.F.then(void 0===e?null:e,void 0===t?null:t)},gt.prototype.catch=function(e){return this.then(null,e)};var xt=function(e){It(e),Array.prototype.slice.call(e.B).forEach(function(t){Rt(e,t)})},It=function(e){if(null!==e.v){var t=!0;switch(st(e.b)){case"success":fe(e.v.bind(null,e.C()))();break;case"canceled":case"error":fe(e.D.bind(null,e.g))();break;default:t=!1}t&&(e.v=null,e.D=null)}},Rt=function(e,t){switch(st(e.b)){case"running":case"paused":null!==t.b&&fe(t.b.bind(t,e.C()))();break;case"success":null!==t.a&&fe(t.a.bind(t))();break;case"canceled":case"error":null!==t.error&&fe(t.error.bind(t,e.g))();break;default:null!==t.error&&fe(t.error.bind(t,e.g))()}};gt.prototype.T=function(){ae("resume",[],arguments);var e="paused"===this.b||"pausing"===this.b;return e&&Et(this,"running"),e},gt.prototype.R=function(){ae("pause",[],arguments);var e="running"===this.b;return e&&Et(this,"pausing"),e},gt.prototype.cancel=function(){ae("cancel",[],arguments);var e="running"===this.b||"pausing"===this.b;return e&&Et(this,"canceling"),e};var Ot=function(e,t){this.a=e,this.location=t instanceof U?t:B(t)};Ot.prototype.toString=function(){return ae("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path};var Pt=function(e,t){return new Ot(e,t)};(n=Ot.prototype).J=function(e){ae("child",[ue()],arguments);var t=Q(this.location.path,e);return Pt(this.a,new U(this.location.bucket,t))},n.ma=function(){var e;if(0==(e=this.location.path).length)e=null;else{var t=e.lastIndexOf("/");e=-1===t?"":e.slice(0,t)}return null===e?null:Pt(this.a,new U(this.location.bucket,e))},n.oa=function(){return Pt(this.a,new U(this.location.bucket,""))},n.W=function(){return this.location.bucket},n.ha=function(){return this.location.path},n.la=function(){return J(this.location.path)},n.qa=function(){return this.a.m},n.aa=function(e,t){return ae("put",[le(),new se(oe,!0)],arguments),At(this,"put"),new gt(this,this.a,this.location,ne(),new ze(e),t)},n.ba=function(e,t,n){ae("putString",[ue(),ue(Fe,!0),new se(oe,!0)],arguments),At(this,"putString");var r=je(V(t)?t:"raw",e),i=n?O(n):{};return!V(i.contentType)&&V(r.a)&&(i.contentType=r.a),new gt(this,this.a,this.location,ne(),new ze(r.data,!0),i)},n.Z=function(){ae("delete",[],arguments),At(this,"delete");var e=this;return K(this.a).then(function(t){var n=Qe(e.a,e.location);return Y(e.a,n,t).a()})},n.K=function(){ae("getMetadata",[],arguments),At(this,"getMetadata");var e=this;return K(this.a).then(function(t){var n=Ye(e.a,e.location,ne());return Y(e.a,n,t).a()})},n.ca=function(e){ae("updateMetadata",[new se(oe,void 0)],arguments),At(this,"updateMetadata");var t=this;return K(this.a).then(function(n){var r=t.a,i=t.location,o=e,a=ne(),s=j(i),s=E+"/v0"+s,o=ie(o,a);return(r=new P(s,"PATCH",$e(r,a),r.c)).headers={"Content-Type":"application/json; charset=utf-8"},r.body=o,r.a=Ke(i),Y(t.a,r,n).a()})},n.$=function(){return ae("getDownloadURL",[],arguments),At(this,"getDownloadURL"),this.K().then(function(e){if(e=e.downloadURLs[0],V(e))return e;throw new m("no-download-url","The given file does not have any download URLs.")})};var At=function(e,t){if(""===e.location.path)throw new m("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},Mt=function(e,t,n){this.a=new X(e,function(e,t){return new Ot(e,t)},L,this,t),this.c=e,h(n)?this.b=W(n):null!=this.a.bucket()&&(this.b=new U(this.a.bucket(),"")),this.f=new Nt(this)};(n=Mt.prototype).da=function(e){if(ae("ref",[ue(function(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null===this.b)throw Error("No Storage Bucket defined in Firebase Options.");var t=new Ot(this.a,this.b);return h(e)?t.J(e):t},n.ea=function(e){return ae("refFromURL",[ue(function(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{B(e)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Ot(this.a,e)},n.ja=function(){return this.a.b},n.ga=function(e){ae("setMaxUploadRetryTime",[de()],arguments),this.a.b=e},n.ia=function(){return this.a.c},n.fa=function(e){ae("setMaxOperationRetryTime",[de()],arguments),this.a.c=e},n.V=function(){return this.c},n.S=function(){return this.f};var Nt=function(e){this.a=e};Nt.prototype.b=function(){var e=this.a.a;e.f=!0,e.a=null,q(e.i)};var Dt=function(e,t,n){Object.defineProperty(e,t,{get:n})};Ot.prototype.toString=Ot.prototype.toString,Ot.prototype.child=Ot.prototype.J,Ot.prototype.put=Ot.prototype.aa,Ot.prototype.putString=Ot.prototype.ba,Ot.prototype.delete=Ot.prototype.Z,Ot.prototype.getMetadata=Ot.prototype.K,Ot.prototype.updateMetadata=Ot.prototype.ca,Ot.prototype.getDownloadURL=Ot.prototype.$,Dt(Ot.prototype,"parent",Ot.prototype.ma),Dt(Ot.prototype,"root",Ot.prototype.oa),Dt(Ot.prototype,"bucket",Ot.prototype.W),Dt(Ot.prototype,"fullPath",Ot.prototype.ha),Dt(Ot.prototype,"name",Ot.prototype.la),Dt(Ot.prototype,"storage",Ot.prototype.qa),Mt.prototype.ref=Mt.prototype.da,Mt.prototype.refFromURL=Mt.prototype.ea,Dt(Mt.prototype,"maxOperationRetryTime",Mt.prototype.ia),Mt.prototype.setMaxOperationRetryTime=Mt.prototype.fa,Dt(Mt.prototype,"maxUploadRetryTime",Mt.prototype.ja),Mt.prototype.setMaxUploadRetryTime=Mt.prototype.ga,Dt(Mt.prototype,"app",Mt.prototype.V),Dt(Mt.prototype,"INTERNAL",Mt.prototype.S),Nt.prototype.delete=Nt.prototype.b,Mt.prototype.capi_=function(e){E=e},gt.prototype.on=gt.prototype.P,gt.prototype.resume=gt.prototype.T,gt.prototype.pause=gt.prototype.R,gt.prototype.cancel=gt.prototype.cancel,gt.prototype.then=gt.prototype.then,gt.prototype.catch=gt.prototype.catch,Dt(gt.prototype,"snapshot",gt.prototype.C),Dt(ft.prototype,"bytesTransferred",ft.prototype.X),Dt(ft.prototype,"totalBytes",ft.prototype.sa),Dt(ft.prototype,"state",ft.prototype.pa),Dt(ft.prototype,"metadata",ft.prototype.ka),Dt(ft.prototype,"downloadURL",ft.prototype.Y),Dt(ft.prototype,"task",ft.prototype.ra),Dt(ft.prototype,"ref",ft.prototype.na),ot.STATE_CHANGED="state_changed",at.RUNNING="running",at.PAUSED="paused",at.SUCCESS="success",at.CANCELED="canceled",at.ERROR="error",Le.RAW="raw",Le.BASE64="base64",Le.BASE64URL="base64url",Le.DATA_URL="data_url",function(){function a(e,t,n){return new Mt(e,new ht,n)}var e={TaskState:at,TaskEvent:ot,StringFormat:Le,Storage:Mt,Reference:Ot};if(void 0===r)throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.");r.INTERNAL.registerService("storage",a,e,void 0,!0)}()}).call(this)}).call(void 0!==typeof t?t:void 0!==typeof self?self:void 0!==typeof window?window:{}),e.exports=r.storage}).call(t,n(37))},function(e,t,n){(function(t){var r=n(655);(function(){(function(){var e=function(e,t){function c(){}c.prototype=t.prototype,e.u=t.prototype,e.prototype=new c;for(var n in t)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n]},t=this,n=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},i=function(e,t){function c(){}c.prototype=t.prototype,e.u=t.prototype,e.prototype=new c,e.v=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}},o=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,o);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))};i(o,Error);var a=function(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},s=function(e,t){t.unshift(e),o.call(this,a.apply(null,t)),t.shift()};i(s,o);var c=function(e,t,n){if(!e){var r="Assertion failed";if(t)var r=r+": "+t,i=Array.prototype.slice.call(arguments,2);throw new s(""+r,i||[])}},u=null,l=function(e){e=new Uint8Array(e);var t=n(e);if(c("array"==t||"object"==t&&"number"==typeof e.length,"encodeByteArray takes an array as a parameter"),!u)for(u={},t=0;65>t;t++)u[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t);for(var t=u,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,d=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|(p=l?e[i+2]:0)>>6,p=63&p;l||(p=64,a||(s=64)),r.push(t[d],t[o],t[s],t[p])}return r.join("").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},d={},p=(d["only-available-in-window"]="This method is available in a Window context.",d["only-available-in-sw"]="This method is available in a service worker context.",d["should-be-overriden"]="This method should be overriden by extended classes.",d["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",d["permission-default"]="The required permissions were not granted and dismissed instead.",d["permission-blocked"]="The required permissions were not granted and blocked instead.",d["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",d["notifications-blocked"]="Notifications have been blocked.",d["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",d["sw-registration-expected"]="A service worker registration was the expected input.",d["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",d["invalid-saved-token"]="Unable to access details of the saved token.",d["sw-reg-redundant"]="The service worker being used for push was made redundant.",d["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$message}",d["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",d["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",d["use-sw-before-get-token"]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",d["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",d["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",d["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",d["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",d["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",d["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",d["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",d["failed-to-delete-token"]="Unable to delete the currently saved token.",d["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",d["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",d["bad-scope"]="The service worker scope must be a string with at least one character.",d["bad-vapid-key"]="The public VAPID key must be a string with at least one character.",d["bad-subscription"]="The subscription must be a valid PushSubscription.",d["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",d["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",d["failed-delete-vapid-key"]="The VAPID key could not be deleted.",d),h={userVisibleOnly:!0,applicationServerKey:new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110])},f=new r.INTERNAL.ErrorFactory("messaging","Messaging",p),g=function(){this.a=null},m=function(e){return e.a?e.a:(e.a=new Promise(function(e,n){var r=t.indexedDB.open("fcm_token_details_db",1);r.onerror=function(e){n(e.target.error)},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){(e=e.target.result.createObjectStore("fcm_token_object_Store",{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),e.createIndex("fcmToken","fcmToken",{unique:!0})}}),e.a)},v=function(e){e.a?e.a.then(function(t){t.close(),e.a=null}):Promise.resolve()},y=function(e,t){return m(e).then(function(e){return new Promise(function(n,r){var i=e.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").index("fcmToken").get(t);i.onerror=function(e){r(e.target.error)},i.onsuccess=function(e){n(e.target.result)}})})},_=function(e,t){return m(e).then(function(e){return new Promise(function(n,r){var i=[],o=e.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").openCursor();o.onerror=function(e){r(e.target.error)},o.onsuccess=function(e){(e=e.target.result)?(e.value.fcmSenderId===t&&i.push(e.value),e.continue()):n(i)}})})},b=function(e,t,n){var r=l(t.getKey("p256dh")),i=l(t.getKey("auth"));return e="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+r+"&encryption_auth="+i,n&&(e+="&pushSet="+n),(n=new Headers).append("Content-Type","application/x-www-form-urlencoded"),fetch("https://fcm.googleapis.com/fcm/connect/subscribe",{method:"POST",headers:n,body:e}).then(function(e){return e.json()}).then(function(e){if(e.error)throw f.create("token-subscribe-failed",{message:e.error.message});if(!e.token)throw f.create("token-subscribe-no-token");if(!e.pushSet)throw f.create("token-subscribe-no-push-set");return{token:e.token,pushSet:e.pushSet}})},S=function(e,t,n,r,i,o){var a={swScope:n.scope,endpoint:r.endpoint,auth:l(r.getKey("auth")),p256dh:l(r.getKey("p256dh")),fcmToken:i,fcmPushSet:o,fcmSenderId:t};return m(e).then(function(e){return new Promise(function(t,n){var r=e.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").put(a);r.onerror=function(e){n(e.target.error)},r.onsuccess=function(){t()}})})};g.prototype.i=function(e,t){return t instanceof ServiceWorkerRegistration?"string"!=typeof e||0===e.length?Promise.reject(f.create("bad-sender-id")):_(this,e).then(function(n){if(0!==n.length){var r=n.findIndex(function(n){return t.scope===n.swScope&&e===n.fcmSenderId});if(-1!==r)return n[r]}}).then(function(e){if(e)return t.pushManager.getSubscription().catch(function(){throw f.create("get-subscription-failed")}).then(function(t){var n;if((n=t)&&(n=t.endpoint===e.endpoint&&l(t.getKey("auth"))===e.auth&&l(t.getKey("p256dh"))===e.p256dh),n)return e.fcmToken})}):Promise.reject(f.create("sw-registration-expected"))},g.prototype.getSavedToken=g.prototype.i,g.prototype.h=function(e,t){var n=this;return"string"!=typeof e||0===e.length?Promise.reject(f.create("bad-sender-id")):t instanceof ServiceWorkerRegistration?t.pushManager.getSubscription().then(function(e){return e||t.pushManager.subscribe(h)}).then(function(r){return b(e,r).then(function(i){return S(n,e,t,r,i.token,i.pushSet).then(function(){return i.token})})}):Promise.reject(f.create("sw-registration-expected"))},g.prototype.createToken=g.prototype.h,g.prototype.deleteToken=function(e){var t=this;return"string"!=typeof e||0===e.length?Promise.reject(f.create("invalid-delete-token")):y(this,e).then(function(e){if(!e)throw f.create("delete-token-not-found");return m(t).then(function(t){return new Promise(function(n,r){var i=t.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").delete(e.swScope);i.onerror=function(e){r(e.target.error)},i.onsuccess=function(t){0===t.target.result?r(f.create("failed-to-delete-token")):n(e)}})})})};var w=function(e){var t=this;if(this.a=new r.INTERNAL.ErrorFactory("messaging","Messaging",p),!e.options.messagingSenderId||"string"!=typeof e.options.messagingSenderId)throw this.a.create("bad-sender-id");this.l=e.options.messagingSenderId,this.c=new g,this.app=e,this.INTERNAL={},this.INTERNAL.delete=function(){return t.delete}};w.prototype.getToken=function(){var e=this,t=Notification.permission;return"granted"!==t?"denied"===t?Promise.reject(this.a.create("notifications-blocked")):Promise.resolve(null):this.f().then(function(t){return e.c.i(e.l,t).then(function(n){return n||e.c.h(e.l,t)})})},w.prototype.getToken=w.prototype.getToken,w.prototype.deleteToken=function(e){var t=this;return this.c.deleteToken(e).then(function(){return t.f()}).then(function(e){return e?e.pushManager.getSubscription():null}).then(function(e){if(e)return e.unsubscribe()})},w.prototype.deleteToken=w.prototype.deleteToken,w.prototype.f=function(){throw this.a.create("should-be-overriden")},w.prototype.requestPermission=function(){throw this.a.create("only-available-in-window")},w.prototype.useServiceWorker=function(){throw this.a.create("only-available-in-window")},w.prototype.useServiceWorker=w.prototype.useServiceWorker,w.prototype.onMessage=function(){throw this.a.create("only-available-in-window")},w.prototype.onMessage=w.prototype.onMessage,w.prototype.onTokenRefresh=function(){throw this.a.create("only-available-in-window")},w.prototype.onTokenRefresh=w.prototype.onTokenRefresh,w.prototype.setBackgroundMessageHandler=function(){throw this.a.create("only-available-in-sw")},w.prototype.setBackgroundMessageHandler=w.prototype.setBackgroundMessageHandler,w.prototype.delete=function(){v(this.c)};var C=function(e,t){var n={};return n["firebase-messaging-msg-type"]=e,n["firebase-messaging-msg-data"]=t,n},T=self,E=function(e){w.call(this,e);var t=this;this.a=new r.INTERNAL.ErrorFactory("messaging","Messaging",p),T.addEventListener("push",function(e){return k(t,e)},!1),T.addEventListener("pushsubscriptionchange",function(e){return x(t,e)},!1),T.addEventListener("notificationclick",function(e){return I(t,e)},!1),this.b=null};e(E,w);var k=function(e,t){var n;try{n=t.data.json()}catch(e){return}var r=P().then(function(t){if(t){if(n.notification||e.b)return A(e,n)}else{if((t=n)&&"object"==typeof t.notification){var r=Object.assign({},t.notification),i={};r.data=(i.FCM_MSG=t,i),t=r}else t=void 0;if(t)return T.registration.showNotification(t.title||"",t);if(e.b)return e.b(n)}});t.waitUntil(r)},x=function(e,t){var n=e.getToken().then(function(t){if(!t)throw e.a.create("no-fcm-token-for-resubscribe");var n=e.c;return y(n,t).then(function(t){if(!t)throw e.a.create("invalid-saved-token");return T.registration.pushManager.subscribe(h).then(function(e){return b(t.A,e,t.w)}).catch(function(r){return n.deleteToken(t.B).then(function(){throw e.a.create("unable-to-resubscribe",{message:r})})})})});t.waitUntil(n)},I=function(e,t){if(t.notification&&t.notification.data&&t.notification.data.FCM_MSG){t.stopImmediatePropagation(),t.notification.close();var n=t.notification.data.FCM_MSG,r=n.notification.click_action;if(r){var i=R(r).then(function(e){return e||T.clients.openWindow(r)}).then(function(t){if(t)return delete n.notification,O(e,t,C("notification-clicked",n))});t.waitUntil(i)}}};E.prototype.setBackgroundMessageHandler=function(e){if(e&&"function"!=typeof e)throw this.a.create("bg-handler-function-expected");this.b=e},E.prototype.setBackgroundMessageHandler=E.prototype.setBackgroundMessageHandler;var R=function(e){var t=new URL(e).href;return T.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){for(var n=null,r=0;r<e.length;r++)if(new URL(e[r].url).href===t){n=e[r];break}if(n)return n.focus(),n})},O=function(e,t,n){return new Promise(function(r,i){if(!t)return i(e.a.create("no-window-client-to-msg"));t.postMessage(n),r()})},P=function(){return T.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){return e.some(function(e){return"visible"===e.visibilityState})})},A=function(e,t){return T.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var r=C("push-msg-received",t);return Promise.all(n.map(function(t){return O(e,t,r)}))})};E.prototype.f=function(){return Promise.resolve(T.registration)};var M=function(e){w.call(this,e);var t=this;this.j=null,this.m=r.INTERNAL.createSubscribe(function(e){t.j=e}),this.s=null,this.o=r.INTERNAL.createSubscribe(function(e){t.s=e}),L(this)};e(M,w),M.prototype.getToken=function(){var e=this;return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")?N(this).then(function(){return w.prototype.getToken.call(e)}):Promise.reject(this.a.create("unsupported-browser"))},M.prototype.getToken=M.prototype.getToken;var N=function(e){if(e.g)return e.g;var t=document.querySelector('link[rel="manifest"]');return e.g=t?fetch(t.href).then(function(e){return e.json()}).catch(function(){return Promise.resolve()}).then(function(t){if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw e.a.create("incorrect-gcm-sender-id")}):Promise.resolve(),e.g};M.prototype.requestPermission=function(){var e=this;return"granted"===Notification.permission?Promise.resolve():new Promise(function(t,n){var r=function(r){return"granted"===r?t():n("denied"===r?e.a.create("permission-blocked"):e.a.create("permission-default"))},i=Notification.requestPermission(function(e){i||r(e)});i&&i.then(r)})},M.prototype.requestPermission=M.prototype.requestPermission,M.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw this.a.create("sw-registration-expected");if(void 0!==this.b)throw this.a.create("use-sw-before-get-token");this.b=e},M.prototype.useServiceWorker=M.prototype.useServiceWorker,M.prototype.onMessage=function(e,t,n){return this.m(e,t,n)},M.prototype.onMessage=M.prototype.onMessage,M.prototype.onTokenRefresh=function(e,t,n){return this.o(e,t,n)},M.prototype.onTokenRefresh=M.prototype.onTokenRefresh;var D=function(e,t){var n=t.installing||t.waiting||t.active;return new Promise(function(r,i){if(n)if("activated"===n.state)r(t);else if("redundant"===n.state)i(e.a.create("sw-reg-redundant"));else{var o=function(){if("activated"===n.state)r(t);else{if("redundant"!==n.state)return;i(e.a.create("sw-reg-redundant"))}n.removeEventListener("statechange",o)};n.addEventListener("statechange",o)}else i(e.a.create("no-sw-in-reg"))})};M.prototype.f=function(){var e=this;return this.b?D(this,this.b):(this.b=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(t){throw e.a.create("failed-serviceworker-registration",{browserErrorMessage:t.message})}).then(function(t){return D(e,t).then(function(){return e.b=t,t.update(),t})}))};var L=function(e){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data["firebase-messaging-msg-type"])switch((t=t.data)["firebase-messaging-msg-type"]){case"push-msg-received":case"notification-clicked":e.j.next(t["firebase-messaging-msg-data"])}},!1)};if(!(r&&r.INTERNAL&&r.INTERNAL.registerService))throw Error("Cannot install Firebase Messaging - be sure to load firebase-app.js first.");r.INTERNAL.registerService("messaging",function(e){return self&&"ServiceWorkerGlobalScope"in self?new E(e):new M(e)},{Messaging:M}),new r.INTERNAL.ErrorFactory("messaging","Messaging",p),new r.INTERNAL.ErrorFactory("messaging","Messaging",p),new r.INTERNAL.ErrorFactory("messaging","Messaging",p)}).call(this)}).call(void 0!==typeof t?t:void 0!==typeof self?self:void 0!==typeof window?window:{}),e.exports=r.messaging}).call(t,n(37))},function(e,t){function webpackEmptyContext(e){throw new Error("Cannot find module '"+e+"'.")}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,e.exports=webpackEmptyContext,webpackEmptyContext.id=1339},function(e,t){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=_interopRequireDefault(n(298));n(1345),n(1346),n(1386),n(1402),t.default=r.default,e.exports=t.default},function(e,t,n){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function value(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return i;i++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function value(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return o;i++}}})},function(e,t,n){"use strict";function createFirebaseNamespace(){function removeApp(t){callAppHooks(e[t],"delete"),delete e[t]}function app(t){return t=t||c,s(e,t)||error("no-app",{name:t}),e[t]}function initializeApp(t,n){void 0===n?n=c:"string"==typeof n&&""!==n||error("bad-app-name",{name:n+""}),s(e,n)&&error("duplicate-app",{name:n});var r=new l(t,n,u);return e[n]=r,callAppHooks(r,"create"),r}function getApps(){return Object.keys(e).map(function(t){return e[t]})}function registerService(e,r,i,o,s){t[e]&&error("duplicate-service",{name:e}),t[e]=r,o&&(n[e]=o,getApps().forEach(function(e){o("create",e)}));var c=function serviceNamespace(t){return void 0===t&&(t=app()),"function"!=typeof t[e]&&error("invalid-app-argument",{name:e}),t[e]()};return void 0!==i&&(0,a.deepExtend)(c,i),u[e]=c,l.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,s?t:[])},c}function extendNamespace(e){(0,a.deepExtend)(u,e)}function callAppHooks(e,r){Object.keys(t).forEach(function(t){var i=useAsService(e,t);null!==i&&n[i]&&n[i](r,e)})}function useAsService(e,t){if("serverAuth"===t)return null;var n=t,r=e.options;return n}var e={},t={},n={},u={__esModule:!0,initializeApp:initializeApp,app:app,apps:null,Promise:o.PromiseImpl,SDK_VERSION:"4.2.0",INTERNAL:{registerService:registerService,createFirebaseNamespace:createFirebaseNamespace,extendNamespace:extendNamespace,createSubscribe:r.createSubscribe,ErrorFactory:i.ErrorFactory,removeApp:removeApp,factories:t,useAsService:useAsService,Promise:o.PromiseImpl,deepExtend:a.deepExtend}};return(0,a.patchProperty)(u,"default",u),Object.defineProperty(u,"apps",{get:getApps}),(0,a.patchProperty)(app,"App",l),u}function error(e,t){throw p.create(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createFirebaseNamespace=createFirebaseNamespace;var r=n(1002),i=n(829),o=n(299),a=n(1004),s=function contains(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c="[DEFAULT]",u=[],l=function(){function FirebaseAppImpl(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t,this.options_=(0,a.deepCopy)(e),this.INTERNAL={getUid:function getUid(){return null},getToken:function getToken(){return o.PromiseImpl.resolve(null)},addAuthTokenListener:function addAuthTokenListener(e){u.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function removeAuthTokenListener(e){u=u.filter(function(t){return t!==e})}}}return Object.defineProperty(FirebaseAppImpl.prototype,"name",{get:function get(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(FirebaseAppImpl.prototype,"options",{get:function get(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),FirebaseAppImpl.prototype.delete=function(){var e=this;return new o.PromiseImpl(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(r){t.push(e.services_[n][r])})}),o.PromiseImpl.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},FirebaseAppImpl.prototype._getService=function(e,t){if(void 0===t&&(t=c),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==c?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},FirebaseAppImpl.prototype.extendApp=function(e){var t=this;(0,a.deepExtend)(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(u.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),u=[])},FirebaseAppImpl.prototype.checkDestroyed_=function(){this.isDeleted_&&error("app-deleted",{name:this.name_})},FirebaseAppImpl}();l.prototype.name&&l.prototype.options||l.prototype.delete;var d={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},p=new i.ErrorFactory("app","Firebase",d)},function(e,t,n){(function(t){!function(n){function noop(){}function bind(e,t){return function(){e.apply(t,arguments)}}function Promise(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(e,this)}function handle(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Promise._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void reject(t.promise,e)}resolve(t.promise,r)}else(1===e._state?resolve:reject)(t.promise,e._value)})):e._deferreds.push(t)}function resolve(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof Promise)return e._state=3,e._value=t,void finale(e);if("function"==typeof n)return void doResolve(bind(n,t),e)}e._state=1,e._value=t,finale(e)}catch(t){reject(e,t)}}function reject(e,t){e._state=2,e._value=t,finale(e)}function finale(e){2===e._state&&0===e._deferreds.length&&Promise._immediateFn(function(){e._handled||Promise._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)handle(e,e._deferreds[t]);e._deferreds=null}function Handler(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function doResolve(e,t){var n=!1;try{e(function(e){n||(n=!0,resolve(t,e))},function(e){n||(n=!0,reject(t,e))})}catch(e){if(n)return;n=!0,reject(t,e)}}var r=setTimeout;Promise.prototype.catch=function(e){return this.then(null,e)},Promise.prototype.then=function(e,t){var n=new this.constructor(noop);return handle(this,new Handler(e,t,n)),n},Promise.all=function(e){var t=Array.prototype.slice.call(e);return new Promise(function(e,n){function res(i,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,function(e){res(i,e)},n)}t[i]=o,0==--r&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var r=t.length,i=0;i<t.length;i++)res(i,t[i])})},Promise.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Promise?e:new Promise(function(t){t(e)})},Promise.reject=function(e){return new Promise(function(t,n){n(e)})},Promise.race=function(e){return new Promise(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},Promise._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){r(e,0)},Promise._unhandledRejectionFn=function _unhandledRejectionFn(e){"undefined"!=typeof console&&console},Promise._setImmediateFn=function _setImmediateFn(e){Promise._immediateFn=e},Promise._setUnhandledRejectionFn=function _setUnhandledRejectionFn(e){Promise._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=Promise:n.Promise||(n.Promise=Promise)}(this)}).call(t,n(828).setImmediate)},function(e,t,n){(function(e){var t=n(298);(function(){(function(){var e,n=n||{},r=this,i=function(e){return void 0!==e},o=function(e){return"string"==typeof e},a=function(e){return"boolean"==typeof e},s=function(e){return"number"==typeof e},u=function(){},l=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},p=function(e){return null===e},h=function(e){return"array"==l(e)},f=function(e){var t=l(e);return"array"==t||"object"==t&&"number"==typeof e.length},g=function(e){return"function"==l(e)},m=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},v=function(e,t,n){return e.call.apply(e.bind,arguments)},y=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)},b=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},S=Date.now||function(){return+new Date},w=function(e,t){function c(){}c.prototype=t.prototype,e.Sc=t.prototype,e.prototype=new c,e.prototype.constructor=e,e.Cg=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}},C=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))};w(C,Error),C.prototype.name="CustomError";var T=function(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},E=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},k=function(e){return M.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(x,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(I,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(R,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(O,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(P,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(A,"&#0;")),e):e},x=/&/g,I=/</g,R=/>/g,O=/"/g,P=/'/g,A=/\x00/g,M=/[\x00&<>"']/,N=function(e,t){return-1!=e.indexOf(t)},D=function(e,t){return e<t?-1:e>t?1:0},L=function(e,t){t.unshift(e),C.call(this,T.apply(null,t)),t.shift()};w(L,C),L.prototype.name="AssertionError";var F=function(e,t,n,r){var i="Assertion failed";if(n){i+=": "+n;var o=r}else e&&(i+=": "+e,o=t);throw new L(""+i,o||[])},U=function(e,t,n){return e||F("",null,t,Array.prototype.slice.call(arguments,2)),e},j=function(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},W=function(e,t,n){return s(e)||F("Expected number but got %s: %s.",[l(e),e],t,Array.prototype.slice.call(arguments,2)),e},B=function(e,t,n){o(e)||F("Expected string but got %s: %s.",[l(e),e],t,Array.prototype.slice.call(arguments,2))},H=function(e,t,n){g(e)||F("Expected function but got %s: %s.",[l(e),e],t,Array.prototype.slice.call(arguments,2))},z=function(){this.Rc="",this.$e=V};z.prototype.mb=!0,z.prototype.kb=function(){return this.Rc},z.prototype.toString=function(){return"Const{"+this.Rc+"}"};var q=function(e){return e instanceof z&&e.constructor===z&&e.$e===V?e.Rc:(j("expected object of type Const, got '"+e+"'"),"type_error:Const")},V={},G=function(e){var t=new z;return t.Rc=e,t};G("");var $=function(){this.Kc="",this.af=Z};$.prototype.mb=!0,$.prototype.kb=function(){return this.Kc},$.prototype.toString=function(){return"TrustedResourceUrl{"+this.Kc+"}"};var X=function(e){return e instanceof $&&e.constructor===$&&e.af===Z?e.Kc:(j("expected object of type TrustedResourceUrl, got '"+e+"' of type "+l(e)),"type_error:TrustedResourceUrl")},K=function(e,t){return e=Y(e,t),t=new $,t.Kc=e,t},Y=function(e,t){var n=q(e);if(!J.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return n.replace(Q,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof z?q(e):encodeURIComponent(String(e))})},Q=/%{(\w+)}/g,J=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i,Z={},ee=Array.prototype.indexOf?function(e,t,n){return U(null!=e.length),Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,o(e))return o(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},te=Array.prototype.forEach?function(e,t,n){U(null!=e.length),Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=o(e)?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)},ne=function(e,t){for(var n=o(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)},re=Array.prototype.map?function(e,t,n){return U(null!=e.length),Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),a=o(e)?e.split(""):e,s=0;s<r;s++)s in a&&(i[s]=t.call(n,a[s],s,e));return i},ie=Array.prototype.some?function(e,t,n){return U(null!=e.length),Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=o(e)?e.split(""):e,a=0;a<r;a++)if(a in i&&t.call(n,i[a],a,e))return!0;return!1},oe=function(e){e:{for(var t=Qr,n=e.length,r=o(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:o(e)?e.charAt(t):e[t]},ae=function(e,t){return 0<=ee(e,t)},se=function(e,t){var n;return(n=0<=(t=ee(e,t)))&&ce(e,t),n},ce=function(e,t){return U(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},ue=function(e,t){var n=0;ne(e,function(r,i){t.call(void 0,r,i,e)&&ce(e,i)&&n++})},le=function(e){return Array.prototype.concat.apply([],arguments)},de=function(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]},pe=function(e){return re(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")},he;e:{var fe=r.navigator;if(fe){var ge=fe.userAgent;if(ge){he=ge;break e}}he=""}var me=function(e){return N(he,e)},ve=function(e,t){for(var n in e)t.call(void 0,e[n],n,e)},ye=function(e,t){for(var n in e)if(t.call(void 0,e[n],n,e))return!0;return!1},_e=function(e){var t=[],n=0,r;for(r in e)t[n++]=e[r];return t},be=function(e){var t=[],n=0,r;for(r in e)t[n++]=r;return t},Se=function(e){for(var t in e)return!1;return!0},we=function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(n in t)if(!(n in e))return!1;return!0},Ce=function(e){var t={},n;for(n in e)t[n]=e[n];return t},Te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ee=function(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<Te.length;o++)n=Te[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}},ke=function(e){return ke[" "](e),e};ke[" "]=u;var xe=function(e,t){var n=We;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)},Ie=me("Opera"),Re=me("Trident")||me("MSIE"),Oe=me("Edge"),Pe=Oe||Re,Ae=me("Gecko")&&!(N(he.toLowerCase(),"webkit")&&!me("Edge"))&&!(me("Trident")||me("MSIE"))&&!me("Edge"),Me=N(he.toLowerCase(),"webkit")&&!me("Edge"),Ne=function(){var e=r.document;return e?e.documentMode:void 0},De;e:{var Le="",Fe=function(){var e=he;return Ae?/rv\:([^\);]+)(\)|;)/.exec(e):Oe?/Edge\/([\d\.]+)/.exec(e):Re?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Me?/WebKit\/(\S+)/.exec(e):Ie?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Fe&&(Le=Fe?Fe[1]:""),Re){var Ue=Ne();if(null!=Ue&&Ue>parseFloat(Le)){De=String(Ue);break e}}De=Le}var je=De,We={},Be=function(e){return xe(e,function(){for(var t=0,n=E(String(je)).split("."),r=E(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=D(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==a[2].length,0==s[2].length)||D(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})},He,ze=r.document;He=ze&&Re?Ne()||("CSS1Compat"==ze.compatMode?parseInt(je,10):5):void 0;var qe=null,Ve=null,Ge=function(e){var t="";return $e(e,function(e){t+=String.fromCharCode(e)}),t},$e=function(e,t){function c(t){for(;n<e.length;){var r=e.charAt(n++),i=Ve[r];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return t}Xe();for(var n=0;;){var r=c(-1),i=c(0),o=c(64),a=c(64);if(64===a&&-1===r)break;t(r<<2|i>>4),64!=o&&(t(i<<4&240|o>>2),64!=a&&t(o<<6&192|a))}},Xe=function(){if(!qe){qe={},Ve={};for(var e=0;65>e;e++)qe[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Ve[qe[e]]=e,62<=e&&(Ve["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}},Ke=function(e,t){this.Ia=64,this.oc=r.Uint8Array?new Uint8Array(this.Ia):Array(this.Ia),this.Vc=this.nb=0,this.l=[],this.Sf=e,this.we=t,this.tg=r.Int32Array?new Int32Array(64):Array(64),i(Ye)||(Ye=r.Int32Array?new Int32Array(tt):tt),this.reset()},Ye;w(Ke,function(){this.Ia=-1});for(var Qe=[],Je=0;63>Je;Je++)Qe[Je]=0;var Ze=le(128,Qe);Ke.prototype.reset=function(){this.Vc=this.nb=0,this.l=r.Int32Array?new Int32Array(this.we):de(this.we)};var et=function(e){var t=e.oc;U(t.length==e.Ia);for(var n=e.tg,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){r=0|n[t-15],i=((i=0|n[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10;var o=(0|n[t-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[t-7])+i|0;n[t]=o+a|0}r=0|e.l[0],i=0|e.l[1];var s=0|e.l[2],c=0|e.l[3],u=0|e.l[4],l=0|e.l[5],d=0|e.l[6];for(o=0|e.l[7],t=0;64>t;t++){var p=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&l^~u&d)+(0|Ye[t])|0)+(0|n[t])|0)|0,o=d,d=l,l=u,u=c+a|0,c=s,s=i,i=r,r=a+p|0}e.l[0]=e.l[0]+r|0,e.l[1]=e.l[1]+i|0,e.l[2]=e.l[2]+s|0,e.l[3]=e.l[3]+c|0,e.l[4]=e.l[4]+u|0,e.l[5]=e.l[5]+l|0,e.l[6]=e.l[6]+d|0,e.l[7]=e.l[7]+o|0};Ke.prototype.update=function(e,t){i(t)||(t=e.length);var n=0,r=this.nb;if(o(e))for(;n<t;)this.oc[r++]=e.charCodeAt(n++),r==this.Ia&&(et(this),r=0);else{if(!f(e))throw Error("message must be string or array");for(;n<t;){var a=e[n++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");this.oc[r++]=a,r==this.Ia&&(et(this),r=0)}}this.nb=r,this.Vc+=t},Ke.prototype.digest=function(){var e=[],t=8*this.Vc;56>this.nb?this.update(Ze,56-this.nb):this.update(Ze,this.Ia-(this.nb-56));for(var n=63;56<=n;n--)this.oc[n]=255&t,t/=256;for(et(this),n=t=0;n<this.Sf;n++)for(var r=24;0<=r;r-=8)e[t++]=this.l[n]>>r&255;return e};var tt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],nt=function(){Ke.call(this,8,rt)};w(nt,Ke);var rt=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],it=function(){this.Ka=this.Ka,this.Hc=this.Hc};it.prototype.Ka=!1,it.prototype.isDisposed=function(){return this.Ka},it.prototype.ib=function(){if(this.Hc)for(;this.Hc.length;)this.Hc.shift()()};var ot=!Re||9<=Number(He),at=Re&&!Be("9");!Me||Be("528"),Ae&&Be("1.9b")||Re&&Be("8")||Ie&&Be("9.5")||Me&&Be("528"),Ae&&!Be("8")||Re&&Be("9");var st=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return r.addEventListener("test",u,t),r.removeEventListener("test",u,t),e}(),ct=function(e,t){this.type=e,this.currentTarget=this.target=t,this.defaultPrevented=this.Ua=!1,this.Je=!0};ct.prototype.stopPropagation=function(){this.Ua=!0},ct.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Je=!1};var ut=function(e,t){ct.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.fa=this.state=null,e&&this.init(e,t)};w(ut,ct),ut.prototype.init=function(e,t){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.currentTarget=t,t=e.relatedTarget){if(Ae){e:{try{ke(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===r?(this.offsetX=Me||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=Me||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.state=e.state,this.fa=e,e.defaultPrevented&&this.preventDefault()},ut.prototype.stopPropagation=function(){ut.Sc.stopPropagation.call(this),this.fa.stopPropagation?this.fa.stopPropagation():this.fa.cancelBubble=!0},ut.prototype.preventDefault=function(){ut.Sc.preventDefault.call(this);var e=this.fa;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,at)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},ut.prototype.wf=function(){return this.fa};var lt="closure_listenable_"+(1e6*Math.random()|0),dt=0,pt=function(e,t,n,r,i){this.listener=e,this.Lc=null,this.src=t,this.type=n,this.capture=!!r,this.uc=i,this.key=++dt,this.yb=this.nc=!1},ht=function(e){e.yb=!0,e.listener=null,e.Lc=null,e.src=null,e.uc=null},ft=function(e){this.src=e,this.J={},this.hc=0};ft.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.J[o])||(e=this.J[o]=[],this.hc++);var a=mt(e,t,r,i);return-1<a?(t=e[a],n||(t.nc=!1)):(t=new pt(t,this.src,o,!!r,i),t.nc=n,e.push(t)),t},ft.prototype.remove=function(e,t,n,r){if(!((e=e.toString())in this.J))return!1;var i=this.J[e];return-1<(t=mt(i,t,n,r))&&(ht(i[t]),ce(i,t),0==i.length&&(delete this.J[e],this.hc--),!0)};var gt=function(e,t){var n=t.type;n in e.J&&se(e.J[n],t)&&(ht(t),0==e.J[n].length&&(delete e.J[n],e.hc--))};ft.prototype.od=function(e,t,n,r){var i=-1;return(e=this.J[e.toString()])&&(i=mt(e,t,n,r)),-1<i?e[i]:null},ft.prototype.hasListener=function(e,t){var n=i(e),r=n?e.toString():"",o=i(t);return ye(this.J,function(e){for(var i=0;i<e.length;++i)if(!(n&&e[i].type!=r||o&&e[i].capture!=t))return!0;return!1})};var mt=function(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.yb&&o.listener==t&&o.capture==!!n&&o.uc==r)return i}return-1},vt="closure_lm_"+(1e6*Math.random()|0),yt={},_t=0,bt=function(e,t,n,r,i){if(r&&r.once)Ct(e,t,n,r,i);else if(h(t))for(var o=0;o<t.length;o++)bt(e,t[o],n,r,i);else n=At(n),e&&e[lt]?e.listen(t,n,m(r)?!!r.capture:!!r,i):St(e,t,n,!1,r,i)},St=function(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=Ot(e);if(s||(e[vt]=s=new ft(e)),!(n=s.add(t,n,r,a,o)).Lc){if(r=wt(),n.Lc=r,r.src=e,r.listener=n,e.addEventListener)st||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(kt(t.toString()),r)}_t++}},wt=function(){var e=Rt,t=ot?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t},Ct=function(e,t,n,r,i){if(h(t))for(var o=0;o<t.length;o++)Ct(e,t[o],n,r,i);else n=At(n),e&&e[lt]?Rr(e,t,n,m(r)?!!r.capture:!!r,i):St(e,t,n,!0,r,i)},Tt=function(e,t,n,r,i){if(h(t))for(var o=0;o<t.length;o++)Tt(e,t[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=At(n),e&&e[lt]?e.ea.remove(String(t),n,r,i):e&&(e=Ot(e))&&(t=e.od(t,n,r,i))&&Et(t)},Et=function(e){if(!s(e)&&e&&!e.yb){var t=e.src;if(t&&t[lt])gt(t.ea,e);else{var n=e.type,r=e.Lc;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent&&t.detachEvent(kt(n),r),_t--,(n=Ot(t))?(gt(n,e),0==n.hc&&(n.src=null,t[vt]=null)):ht(e)}}},kt=function(e){return e in yt?yt[e]:yt[e]="on"+e},xt=function(e,t,n,r){var i=!0;if((e=Ot(e))&&(t=e.J[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.yb&&(o=It(o,r),i=i&&!1!==o)}return i},It=function(e,t){var n=e.listener,r=e.uc||e.src;return e.nc&&Et(e),n.call(r,t)},Rt=function(e,t){if(e.yb)return!0;if(!ot){if(!t)e:{t=["window","event"];for(var n=r,i;i=t.shift();){if(null==n[i]){t=null;break e}n=n[i]}t=n}if(i=t,t=new ut(i,this),n=!0,!(0>i.keyCode||void 0!=i.returnValue)){e:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=t.currentTarget;o;o=o.parentNode)i.push(o);o=e.type;for(var a=i.length-1;!t.Ua&&0<=a;a--)t.currentTarget=i[a],e=xt(i[a],o,!0,t),n=n&&e;for(a=0;!t.Ua&&a<i.length;a++)t.currentTarget=i[a],e=xt(i[a],o,!1,t),n=n&&e}return n}return It(e,new ut(t,this))},Ot=function(e){return(e=e[vt])instanceof ft?e:null},Pt="__closure_events_fn_"+(1e9*Math.random()>>>0),At=function(e){return U(e,"Listener can not be null."),g(e)?e:(U(e.handleEvent,"An object listener must have handleEvent method."),e[Pt]||(e[Pt]=function(t){return e.handleEvent(t)}),e[Pt])},Mt=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,Nt=function(){this.wa="",this.Ze=Ut};Nt.prototype.mb=!0,Nt.prototype.kb=function(){return this.wa},Nt.prototype.toString=function(){return"SafeUrl{"+this.wa+"}"};var Dt=function(e){return e instanceof Nt&&e.constructor===Nt&&e.Ze===Ut?e.wa:(j("expected object of type SafeUrl, got '"+e+"' of type "+l(e)),"type_error:SafeUrl")},Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Ft=function(e){return e instanceof Nt?e:(e=e.mb?e.kb():String(e),Lt.test(e)||(e="about:invalid#zClosurez"),jt(e))},Ut={},jt=function(e){var t=new Nt;return t.wa=e,t};jt("about:blank");var Wt=function(e){var t=[];return Ht(new Bt,e,t),t.join("")},Bt=function(){this.Mc=void 0},Ht=function(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(h(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),i=r[o],Ht(e,e.Mc?e.Mc.call(r,String(o),i):i,n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),o="";for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(i=t[r])&&(n.push(o),Vt(r,n),n.push(":"),Ht(e,e.Mc?e.Mc.call(t,r,i):i,n),o=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Vt(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}},zt={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},qt=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Vt=function(e,t){t.push('"',e.replace(qt,function(e){var t=zt[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),zt[e]=t),t}),'"')},Gt=function(){};Gt.prototype.be=null;var $t=function(e){return e.be||(e.be=e.wd())},Xt,Kt=function(){};w(Kt,Gt),Kt.prototype.pc=function(){var e=Yt(this);return e?new ActiveXObject(e):new XMLHttpRequest},Kt.prototype.wd=function(){var e={};return Yt(this)&&(e[0]=!0,e[1]=!0),e};var Yt=function(e){if(!e.ve&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.ve=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.ve};Xt=new Kt;var Qt=function(){};w(Qt,Gt),Qt.prototype.pc=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Jt;throw Error("Unsupported browser")},Qt.prototype.wd=function(){return{}};var Jt=function(){this.na=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.na.onload=_(this.zf,this),this.na.onerror=_(this.qe,this),this.na.onprogress=_(this.Af,this),this.na.ontimeout=_(this.Bf,this)};(e=Jt.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.na.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.na.send(e)}else this.na.send()},e.abort=function(){this.na.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.na.contentType:""},e.zf=function(){this.status=200,this.responseText=this.na.responseText,Zt(this,4)},e.qe=function(){this.status=500,this.responseText="",Zt(this,4)},e.Bf=function(){this.qe()},e.Af=function(){this.status=200,Zt(this,1)};var Zt=function(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()};Jt.prototype.getAllResponseHeaders=function(){return"content-type: "+this.na.contentType};var en=function(e,t,n){this.Of=n,this.kf=e,this.cg=t,this.Gc=0,this.vc=null};en.prototype.get=function(){if(0<this.Gc){this.Gc--;var e=this.vc;this.vc=e.next,e.next=null}else e=this.kf();return e},en.prototype.put=function(e){this.cg(e),this.Gc<this.Of&&(this.Gc++,e.next=this.vc,this.vc=e)};var tn=function(e){r.setTimeout(function(){throw e},0)},nn,rn=function(){var e=r.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!me("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!me("Trident")&&!me("MSIE")){var t=new e,n={},o=n;return t.port1.onmessage=function(){if(i(n.next)){var e=(n=n.next).fe;n.fe=null,e()}},function(e){o.next={fe:e},o=o.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){r.setTimeout(e,0)}},on=function(){this.$c=this.eb=null},an=new en(function(){return new sn},function(e){e.reset()},100);on.prototype.add=function(e,t){var n=an.get();n.set(e,t),this.$c?this.$c.next=n:(U(!this.eb),this.eb=n),this.$c=n},on.prototype.remove=function(){var e=null;return this.eb&&(e=this.eb,this.eb=this.eb.next,this.eb||(this.$c=null),e.next=null),e};var sn=function(){this.next=this.scope=this.nd=null};sn.prototype.set=function(e,t){this.nd=e,this.scope=t,this.next=null},sn.prototype.reset=function(){this.next=this.scope=this.nd=null};var cn=function(e,t){un||ln(),dn||(un(),dn=!0),pn.add(e,t)},un,ln=function(){if(-1!=String(r.Promise).indexOf("[native code]")){var e=r.Promise.resolve(void 0);un=function(){e.then(hn)}}else un=function(){var e=hn;!g(r.setImmediate)||r.Window&&r.Window.prototype&&!me("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(nn||(nn=rn()),nn(e)):r.setImmediate(e)}},dn=!1,pn=new on,hn=function(){for(var e;e=pn.remove();){try{e.nd.call(e.scope)}catch(e){tn(e)}an.put(e)}dn=!1},fn=function(e){return m(e)?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):void 0===e?"undefined":null===e?"null":typeof e},gn=function(e){return(e=e&&e.ownerDocument)&&(e.defaultView||e.parentWindow)||window},mn=!Re||9<=Number(He);!Ae&&!Re||Re&&9<=Number(He)||Ae&&Be("1.9.1"),Re&&Be("9");var vn=function(){this.wa="",this.Ye=_n};vn.prototype.mb=!0,vn.prototype.kb=function(){return this.wa},vn.prototype.toString=function(){return"SafeHtml{"+this.wa+"}"};var yn=function(e){return e instanceof vn&&e.constructor===vn&&e.Ye===_n?e.wa:(j("expected object of type SafeHtml, got '"+e+"' of type "+l(e)),"type_error:SafeHtml")},_n={};vn.prototype.If=function(e){return this.wa=e,this};var bn=function(e,t){var n=gn(e);void 0!==n.HTMLScriptElement&&void 0!==n.Element&&U(e&&(e instanceof n.HTMLScriptElement||!(e instanceof n.Element)),"Argument is not a HTMLScriptElement (or a non-Element mock); got: %s",fn(e)),e.src=X(t)},Sn=function(e){var t=document;return o(e)?t.getElementById(e):e},wn=function(e,t){ve(t,function(t,n){t&&t.mb&&(t=t.kb()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Cn.hasOwnProperty(n)?e.setAttribute(Cn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})},Cn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Tn=function(e,t,n){var r=arguments,i=document,a=String(r[0]),s=r[1];if(!mn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',k(s.name),'"'),s.type){a.push(' type="',k(s.type),'"');var c={};Ee(c,s),delete c.type,s=c}a.push(">"),a=a.join("")}return a=i.createElement(a),s&&(o(s)?a.className=s:h(s)?a.className=s.join(" "):wn(a,s)),2<r.length&&En(i,a,r),a},En=function(e,t,n){function d(n){n&&t.appendChild(o(n)?e.createTextNode(n):n)}for(var r=2;r<n.length;r++){var i=n[r];!f(i)||m(i)&&0<i.nodeType?d(i):te(kn(i)?de(i):i,d)}},kn=function(e){if(e&&"number"==typeof e.length){if(m(e))return"function"==typeof e.item||"string"==typeof e.item;if(g(e))return"function"==typeof e.item}return!1},xn=function(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0},In=function(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}},Rn=function(e,t){if(this.Z=0,this.ya=void 0,this.hb=this.ta=this.w=null,this.tc=this.md=!1,e!=u)try{var n=this;e.call(t,function(e){Hn(n,2,e)},function(e){if(!(e instanceof Qn))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Hn(n,3,e)})}catch(e){Hn(this,3,e)}},On=function(){this.next=this.context=this.pb=this.Sa=this.child=null,this.Db=!1};On.prototype.reset=function(){this.context=this.pb=this.Sa=this.child=null,this.Db=!1};var Pn=new en(function(){return new On},function(e){e.reset()},100),An=function(e,t,n){var r=Pn.get();return r.Sa=e,r.pb=t,r.context=n,r},Mn=function(e){if(e instanceof Rn)return e;var t=new Rn(u);return Hn(t,2,e),t},Nn=function(e){return new Rn(function(t,n){n(e)})},Dn=function(e,t,n){zn(e,t,n,null)||cn(b(t,e))},Ln=function(e){return new Rn(function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0,c;s<e.length;s++)c=e[s],Dn(c,b(o,s),a);else t(i)})},Fn=function(e){return new Rn(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{uf:!0,value:o}:{uf:!1,reason:o},0==n&&t(r)},o=0,a;o<e.length;o++)a=e[o],Dn(a,b(i,o,!0),b(i,o,!1));else t(r)})};Rn.prototype.then=function(e,t,n){return null!=e&&H(e,"opt_onFulfilled should be a function."),null!=t&&H(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Bn(this,g(e)?e:null,g(t)?t:null,n)},xn(Rn);var Un=function(e,t){return t=An(t,t,void 0),t.Db=!0,Wn(e,t),e};Rn.prototype.f=function(e,t){return Bn(this,null,e,t)},Rn.prototype.cancel=function(e){0==this.Z&&cn(function(){var t=new Qn(e);jn(this,t)},this)};var jn=function(e,t){if(0==e.Z)if(e.w){var n=e.w;if(n.ta){for(var r=0,i=null,o=null,a=n.ta;a&&(a.Db||(r++,a.child==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(0==n.Z&&1==r?jn(n,t):(o?(r=o,U(n.ta),U(null!=r),r.next==n.hb&&(n.hb=r),r.next=r.next.next):Gn(n),$n(n,i,3,t)))}e.w=null}else Hn(e,3,t)},Wn=function(e,t){e.ta||2!=e.Z&&3!=e.Z||Vn(e),U(null!=t.Sa),e.hb?e.hb.next=t:e.ta=t,e.hb=t},Bn=function(e,t,n,r){var o=An(null,null,null);return o.child=new Rn(function(e,a){o.Sa=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){a(e)}}:e,o.pb=n?function(t){try{var o=n.call(r,t);!i(o)&&t instanceof Qn?a(t):e(o)}catch(e){a(e)}}:a}),o.child.w=e,Wn(e,o),o.child};Rn.prototype.qg=function(e){U(1==this.Z),this.Z=0,Hn(this,2,e)},Rn.prototype.rg=function(e){U(1==this.Z),this.Z=0,Hn(this,3,e)};var Hn=function(e,t,n){0==e.Z&&(e===n&&(t=3,n=new TypeError("Promise cannot resolve to itself")),e.Z=1,zn(n,e.qg,e.rg,e)||(e.ya=n,e.Z=t,e.w=null,Vn(e),3!=t||n instanceof Qn||Kn(e,n)))},zn=function(e,t,n,r){if(e instanceof Rn)return null!=t&&H(t,"opt_onFulfilled should be a function."),null!=n&&H(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Wn(e,An(t||u,n||null,r)),!0;if(In(e))return e.then(t,n,r),!0;if(m(e))try{var i=e.then;if(g(i))return qn(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1},qn=function(e,t,n,r,i){var o=!1,a=function(e){o||(o=!0,n.call(i,e))},s=function(e){o||(o=!0,r.call(i,e))};try{t.call(e,a,s)}catch(e){s(e)}},Vn=function(e){e.md||(e.md=!0,cn(e.qf,e))},Gn=function(e){var t=null;return e.ta&&(t=e.ta,e.ta=t.next,t.next=null),e.ta||(e.hb=null),null!=t&&U(null!=t.Sa),t};Rn.prototype.qf=function(){for(var e;e=Gn(this);)$n(this,e,this.Z,this.ya);this.md=!1};var $n=function(e,t,n,r){if(3==n&&t.pb&&!t.Db)for(;e&&e.tc;e=e.w)e.tc=!1;if(t.child)t.child.w=null,Xn(t,n,r);else try{t.Db?t.Sa.call(t.context):Xn(t,n,r)}catch(e){Yn.call(null,e)}Pn.put(t)},Xn=function(e,t,n){2==t?e.Sa.call(e.context,n):e.pb&&e.pb.call(e.context,n)},Kn=function(e,t){e.tc=!0,cn(function(){e.tc&&Yn.call(null,t)})},Yn=tn,Qn=function(e){C.call(this,e)};w(Qn,C),Qn.prototype.name="cancel";var Jn=function(e,t){this.Oc=[],this.De=e,this.je=t||null,this.Lb=this.jb=!1,this.ya=void 0,this.Ud=this.$d=this.dd=!1,this.Wc=0,this.w=null,this.ed=0};Jn.prototype.cancel=function(e){if(this.jb)this.ya instanceof Jn&&this.ya.cancel();else{if(this.w){var t=this.w;delete this.w,e?t.cancel(e):(t.ed--,0>=t.ed&&t.cancel())}this.De?this.De.call(this.je,this):this.Ud=!0,this.jb||tr(this,new cr)}},Jn.prototype.he=function(e,t){this.dd=!1,Zn(this,e,t)};var Zn=function(e,t,n){e.jb=!0,e.ya=n,e.Lb=!t,ar(e)},er=function(e){if(e.jb){if(!e.Ud)throw new sr;e.Ud=!1}};Jn.prototype.callback=function(e){er(this),nr(e),Zn(this,!0,e)};var tr=function(e,t){er(e),nr(t),Zn(e,!1,t)},nr=function(e){U(!(e instanceof Jn),"An execution sequence may not be initiated with a blocking Deferred.")},rr=function(e,t){ir(e,null,t,void 0)},ir=function(e,t,n,r){U(!e.$d,"Blocking Deferreds can not be re-used"),e.Oc.push([t,n,r]),e.jb&&ar(e)};Jn.prototype.then=function(e,t,n){var r,i,o=new Rn(function(e,t){r=e,i=t});return ir(this,r,function(e){e instanceof cr?o.cancel():i(e)}),o.then(e,t,n)},xn(Jn);var or=function(e){return ie(e.Oc,function(e){return g(e[1])})},ar=function(e){if(e.Wc&&e.jb&&or(e)){var t=e.Wc,n=lr[t];n&&(r.clearTimeout(n.Mb),delete lr[t]),e.Wc=0}e.w&&(e.w.ed--,delete e.w),t=e.ya;for(var o=n=!1;e.Oc.length&&!e.dd;){var a=e.Oc.shift(),s=a[0],c=a[1];if(a=a[2],s=e.Lb?c:s)try{var u=s.call(a||e.je,t);i(u)&&(e.Lb=e.Lb&&(u==t||u instanceof Error),e.ya=t=u),(In(t)||"function"==typeof r.Promise&&t instanceof r.Promise)&&(o=!0,e.dd=!0)}catch(r){t=r,e.Lb=!0,or(e)||(n=!0)}}e.ya=t,o&&(u=_(e.he,e,!0),o=_(e.he,e,!1),t instanceof Jn?(ir(t,u,o),t.$d=!0):t.then(u,o)),n&&(t=new ur(t),lr[t.Mb]=t,e.Wc=t.Mb)},sr=function(){C.call(this)};w(sr,C),sr.prototype.message="Deferred has already fired",sr.prototype.name="AlreadyCalledError";var cr=function(){C.call(this)};w(cr,C),cr.prototype.message="Deferred was canceled",cr.prototype.name="CanceledError";var ur=function(e){this.Mb=r.setTimeout(_(this.pg,this),0),this.$=e};ur.prototype.pg=function(){throw U(lr[this.Mb],"Cannot throw an error that is not scheduled."),delete lr[this.Mb],this.$};var lr={},dr=function(e){var t={},n=t.document||document,r=X(e),i=document.createElement("SCRIPT"),o={Ke:i,gc:void 0},a=new Jn(hr,o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout(function(){fr(i,!0),tr(a,new gr(1,"Timeout reached for loading script "+r))},c),o.gc=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(fr(i,t.Dg||!1,s),a.callback(null))},i.onerror=function(){fr(i,!0,s),tr(a,new gr(0,"Error while loading script "+r))},o=t.attributes||{},Ee(o,{type:"text/javascript",charset:"UTF-8"}),wn(i,o),bn(i,e),pr(n).appendChild(i),a},pr=function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement},hr=function(){if(this&&this.Ke){var e=this.Ke;e&&"SCRIPT"==e.tagName&&fr(e,!0,this.gc)}},fr=function(e,t,n){null!=n&&r.clearTimeout(n),e.onload=u,e.onerror=u,e.onreadystatechange=u,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)},gr=function(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),C.call(this,n),this.code=e};w(gr,C);var mr=function(e,t,n,r,i){this.reset(e,t,n,r,i)};mr.prototype.le=null;var vr=0;mr.prototype.reset=function(e,t,n,r,i){"number"==typeof i||vr++,r||S(),this.Rb=e,this.Rf=t,delete this.le},mr.prototype.Me=function(e){this.Rb=e};var yr=function(e){this.Be=e,this.re=this.gd=this.Rb=this.w=null},_r=function(e,t){this.name=e,this.value=t};_r.prototype.toString=function(){return this.name};var br=new _r("SEVERE",1e3),Sr=new _r("INFO",800),wr=new _r("CONFIG",700),Cr=new _r("FINE",500);yr.prototype.getName=function(){return this.Be},yr.prototype.getParent=function(){return this.w},yr.prototype.Me=function(e){this.Rb=e};var Tr=function(e){return e.Rb?e.Rb:e.w?Tr(e.w):(j("Root logger has no level set."),null)};yr.prototype.log=function(e,t,n){if(e.value>=Tr(this).value)for(g(t)&&(t=t()),e=new mr(e,String(t),this.Be),n&&(e.le=n),n="log:"+e.Rf,(t=r.console)&&t.timeStamp&&t.timeStamp(n),(t=r.msWriteProfilerMark)&&t(n),n=this;n;){var i=n,o=e;if(i.re)for(var a=0;t=i.re[a];a++)t(o);n=n.getParent()}},yr.prototype.info=function(e,t){this.log(Sr,e,t)},yr.prototype.config=function(e,t){this.log(wr,e,t)};var Er={},kr=null,xr=function(e){kr||(kr=new yr(""),Er[""]=kr,kr.Me(wr));var t;if(!(t=Er[e])){t=new yr(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=xr(e.substr(0,n))).gd||(n.gd={}),n.gd[r]=t,t.w=n,Er[e]=t}return t},Ir=function(){it.call(this),this.ea=new ft(this),this.cf=this,this.Ed=null};w(Ir,it),Ir.prototype[lt]=!0,(e=Ir.prototype).addEventListener=function(e,t,n,r){bt(this,e,t,n,r)},e.removeEventListener=function(e,t,n,r){Tt(this,e,t,n,r)},e.dispatchEvent=function(e){Pr(this);var t=this.Ed;if(t)for(var n=[],r=1;t;t=t.Ed)n.push(t),U(1e3>++r,"infinite loop");if(t=this.cf,r=e.type||e,o(e))e=new ct(e,t);else if(e instanceof ct)e.target=e.target||t;else{var i=e;e=new ct(r,t),Ee(e,i)}if(i=!0,n)for(var a=n.length-1;!e.Ua&&0<=a;a--){var s=e.currentTarget=n[a];i=Or(s,r,!0,e)&&i}if(e.Ua||(s=e.currentTarget=t,i=Or(s,r,!0,e)&&i,e.Ua||(i=Or(s,r,!1,e)&&i)),n)for(a=0;!e.Ua&&a<n.length;a++)s=e.currentTarget=n[a],i=Or(s,r,!1,e)&&i;return i},e.ib=function(){if(Ir.Sc.ib.call(this),this.ea){var e=this.ea,t=0,n;for(n in e.J){for(var r=e.J[n],i=0;i<r.length;i++)++t,ht(r[i]);delete e.J[n],e.hc--}}this.Ed=null},e.listen=function(e,t,n,r){return Pr(this),this.ea.add(String(e),t,!1,n,r)};var Rr=function(e,t,n,r,i){e.ea.add(String(t),n,!0,r,i)},Or=function(e,t,n,r){if(!(t=e.ea.J[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.yb&&a.capture==n){var s=a.listener,c=a.uc||a.src;a.nc&&gt(e.ea,a),i=!1!==s.call(c,r)&&i}}return i&&0!=r.Je};Ir.prototype.od=function(e,t,n,r){return this.ea.od(String(e),t,n,r)},Ir.prototype.hasListener=function(e,t){return this.ea.hasListener(i(e)?String(e):void 0,t)};var Pr=function(e){U(e.ea,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},Ar="StopIteration"in r?r.StopIteration:{message:"StopIteration",stack:""},Mr=function(){};Mr.prototype.next=function(){throw Ar},Mr.prototype.bf=function(){return this};var Nr=function(e,t){e&&e.log(Cr,t,void 0)},Dr=function(e,t){this.ia={},this.A=[],this.cb=this.s=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else e&&this.addAll(e)};(e=Dr.prototype).ga=function(){Lr(this);for(var e=[],t=0;t<this.A.length;t++)e.push(this.ia[this.A[t]]);return e},e.ua=function(){return Lr(this),this.A.concat()},e.Fb=function(e){return Fr(this.ia,e)},e.clear=function(){this.ia={},this.cb=this.s=this.A.length=0},e.remove=function(e){return!!Fr(this.ia,e)&&(delete this.ia[e],this.s--,this.cb++,this.A.length>2*this.s&&Lr(this),!0)};var Lr=function(e){var t,n;if(e.s!=e.A.length){for(t=n=0;n<e.A.length;){var r=e.A[n];Fr(e.ia,r)&&(e.A[t++]=r),n++}e.A.length=t}if(e.s!=e.A.length){var i={};for(t=n=0;n<e.A.length;)r=e.A[n],Fr(i,r)||(e.A[t++]=r,i[r]=1),n++;e.A.length=t}};(e=Dr.prototype).get=function(e,t){return Fr(this.ia,e)?this.ia[e]:t},e.set=function(e,t){Fr(this.ia,e)||(this.s++,this.A.push(e),this.cb++),this.ia[e]=t},e.addAll=function(e){if(e instanceof Dr){var t=e.ua();e=e.ga()}else t=be(e),e=_e(e);for(var n=0;n<t.length;n++)this.set(t[n],e[n])},e.forEach=function(e,t){for(var n=this.ua(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}},e.clone=function(){return new Dr(this)},e.bf=function(e){Lr(this);var t=0,n=this.cb,r=this,i=new Mr;return i.next=function(){if(n!=r.cb)throw Error("The map has changed since the iterator was created");if(t>=r.A.length)throw Ar;var i=r.A[t++];return e?i:r.ia[i]},i};var Fr=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ur=function(e){if(e.ga&&"function"==typeof e.ga)return e.ga();if(o(e))return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}return _e(e)},jr=function(e){if(e.ua&&"function"==typeof e.ua)return e.ua();if(!e.ga||"function"!=typeof e.ga){if(f(e)||o(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}return be(e)}},Wr=function(e,t,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,n);else if(f(e)||o(e))te(e,t,n);else for(var r=jr(e),i=Ur(e),a=i.length,s=0;s<a;s++)t.call(n,i[s],r&&r[s],e)},Br=function(e,t,n){if(g(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)},Hr=function(e){var t=null;return new Rn(function(n,r){-1==(t=Br(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).f(function(e){throw r.clearTimeout(t),e})},zr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,qr=function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}},Vr=function(e){Ir.call(this),this.headers=new Dr,this.bd=e||null,this.Aa=!1,this.ad=this.b=null,this.Qb=this.Ae=this.Dc="",this.Oa=this.td=this.yc=this.ld=!1,this.zb=0,this.Tc=null,this.Nc="",this.Xc=this.Yf=this.Xe=!1};w(Vr,Ir);var Gr=Vr.prototype,$r=xr("goog.net.XhrIo");Gr.O=$r;var Xr=/^https?$/i,Kr=["POST","PUT"];Vr.prototype.send=function(e,t,n,i){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Dc+"; newUri="+e);t=t?t.toUpperCase():"GET",this.Dc=e,this.Qb="",this.Ae=t,this.ld=!1,this.Aa=!0,this.b=this.bd?this.bd.pc():Xt.pc(),this.ad=$t(this.bd?this.bd:Xt),this.b.onreadystatechange=_(this.Ge,this),this.Yf&&"onprogress"in this.b&&(this.b.onprogress=_(function(e){this.Fe(e,!0)},this),this.b.upload&&(this.b.upload.onprogress=_(this.Fe,this)));try{Nr(this.O,ai(this,"Opening Xhr")),this.td=!0,this.b.open(t,String(e),!0),this.td=!1}catch(e){return Nr(this.O,ai(this,"Error opening Xhr: "+e.message)),void this.$(5,e)}e=n||"";var o=this.headers.clone();i&&Wr(i,function(e,t){o.set(t,e)}),i=oe(o.ua()),n=r.FormData&&e instanceof r.FormData,!ae(Kr,t)||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.b.setRequestHeader(t,e)},this),this.Nc&&(this.b.responseType=this.Nc),"withCredentials"in this.b&&this.b.withCredentials!==this.Xe&&(this.b.withCredentials=this.Xe);try{ni(this),0<this.zb&&(this.Xc=Yr(this.b),Nr(this.O,ai(this,"Will abort after "+this.zb+"ms if incomplete, xhr2 "+this.Xc)),this.Xc?(this.b.timeout=this.zb,this.b.ontimeout=_(this.gc,this)):this.Tc=Br(this.gc,this.zb,this)),Nr(this.O,ai(this,"Sending request")),this.yc=!0,this.b.send(e),this.yc=!1}catch(e){Nr(this.O,ai(this,"Send error: "+e.message)),this.$(5,e)}};var Yr=function(e){return Re&&Be(9)&&s(e.timeout)&&i(e.ontimeout)},Qr=function(e){return"content-type"==e.toLowerCase()};Vr.prototype.gc=function(){void 0!==n&&this.b&&(this.Qb="Timed out after "+this.zb+"ms, aborting",Nr(this.O,ai(this,this.Qb)),this.dispatchEvent("timeout"),this.abort(8))},Vr.prototype.$=function(e,t){this.Aa=!1,this.b&&(this.Oa=!0,this.b.abort(),this.Oa=!1),this.Qb=t,Jr(this),ti(this)};var Jr=function(e){e.ld||(e.ld=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))};Vr.prototype.abort=function(){this.b&&this.Aa&&(Nr(this.O,ai(this,"Aborting")),this.Aa=!1,this.Oa=!0,this.b.abort(),this.Oa=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ti(this))},Vr.prototype.ib=function(){this.b&&(this.Aa&&(this.Aa=!1,this.Oa=!0,this.b.abort(),this.Oa=!1),ti(this,!0)),Vr.Sc.ib.call(this)},Vr.prototype.Ge=function(){this.isDisposed()||(this.td||this.yc||this.Oa?Zr(this):this.Uf())},Vr.prototype.Uf=function(){Zr(this)};var Zr=function(e){if(e.Aa&&void 0!==n)if(e.ad[1]&&4==ri(e)&&2==ii(e))Nr(e.O,ai(e,"Local request error detected and ignored"));else if(e.yc&&4==ri(e))Br(e.Ge,0,e);else if(e.dispatchEvent("readystatechange"),4==ri(e)){Nr(e.O,ai(e,"Request complete")),e.Aa=!1;try{var t=ii(e);e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var o;if(!(o=i)){var a;if(a=0===t){var s=String(e.Dc).match(zr)[1]||null;if(!s&&r.self&&r.self.location){var c=r.self.location.protocol;s=c.substr(0,c.length-1)}a=!Xr.test(s?s.toLowerCase():"")}o=a}if(o)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var u=2<ri(e)?e.b.statusText:""}catch(t){Nr(e.O,"Can not get status: "+t.message),u=""}e.Qb=u+" ["+ii(e)+"]",Jr(e)}}finally{ti(e)}}};Vr.prototype.Fe=function(e,t){U("progress"===e.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(ei(e,"progress")),this.dispatchEvent(ei(e,t?"downloadprogress":"uploadprogress"))};var ei=function(e,t){return{type:t,lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}},ti=function(e,t){if(e.b){ni(e);var n=e.b,r=e.ad[0]?u:null;e.b=null,e.ad=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.O)&&e.log(br,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}},ni=function(e){e.b&&e.Xc&&(e.b.ontimeout=null),s(e.Tc)&&(r.clearTimeout(e.Tc),e.Tc=null)},ri=function(e){return e.b?e.b.readyState:0},ii=function(e){try{return 2<ri(e)?e.b.status:-1}catch(e){return-1}},oi=function(e){try{return e.b?e.b.responseText:""}catch(t){return Nr(e.O,"Can not get responseText: "+t.message),""}};Vr.prototype.getResponse=function(){try{if(!this.b)return null;if("response"in this.b)return this.b.response;switch(this.Nc){case"":case"text":return this.b.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.b)return this.b.mozResponseArrayBuffer}var e=this.O;return e&&e.log(br,"Response type "+this.Nc+" is not supported on this browser",void 0),null}catch(e){return Nr(this.O,"Can not get response: "+e.message),null}},Vr.prototype.getResponseHeader=function(e){if(this.b&&4==ri(this))return null===(e=this.b.getResponseHeader(e))?void 0:e},Vr.prototype.getAllResponseHeaders=function(){return this.b&&4==ri(this)?this.b.getAllResponseHeaders():""};var ai=function(e,t){return t+" ["+e.Ae+" "+e.Dc+" "+ii(e)+"]"},si=function(e,t){if(this.oa=this.ab=this.pa="",this.rb=null,this.Na=this.Da="",this.ba=this.Mf=!1,e instanceof si){this.ba=i(t)?t:e.ba,ci(this,e.pa);var n=e.ab;gi(this),this.ab=n,ui(this,e.oa),li(this,e.rb),di(this,e.Da),pi(this,e.ca.clone()),e=e.Na,gi(this),this.Na=e}else e&&(n=String(e).match(zr))?(this.ba=!!t,ci(this,n[1]||"",!0),e=n[2]||"",gi(this),this.ab=yi(e),ui(this,n[3]||"",!0),li(this,n[4]),di(this,n[5]||"",!0),pi(this,n[6]||"",!0),e=n[7]||"",gi(this),this.Na=yi(e)):(this.ba=!!t,this.ca=new ki(null,0,this.ba))};si.prototype.toString=function(){var e=[],t=this.pa;t&&e.push(_i(t,Si,!0),":");var n=this.oa;return(n||"file"==t)&&(e.push("//"),(t=this.ab)&&e.push(_i(t,Si,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.rb)&&e.push(":",String(n))),(n=this.Da)&&(this.oa&&"/"!=n.charAt(0)&&e.push("/"),e.push(_i(n,"/"==n.charAt(0)?Ci:wi,!0))),(n=this.ca.toString())&&e.push("?",n),(n=this.Na)&&e.push("#",_i(n,Ei)),e.join("")},si.prototype.resolve=function(e){var t=this.clone(),n=!!e.pa;if(n?ci(t,e.pa):n=!!e.ab,n){var r=e.ab;gi(t),t.ab=r}else n=!!e.oa;if(n?ui(t,e.oa):n=null!=e.rb,r=e.Da,n)li(t,e.rb);else if(n=!!e.Da){if("/"!=r.charAt(0))if(this.oa&&!this.Da)r="/"+r;else{var i=t.Da.lastIndexOf("/");-1!=i&&(r=t.Da.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(N(i,"./")||N(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?di(t,r):n=""!==e.ca.toString(),n?pi(t,e.ca.clone()):n=!!e.Na,n&&(e=e.Na,gi(t),t.Na=e),t},si.prototype.clone=function(){return new si(this)};var ci=function(e,t,n){gi(e),e.pa=n?yi(t,!0):t,e.pa&&(e.pa=e.pa.replace(/:$/,""))},ui=function(e,t,n){gi(e),e.oa=n?yi(t,!0):t},li=function(e,t){if(gi(e),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.rb=t}else e.rb=null},di=function(e,t,n){gi(e),e.Da=n?yi(t,!0):t},pi=function(e,t,n){gi(e),t instanceof ki?(e.ca=t,e.ca.Rd(e.ba)):(n||(t=_i(t,Ti)),e.ca=new ki(t,0,e.ba))},hi=function(e,t,n){gi(e),e.ca.set(t,n)},fi=function(e,t){return e.ca.get(t)};si.prototype.removeParameter=function(e){return gi(this),this.ca.remove(e),this};var gi=function(e){if(e.Mf)throw Error("Tried to modify a read-only Uri")};si.prototype.Rd=function(e){return this.ba=e,this.ca&&this.ca.Rd(e),this};var mi=function(e){return e instanceof si?e.clone():new si(e,void 0)},vi=function(e,t){var n=new si(null,void 0);return ci(n,"https"),e&&ui(n,e),t&&di(n,t),n},yi=function(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""},_i=function(e,t,n){return o(e)?(e=encodeURI(e).replace(t,bi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null},bi=function(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)},Si=/[#\/\?@]/g,wi=/[\#\?:]/g,Ci=/[\#\?]/g,Ti=/[\#\?@]/g,Ei=/#/g,ki=function(e,t,n){this.s=this.m=null,this.T=e||null,this.ba=!!n},xi=function(e){e.m||(e.m=new Dr,e.s=0,e.T&&qr(e.T,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))},Ii=function(e){var t=jr(e);if(void 0===t)throw Error("Keys are undefined");var n=new ki(null,0,void 0);e=Ur(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];h(o)?Ri(n,i,o):n.add(i,o)}return n};(e=ki.prototype).add=function(e,t){xi(this),this.T=null,e=this.aa(e);var n=this.m.get(e);return n||this.m.set(e,n=[]),n.push(t),this.s=W(this.s)+1,this},e.remove=function(e){return xi(this),e=this.aa(e),!!this.m.Fb(e)&&(this.T=null,this.s=W(this.s)-this.m.get(e).length,this.m.remove(e))},e.clear=function(){this.m=this.T=null,this.s=0},e.Fb=function(e){return xi(this),e=this.aa(e),this.m.Fb(e)},e.forEach=function(e,t){xi(this),this.m.forEach(function(n,r){te(n,function(n){e.call(t,n,r,this)},this)},this)},e.ua=function(){xi(this);for(var e=this.m.ga(),t=this.m.ua(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.ga=function(e){xi(this);var t=[];if(o(e))this.Fb(e)&&(t=le(t,this.m.get(this.aa(e))));else{e=this.m.ga();for(var n=0;n<e.length;n++)t=le(t,e[n])}return t},e.set=function(e,t){return xi(this),this.T=null,e=this.aa(e),this.Fb(e)&&(this.s=W(this.s)-this.m.get(e).length),this.m.set(e,[t]),this.s=W(this.s)+1,this},e.get=function(e,t){return 0<(e=e?this.ga(e):[]).length?String(e[0]):t};var Ri=function(e,t,n){e.remove(t),0<n.length&&(e.T=null,e.m.set(e.aa(t),de(n)),e.s=W(e.s)+n.length)};(e=ki.prototype).toString=function(){if(this.T)return this.T;if(!this.m)return"";for(var e=[],t=this.m.ua(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.ga(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.T=e.join("&")},e.clone=function(){var e=new ki;return e.T=this.T,this.m&&(e.m=this.m.clone(),e.s=this.s),e},e.aa=function(e){return e=String(e),this.ba&&(e=e.toLowerCase()),e},e.Rd=function(e){e&&!this.ba&&(xi(this),this.T=null,this.m.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(this.remove(t),Ri(this,n,e))},this)),this.ba=e},e.extend=function(e){for(var t=0;t<arguments.length;t++)Wr(arguments[t],function(e,t){this.add(t,e)},this)};var Oi=function(){var e=Xi();return Re&&!!He&&11==He||/Edge\/\d+/.test(e)},Pi=function(){return r.window&&r.window.location.href||""},Ai=function(e,t){t=t||r.window;var n="about:blank";e&&(n=Dt(Ft(e))),t.location.href=n},Mi=function(e,t){var n=[],r;for(r in e)r in t?typeof e[r]!=typeof t[r]?n.push(r):h(e[r])?we(e[r],t[r])||n.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=t[r]?0<Mi(e[r],t[r]).length&&n.push(r):e[r]!==t[r]&&n.push(r):n.push(r);for(r in t)r in e||n.push(r);return n},Ni=function(){var e=Xi();return!((e="Chrome"!=Gi(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Re&&He&&!(9<He))},Di=function(e){return!!((e=(e||Xi()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))},Li=function(e){e=e||r.window;try{e.close()}catch(e){}},Fi=function(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Xi().toLowerCase(),r&&(t.target=r,N(n,"crios/")&&(t.target="_blank")),"Firefox"==Gi(Xi())&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(r=t)||(r={}),e=window,t=n instanceof Nt?n:Ft(void 0!==n.href?n.href:String(n)),n=r.target||n.target,i=[];for(a in r)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+r[a]);break;case"target":case"noreferrer":break;default:i.push(a+"="+(r[a]?1:0))}var a=i.join(",");if((me("iPhone")&&!me("iPod")&&!me("iPad")||me("iPad")||me("iPod"))&&e.navigator&&e.navigator.standalone&&n&&"_self"!=n?(a=e.document.createElement("A"),void 0!==(i=gn(a)).HTMLAnchorElement&&void 0!==i.Location&&void 0!==i.Element&&U(a&&(a instanceof i.HTMLAnchorElement||!(a instanceof i.Location||a instanceof i.Element)),"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",fn(a)),t instanceof Nt||t instanceof Nt||(t=t.mb?t.kb():String(t),U(Lt.test(t))||(t="about:invalid#zClosurez"),t=jt(t)),a.href=Dt(t),a.setAttribute("target",n),r.noreferrer&&a.setAttribute("rel","noreferrer"),(r=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),a.dispatchEvent(r),a={}):r.noreferrer?(a=e.open("",n,a),r=Dt(t),a&&(Pe&&N(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),a.opener=null,e=G("b/12014412, meta tag with sanitized URL"),r='<META HTTP-EQUIV="refresh" content="0; url='+k(r)+'">',B(q(e),"must provide justification"),U(!/^[\s\xa0]*$/.test(q(e)),"must provide non-empty justification"),a.document.write(yn((new vn).If(r))),a.document.close())):a=e.open(Dt(t),n,a),a)try{a.focus()}catch(e){}return a},Ui=function(e){return new Rn(function(t){var n=function(){Hr(2e3).then(function(){if(e&&!e.closed)return n();t()})};return n()})},ji=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wi=function(){var e=null;return new Rn(function(t){"complete"==r.document.readyState?t():(e=function(){t()},Ct(window,"load",e))}).f(function(t){throw Tt(window,"load",e),t})},Bi=function(){return Hi(void 0)?Wi().then(function(){return new Rn(function(e,t){var n=r.document,i=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),e()},!1)})}):Nn(Error("Cordova must run in an Android or iOS file scheme."))},Hi=function(e){return e=e||Xi(),!("file:"!==Zi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))},zi=function(){var e=r.window;try{return!(!e||e==e.top)}catch(e){return!1}},qi=function(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},Vi=function(){var e=qi();return"ReactNative"===e||"Node"===e},Gi=function(e){var t=e.toLowerCase();return N(t,"opera/")||N(t,"opr/")||N(t,"opios/")?"Opera":N(t,"iemobile")?"IEMobile":N(t,"msie")||N(t,"trident/")?"IE":N(t,"edge/")?"Edge":N(t,"firefox/")?"Firefox":N(t,"silk/")?"Silk":N(t,"blackberry")?"Blackberry":N(t,"webos")?"Webos":!N(t,"safari/")||N(t,"chrome/")||N(t,"crios/")||N(t,"android")?!N(t,"chrome/")&&!N(t,"crios/")||N(t,"edge/")?N(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"},$i=function(e){var t=qi();return("Browser"===t?Gi(Xi()):t)+"/JsCore/"+e},Xi=function(){return r.navigator&&r.navigator.userAgent||""},Ki=function(e,t){e=e.split("."),t=t||r;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t},Yi=function(){try{var e=r.localStorage,t=io();if(e)return e.setItem(t,"1"),e.removeItem(t),!Oi()||!!r.indexedDB}catch(e){}return!1},Qi=function(){return(Ji()||"chrome-extension:"===Zi()||Hi())&&!Vi()&&Yi()},Ji=function(){return"http:"===Zi()||"https:"===Zi()},Zi=function(){return r.location&&r.location.protocol||null},eo=function(e){return e=e||Xi(),!Di(e)&&"Firefox"!=Gi(e)},to=function(e){return void 0===e?null:Wt(e)},no=function(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&null!==e[n]&&void 0!==e[n]&&(t[n]=e[n]);return t},ro=function(e){if(null!==e)return JSON.parse(e)},io=function(e){return e||""+Math.floor(1e9*Math.random()).toString()},oo=function(e){return e=e||Xi(),"Safari"!=Gi(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)},ao=function(){var e=r.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null},so=function(){var e=r.navigator;return!e||"boolean"!=typeof e.onLine||!Ji()&&"chrome-extension:"!==Zi()&&void 0===e.connection||e.onLine},co=function(e,t,n,r){if(e>t)throw Error("Short delay should be less than long delay!");this.lg=e,this.Qf=t,e=n||Xi(),r=r||qi(),this.Lf=Di(e)||"ReactNative"===r};co.prototype.get=function(){return this.Lf?this.Qf:this.lg};var uo=function(){var e=r.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState},lo=function(){var e=r.document,t=null;return uo()||!e?Mn():new Rn(function(n){t=function(){uo()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).f(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})},po={},ho;try{var fo={};Object.defineProperty(fo,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(fo,"abcd",{configurable:!0,enumerable:!0,value:2}),ho=2==fo.abcd}catch(e){ho=!1}var go=function(e,t,n){ho?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n},mo=function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&go(e,n,t[n])},vo=function(e){var t={};return mo(t,e),t},yo=function(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},_o=function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0},bo=function(e){var t=e;if("object"==typeof e&&null!=e){t="length"in e?[]:{};for(var n in e)go(t,n,bo(e[n]))}return t},So="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),wo=["client_id","response_type","scope","redirect_uri","state"],Co={wg:{Cc:"locale",Vb:500,Ub:600,providerId:"facebook.com",Nd:wo},xg:{Cc:null,Vb:500,Ub:620,providerId:"github.com",Nd:wo},yg:{Cc:"hl",Vb:515,Ub:680,providerId:"google.com",Nd:wo},Bg:{Cc:"lang",Vb:485,Ub:705,providerId:"twitter.com",Nd:So}},To=function(e){for(var t in Co)if(Co[t].providerId==e)return Co[t];return null},Eo=function(e,t){this.code="auth/"+e,this.message=t||xo[e]||""};w(Eo,Error),Eo.prototype.I=function(){return{code:this.code,message:this.message}},Eo.prototype.toJSON=function(){return this.I()};var ko=function(e){var t=e&&e.code;return t?new Eo(t.substring(5),e.message):null},xo={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The SMS quota for this project has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Io=function(e,t,n,r,i){if(this.la=e,this.U=t||null,this.Ab=n||null,this.Qd=r||null,this.$=i||null,!this.Ab&&!this.$)throw new Eo("invalid-auth-event");if(this.Ab&&this.$)throw new Eo("invalid-auth-event");if(this.Ab&&!this.Qd)throw new Eo("invalid-auth-event")};Io.prototype.sc=function(){return this.Qd},Io.prototype.getError=function(){return this.$},Io.prototype.I=function(){return{type:this.la,eventId:this.U,urlResponse:this.Ab,sessionId:this.Qd,error:this.$&&this.$.I()}};var Ro=function(e){return(e=e||{}).type?new Io(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&ko(e.error)):null},Oo=function(e){var t="unauthorized-domain",n=void 0,r=mi(e);e=r.oa,"chrome-extension"==(r=r.pa)?n=T("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=T("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Eo.call(this,t,n)};w(Oo,Eo);var Po=function(e){this.Pf=e.sub,S(),this.Ib=e.email||null,this.Zf=e.provider_id||null,this.ef=!!e.is_anonymous||"anonymous"==this.Zf};Po.prototype.getEmail=function(){return this.Ib},Po.prototype.isAnonymous=function(){return this.ef};var Ao=function(e,t){return e.then(function(e){if(e.idToken){e:{var n=e.idToken.split(".");if(3==n.length){for(var r=(4-(n=n[1]).length%4)%4,i=0;i<r;i++)n+=".";try{var o=JSON.parse(Ge(n));if(o.sub&&o.iss&&o.aud&&o.exp){var a=new Po(o);break e}}catch(e){}}a=null}if(!a||t!=a.Pf)throw new Eo("user-mismatch");return e}throw new Eo("user-mismatch")}).f(function(e){throw e&&e.code&&"auth/user-not-found"==e.code?new Eo("user-mismatch"):e})},Mo=function(e,t){if(t.idToken||t.accessToken)t.idToken&&go(this,"idToken",t.idToken),t.accessToken&&go(this,"accessToken",t.accessToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Eo("internal-error","failed to construct a credential");go(this,"accessToken",t.oauthToken),go(this,"secret",t.oauthTokenSecret)}go(this,"providerId",e)};Mo.prototype.Kb=function(e){return Ea(e,No(this))},Mo.prototype.Ec=function(e,t){var n=No(this);return n.idToken=t,ka(e,n)},Mo.prototype.Ad=function(e,t){var n=No(this);return Ao(xa(e,n),t)};var No=function(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:Ii(t).toString(),requestUri:"http://localhost"}};Mo.prototype.I=function(){var e={providerId:this.providerId};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e};var Do=function(e,t){this.bg=t||[],mo(this,{providerId:e,isOAuthProvider:!0}),this.ie={},this.yd=(To(e)||{}).Cc||null,this.kd=null};Do.prototype.setCustomParameters=function(e){return this.ie=Ce(e),this};var Lo=function(e){Do.call(this,e,wo),this.Od=[]};w(Lo,Do),Lo.prototype.addScope=function(e){return ae(this.Od,e)||this.Od.push(e),this},Lo.prototype.pe=function(){return de(this.Od)},Lo.prototype.credential=function(e,t){if(!e&&!t)throw new Eo("argument-error","credential failed: must provide the ID token and/or the access token.");return new Mo(this.providerId,{idToken:e||null,accessToken:t||null})};var Fo=function(){Lo.call(this,"facebook.com")};w(Fo,Lo),go(Fo,"PROVIDER_ID","facebook.com");var Uo=function(e){if(!e)throw new Eo("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new Fo).credential(null,t)},jo=function(){Lo.call(this,"github.com")};w(jo,Lo),go(jo,"PROVIDER_ID","github.com");var Wo=function(e){if(!e)throw new Eo("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new jo).credential(null,t)},Bo=function(){Lo.call(this,"google.com"),this.addScope("profile")};w(Bo,Lo),go(Bo,"PROVIDER_ID","google.com");var Ho=function(e,t){var n=e;return m(e)&&(n=e.idToken,t=e.accessToken),(new Bo).credential(n,t)},zo=function(){Do.call(this,"twitter.com",So)};w(zo,Do),go(zo,"PROVIDER_ID","twitter.com");var qo=function(e,t){var n=e;if(m(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Eo("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Mo("twitter.com",n)},Vo=function(e,t){this.Ib=e,this.Fd=t,go(this,"providerId","password")};Vo.prototype.Kb=function(e){return Za(e,Ka,{email:this.Ib,password:this.Fd})},Vo.prototype.Ec=function(e,t){return Za(e,za,{idToken:t,email:this.Ib,password:this.Fd})},Vo.prototype.Ad=function(e,t){return Ao(this.Kb(e),t)},Vo.prototype.I=function(){return{email:this.Ib,password:this.Fd}};var Go=function(){mo(this,{providerId:"password",isOAuthProvider:!1})};mo(Go,{PROVIDER_ID:"password"});var $o=function(e){if(!(e.verificationId&&e.Yc||e.fc&&e.phoneNumber))throw new Eo("internal-error");this.P=e,go(this,"providerId","phone")};$o.prototype.Kb=function(e){return e.verifyPhoneNumber(Xo(this))},$o.prototype.Ec=function(e,t){var n=Xo(this);return n.idToken=t,Za(e,Qa,n)},$o.prototype.Ad=function(e,t){var n=Xo(this);return n.operation="REAUTH",e=Za(e,Ja,n),Ao(e,t)},$o.prototype.I=function(){var e={providerId:"phone"};return this.P.verificationId&&(e.verificationId=this.P.verificationId),this.P.Yc&&(e.verificationCode=this.P.Yc),this.P.fc&&(e.temporaryProof=this.P.fc),this.P.phoneNumber&&(e.phoneNumber=this.P.phoneNumber),e};var Xo=function(e){return e.P.fc&&e.P.phoneNumber?{temporaryProof:e.P.fc,phoneNumber:e.P.phoneNumber}:{sessionInfo:e.P.verificationId,code:e.P.Yc}},Ko=function(e){try{this.gf=e||t.auth()}catch(e){throw new Eo("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}mo(this,{providerId:"phone",isOAuthProvider:!1})};Ko.prototype.verifyPhoneNumber=function(e,t){var n=this.gf.g;return Mn(t.verify()).then(function(r){if(!o(r))throw new Eo("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return Za(n,Ba,{phoneNumber:e,recaptchaToken:r});default:throw new Eo("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};var Yo=function(e,t){if(!e)throw new Eo("missing-verification-id");if(!t)throw new Eo("missing-verification-code");return new $o({verificationId:e,Yc:t})};mo(Ko,{PROVIDER_ID:"phone"});var Qo=function(e){if(e.temporaryProof&&e.phoneNumber)return new $o({fc:e.temporaryProof,phoneNumber:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{switch(t){case"google.com":return Ho(e,n);case"facebook.com":return Uo(n);case"github.com":return Wo(n);case"twitter.com":return qo(n,r);default:return new Lo(t).credential(e,n)}}catch(e){return null}},Jo=function(e){if(!e.isOAuthProvider)throw new Eo("invalid-oauth-provider")},Zo=function(e,t,n){Eo.call(this,e,n),(e=t||{}).email&&go(this,"email",e.email),e.phoneNumber&&go(this,"phoneNumber",e.phoneNumber),e.credential&&go(this,"credential",e.credential)};w(Zo,Eo),Zo.prototype.I=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.I();return t&&Ee(e,t),e},Zo.prototype.toJSON=function(){return this.I()};var ea=function(e){if(e.code){var t=e.code||"";0==t.indexOf("auth/")&&(t=t.substring(5));var n={credential:Qo(e)};if(e.email)n.email=e.email;else{if(!e.phoneNumber)return new Eo(t,e.message||void 0);n.phoneNumber=e.phoneNumber}return new Zo(t,n,e.message)}return null},ta=function(e){this.vg=e};w(ta,Gt),ta.prototype.pc=function(){return new this.vg},ta.prototype.wd=function(){return{}};var na=function(e,n,i){var o="Node"==qi();if(!(o=r.XMLHttpRequest||o&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest))throw new Eo("internal-error","The XMLHttpRequest compatibility library was not found.");this.o=e,e=n||{},this.hg=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.ig=e.secureTokenTimeout||ia,this.Le=Ce(e.secureTokenHeaders||oa),this.sf=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.tf=e.firebaseTimeout||aa,this.qc=Ce(e.firebaseHeaders||sa),i&&(this.qc["X-Client-Version"]=i,this.Le["X-Client-Version"]=i),this.jf=new Qt,this.ug=new ta(o)},ra,ia=new co(3e4,6e4),oa={"Content-Type":"application/x-www-form-urlencoded"},aa=new co(3e4,6e4),sa={"Content-Type":"application/json"},ca=function(e,t){t?e.qc.firebase_locale=t:delete e.qc.firebase_locale},ua=function(e,t,n,r,i,o,a){so()?(Ni()?e=_(e.kg,e):(ra||(ra=new Rn(function(e,t){pa(e,t)})),e=_(e.jg,e)),e(t,n,r,i,o,a)):n&&n(null)};na.prototype.kg=function(e,t,n,r,i,o){var a="Node"==qi(),s=Vi()?a?new Vr(this.ug):new Vr:new Vr(this.jf);if(o){s.zb=Math.max(0,o);var c=setTimeout(function(){s.dispatchEvent("timeout")},o)}s.listen("complete",function(){c&&clearTimeout(c);var e=null;try{e=JSON.parse(oi(this))||null}catch(t){e=null}t&&t(e)}),Rr(s,"ready",function(){c&&clearTimeout(c),this.Ka||(this.Ka=!0,this.ib())}),Rr(s,"timeout",function(){c&&clearTimeout(c),this.Ka||(this.Ka=!0,this.ib()),t&&t(null)}),s.send(e,n,r,i)};var la=G("https://apis.google.com/js/client.js?onload=%{onload}"),da="__fcb"+Math.floor(1e6*Math.random()).toString(),pa=function(e,t){if(((window.gapi||{}).client||{}).request)e();else{r[da]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var n=K(la,{onload:da});rr(dr(n),function(){t(Error("CORS_UNSUPPORTED"))})}};na.prototype.jg=function(e,t,n,r,i){var o=this;ra.then(function(){window.gapi.client.setApiKey(o.o);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).f(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})};var ha=function(e,t){return new Rn(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ua(e,e.hg+"?key="+encodeURIComponent(e.o),function(e){e?e.error?r(es(e)):e.access_token&&e.refresh_token?n(e):r(new Eo("internal-error")):r(new Eo("network-request-failed"))},"POST",Ii(t).toString(),e.Le,e.ig.get()):r(new Eo("internal-error"))})},fa=function(e,t,n,r,i,o){var a=mi(e.sf+t);hi(a,"key",e.o),o&&hi(a,"cb",S().toString());var s="GET"==n;if(s)for(var c in r)r.hasOwnProperty(c)&&hi(a,c,r[c]);return new Rn(function(t,o){ua(e,a.toString(),function(e){e?e.error?o(es(e,i||{})):t(e):o(new Eo("network-request-failed"))},n,s?void 0:Wt(no(r)),e.qc,e.tf.get())})},ga=function(e){if(!Mt.test(e.email))throw new Eo("invalid-email")},ma=function(e){"email"in e&&ga(e)},va=function(e,t){return Za(e,Aa,{identifier:t,continueUri:Ji()?Pi():"http://localhost"}).then(function(e){return e.allProviders||[]})},ya=function(e){return Za(e,Ua,{}).then(function(e){return e.authorizedDomains||[]})},_a=function(e){if(!e.idToken)throw new Eo("internal-error")},ba=function(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Eo("internal-error")}else{if(!e.sessionInfo)throw new Eo("missing-verification-id");if(!e.code)throw new Eo("missing-verification-code")}};na.prototype.signInAnonymously=function(){return Za(this,qa,{})},na.prototype.updateEmail=function(e,t){return Za(this,Ha,{idToken:e,email:t})},na.prototype.updatePassword=function(e,t){return Za(this,za,{idToken:e,password:t})};var Sa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};na.prototype.updateProfile=function(e,t){var n={idToken:e},r=[];return ve(Sa,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Za(this,Ha,n)},na.prototype.sendPasswordResetEmail=function(e,t){return e={requestType:"PASSWORD_RESET",email:e},Ee(e,t),Za(this,Fa,e)},na.prototype.sendEmailVerification=function(e,t){return e={requestType:"VERIFY_EMAIL",idToken:e},Ee(e,t),Za(this,La,e)},na.prototype.verifyPhoneNumber=function(e){return Za(this,Ya,e)};var wa=function(e,t,n){return Za(e,Na,{idToken:t,deleteProvider:n})},Ca=function(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new Eo("internal-error")},Ta=function(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=ea(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=ea(e)):"EMAIL_EXISTS"==e.errorMessage&&(e.code="email-already-in-use",t=ea(e)),t)throw t;if(!e.idToken)throw new Eo("internal-error")},Ea=function(e,t){return t.returnIdpCredential=!0,Za(e,Va,t)},ka=function(e,t){return t.returnIdpCredential=!0,Za(e,$a,t)},xa=function(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Za(e,Ga,t)},Ia=function(e){if(!e.oobCode)throw new Eo("invalid-action-code")};na.prototype.confirmPasswordReset=function(e,t){return Za(this,Wa,{oobCode:e,newPassword:t})},na.prototype.checkActionCode=function(e){return Za(this,Oa,{oobCode:e})},na.prototype.applyActionCode=function(e){return Za(this,Ra,{oobCode:e})};var Ra={endpoint:"setAccountInfo",F:Ia,$a:"email"},Oa={endpoint:"resetPassword",F:Ia,Y:function(e){if(!e.email||!e.requestType)throw new Eo("internal-error")}},Pa={endpoint:"signupNewUser",F:function(e){if(ga(e),!e.password)throw new Eo("weak-password")},Y:_a,za:!0},Aa={endpoint:"createAuthUri"},Ma={endpoint:"deleteAccount",Ya:["idToken"]},Na={endpoint:"setAccountInfo",Ya:["idToken","deleteProvider"],F:function(e){if(!h(e.deleteProvider))throw new Eo("internal-error")}},Da={endpoint:"getAccountInfo"},La={endpoint:"getOobConfirmationCode",Ya:["idToken","requestType"],F:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Eo("internal-error")},$a:"email"},Fa={endpoint:"getOobConfirmationCode",Ya:["requestType"],F:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Eo("internal-error");ga(e)},$a:"email"},Ua={ae:!0,endpoint:"getProjectConfig",ue:"GET"},ja={ae:!0,endpoint:"getRecaptchaParam",ue:"GET",Y:function(e){if(!e.recaptchaSiteKey)throw new Eo("internal-error")}},Wa={endpoint:"resetPassword",F:Ia,$a:"email"},Ba={endpoint:"sendVerificationCode",Ya:["phoneNumber","recaptchaToken"],$a:"sessionInfo"},Ha={endpoint:"setAccountInfo",Ya:["idToken"],F:ma,za:!0},za={endpoint:"setAccountInfo",Ya:["idToken"],F:function(e){if(ma(e),!e.password)throw new Eo("weak-password")},Y:_a,za:!0},qa={endpoint:"signupNewUser",Y:_a,za:!0},Va={endpoint:"verifyAssertion",F:Ca,Y:Ta,za:!0},Ga={endpoint:"verifyAssertion",F:Ca,Y:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Eo("user-not-found");if(!e.idToken)throw new Eo("internal-error")},za:!0},$a={endpoint:"verifyAssertion",F:function(e){if(Ca(e),!e.idToken)throw new Eo("internal-error")},Y:Ta,za:!0},Xa={endpoint:"verifyCustomToken",F:function(e){if(!e.token)throw new Eo("invalid-custom-token")},Y:_a,za:!0},Ka={endpoint:"verifyPassword",F:function(e){if(ga(e),!e.password)throw new Eo("wrong-password")},Y:_a,za:!0},Ya={endpoint:"verifyPhoneNumber",F:ba,Y:_a},Qa={endpoint:"verifyPhoneNumber",F:function(e){if(!e.idToken)throw new Eo("internal-error");ba(e)},Y:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",ea(e);_a(e)}},Ja={mf:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",F:ba,Y:_a},Za=function(e,t,n){if(!_o(n,t.Ya))return Nn(new Eo("internal-error"));var r=t.ue||"POST",i;return Mn(n).then(t.F).then(function(){return t.za&&(n.returnSecureToken=!0),fa(e,t.endpoint,r,n,t.mf,t.ae||!1)}).then(function(e){return i=e}).then(t.Y).then(function(){if(!t.$a)return i;if(!(t.$a in i))throw new Eo("internal-error");return i[t.$a]})},es=function(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Eo(r[n]):null)return n;n=e.error&&e.error.message||"",Ee(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new Eo(r[i],t);return!t&&e&&(t=to(e)),new Eo("internal-error",t)},ts=function(e){this.D=e};ts.prototype.value=function(){return this.D},ts.prototype.Ne=function(e){return this.D.style=e,this},ts.prototype.getStyle=function(){return this.D.style};var ns=function(e){this.D=e||{}};(e=ns.prototype).value=function(){return this.D},e.getUrl=function(){return this.D.url},e.Ne=function(e){return this.D.style=e,this},e.getStyle=function(){return this.D.style},e.getId=function(){return this.D.id},e.getContext=function(){return this.D.context};var rs=function(e){this.sg=e,this.xc=null,this.Cd=os(this)},is=function(e){var t=new ns;return t.D.where=document.body,t.D.url=e.sg,t.D.messageHandlersFilter=Ki("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),t.D.attributes=t.D.attributes||{},new ts(t.D.attributes).Ne({position:"absolute",top:"-100px",width:"1px",height:"1px"}),t.D.dontclear=!0,t},os=function(e){return ds().then(function(){return new Rn(function(t,n){Ki("gapi.iframes.getContext")().open(is(e).value(),function(r){e.xc=r,e.xc.restyle({setHideOnLeave:!1});var i=setTimeout(function(){n(Error("Network Error"))},us.get()),o=function(){clearTimeout(i),t()};r.ping(o).then(o,function(){n(Error("Network Error"))})})})})};rs.prototype.sendMessage=function(e){var t=this;return this.Cd.then(function(){return new Rn(function(n){t.xc.send(e.type,e,n,Ki("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var as=function(e,t){e.Cd.then(function(){e.xc.register("authEvent",t,Ki("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},ss=G("https://apis.google.com/js/api.js?onload=%{onload}"),cs=new co(3e4,6e4),us=new co(5e3,15e3),ls=null,ds=function(){return ls||(ls=new Rn(function(e,t){if(so()){var n=function(){ao(),Ki("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){ao(),t(Error("Network Error"))},timeout:cs.get()})};if(Ki("gapi.iframes.Iframe"))e();else if(Ki("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();r[i]=function(){Ki("gapi.load")?n():t(Error("Network Error"))},i=K(ss,{onload:i}),Mn(dr(i)).f(function(){t(Error("Network Error"))})}}else t(Error("Network Error"))}).f(function(e){throw ls=null,e}))},ps=function(e,t,n){this.C=e,this.o=t,this.u=n,this.bb=null,this.ic=vi(this.C,"/__/auth/iframe"),hi(this.ic,"apiKey",this.o),hi(this.ic,"appName",this.u)};ps.prototype.Td=function(e){return this.bb=e,this},ps.prototype.toString=function(){return this.bb?hi(this.ic,"v",this.bb):this.ic.removeParameter("v"),this.ic.toString()};var hs=function(e,t,n,r,i){this.C=e,this.o=t,this.u=n,this.ff=r,this.bb=this.U=this.Md=null,this.tb=i};hs.prototype.Td=function(e){return this.bb=e,this},hs.prototype.toString=function(){var e=vi(this.C,"/__/auth/handler");if(hi(e,"apiKey",this.o),hi(e,"appName",this.u),hi(e,"authType",this.ff),this.tb.isOAuthProvider){var n=this.tb;try{var r=t.app(this.u).auth().ha}catch(e){r=null}n.kd=r,hi(e,"providerId",this.tb.providerId),n=this.tb,r=no(n.ie);for(var i in r)r[i]=r[i].toString();i=n.bg,r=Ce(r);for(var o=0;o<i.length;o++){var a=i[o];a in r&&delete r[a]}n.yd&&n.kd&&!r[n.yd]&&(r[n.yd]=n.kd),Se(r)||hi(e,"customParameters",to(r))}if("function"==typeof this.tb.pe&&(n=this.tb.pe()).length&&hi(e,"scopes",n.join(",")),this.Md?hi(e,"redirectUrl",this.Md):e.removeParameter("redirectUrl"),this.U?hi(e,"eventId",this.U):e.removeParameter("eventId"),this.bb?hi(e,"v",this.bb):e.removeParameter("v"),this.kc)for(var s in this.kc)this.kc.hasOwnProperty(s)&&!fi(e,s)&&hi(e,s,this.kc[s]);return e.toString()};var fs=function(e,t,n,r){this.C=e,this.o=t,this.u=n,this.vf=(this.Ja=r||null)?$i(this.Ja):null,r=this.Ja,this.Ef=new ps(e,t,n).Td(r).toString(),this.sa=[],this.g=new na(t,null,this.vf),this.zc=this.va=null},gs=function(e){var t=Pi();return ya(e).then(function(e){e:{var n=mi(t),r=n.pa;n=n.oa;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=mi(o).oa==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:ji.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Oo(Pi())})};(e=fs.prototype).Ob=function(){if(this.zc)return this.zc;var e=this;return this.zc=Wi().then(function(){e.wc=new rs(e.Ef),vs(e)})},e.cc=function(e,t,n){var r=new Eo("popup-closed-by-user"),i=new Eo("web-storage-unsupported"),o=this,a=!1;return this.Pa().then(function(){ys(o).then(function(n){n||(e&&Li(e),t(i),a=!0)})}).f(function(){}).then(function(){if(!a)return Ui(e)}).then(function(){if(!a)return Hr(n).then(function(){t(r)})})},e.Oe=function(){var e=Xi();return!eo(e)&&!oo(e)},e.se=function(){return!1},e.Wb=function(e,t,n,r,i,o,a){if(!e)return Nn(new Eo("popup-blocked"));if(a&&!eo())return this.Pa().f(function(t){Li(e),i(t)}),r(),Mn();this.va||(this.va=gs(this.g));var s=this;return this.va.then(function(){var t=s.Pa().f(function(t){throw Li(e),i(t),t});return r(),t}).then(function(){if(Jo(n),!a){var r=ms(s.C,s.o,s.u,t,n,null,o,s.Ja);Ai(r,e)}}).f(function(e){throw"auth/network-request-failed"==e.code&&(s.va=null),e})},e.Xb=function(e,t,n){this.va||(this.va=gs(this.g));var r=this;return this.va.then(function(){Jo(t);var i=ms(r.C,r.o,r.u,e,t,Pi(),n,r.Ja);Ai(i)}).f(function(e){throw"auth/network-request-failed"==e.code&&(r.va=null),e})},e.Pa=function(){var e=this;return this.Ob().then(function(){return e.wc.Cd}).f(function(){throw e.va=null,new Eo("network-request-failed")})},e.Se=function(){return!0};var ms=function(e,t,n,r,i,o,a,s,c){return e=new hs(e,t,n,r,i),e.Md=o,e.U=a,o=e.Td(s),o.kc=Ce(c||null),o.toString()},vs=function(e){if(!e.wc)throw Error("IfcHandler must be initialized!");as(e.wc,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ro(t.authEvent),n=0;n<e.sa.length;n++)r=e.sa[n](t)||r;return n={},n.status=r?"ACK":"ERROR",Mn(n)}return n.status="ERROR",Mn(n)})},ys=function(e){var t={type:"webStorageSupport"};return e.Ob().then(function(){return e.wc.sendMessage(t)}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})};fs.prototype.fb=function(e){this.sa.push(e)},fs.prototype.$b=function(e){ue(this.sa,function(t){return t==e})};var _s=function(e,n,i){if(go(this,"type","recaptcha"),this.Zc=this.Eb=null,this.Gb=!1,this.ge=e,this.Ca=n||{theme:"light",type:"image"},this.K=[],this.Ca.sitekey)throw new Eo("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.Ac="invisible"===this.Ca.size,!Sn(e)||!this.Ac&&Sn(e).hasChildNodes())throw new Eo("argument-error","reCAPTCHA container is either not found or already contains inner elements!");try{this.i=i||t.app()}catch(e){throw new Eo("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.i.options||!this.i.options.apiKey)throw new Eo("invalid-api-key");e=t.SDK_VERSION?$i(t.SDK_VERSION):null,this.g=new na(this.i.options&&this.i.options.apiKey,null,e);var o=this;this.Uc=[];var a=this.Ca.callback;this.Ca.callback=function(e){if(o.Hb(e),"function"==typeof a)a(e);else if("string"==typeof a){var t=Ki(a,r);"function"==typeof t&&t(e)}};var s=this.Ca["expired-callback"];this.Ca["expired-callback"]=function(){if(o.Hb(null),"function"==typeof s)s();else if("string"==typeof s){var e=Ki(s,r);"function"==typeof e&&e()}}};_s.prototype.Hb=function(e){for(var t=0;t<this.Uc.length;t++)try{this.Uc[t](e)}catch(e){}};var bs=function(e,t){ue(e.Uc,function(e){return e==t})};_s.prototype.c=function(e){var t=this;return this.K.push(e),Un(e,function(){se(t.K,e)}),e},_s.prototype.Pb=function(){var e=this;return this.Eb?this.Eb:this.Eb=this.c(Mn().then(function(){if(Ji())return Wi();throw new Eo("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){try{var t=e.i.auth().ha}catch(e){t=null}return Ts(ks(),t)}).then(function(){return Za(e.g,ja,{})}).then(function(t){e.Ca.sitekey=t.recaptchaSiteKey}).f(function(t){throw e.Eb=null,t}))},_s.prototype.render=function(){Ss(this);var e=this;return this.c(this.Pb().then(function(){if(null===e.Zc){var t=e.ge;if(!e.Ac){var n=Sn(t);t=Tn("DIV"),n.appendChild(t)}e.Zc=grecaptcha.render(t,e.Ca)}return e.Zc}))},_s.prototype.verify=function(){Ss(this);var e=this;return this.c(this.render().then(function(t){return new Rn(function(n){var r=grecaptcha.getResponse(t);if(r)n(r);else{var i=function(t){t&&(bs(e,i),n(t))};e.Uc.push(i),e.Ac&&grecaptcha.execute(e.Zc)}})}))};var Ss=function(e){if(e.Gb)throw new Eo("internal-error","RecaptchaVerifier instance has been destroyed.")};_s.prototype.clear=function(){Ss(this),this.Gb=!0,ks().hd--;for(var e=0;e<this.K.length;e++)this.K[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.Ac){e=Sn(this.ge);for(var t;t=e.firstChild;)e.removeChild(t)}};var ws=G("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Cs=function(){this.hd=r.grecaptcha?1/0:0,this.te=null,this.fd="__rcb"+Math.floor(1e6*Math.random()).toString()},Ts=function(e,t){return new Rn(function(n,i){if(so())if(!r.grecaptcha||t!==e.te&&!e.hd){r[e.fd]=function(){if(r.grecaptcha){e.te=t;var o=r.grecaptcha.render;r.grecaptcha.render=function(t,n){return t=o(t,n),e.hd++,t},n()}else i(new Eo("internal-error"));delete r[e.fd]};var o=K(ws,{onload:e.fd,hl:t||""});Mn(dr(o)).f(function(){i(new Eo("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else n();else i(new Eo("network-request-failed"))})},Es=null,ks=function(){return Es||(Es=new Cs),Es},xs=function(e){if(this.G=e||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.G)throw new Eo("internal-error","The React Native compatibility library was not found.")};(e=xs.prototype).get=function(e){return Mn(this.G.getItem(e)).then(function(e){return e&&ro(e)})},e.set=function(e,t){return Mn(this.G.setItem(e,to(t)))},e.remove=function(e){return Mn(this.G.removeItem(e))},e.gb=function(){},e.Xa=function(){};var Is=function(){this.G={}};(e=Is.prototype).get=function(e){return Mn(this.G[e])},e.set=function(e,t){return this.G[e]=t,Mn()},e.remove=function(e){return delete this.G[e],Mn()},e.gb=function(){},e.Xa=function(){};var Rs=function(){if(!Os()){if("Node"==qi())throw new Eo("internal-error","The LocalStorage compatibility library was not found.");throw new Eo("web-storage-unsupported")}this.G=r.localStorage||t.INTERNAL.node.localStorage},Os=function(){var e="Node"==qi();if(!(e=r.localStorage||e&&t.INTERNAL.node&&t.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}};(e=Rs.prototype).get=function(e){var t=this;return Mn().then(function(){var n=t.G.getItem(e);return ro(n)})},e.set=function(e,t){var n=this;return Mn().then(function(){var r=to(t);null===r?n.remove(e):n.G.setItem(e,r)})},e.remove=function(e){var t=this;return Mn().then(function(){t.G.removeItem(e)})},e.gb=function(e){r.window&&bt(r.window,"storage",e)},e.Xa=function(e){r.window&&Tt(r.window,"storage",e)};var Ps=function(){this.G={}};(e=Ps.prototype).get=function(){return Mn(null)},e.set=function(){return Mn()},e.remove=function(){return Mn()},e.gb=function(){},e.Xa=function(){};var As=function(){if(!Ms()){if("Node"==qi())throw new Eo("internal-error","The SessionStorage compatibility library was not found.");throw new Eo("web-storage-unsupported")}this.G=r.sessionStorage||t.INTERNAL.node.sessionStorage},Ms=function(){var e="Node"==qi();if(!(e=r.sessionStorage||e&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}};(e=As.prototype).get=function(e){var t=this;return Mn().then(function(){var n=t.G.getItem(e);return ro(n)})},e.set=function(e,t){var n=this;return Mn().then(function(){var r=to(t);null===r?n.remove(e):n.G.setItem(e,r)})},e.remove=function(e){var t=this;return Mn().then(function(){t.G.removeItem(e)})},e.gb=function(){},e.Xa=function(){};var Ns=function(e,t,n,i,o,a){if(!window.indexedDB)throw new Eo("web-storage-unsupported");this.nf=e,this.Bd=t,this.jd=n,this.We=i,this.cb=o,this.W={},this.dc=[],this.Sb=0,this.Gf=a||r.indexedDB},Ds,Ls=function(e){return new Rn(function(t,n){var r=e.Gf.open(e.nf,e.cb);r.onerror=function(e){n(Error(e.target.errorCode))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore(e.Bd,{keyPath:e.jd})}catch(e){n(e)}},r.onsuccess=function(e){t(e.target.result)}})},Fs=function(e){return e.xe||(e.xe=Ls(e)),e.xe},Us=function(e,t){return t.objectStore(e.Bd)},js=function(e,t,n){return t.transaction([e.Bd],n?"readwrite":"readonly")},Ws=function(e){return new Rn(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}})};(e=Ns.prototype).set=function(e,t){var n=!1,r,i=this;return Un(Fs(this).then(function(t){return r=t,t=Us(i,js(i,r,!0)),Ws(t.get(e))}).then(function(o){var a=Us(i,js(i,r,!0));return o?(o.value=t,Ws(a.put(o))):(i.Sb++,n=!0,o={},o[i.jd]=e,o[i.We]=t,Ws(a.add(o)))}).then(function(){i.W[e]=t}),function(){n&&i.Sb--})},e.get=function(e){var t=this;return Fs(this).then(function(n){return Ws(Us(t,js(t,n,!1)).get(e))}).then(function(e){return e&&e.value})},e.remove=function(e){var t=!1,n=this;return Un(Fs(this).then(function(r){return t=!0,n.Sb++,Ws(Us(n,js(n,r,!0)).delete(e))}).then(function(){delete n.W[e]}),function(){t&&n.Sb--})},e.og=function(){var e=this;return Fs(this).then(function(t){var n=Us(e,js(e,t,!1));return n.getAll?Ws(n.getAll()):new Rn(function(e,t){var r=[],i=n.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){t(Error(e.target.errorCode))}})}).then(function(t){var n={},r=[];if(0==e.Sb){for(r=0;r<t.length;r++)n[t[r][e.jd]]=t[r][e.We];r=Mi(e.W,n),e.W=n}return r})},e.gb=function(e){0==this.dc.length&&this.Vd(),this.dc.push(e)},e.Xa=function(e){ue(this.dc,function(t){return t==e}),0==this.dc.length&&this.Qc()},e.Vd=function(){var e=this;this.Qc();var t=function(){return e.Hd=Hr(800).then(_(e.og,e)).then(function(t){0<t.length&&te(e.dc,function(e){e(t)})}).then(t).f(function(e){"STOP_EVENT"!=e.message&&t()}),e.Hd};t()},e.Qc=function(){this.Hd&&this.Hd.cancel("STOP_EVENT")};var Bs=function(){this.ke={Browser:zs,Node:qs,ReactNative:Vs}[qi()]},Hs,zs={B:Rs,Xd:As},qs={B:Rs,Xd:As},Vs={B:xs,Xd:Ps},Gs=function(e){this.vd(e)};Gs.prototype.vd=function(e){var t=e.url;if(void 0===t)throw new Eo("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Eo("invalid-continue-uri");this.hf=t,this.Zd=this.lc=null,this.ye=!1;var n=e.android;if(n&&"object"==typeof n){t=n.packageName;var r=n.installApp;if(n=n.minimumVersion,"string"==typeof t&&t.length){if(this.lc=t,void 0!==r&&"boolean"!=typeof r)throw new Eo("argument-error","installApp property must be a boolean when specified.");if(this.ye=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Eo("argument-error","minimumVersion property must be a non empty string when specified.");this.Zd=n||null}else{if(void 0!==t)throw new Eo("argument-error","packageName property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Eo("missing-android-pkg-name")}}else if(void 0!==n)throw new Eo("argument-error","android property must be a non null object when specified.");if(this.sd=null,(t=e.iOS)&&"object"==typeof t){if("string"==typeof(t=t.bundleId)&&t.length)this.sd=t;else if(void 0!==t)throw new Eo("argument-error","bundleId property must be a non empty string when specified.")}else if(void 0!==t)throw new Eo("argument-error","iOS property must be a non null object when specified.");if(void 0!==(e=e.handleCodeInApp)&&"boolean"!=typeof e)throw new Eo("argument-error","handleCodeInApp property must be a boolean when specified.");if((this.ee=!!e)&&!this.sd&&!this.lc)throw new Eo("argument-error","handleCodeInApp property can't be true when no mobile application is provided.")};var $s=function(e){var t={};t.continueUrl=e.hf,t.canHandleCodeInApp=e.ee,(t.androidPackageName=e.lc)&&(t.androidMinimumVersion=e.Zd,t.androidInstallApp=e.ye),t.iOSBundleId=e.sd;for(var n in t)null===t[n]&&delete t[n];return t},Xs=function(e,t){this.lf=t,go(this,"verificationId",e)};Xs.prototype.confirm=function(e){return e=Yo(this.verificationId,e),this.lf(e)};var Ks=function(e,t,n,r){return new Ko(e).verifyPhoneNumber(t,n).then(function(e){return new Xs(e,r)})},Ys=function(e){var t={},n=e.email,r=e.newEmail;if(e=e.requestType,!n||!e)throw Error("Invalid provider user info!");t.fromEmail=r||null,t.email=n,go(this,"operation",e),go(this,"data",bo(t))},Qs=function(e,t,n,r,i,o){if(this.Wf=e,this.dg=t,this.yf=n,this.Fc=r,this.Yd=i,this.eg=!!o,this.qb=null,this.Qa=this.Fc,this.Yd<this.Fc)throw Error("Proactive refresh lower bound greater than upper bound!")};Qs.prototype.start=function(){this.Qa=this.Fc,Zs(this,!0)};var Js=function(e,t){return t?(e.Qa=e.Fc,e.yf()):(t=e.Qa,e.Qa*=2,e.Qa>e.Yd&&(e.Qa=e.Yd),t)},Zs=function(e,t){e.stop(),e.qb=Hr(Js(e,t)).then(function(){return e.eg?Mn():lo()}).then(function(){return e.Wf()}).then(function(){Zs(e,!0)}).f(function(t){e.dg(t)&&Zs(e,!1)})};Qs.prototype.stop=function(){this.qb&&(this.qb.cancel(),this.qb=null)};var ec=function(e){var t={};t["facebook.com"]=nc,t["google.com"]=ic,t["github.com"]=rc,t["twitter.com"]=oc;var n=e&&e.providerId;return n?t[n]?new t[n](e):new tc(e):null},tc=function(e){var t=ro(e.rawUserInfo||"{}");if(!(e=e.providerId))throw Error("Invalid additional user info!");go(this,"profile",bo(t||{})),go(this,"providerId",e)},nc=function(e){if(tc.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider id!")};w(nc,tc);var rc=function(e){if(tc.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider id!");go(this,"username",this.profile&&this.profile.login||null)};w(rc,tc);var ic=function(e){if(tc.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider id!")};w(ic,tc);var oc=function(e){if(tc.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider id!");go(this,"username",e.screenName||null)};w(oc,tc);var ac={zg:"local",NONE:"none",Ag:"session"},sc=function(e){var t=new Eo("invalid-persistence-type"),n=new Eo("unsupported-persistence-type");e:{for(r in ac)if(ac[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(qi()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!Yi()&&"none"!==e)throw n}},cc=function(e,t,n,r){this.Ce=e,this.Pd=t,this.fg=n,this.ac=r,this.V={},Hs||(Hs=new Bs),e=Hs;try{if(Oi()){Ds||(Ds=new Ns("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var i=Ds}else i=new e.ke.B;this.He=i}catch(e){this.He=new Is,this.ac=!0}try{this.Re=new e.ke.Xd}catch(e){this.Re=new Is}this.Ff=new Is,this.Wd=_(this.Pe,this),this.W={}},uc,lc=function(){return uc||(uc=new cc("firebase",":",!(oo(Xi())||!zi()),eo())),uc},dc=function(e,t){switch(t){case"session":return e.Re;case"none":return e.Ff;default:return e.He}};(e=cc.prototype).aa=function(e,t){return this.Ce+this.Pd+e.name+(t?this.Pd+t:"")},e.get=function(e,t){return dc(this,e.B).get(this.aa(e,t))},e.remove=function(e,t){return t=this.aa(e,t),"local"!=e.B||this.ac||(this.W[t]=null),dc(this,e.B).remove(t)},e.set=function(e,t,n){var r=this.aa(e,n),i=this,o=dc(this,e.B);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"!=e.B||this.ac||(i.W[r]=t)})},e.addListener=function(e,t,n){e=this.aa(e,t),this.ac||(this.W[e]=r.localStorage.getItem(e)),Se(this.V)&&this.Vd(),this.V[e]||(this.V[e]=[]),this.V[e].push(n)},e.removeListener=function(e,t,n){e=this.aa(e,t),this.V[e]&&(ue(this.V[e],function(e){return e==n}),0==this.V[e].length&&delete this.V[e]),Se(this.V)&&this.Qc()},e.Vd=function(){dc(this,"local").gb(this.Wd),this.ac||Oi()||pc(this)};var pc=function(e){hc(e),e.zd=setInterval(function(){for(var t in e.V){var n=r.localStorage.getItem(t),i=e.W[t];n!=i&&(e.W[t]=n,n=new ut({type:"storage",key:t,target:window,oldValue:i,newValue:n,Gd:!0}),e.Pe(n))}},1e3)},hc=function(e){e.zd&&(clearInterval(e.zd),e.zd=null)};cc.prototype.Qc=function(){dc(this,"local").Xa(this.Wd),hc(this)},cc.prototype.Pe=function(e){if(e&&e.wf){var t=e.fa.key;if(0==t.indexOf(this.Ce+this.Pd)&&this.V[t]){if(void 0!==e.fa.Gd?dc(this,"local").Xa(this.Wd):hc(this),this.fg){var n=r.localStorage.getItem(t),i=e.fa.newValue;if(i!==n)null!==i?r.localStorage.setItem(t,i):r.localStorage.removeItem(t);else if(this.W[t]===i&&void 0===e.fa.Gd)return}void 0===e.fa.Gd&&this.W[t]===r.localStorage.getItem(t)||(this.W[t]=r.localStorage.getItem(t),this.ce(t))}}else te(e,_(this.ce,this))},cc.prototype.ce=function(e){this.V[e]&&te(this.V[e],function(e){e()})};var fc=function(e,t){this.j=e,this.h=t||lc()},gc={name:"authEvent",B:"local"},mc=function(e){return e.h.get(gc,e.j).then(function(e){return Ro(e)})};fc.prototype.fb=function(e){this.h.addListener(gc,this.j,e)},fc.prototype.$b=function(e){this.h.removeListener(gc,this.j,e)};var vc=function(e){this.h=e||lc()},yc={name:"sessionId",B:"session"};vc.prototype.sc=function(e){return this.h.get(yc,e)};var _c=function(e,t,n,r,i,o){this.C=e,this.o=t,this.u=n,this.Ja=r||null,this.Qe=t+":"+n,this.gg=new vc,this.oe=new fc(this.Qe),this.ud=null,this.sa=[],this.Kf=i||500,this.$f=o||2e3,this.Nb=this.Ic=null},bc=function(e){return new Eo("invalid-cordova-configuration",e)};_c.prototype.Pa=function(){return this.Pb?this.Pb:this.Pb=Bi().then(function(){if("function"!=typeof Ki("universalLinks.subscribe",r))throw bc("cordova-universal-links-plugin is not installed");if(void 0===Ki("BuildInfo.packageName",r))throw bc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ki("cordova.plugins.browsertab.openUrl",r))throw bc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ki("cordova.InAppBrowser.open",r))throw bc("cordova-plugin-inappbrowser is not installed")},function(){throw new Eo("cordova-not-ready")})};var Sc=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")},wc=function(e){var t=new nt;return t.update(e),pe(t.digest())};(e=_c.prototype).cc=function(e,t){return t(new Eo("operation-not-supported-in-this-environment")),Mn()},e.Wb=function(){return Nn(new Eo("operation-not-supported-in-this-environment"))},e.Se=function(){return!1},e.Oe=function(){return!0},e.se=function(){return!0},e.Xb=function(e,t,n){if(this.Ic)return Nn(new Eo("redirect-operation-pending"));var i=this,o=r.document,a=null,s=null,c=null,u=null;return this.Ic=Un(Mn().then(function(){return Jo(t),Tc(i)}).then(function(){return Cc(i,e,t,n)}).then(function(){return new Rn(function(e,t){s=function(){var t=Ki("cordova.plugins.browsertab.close",r);return e(),"function"==typeof t&&t(),i.Nb&&"function"==typeof i.Nb.close&&(i.Nb.close(),i.Nb=null),!1},i.fb(s),c=function(){a||(a=Hr(i.$f).then(function(){t(new Eo("redirect-cancelled-by-user"))}))},u=function(){uo()&&c()},o.addEventListener("resume",c,!1),Xi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)}).f(function(e){return Ec(i).then(function(){throw e})})}),function(){c&&o.removeEventListener("resume",c,!1),u&&o.removeEventListener("visibilitychange",u,!1),a&&a.cancel(),s&&i.$b(s),i.Ic=null})};var Cc=function(e,t,n,i){var o=Sc(),a=new Io(t,i,null,o,new Eo("no-auth-event")),s=Ki("BuildInfo.packageName",r);if("string"!=typeof s)throw new Eo("invalid-cordova-configuration");var c=Ki("BuildInfo.displayName",r),u={};if(Xi().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=s;else{if(!Xi().toLowerCase().match(/android/))return Nn(new Eo("operation-not-supported-in-this-environment"));u.apn=s}c&&(u.appDisplayName=c),o=wc(o),u.sessionId=o;var l=ms(e.C,e.o,e.u,t,n,null,i,e.Ja,u);return e.Pa().then(function(){var t=e.Qe;return e.gg.h.set(gc,a.I(),t)}).then(function(){var t=Ki("cordova.plugins.browsertab.isAvailable",r);if("function"!=typeof t)throw new Eo("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!=typeof(n=Ki("cordova.plugins.browsertab.openUrl",r)))throw new Eo("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Ki("cordova.InAppBrowser.open",r)))throw new Eo("invalid-cordova-configuration");t=n;var i=Xi();i=!(!i.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!i.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.Nb=t(l,i?"_blank":"_system","location=yes")}})})};_c.prototype.Hb=function(e){for(var t=0;t<this.sa.length;t++)try{this.sa[t](e)}catch(e){}};var Tc=function(e){return e.ud||(e.ud=e.Pa().then(function(){return new Rn(function(t){var n=function(r){return t(r),e.$b(n),!1};e.fb(n),kc(e)})})),e.ud},Ec=function(e){var t=null;return mc(e.oe).then(function(n){return t=n,(n=e.oe).h.remove(gc,n.j)}).then(function(){return t})},kc=function(e){var t=Ki("universalLinks.subscribe",r);if("function"!=typeof t)throw new Eo("invalid-cordova-configuration");var n=new Io("unknown",null,null,null,new Eo("no-auth-event")),i=!1,o=Hr(e.Kf).then(function(){return Ec(e).then(function(){i||e.Hb(n)})}),a=function(t){i=!0,o&&o.cancel(),Ec(e).then(function(r){var i=n;if(r&&t&&t.url){i=null;var o=t.url,a=mi(o),s=fi(a,"link"),c=fi(mi(s),"link");a=fi(a,"deep_link_id"),-1!=(o=fi(mi(a),"link")||a||c||s||o).indexOf("/__/auth/callback")&&(i=mi(o),i=ro(fi(i,"firebaseError")||null),i=(i="object"==typeof i?ko(i):null)?new Io(r.la,r.U,null,null,i):new Io(r.la,r.U,o,r.sc())),i=i||n}e.Hb(i)})},s=r.handleOpenURL;r.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Ki("BuildInfo.packageName",r).toLowerCase()+"://")&&a({url:e}),"function"==typeof s)try{s(e)}catch(e){}},t(null,a)};_c.prototype.fb=function(e){this.sa.push(e),Tc(this).f(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Io("unknown",null,null,null,new Eo("no-auth-event")),e(t))})},_c.prototype.$b=function(e){ue(this.sa,function(t){return t==e})};var xc=function(e){this.j=e,this.h=lc()},Ic={name:"pendingRedirect",B:"session"},Rc=function(e){return e.h.set(Ic,"pending",e.j)},Oc=function(e){return e.h.remove(Ic,e.j)},Pc=function(e){return e.h.get(Ic,e.j).then(function(e){return"pending"==e})},Ac=function(e,t,n){this.C=e,this.o=t,this.u=n,this.ec=[],this.ob=!1,this.cd=_(this.qd,this),this.Va=new Wc(this),this.Id=new Gc(this),this.Tb=new xc(this.o+":"+this.u),this.Fa={},this.Fa.unknown=this.Va,this.Fa.signInViaRedirect=this.Va,this.Fa.linkViaRedirect=this.Va,this.Fa.reauthViaRedirect=this.Va,this.Fa.signInViaPopup=this.Id,this.Fa.linkViaPopup=this.Id,this.Fa.reauthViaPopup=this.Id,this.X=Mc(this.C,this.o,this.u)},Mc=function(e,n,r){var i=t.SDK_VERSION||null;return Hi()?new _c(e,n,r,i):new fs(e,n,r,i)};Ac.prototype.reset=function(){this.ob=!1,this.X.$b(this.cd),this.X=Mc(this.C,this.o,this.u)},Ac.prototype.Ob=function(){var e=this;this.ob||(this.ob=!0,this.X.fb(this.cd));var t=this.X;return this.X.Pa().f(function(n){throw e.X==t&&e.reset(),n})};var Nc=function(e){e.X.Oe()&&e.Ob().f(function(t){var n=new Io("unknown",null,null,null,new Eo("operation-not-supported-in-this-environment"));Fc(t)&&e.qd(n)}),e.X.se()||Bc(e.Va)};Ac.prototype.subscribe=function(e){if(ae(this.ec,e)||this.ec.push(e),!this.ob){var t=this;Pc(this.Tb).then(function(e){e?Oc(t.Tb).then(function(){t.Ob().f(function(e){var n=new Io("unknown",null,null,null,new Eo("operation-not-supported-in-this-environment"));Fc(e)&&t.qd(n)})}):Nc(t)}).f(function(){Nc(t)})}},Ac.prototype.unsubscribe=function(e){ue(this.ec,function(t){return t==e})},Ac.prototype.qd=function(e){if(!e)throw new Eo("invalid-auth-event");for(var t=!1,n=0;n<this.ec.length;n++){var r=this.ec[n];if(r.de(e.la,e.U)){(t=this.Fa[e.la])&&t.Ie(e,r),t=!0;break}}return Bc(this.Va),t};var Dc=new co(2e3,1e4),Lc=new co(3e4,6e4);Ac.prototype.getRedirectResult=function(){return this.Va.getRedirectResult()},Ac.prototype.Wb=function(e,t,n,r,i){var o=this;return this.X.Wb(e,t,n,function(){o.ob||(o.ob=!0,o.X.fb(o.cd))},function(){o.reset()},r,i)};var Fc=function(e){return!(!e||"auth/cordova-not-ready"!=e.code)};Ac.prototype.Xb=function(e,t,n){var r=this,i;return Rc(this.Tb).then(function(){return r.X.Xb(e,t,n).f(function(e){if(Fc(e))throw new Eo("operation-not-supported-in-this-environment");return i=e,Oc(r.Tb).then(function(){throw i})}).then(function(){return r.X.Se()?new Rn(function(){}):Oc(r.Tb).then(function(){return r.getRedirectResult()}).then(function(){}).f(function(){})})})},Ac.prototype.cc=function(e,t,n,r){return this.X.cc(n,function(n){e.Za(t,null,n,r)},Dc.get())};var Uc={},jc=function(e,t,n){var r=t+":"+n;return Uc[r]||(Uc[r]=new Ac(e,t,n)),Uc[r]},Wc=function(e){this.h=e,this.xb=null,this.Zb=[],this.Yb=[],this.ub=null,this.Ld=!1};Wc.prototype.reset=function(){this.xb=null,this.ub&&(this.ub.cancel(),this.ub=null)},Wc.prototype.Ie=function(e,t){if(!e)return Nn(new Eo("invalid-auth-event"));this.reset(),this.Ld=!0;var n=e.la,r=e.U,i=e.getError()&&"auth/web-storage-unsupported"==e.getError().code,o=e.getError()&&"auth/operation-not-supported-in-this-environment"==e.getError().code;return"unknown"!=n||i||o?e=e.$?this.Jd(e,t):t.Jb(n,r)?this.Kd(e,t):Nn(new Eo("invalid-auth-event")):(qc(this,!1,null,null),e=Mn()),e};var Bc=function(e){e.Ld||(e.Ld=!0,qc(e,!1,null,null))};Wc.prototype.Jd=function(e){return qc(this,!0,null,e.getError()),Mn()},Wc.prototype.Kd=function(e,t){var n=this;t=t.Jb(e.la,e.U);var r=e.Ab,i=e.sc(),o=!!e.la.match(/Redirect$/);return t(r,i).then(function(e){qc(n,o,e,null)}).f(function(e){qc(n,o,null,e)})};var Hc=function(e,t){if(e.xb=function(){return Nn(t)},e.Yb.length)for(var n=0;n<e.Yb.length;n++)e.Yb[n](t)},zc=function(e,t){if(e.xb=function(){return Mn(t)},e.Zb.length)for(var n=0;n<e.Zb.length;n++)e.Zb[n](t)},qc=function(e,t,n,r){t?r?Hc(e,r):zc(e,n):zc(e,{user:null}),e.Zb=[],e.Yb=[]};Wc.prototype.getRedirectResult=function(){var e=this;return new Rn(function(t,n){e.xb?e.xb().then(t,n):(e.Zb.push(t),e.Yb.push(n),Vc(e))})};var Vc=function(e){var t=new Eo("timeout");e.ub&&e.ub.cancel(),e.ub=Hr(Lc.get()).then(function(){e.xb||qc(e,!0,null,t)})},Gc=function(e){this.h=e};Gc.prototype.Ie=function(e,t){if(!e)return Nn(new Eo("invalid-auth-event"));var n=e.la,r=e.U;return e.$?this.Jd(e,t):t.Jb(n,r)?this.Kd(e,t):Nn(new Eo("invalid-auth-event"))},Gc.prototype.Jd=function(e,t){return t.Za(e.la,null,e.getError(),e.U),Mn()},Gc.prototype.Kd=function(e,t){var n=e.U,r=e.la,i=t.Jb(r,n),o=e.Ab;return e=e.sc(),i(o,e).then(function(e){t.Za(r,e,null,n)}).f(function(e){t.Za(r,null,e,n)})};var $c=function(e){this.g=e,this.Ga=this.da=null,this.La=0};$c.prototype.I=function(){return{apiKey:this.g.o,refreshToken:this.da,accessToken:this.Ga,expirationTime:this.La}};var Xc=function(e,t){var n=t.idToken,r=t.refreshToken;t=Kc(t.expiresIn),e.Ga=n,e.La=t,e.da=r},Kc=function(e){return S()+1e3*parseInt(e,10)},Yc=function(e,t){return ha(e.g,t).then(function(t){return e.Ga=t.access_token,e.La=Kc(t.expires_in),e.da=t.refresh_token,{accessToken:e.Ga,expirationTime:e.La,refreshToken:e.da}}).f(function(t){throw"auth/user-token-expired"==t.code&&(e.da=null),t})};$c.prototype.getToken=function(e){return e=!!e,this.Ga&&!this.da?Nn(new Eo("user-token-expired")):e||!this.Ga||S()>this.La-3e4?this.da?Yc(this,{grant_type:"refresh_token",refresh_token:this.da}):Mn(null):Mn({accessToken:this.Ga,expirationTime:this.La,refreshToken:this.da})};var Qc=function(e,t,n,r,i,o){mo(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})},Jc=function(e,t){ct.call(this,e);for(var n in t)this[n]=t[n]};w(Jc,ct);var Zc=function(e,n,r){this.K=[],this.o=e.apiKey,this.u=e.appName,this.C=e.authDomain||null,e=t.SDK_VERSION?$i(t.SDK_VERSION):null,this.g=new na(this.o,null,e),this.qa=new $c(this.g),ou(this,n.idToken),Xc(this.qa,n),go(this,"refreshToken",this.qa.da),uu(this,r||{}),Ir.call(this),this.Jc=!1,this.C&&Qi()&&(this.v=jc(this.C,this.o,this.u)),this.Pc=[],this.ra=null,this.sb=nu(this),this.Cb=_(this.rd,this);var i=this;this.ha=null,this.Ee=function(e){i.bc(e.Nf)},this.xd=null};w(Zc,Ir),Zc.prototype.bc=function(e){this.ha=e,ca(this.g,e)};var eu=function(e,t){e.xd&&Tt(e.xd,"languageCodeChanged",e.Ee),(e.xd=t)&&bt(t,"languageCodeChanged",e.Ee)};Zc.prototype.rd=function(){this.sb.qb&&(this.sb.stop(),this.sb.start())};var tu=function(e){try{return t.app(e.u).auth()}catch(t){throw new Eo("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.u+"'!")}},nu=function(e){return new Qs(function(){return e.getIdToken(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.qa.La-S()-3e5;return 0<t?t:0},3e4,96e4,!1)},ru=function(e){e.Gb||e.sb.qb||(e.sb.start(),Tt(e,"tokenChanged",e.Cb),bt(e,"tokenChanged",e.Cb))},iu=function(e){Tt(e,"tokenChanged",e.Cb),e.sb.stop()},ou=function(e,t){e.ze=t,go(e,"_lat",t)},au=function(e,t){ue(e.Pc,function(e){return e==t})},su=function(e){for(var t=[],n=0;n<e.Pc.length;n++)t.push(e.Pc[n](e));return Fn(t).then(function(){return e})},cu=function(e){e.v&&!e.Jc&&(e.Jc=!0,e.v.subscribe(e))},uu=function(e,t){mo(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,providerData:[]})};go(Zc.prototype,"providerId","firebase");var lu=function(){},du=function(e){return Mn().then(function(){if(e.Gb)throw new Eo("app-deleted")})},pu=function(e){return re(e.providerData,function(e){return e.providerId})},hu=function(e,t){t&&(fu(e,t.providerId),e.providerData.push(t))},fu=function(e,t){ue(e.providerData,function(e){return e.providerId==t})},gu=function(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&go(e,t,n)};Zc.prototype.copy=function(e){var t=this;t!=e&&(mo(this,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),te(e.providerData,function(e){hu(t,e)}),this.qa=e.qa,go(this,"refreshToken",this.qa.da))},Zc.prototype.reload=function(){var e=this;return this.c(du(this).then(function(){return mu(e).then(function(){return su(e)}).then(lu)}))};var mu=function(e){return e.getIdToken().then(function(t){var n=e.isAnonymous;return yu(e,t).then(function(){return n||gu(e,"isAnonymous",!1),t})})};Zc.prototype.getIdToken=function(e){var t=this;return this.c(du(this).then(function(){return t.qa.getToken(e)}).then(function(e){if(!e)throw new Eo("internal-error");return e.accessToken!=t.ze&&(ou(t,e.accessToken),t.Ra()),gu(t,"refreshToken",e.refreshToken),e.accessToken}))},Zc.prototype.getToken=function(e){return po["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(po["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&console.warn),this.getIdToken(e)};var vu=function(e,t){t.idToken&&e.ze!=t.idToken&&(Xc(e.qa,t),e.Ra(),ou(e,t.idToken),gu(e,"refreshToken",e.qa.da))};Zc.prototype.Ra=function(){this.dispatchEvent(new Jc("tokenChanged"))};var yu=function(e,t){return Za(e.g,Da,{idToken:t}).then(_(e.Xf,e))};Zc.prototype.Xf=function(e){if(!(e=e.users)||!e.length)throw new Eo("internal-error");e=e[0],uu(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber});for(var t=_u(e),n=0;n<t.length;n++)hu(this,t[n]);gu(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))};var _u=function(e){return(e=e.providerUserInfo)&&e.length?re(e,function(e){return new Qc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]};Zc.prototype.reauthenticateAndRetrieveDataWithCredential=function(e){var t=this,n=null;return this.c(e.Ad(this.g,this.uid).then(function(e){return vu(t,e),n=Su(t,e,"reauthenticate"),t.ra=null,t.reload()}).then(function(){return n}),!0)},Zc.prototype.reauthenticateWithCredential=function(e){return this.reauthenticateAndRetrieveDataWithCredential(e).then(function(){})};var bu=function(e,t){return mu(e).then(function(){if(ae(pu(e),t))return su(e).then(function(){throw new Eo("provider-already-linked")})})};Zc.prototype.linkAndRetrieveDataWithCredential=function(e){var t=this,n=null;return this.c(bu(this,e.providerId).then(function(){return t.getIdToken()}).then(function(n){return e.Ec(t.g,n)}).then(function(e){return n=Su(t,e,"link"),wu(t,e)}).then(function(){return n}))},Zc.prototype.linkWithCredential=function(e){return this.linkAndRetrieveDataWithCredential(e).then(function(e){return e.user})},Zc.prototype.linkWithPhoneNumber=function(e,t){var n=this;return this.c(bu(this,"phone").then(function(){return Ks(tu(n),e,t,_(n.linkAndRetrieveDataWithCredential,n))}))},Zc.prototype.reauthenticateWithPhoneNumber=function(e,t){var n=this;return this.c(Mn().then(function(){return Ks(tu(n),e,t,_(n.reauthenticateAndRetrieveDataWithCredential,n))}),!0)};var Su=function(e,t,n){var r=Qo(t);return t=ec(t),vo({user:e,credential:r,additionalUserInfo:t,operationType:n})},wu=function(e,t){return vu(e,t),e.reload().then(function(){return e})};(e=Zc.prototype).updateEmail=function(e){var t=this;return this.c(this.getIdToken().then(function(n){return t.g.updateEmail(n,e)}).then(function(e){return vu(t,e),t.reload()}))},e.updatePhoneNumber=function(e){var t=this;return this.c(this.getIdToken().then(function(n){return e.Ec(t.g,n)}).then(function(e){return vu(t,e),t.reload()}))},e.updatePassword=function(e){var t=this;return this.c(this.getIdToken().then(function(n){return t.g.updatePassword(n,e)}).then(function(e){return vu(t,e),t.reload()}))},e.updateProfile=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return du(this);var t=this;return this.c(this.getIdToken().then(function(n){return t.g.updateProfile(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return vu(t,e),gu(t,"displayName",e.displayName||null),gu(t,"photoURL",e.photoUrl||null),te(t.providerData,function(e){"password"===e.providerId&&(go(e,"displayName",t.displayName),go(e,"photoURL",t.photoURL))}),su(t)}).then(lu))},e.unlink=function(e){var t=this;return this.c(mu(this).then(function(n){return ae(pu(t),e)?wa(t.g,n,[e]).then(function(e){var n={};return te(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),te(pu(t),function(e){n[e]||fu(t,e)}),n[Ko.PROVIDER_ID]||go(t,"phoneNumber",null),su(t)}):su(t).then(function(){throw new Eo("no-such-provider")})}))},e.delete=function(){var e=this;return this.c(this.getIdToken().then(function(t){return Za(e.g,Ma,{idToken:t})}).then(function(){e.dispatchEvent(new Jc("userDeleted"))})).then(function(){for(var t=0;t<e.K.length;t++)e.K[t].cancel("app-deleted");eu(e,null),e.K=[],e.Gb=!0,iu(e),go(e,"refreshToken",null),e.v&&e.v.unsubscribe(e)})},e.de=function(e,t){return!!("linkViaPopup"==e&&(this.ka||null)==t&&this.ja||"reauthViaPopup"==e&&(this.ka||null)==t&&this.ja||"linkViaRedirect"==e&&(this.Ea||null)==t||"reauthViaRedirect"==e&&(this.Ea||null)==t)},e.Za=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.ka||null)||(n&&this.Ta?this.Ta(n):t&&!n&&this.ja&&this.ja(t),this.M&&(this.M.cancel(),this.M=null),delete this.ja,delete this.Ta)},e.Jb=function(e,t){return"linkViaPopup"==e&&t==(this.ka||null)?_(this.me,this):"reauthViaPopup"==e&&t==(this.ka||null)?_(this.ne,this):"linkViaRedirect"==e&&(this.Ea||null)==t?_(this.me,this):"reauthViaRedirect"==e&&(this.Ea||null)==t?_(this.ne,this):null},e.rc=function(){return io(this.uid+":::")},e.linkWithPopup=function(e){var t=this;return Cu(this,"linkViaPopup",e,function(){return bu(t,e.providerId).then(function(){return su(t)})},!1)},e.reauthenticateWithPopup=function(e){return Cu(this,"reauthViaPopup",e,function(){return Mn()},!0)};var Cu=function(e,n,r,i,o){if(!Qi())return Nn(new Eo("operation-not-supported-in-this-environment"));if(e.ra&&!o)return Nn(e.ra);var a=To(r.providerId),s=e.rc(),c=null;(!eo()||zi())&&e.C&&r.isOAuthProvider&&(c=ms(e.C,e.o,e.u,n,r,null,s,t.SDK_VERSION||null));var u=Fi(c,a&&a.Vb,a&&a.Ub);return i=i().then(function(){if(Eu(e),!o)return e.getIdToken().then(function(){})}).then(function(){return e.v.Wb(u,n,r,s,!!c)}).then(function(){return new Rn(function(t,r){e.Za(n,null,new Eo("cancelled-popup-request"),e.ka||null),e.ja=t,e.Ta=r,e.ka=s,e.M=e.v.cc(e,n,u,s)})}).then(function(e){return u&&Li(u),e?vo(e):null}).f(function(e){throw u&&Li(u),e}),e.c(i,o)};Zc.prototype.linkWithRedirect=function(e){var t=this;return Tu(this,"linkViaRedirect",e,function(){return bu(t,e.providerId)},!1)},Zc.prototype.reauthenticateWithRedirect=function(e){return Tu(this,"reauthViaRedirect",e,function(){return Mn()},!0)};var Tu=function(e,t,n,r,i){if(!Qi())return Nn(new Eo("operation-not-supported-in-this-environment"));if(e.ra&&!i)return Nn(e.ra);var o=null,a=e.rc();return r=r().then(function(){if(Eu(e),!i)return e.getIdToken().then(function(){})}).then(function(){return e.Ea=a,su(e)}).then(function(t){return e.Wa&&(t=e.Wa,t=t.h.set(Ou,e.I(),t.j)),t}).then(function(){return e.v.Xb(t,n,a)}).f(function(t){if(o=t,e.Wa)return Pu(e.Wa);throw o}).then(function(){if(o)throw o}),e.c(r,i)},Eu=function(e){if(!e.v||!e.Jc){if(e.v&&!e.Jc)throw new Eo("internal-error");throw new Eo("auth-domain-config-required")}};Zc.prototype.me=function(e,t){var n=this;this.M&&(this.M.cancel(),this.M=null);var r=null,i=this.getIdToken().then(function(r){return ka(n.g,{requestUri:e,sessionId:t,idToken:r})}).then(function(e){return r=Su(n,e,"link"),wu(n,e)}).then(function(){return r});return this.c(i)},Zc.prototype.ne=function(e,t){var n=this;this.M&&(this.M.cancel(),this.M=null);var r=null,i=Mn().then(function(){return Ao(xa(n.g,{requestUri:e,sessionId:t}),n.uid)}).then(function(e){return r=Su(n,e,"reauthenticate"),vu(n,e),n.ra=null,n.reload()}).then(function(){return r});return this.c(i,!0)},Zc.prototype.sendEmailVerification=function(e){var t=this,n=null;return this.c(this.getIdToken().then(function(t){return n=t,void 0===e||Se(e)?{}:$s(new Gs(e))}).then(function(e){return t.g.sendEmailVerification(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},Zc.prototype.c=function(e,t){var n=this,r=ku(this,e,t);return this.K.push(r),Un(r,function(){se(n.K,r)}),r};var ku=function(e,t,n){return e.ra&&!n?(t.cancel(),Nn(e.ra)):t.f(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.ra||e.dispatchEvent(new Jc("userInvalidated")),e.ra=t),t})};Zc.prototype.toJSON=function(){return this.I()},Zc.prototype.I=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.o,appName:this.u,authDomain:this.C,stsTokenManager:this.qa.I(),redirectEventId:this.Ea||null};return te(this.providerData,function(t){e.providerData.push(yo(t))}),e};var xu=function(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n.idToken=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-S())/1e3;var r=new Zc(t,n,e);return e.providerData&&te(e.providerData,function(e){e&&hu(r,vo(e))}),e.redirectEventId&&(r.Ea=e.redirectEventId),r},Iu=function(e,t,n){var r=new Zc(e,t);return n&&(r.Wa=n),r.reload().then(function(){return r})},Ru=function(e){this.j=e,this.h=lc()},Ou={name:"redirectUser",B:"session"},Pu=function(e){return e.h.remove(Ou,e.j)},Au=function(e,t){return e.h.get(Ou,e.j).then(function(e){return e&&t&&(e.authDomain=t),xu(e||{})})},Mu=function(e,t){this.j=e,this.h=t||lc(),this.N=null,this.Dd=this.vd(),this.h.addListener(Lu("local"),this.j,_(this.mg,this))};Mu.prototype.mg=function(){var e=this,t=Lu("local");Bu(this,function(){return Mn().then(function(){return e.N&&"local"!=e.N.B?e.h.get(t,e.j):null}).then(function(n){if(n)return Nu(e,"local").then(function(){e.N=t})})})};var Nu=function(e,t){var n=[],r;for(r in ac)ac[r]!==t&&n.push(e.h.remove(Lu(ac[r]),e.j));return n.push(e.h.remove(Du,e.j)),Ln(n)};Mu.prototype.vd=function(){var e=this,t=Lu("local"),n=Lu("session"),r=Lu("none");return this.h.get(n,this.j).then(function(i){return i?n:e.h.get(r,e.j).then(function(n){return n?r:e.h.get(t,e.j).then(function(n){return n?t:e.h.get(Du,e.j).then(function(e){return e?Lu(e):t})})})}).then(function(t){return e.N=t,Nu(e,t.B)}).f(function(){e.N||(e.N=t)})};var Du={name:"persistence",B:"session"},Lu=function(e){return{name:"authUser",B:e}};Mu.prototype.Sd=function(e){var t=null,n=this;return sc(e),Bu(this,function(){return e!=n.N.B?n.h.get(n.N,n.j).then(function(r){return t=r,Nu(n,e)}).then(function(){if(n.N=Lu(e),t)return n.h.set(n.N,t,n.j)}):Mn()})};var Fu=function(e){return Bu(e,function(){return e.h.set(Du,e.N.B,e.j)})},Uu=function(e,t){return Bu(e,function(){return e.h.set(e.N,t.I(),e.j)})},ju=function(e){return Bu(e,function(){return e.h.remove(e.N,e.j)})},Wu=function(e,t){return Bu(e,function(){return e.h.get(e.N,e.j).then(function(e){return e&&t&&(e.authDomain=t),xu(e||{})})})},Bu=function(e,t){return e.Dd=e.Dd.then(t,t),e.Dd},Hu=function(e){if(this.Ba=!1,go(this,"app",e),!this.i().options||!this.i().options.apiKey)throw new Eo("invalid-api-key");e=t.SDK_VERSION?$i(t.SDK_VERSION):null,this.g=new na(this.i().options&&this.i().options.apiKey,null,e),this.K=[],this.Ha=[],this.Bb=[],this.Tf=t.INTERNAL.createSubscribe(_(this.Hf,this)),this.jc=void 0,this.Vf=t.INTERNAL.createSubscribe(_(this.Jf,this)),Xu(this,null),e=this.i().options.apiKey;var n=this.i().name;this.ma=new Mu(e+":"+n),e=this.i().options.apiKey,n=this.i().name,this.vb=new Ru(e+":"+n),this.mc=this.c(Yu(this)),this.xa=this.c(Qu(this)),this.Bc=!1,this.pd=_(this.ng,this),this.Ve=_(this.lb,this),this.Cb=_(this.rd,this),this.Te=_(this.Cf,this),this.Ue=_(this.Df,this),Gu(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.Ma=0,Ir.call(this),qu(this)};w(Hu,Ir);var zu=function(e){ct.call(this,"languageCodeChanged"),this.Nf=e};w(zu,ct),Hu.prototype.Sd=function(e){return e=this.ma.Sd(e),this.c(e)},Hu.prototype.bc=function(e){this.ha===e||this.Ba||(this.ha=e,ca(this.g,this.ha),this.dispatchEvent(new zu(this.ha)))};var qu=function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha},set:function(e){this.bc(e)},enumerable:!1}),e.ha=null};Hu.prototype.toJSON=function(){return{apiKey:this.i().options.apiKey,authDomain:this.i().options.authDomain,appName:this.i().name,currentUser:Zu(this)&&Zu(this).I()}};var Vu=function(e){return e.pf||Nn(new Eo("auth-domain-config-required"))},Gu=function(e){var t=e.i().options.authDomain,n=e.i().options.apiKey;t&&Qi()&&(e.pf=e.mc.then(function(){if(!e.Ba){if(e.v=jc(t,n,e.i().name),e.v.subscribe(e),Zu(e)&&cu(Zu(e)),e.wb){cu(e.wb);var r=e.wb;r.bc(e.ha),eu(r,e),e.wb=null}return e.v}}))};(e=Hu.prototype).de=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.ka==t&&!!this.ja;default:return!1}},e.Za=function(e,t,n,r){"signInViaPopup"==e&&this.ka==r&&(n&&this.Ta?this.Ta(n):t&&!n&&this.ja&&this.ja(t),this.M&&(this.M.cancel(),this.M=null),delete this.ja,delete this.Ta)},e.Jb=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.ka==t&&this.ja?_(this.rf,this):null},e.rf=function(e,t){var n=this;e={requestUri:e,sessionId:t},this.M&&(this.M.cancel(),this.M=null);var r=null,i=null,o=Ea(n.g,e).then(function(e){return r=Qo(e),i=ec(e),e});return e=n.mc.then(function(){return o}).then(function(e){return $u(n,e)}).then(function(){return vo({user:Zu(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),this.c(e)},e.rc=function(){return io()},e.signInWithPopup=function(e){if(!Qi())return Nn(new Eo("operation-not-supported-in-this-environment"));var n=this,r=To(e.providerId),i=this.rc(),o=null;(!eo()||zi())&&this.i().options.authDomain&&e.isOAuthProvider&&(o=ms(this.i().options.authDomain,this.i().options.apiKey,this.i().name,"signInViaPopup",e,null,i,t.SDK_VERSION||null));var a=Fi(o,r&&r.Vb,r&&r.Ub);return r=Vu(this).then(function(t){return t.Wb(a,"signInViaPopup",e,i,!!o)}).then(function(){return new Rn(function(e,t){n.Za("signInViaPopup",null,new Eo("cancelled-popup-request"),n.ka),n.ja=e,n.Ta=t,n.ka=i,n.M=n.v.cc(n,"signInViaPopup",a,i)})}).then(function(e){return a&&Li(a),e?vo(e):null}).f(function(e){throw a&&Li(a),e}),this.c(r)},e.signInWithRedirect=function(e){if(!Qi())return Nn(new Eo("operation-not-supported-in-this-environment"));var t=this,n=Vu(this).then(function(){return Fu(t.ma)}).then(function(){return t.v.Xb("signInViaRedirect",e)});return this.c(n)},e.getRedirectResult=function(){if(!Qi())return Nn(new Eo("operation-not-supported-in-this-environment"));var e=this,t=Vu(this).then(function(){return e.v.getRedirectResult()}).then(function(e){return e?vo(e):null});return this.c(t)};var $u=function(e,t){var n={};return n.apiKey=e.i().options.apiKey,n.authDomain=e.i().options.authDomain,n.appName=e.i().name,e.mc.then(function(){return Iu(n,t,e.vb)}).then(function(t){return Zu(e)&&t.uid==Zu(e).uid?(Zu(e).copy(t),e.lb(t)):(Xu(e,t),cu(t),e.lb(t))}).then(function(){e.Ra()})},Xu=function(e,t){Zu(e)&&(au(Zu(e),e.Ve),Tt(Zu(e),"tokenChanged",e.Cb),Tt(Zu(e),"userDeleted",e.Te),Tt(Zu(e),"userInvalidated",e.Ue),iu(Zu(e))),t&&(t.Pc.push(e.Ve),bt(t,"tokenChanged",e.Cb),bt(t,"userDeleted",e.Te),bt(t,"userInvalidated",e.Ue),0<e.Ma&&ru(t)),go(e,"currentUser",t),t&&(t.bc(e.ha),eu(t,e))};Hu.prototype.signOut=function(){var e=this,t=this.xa.then(function(){return Zu(e)?(Xu(e,null),ju(e.ma).then(function(){e.Ra()})):Mn()});return this.c(t)};var Ku=function(e){var t=e.i().options.authDomain;return t=Au(e.vb,t).then(function(t){return(e.wb=t)&&(t.Wa=e.vb),Pu(e.vb)}),e.c(t)},Yu=function(e){var t=e.i().options.authDomain,n=Ku(e).then(function(){return Wu(e.ma,t)}).then(function(t){return t?(t.Wa=e.vb,e.wb&&(e.wb.Ea||null)==(t.Ea||null)?t:t.reload().then(function(){return Uu(e.ma,t).then(function(){return t})}).f(function(n){return"auth/network-request-failed"==n.code?t:ju(e.ma)})):null}).then(function(t){Xu(e,t||null)});return e.c(n)},Qu=function(e){return e.mc.then(function(){return e.getRedirectResult()}).f(function(){}).then(function(){if(!e.Ba)return e.pd()}).f(function(){}).then(function(){if(!e.Ba){e.Bc=!0;var t=e.ma;t.h.addListener(Lu("local"),t.j,e.pd)}})};(e=Hu.prototype).ng=function(){var e=this,t=this.i().options.authDomain;return Wu(this.ma,t).then(function(t){if(!e.Ba){var n;if(n=Zu(e)&&t){n=Zu(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Zu(e).copy(t),Zu(e).getIdToken();(Zu(e)||t)&&(Xu(e,t),t&&(cu(t),t.Wa=e.vb),e.v&&e.v.subscribe(e),e.Ra())}})},e.lb=function(e){return Uu(this.ma,e)},e.rd=function(){this.Ra(),this.lb(Zu(this))},e.Cf=function(){this.signOut()},e.Df=function(){this.signOut()};var Ju=function(e,t){var n=null,r=null;return e.c(t.then(function(t){return n=Qo(t),r=ec(t),$u(e,t)}).then(function(){return vo({user:Zu(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))};(e=Hu.prototype).Hf=function(e){var t=this;this.addAuthTokenListener(function(){e.next(Zu(t))})},e.Jf=function(e){var t=this;tl(this,function(){e.next(Zu(t))})},e.onIdTokenChanged=function(e,n,r){var i=this;return this.Bc&&t.Promise.resolve().then(function(){g(e)?e(Zu(i)):g(e.next)&&e.next(Zu(i))}),this.Tf(e,n,r)},e.onAuthStateChanged=function(e,n,r){var i=this;return this.Bc&&t.Promise.resolve().then(function(){i.jc=i.getUid(),g(e)?e(Zu(i)):g(e.next)&&e.next(Zu(i))}),this.Vf(e,n,r)},e.xf=function(e){var t=this,n=this.xa.then(function(){return Zu(t)?Zu(t).getIdToken(e).then(function(e){return{accessToken:e}}):null});return this.c(n)},e.signInWithCustomToken=function(e){var t=this;return this.xa.then(function(){return Ju(t,Za(t.g,Xa,{token:e}))}).then(function(e){return e=e.user,gu(e,"isAnonymous",!1),t.lb(e)}).then(function(){return Zu(t)})},e.signInWithEmailAndPassword=function(e,t){var n=this;return this.xa.then(function(){return Ju(n,Za(n.g,Ka,{email:e,password:t}))}).then(function(e){return e.user})},e.createUserWithEmailAndPassword=function(e,t){var n=this;return this.xa.then(function(){return Ju(n,Za(n.g,Pa,{email:e,password:t}))}).then(function(e){return e.user})},e.signInWithCredential=function(e){return this.signInAndRetrieveDataWithCredential(e).then(function(e){return e.user})},e.signInAndRetrieveDataWithCredential=function(e){var t=this;return this.xa.then(function(){return Ju(t,e.Kb(t.g))})},e.signInAnonymously=function(){var e=this;return this.xa.then(function(){var t=Zu(e);return t&&t.isAnonymous?t:Ju(e,e.g.signInAnonymously()).then(function(t){return t=t.user,gu(t,"isAnonymous",!0),e.lb(t)}).then(function(){return Zu(e)})})},e.i=function(){return this.app};var Zu=function(e){return e.currentUser};Hu.prototype.getUid=function(){return Zu(this)&&Zu(this).uid||null};var el=function(e){return Zu(e)&&Zu(e)._lat||null};(e=Hu.prototype).Ra=function(){if(this.Bc){for(var e=0;e<this.Ha.length;e++)this.Ha[e]&&this.Ha[e](el(this));if(this.jc!==this.getUid()&&this.Bb.length)for(this.jc=this.getUid(),e=0;e<this.Bb.length;e++)this.Bb[e]&&this.Bb[e](el(this))}},e.df=function(e){this.addAuthTokenListener(e),this.Ma++,0<this.Ma&&Zu(this)&&ru(Zu(this))},e.ag=function(e){var t=this;te(this.Ha,function(n){n==e&&t.Ma--}),0>this.Ma&&(this.Ma=0),0==this.Ma&&Zu(this)&&iu(Zu(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.Ha.push(e),this.c(this.xa.then(function(){t.Ba||ae(t.Ha,e)&&e(el(t))}))},e.removeAuthTokenListener=function(e){ue(this.Ha,function(t){return t==e})};var tl=function(e,t){e.Bb.push(t),e.c(e.xa.then(function(){!e.Ba&&ae(e.Bb,t)&&e.jc!==e.getUid()&&(e.jc=e.getUid(),t(el(e)))}))};(e=Hu.prototype).delete=function(){this.Ba=!0;for(var e=0;e<this.K.length;e++)this.K[e].cancel("app-deleted");return this.K=[],this.ma&&(e=this.ma).h.removeListener(Lu("local"),e.j,this.pd),this.v&&this.v.unsubscribe(this),t.Promise.resolve()},e.c=function(e){var t=this;return this.K.push(e),Un(e,function(){se(t.K,e)}),e},e.fetchProvidersForEmail=function(e){return this.c(va(this.g,e))},e.verifyPasswordResetCode=function(e){return this.checkActionCode(e).then(function(e){return e.data.email})},e.confirmPasswordReset=function(e,t){return this.c(this.g.confirmPasswordReset(e,t).then(function(){}))},e.checkActionCode=function(e){return this.c(this.g.checkActionCode(e).then(function(e){return new Ys(e)}))},e.applyActionCode=function(e){return this.c(this.g.applyActionCode(e).then(function(){}))},e.sendPasswordResetEmail=function(e,t){var n=this;return this.c(Mn().then(function(){return void 0===t||Se(t)?{}:$s(new Gs(t))}).then(function(t){return n.g.sendPasswordResetEmail(e,t)}).then(function(){}))},e.signInWithPhoneNumber=function(e,t){return this.c(Ks(this,e,t,_(this.signInAndRetrieveDataWithCredential,this)))};var nl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),rl=function(e,t){return{name:e||"",R:"a valid string",optional:!!t,S:o}},il=function(){return{name:"opt_forceRefresh",R:"a boolean",optional:!0,S:a}},ol=function(e,t){return{name:e||"",R:"a valid object",optional:!!t,S:m}},al=function(e,t){return{name:e||"",R:"a function",optional:!!t,S:g}},sl=function(e,t){return{name:e||"",R:"null",optional:!!t,S:p}},cl=function(){return{name:"",R:"an HTML element",optional:!1,S:function(e){return!!(e&&e instanceof Element)}}},ul=function(){return{name:"auth",R:"an instance of Firebase Auth",optional:!0,S:function(e){return!!(e&&e instanceof Hu)}}},ll=function(){return{name:"app",R:"an instance of Firebase App",optional:!0,S:function(e){return!!(e&&e instanceof t.app.App)}}},dl=function(e){return{name:e?e+"Credential":"credential",R:e?"a valid "+e+" credential":"a valid credential",optional:!1,S:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.Kb||!n)}}},pl=function(){return{name:"authProvider",R:"a valid Auth provider",optional:!1,S:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}},hl=function(){return{name:"applicationVerifier",R:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,S:function(e){return!!(e&&o(e.type)&&g(e.verify))}}},fl=function(e,t,n,r){return{name:n||"",R:e.R+" or "+t.R,optional:!!r,S:function(n){return e.S(n)||t.S(n)}}},gl=function(e,t){for(var n in t){var r=t[n].name;e[r]=vl(r,e[n],t[n].a)}},ml=function(e,t,n,r){e[t]=vl(t,n,r)},vl=function(e,t,n){if(!n)return t;var r=yl(e);e=function(){var e=Array.prototype.slice.call(arguments);e:{for(var i=Array.prototype.slice.call(e),o=0,a=!1,s=0;s<n.length;s++)if(n[s].optional)a=!0;else{if(a)throw new Eo("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(a=n.length,i.length<o||a<i.length)i="Expected "+(o==a?1==o?"1 argument":o+" arguments":o+"-"+a+" arguments")+" but got "+i.length+".";else{for(o=0;o<i.length;o++)if(a=n[o].optional&&void 0===i[o],!n[o].S(i[o])&&!a){if(i=n[o],0>o||o>=nl.length)throw new Eo("internal-error","Argument validator received an unsupported number of arguments.");i=nl[o]+" argument "+(i.name?'"'+i.name+'" ':"")+"must be "+i.R+".";break e}i=null}}if(i)throw new Eo("argument-error",r+" failed: "+i);return t.apply(this,e)};for(var i in t)e[i]=t[i];for(i in t.prototype)e.prototype[i]=t.prototype[i];return e},yl=function(e){return(e=e.split("."))[e.length-1]};gl(Hu.prototype,{applyActionCode:{name:"applyActionCode",a:[rl("code")]},checkActionCode:{name:"checkActionCode",a:[rl("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[rl("code"),rl("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[rl("email"),rl("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[rl("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[fl(ol(),al(),"nextOrObserver"),al("opt_error",!0),al("opt_completed",!0)]},onIdTokenChanged:{name:"onIdTokenChanged",a:[fl(ol(),al(),"nextOrObserver"),al("opt_error",!0),al("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[rl("email"),fl(ol("opt_actionCodeSettings",!0),sl(null,!0),"opt_actionCodeSettings",!0)]},Sd:{name:"setPersistence",a:[rl("persistence")]},signInAndRetrieveDataWithCredential:{name:"signInAndRetrieveDataWithCredential",a:[dl()]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[dl()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[rl("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[rl("email"),rl("password")]},signInWithPhoneNumber:{name:"signInWithPhoneNumber",a:[rl("phoneNumber"),hl()]},signInWithPopup:{name:"signInWithPopup",a:[pl()]},signInWithRedirect:{name:"signInWithRedirect",a:[pl()]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[rl(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[rl("code")]}}),(Hu.Persistence=ac).LOCAL="local",Hu.Persistence.SESSION="session",Hu.Persistence.NONE="none",gl(Zc.prototype,{delete:{name:"delete",a:[]},getIdToken:{name:"getIdToken",a:[il()]},getToken:{name:"getToken",a:[il()]},linkAndRetrieveDataWithCredential:{name:"linkAndRetrieveDataWithCredential",a:[dl()]},linkWithCredential:{name:"linkWithCredential",a:[dl()]},linkWithPhoneNumber:{name:"linkWithPhoneNumber",a:[rl("phoneNumber"),hl()]},linkWithPopup:{name:"linkWithPopup",a:[pl()]},linkWithRedirect:{name:"linkWithRedirect",a:[pl()]},reauthenticateAndRetrieveDataWithCredential:{name:"reauthenticateAndRetrieveDataWithCredential",a:[dl()]},reauthenticateWithCredential:{name:"reauthenticateWithCredential",a:[dl()]},reauthenticateWithPhoneNumber:{name:"reauthenticateWithPhoneNumber",a:[rl("phoneNumber"),hl()]},reauthenticateWithPopup:{name:"reauthenticateWithPopup",a:[pl()]},reauthenticateWithRedirect:{name:"reauthenticateWithRedirect",a:[pl()]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[fl(ol("opt_actionCodeSettings",!0),sl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",a:[rl(null,!0)]},unlink:{name:"unlink",a:[rl("provider")]},updateEmail:{name:"updateEmail",a:[rl("email")]},updatePassword:{name:"updatePassword",a:[rl("password")]},updatePhoneNumber:{name:"updatePhoneNumber",a:[dl("phone")]},updateProfile:{name:"updateProfile",a:[ol("profile")]}}),gl(Rn.prototype,{f:{name:"catch"},then:{name:"then"}}),gl(Xs.prototype,{confirm:{name:"confirm",a:[rl("verificationCode")]}}),ml(Go,"credential",function(e,t){return new Vo(e,t)},[rl("email"),rl("password")]),gl(Fo.prototype,{addScope:{name:"addScope",a:[rl("scope")]},setCustomParameters:{name:"setCustomParameters",a:[ol("customOAuthParameters")]}}),ml(Fo,"credential",Uo,[fl(rl(),ol(),"token")]),gl(jo.prototype,{addScope:{name:"addScope",a:[rl("scope")]},setCustomParameters:{name:"setCustomParameters",a:[ol("customOAuthParameters")]}}),ml(jo,"credential",Wo,[fl(rl(),ol(),"token")]),gl(Bo.prototype,{addScope:{name:"addScope",a:[rl("scope")]},setCustomParameters:{name:"setCustomParameters",a:[ol("customOAuthParameters")]}}),ml(Bo,"credential",Ho,[fl(rl(),fl(ol(),sl()),"idToken"),fl(rl(),sl(),"accessToken",!0)]),gl(zo.prototype,{setCustomParameters:{name:"setCustomParameters",a:[ol("customOAuthParameters")]}}),ml(zo,"credential",qo,[fl(rl(),ol(),"token"),rl("secret",!0)]),gl(Lo.prototype,{addScope:{name:"addScope",a:[rl("scope")]},credential:{name:"credential",a:[fl(rl(),sl(),"idToken",!0),fl(rl(),sl(),"accessToken",!0)]},setCustomParameters:{name:"setCustomParameters",a:[ol("customOAuthParameters")]}}),ml(Ko,"credential",Yo,[rl("verificationId"),rl("verificationCode")]),gl(Ko.prototype,{verifyPhoneNumber:{name:"verifyPhoneNumber",a:[rl("phoneNumber"),hl()]}}),gl(Eo.prototype,{toJSON:{name:"toJSON",a:[rl(null,!0)]}}),gl(Zo.prototype,{toJSON:{name:"toJSON",a:[rl(null,!0)]}}),gl(Oo.prototype,{toJSON:{name:"toJSON",a:[rl(null,!0)]}}),gl(_s.prototype,{clear:{name:"clear",a:[]},render:{name:"render",a:[]},verify:{name:"verify",a:[]}}),function(){if(void 0===t||!t.INTERNAL||!t.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:Hu,Error:Eo};ml(e,"EmailAuthProvider",Go,[]),ml(e,"FacebookAuthProvider",Fo,[]),ml(e,"GithubAuthProvider",jo,[]),ml(e,"GoogleAuthProvider",Bo,[]),ml(e,"TwitterAuthProvider",zo,[]),ml(e,"OAuthProvider",Lo,[rl("providerId")]),ml(e,"PhoneAuthProvider",Ko,[ul()]),ml(e,"RecaptchaVerifier",_s,[fl(rl(),cl(),"recaptchaContainer"),ol("recaptchaParameters",!0),ll()]),t.INTERNAL.registerService("auth",function(e,t){return e=new Hu(e),t({INTERNAL:{getUid:_(e.getUid,e),getToken:_(e.xf,e),addAuthTokenListener:_(e.df,e),removeAuthTokenListener:_(e.ag,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),t.INTERNAL.extendNamespace({User:Zc})}()}).call(this)}).call(void 0!==typeof e?e:void 0!==typeof self?self:void 0!==typeof window?window:{})}).call(t,n(37))},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function registerDatabase(t){var n=t.INTERNAL.registerService("database",function(e){return c.RepoManager.getInstance().databaseFromApp(e)},{Reference:a.Reference,Query:o.Query,Database:i.Database,enableLogging:s.enableLogging,INTERNAL:u,ServerValue:i.Database.ServerValue,TEST_ACCESS:l});(0,d.isNodeSdk)()&&(e.exports=n)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerDatabase=registerDatabase;var r=_interopRequireDefault(n(298)),i=n(1005),o=n(1008),a=n(831),s=n(36),c=n(836),u=_interopRequireWildcard(n(1384)),l=_interopRequireWildcard(n(1385)),d=n(337);registerDatabase(r.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64=void 0;var r=n(1003),i=function stringToByteArray(e){for(var t=[],n=0,r=0;r<e.length;r++){for(var i=e.charCodeAt(r);i>255;)t[n++]=255&i,i>>=8;t[n++]=i}return t},o=function byteArrayToString(e){var t=8192;if(e.length<8192)return String.fromCharCode.apply(null,e);for(var n="",r=0;r<e.length;r+=8192){var i=e.slice(r,r+8192);n+=String.fromCharCode.apply(null,i)}return n},a=t.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof r.globalScope.atob,encodeByteArray:function encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,d=(3&o)<<4|s>>4,p=(15&s)<<2|u>>6,h=63&u;c||(h=64,a||(p=64)),r.push(n[l],n[d],n[p],n[h])}return r.join("")},encodeString:function encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString:function decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):o(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function decodeStringToByteArray(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw Error();var u=o<<2|a>>4;if(r.push(u),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=c){var d=s<<6&192|c;r.push(d)}}}return r},init_:function init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha1=void 0;var r=n(1349),i=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),o=function(e){function Sha1(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return i(Sha1,e),Sha1.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Sha1.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],c=this.chain_[3],u=this.chain_[4],l,d,r=0;r<80;r++){r<40?r<20?(l=c^a&(s^c),d=1518500249):(l=a^s^c,d=1859775393):r<60?(l=a&s|c&(a|s),d=2400959708):(l=a^s^c,d=3395469782);var i=(o<<5|o>>>27)+l+u+d+n[r]&4294967295;u=c,c=s,s=4294967295&(a<<30|a>>>2),a=o,o=i}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},Sha1.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0==o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},Sha1.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},Sha1}(r.Hash);t.Sha1=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function Hash(){this.blockSize=-1}return Hash}();t.Hash=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOMStorageWrapper=void 0;var r=n(193),i=function(){function DOMStorageWrapper(e){this.domStorage_=e,this.prefix_="firebase:"}return DOMStorageWrapper.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,r.stringify)(t))},DOMStorageWrapper.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,r.jsonEval)(t)},DOMStorageWrapper.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},DOMStorageWrapper.prototype.prefixedName_=function(e){return this.prefix_+e},DOMStorageWrapper.prototype.toString=function(){return this.domStorage_.toString()},DOMStorageWrapper}();t.DOMStorageWrapper=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryStorage=void 0;var r=n(54),i=function(){function MemoryStorage(){this.cache_={},this.isInMemoryStorage=!0}return MemoryStorage.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},MemoryStorage.prototype.get=function(e){return(0,r.contains)(this.cache_,e)?this.cache_[e]:null},MemoryStorage.prototype.remove=function(e){delete this.cache_[e]},MemoryStorage}();t.MemoryStorage=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnDisconnect=void 0;var r=n(300),i=n(301),o=n(36),a=n(299),s=function(){function OnDisconnect(e,t){this.repo_=e,this.path_=t}return OnDisconnect.prototype.cancel=function(e){(0,r.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,r.validateCallback)("OnDisconnect.cancel",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},OnDisconnect.prototype.remove=function(e){(0,r.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,i.validateWritablePath)("OnDisconnect.remove",this.path_),(0,r.validateCallback)("OnDisconnect.remove",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},OnDisconnect.prototype.set=function(e,t){(0,r.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,i.validateWritablePath)("OnDisconnect.set",this.path_),(0,i.validateFirebaseDataArg)("OnDisconnect.set",1,e,this.path_,!1),(0,r.validateCallback)("OnDisconnect.set",2,t,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},OnDisconnect.prototype.setWithPriority=function(e,t,n){(0,r.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,i.validateWritablePath)("OnDisconnect.setWithPriority",this.path_),(0,i.validateFirebaseDataArg)("OnDisconnect.setWithPriority",1,e,this.path_,!1),(0,i.validatePriority)("OnDisconnect.setWithPriority",2,t,!1),(0,r.validateCallback)("OnDisconnect.setWithPriority",3,n,!0);var o=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,o.wrapCallback(n)),o.promise},OnDisconnect.prototype.update=function(e,t){if((0,r.validateArgCount)("OnDisconnect.update",1,2,arguments.length),(0,i.validateWritablePath)("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},s=0;s<e.length;++s)n[""+s]=e[s];e=n,(0,o.warn)("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,i.validateFirebaseMergeDataArg)("OnDisconnect.update",1,e,this.path_,!1),(0,r.validateCallback)("OnDisconnect.update",2,t,!0);var c=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,c.wrapCallback(t)),c.promise},OnDisconnect}();t.OnDisconnect=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionResult=void 0;var r=n(300),i=function(){function TransactionResult(e,t){this.committed=e,this.snapshot=t}return TransactionResult.prototype.toJSON=function(){return(0,r.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},TransactionResult}();t.TransactionResult=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextPushId=void 0;var r=n(31),i=t.nextPushId=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(i){var o=i===t;t=i;var a,s=new Array(8);for(a=7;a>=0;a--)s[a]=e.charAt(i%64),i=Math.floor(i/64);(0,r.assert)(0===i,"Cannot push at time == 0");var c=s.join("");if(o){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)c+=e.charAt(n[a]);return(0,r.assert)(20===c.length,"nextPushId: Length should be 20."),c}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildEventRegistration=t.ValueEventRegistration=void 0;var r=n(1015),i=n(1356),o=n(54),a=n(31),s=function(){function ValueEventRegistration(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return ValueEventRegistration.prototype.respondsTo=function(e){return"value"===e},ValueEventRegistration.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new i.DataEvent("value",this,new r.DataSnapshot(e.snapshotNode,t.getRef(),n))},ValueEventRegistration.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){(0,a.assert)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},ValueEventRegistration.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new i.CancelEvent(this,e,t):null},ValueEventRegistration.prototype.matches=function(e){return e instanceof ValueEventRegistration&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},ValueEventRegistration.prototype.hasAnyCallback=function(){return null!==this.callback_},ValueEventRegistration}();t.ValueEventRegistration=s;var c=function(){function ChildEventRegistration(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return ChildEventRegistration.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,(0,o.contains)(this.callbacks_,t)},ChildEventRegistration.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new i.CancelEvent(this,e,t):null},ChildEventRegistration.prototype.createEvent=function(e,t){(0,a.assert)(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),o=t.getQueryParams().getIndex();return new i.DataEvent(e.type,this,new r.DataSnapshot(e.snapshotNode,n,o),e.prevName)},ChildEventRegistration.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){(0,a.assert)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},ChildEventRegistration.prototype.matches=function(e){if(e instanceof ChildEventRegistration){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var t=(0,o.getCount)(e.callbacks_);if(t===(0,o.getCount)(this.callbacks_)){if(1===t){var n=(0,o.getAnyKey)(e.callbacks_),r=(0,o.getAnyKey)(this.callbacks_);return!(r!==n||e.callbacks_[n]&&this.callbacks_[r]&&e.callbacks_[n]!==this.callbacks_[r])}return(0,o.every)(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},ChildEventRegistration.prototype.hasAnyCallback=function(){return null!==this.callbacks_},ChildEventRegistration}();t.ChildEventRegistration=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancelEvent=t.DataEvent=void 0;var r=n(193),i=function(){function DataEvent(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return DataEvent.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},DataEvent.prototype.getEventType=function(){return this.eventType},DataEvent.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},DataEvent.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,r.stringify)(this.snapshot.exportVal())},DataEvent}();t.DataEvent=i;var o=function(){function CancelEvent(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return CancelEvent.prototype.getPath=function(){return this.path},CancelEvent.prototype.getEventType=function(){return"cancel"},CancelEvent.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},CancelEvent.prototype.toString=function(){return this.path.toString()+":cancel"},CancelEvent}();t.CancelEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncTree=void 0;var r=n(31),i=n(36),o=n(1358),a=n(132),s=n(54),c=n(833),u=n(1359),l=n(1360),d=n(302),p=n(1019),h=n(77),f=n(1020),g=n(1366),m=function(){function SyncTree(e){this.listenProvider_=e,this.syncPointTree_=c.ImmutableTree.Empty,this.pendingWriteTree_=new g.WriteTree,this.tagToQueryMap_={},this.queryToTagMap_={}}return SyncTree.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new p.Overwrite(d.OperationSource.User,e,t)):[]},SyncTree.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=c.ImmutableTree.fromObject(t);return this.applyOperationToSyncPoints_(new l.Merge(d.OperationSource.User,e,r))},SyncTree.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=c.ImmutableTree.Empty;return null!=n.snap?r=r.set(h.Path.Empty,!0):(0,s.forEach)(n.children,function(e,t){r=r.set(new h.Path(e),t)}),this.applyOperationToSyncPoints_(new o.AckUserWrite(n.path,r,t))}return[]},SyncTree.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new p.Overwrite(d.OperationSource.Server,e,t))},SyncTree.prototype.applyServerMerge=function(e,t){var n=c.ImmutableTree.fromObject(t);return this.applyOperationToSyncPoints_(new l.Merge(d.OperationSource.Server,e,n))},SyncTree.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new u.ListenComplete(d.OperationSource.Server,e))},SyncTree.prototype.applyTaggedQueryOverwrite=function(e,t,n){var r=this.queryKeyForTag_(n);if(null!=r){var i=SyncTree.parseQueryKey_(r),o=i.path,a=i.queryId,s=h.Path.relativePath(o,e),c=new p.Overwrite(d.OperationSource.forServerTaggedQuery(a),s,t);return this.applyTaggedOperation_(o,c)}return[]},SyncTree.prototype.applyTaggedQueryMerge=function(e,t,n){var r=this.queryKeyForTag_(n);if(r){var i=SyncTree.parseQueryKey_(r),o=i.path,a=i.queryId,s=h.Path.relativePath(o,e),u=c.ImmutableTree.fromObject(t),p=new l.Merge(d.OperationSource.forServerTaggedQuery(a),s,u);return this.applyTaggedOperation_(o,p)}return[]},SyncTree.prototype.applyTaggedListenComplete=function(e,t){var n=this.queryKeyForTag_(t);if(n){var r=SyncTree.parseQueryKey_(n),i=r.path,o=r.queryId,a=h.Path.relativePath(i,e),s=new u.ListenComplete(d.OperationSource.forServerTaggedQuery(o),a);return this.applyTaggedOperation_(i,s)}return[]},SyncTree.prototype.addEventRegistration=function(e,t){var n=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(n,function(e,t){var r=h.Path.relativePath(e,n);i=i||t.getCompleteServerCache(r),o=o||t.hasCompleteView()});var s=this.syncPointTree_.get(n);s?(o=o||s.hasCompleteView(),i=i||s.getCompleteServerCache(h.Path.Empty)):(s=new f.SyncPoint,this.syncPointTree_=this.syncPointTree_.set(n,s));var c;null!=i?c=!0:(c=!1,i=a.ChildrenNode.EMPTY_NODE,this.syncPointTree_.subtree(n).foreachChild(function(e,t){var n=t.getCompleteServerCache(h.Path.Empty);n&&(i=i.updateImmediateChild(e,n))}));var u=s.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var l=SyncTree.makeQueryKey_(e);(0,r.assert)(!(l in this.queryToTagMap_),"View does not exist, but we have a tag");var d=SyncTree.getNextQueryTag_();this.queryToTagMap_[l]=d,this.tagToQueryMap_["_"+d]=l}var p=this.pendingWriteTree_.childWrites(n),g=s.addEventRegistration(e,t,p,i,c);if(!u&&!o){var m=s.viewForQuery(e);g=g.concat(this.setupListener_(e,m))}return g},SyncTree.prototype.removeEventRegistration=function(e,t,n){var r=this,i=e.path,o=this.syncPointTree_.get(i),a=[];if(o&&("default"===e.queryIdentifier()||o.viewExistsForQuery(e))){var s=o.removeEventRegistration(e,t,n);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i));var c=s.removed;a=s.events;var u=-1!==c.findIndex(function(e){return e.getQueryParams().loadsAllData()}),l=this.syncPointTree_.findOnPath(i,function(e,t){return t.hasCompleteView()});if(u&&!l){var d=this.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),h=0;h<p.length;++h){var f=p[h],g=f.getQuery(),m=this.createListenerForView_(f);this.listenProvider_.startListening(SyncTree.queryForListening_(g),this.tagForQuery_(g),m.hashFn,m.onComplete)}}if(!l&&c.length>0&&!n)if(u){var v=null;this.listenProvider_.stopListening(SyncTree.queryForListening_(e),null)}else c.forEach(function(e){var t=r.queryToTagMap_[SyncTree.makeQueryKey_(e)];r.listenProvider_.stopListening(SyncTree.queryForListening_(e),t)});this.removeTags_(c)}return a},SyncTree.prototype.calcCompleteEventCache=function(e,t){var n=!0,r=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(e,function(t,n){var r=h.Path.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i});return r.calcCompleteEventCache(e,i,t,!0)},SyncTree.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),(0,s.forEach)(n,function(e,t){r=r.concat(t)}),r})},SyncTree.prototype.removeTags_=function(e){for(var t=0;t<e.length;++t){var n=e[t];if(!n.getQueryParams().loadsAllData()){var r=SyncTree.makeQueryKey_(n),i=this.queryToTagMap_[r];delete this.queryToTagMap_[r],delete this.tagToQueryMap_["_"+i]}}},SyncTree.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},SyncTree.prototype.setupListener_=function(e,t){var n=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(t),a=this.listenProvider_.startListening(SyncTree.queryForListening_(e),i,o.hashFn,o.onComplete),c=this.syncPointTree_.subtree(n);if(i)(0,r.assert)(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),(0,s.forEach)(n,function(e,t){r=r.concat(t)}),r}),l=0;l<u.length;++l){var d=u[l];this.listenProvider_.stopListening(SyncTree.queryForListening_(d),this.tagForQuery_(d))}return a},SyncTree.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function hashFn(){return(e.getServerCache()||a.ChildrenNode.EMPTY_NODE).hash()},onComplete:function onComplete(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var o=(0,i.errorForServerCode)(e,n);return t.removeEventRegistration(n,null,o)}}},SyncTree.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},SyncTree.parseQueryKey_=function(e){var t=e.indexOf("$");return(0,r.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new h.Path(e.substr(0,t))}},SyncTree.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]},SyncTree.prototype.tagForQuery_=function(e){var t=SyncTree.makeQueryKey_(e);return(0,s.safeGet)(this.queryToTagMap_,t)},SyncTree.getNextQueryTag_=function(){return SyncTree.nextQueryTag_++},SyncTree.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);(0,r.assert)(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,i,null)},SyncTree.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(h.Path.Empty))},SyncTree.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(h.Path.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(h.Path.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),c=t.children.get(a);if(c&&s){var u=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,c,u,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},SyncTree.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(h.Path.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(h.Path.Empty));var a=[];return t.children.inorderTraversal(function(t,o){var s=n?n.getImmediateChild(t):null,c=r.child(t),u=e.operationForChild(t);u&&(a=a.concat(i.applyOperationDescendantsHelper_(u,o,s,c)))}),o&&(a=a.concat(o.applyOperation(e,r,n))),a},SyncTree.nextQueryTag_=1,SyncTree}();t.SyncTree=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AckUserWrite=void 0;var r=n(31),i=n(77),o=n(302),a=function(){function AckUserWrite(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=o.OperationType.ACK_USER_WRITE,this.source=o.OperationSource.User}return AckUserWrite.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return(0,r.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new i.Path(e));return new AckUserWrite(i.Path.Empty,t,this.revert)}return(0,r.assert)(this.path.getFront()===e,"operationForChild called for unrelated child."),new AckUserWrite(this.path.popFront(),this.affectedTree,this.revert)},AckUserWrite}();t.AckUserWrite=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListenComplete=void 0;var r=n(77),i=n(302),o=function(){function ListenComplete(e,t){this.source=e,this.path=t,this.type=i.OperationType.LISTEN_COMPLETE}return ListenComplete.prototype.operationForChild=function(e){return this.path.isEmpty()?new ListenComplete(this.source,r.Path.Empty):new ListenComplete(this.source,this.path.popFront())},ListenComplete}();t.ListenComplete=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Merge=void 0;var r=n(302),i=n(1019),o=n(77),a=n(31),s=function(){function Merge(e,t,n){this.source=e,this.path=t,this.children=n,this.type=r.OperationType.MERGE}return Merge.prototype.operationForChild=function(e){if(this.path.isEmpty()){var t=this.children.subtree(new o.Path(e));return t.isEmpty()?null:t.value?new i.Overwrite(this.source,o.Path.Empty,t.value):new Merge(this.source,o.Path.Empty,t)}return(0,a.assert)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,this.path.popFront(),this.children)},Merge.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Merge}();t.Merge=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var r=n(834),i=n(1362),o=n(132),a=n(783),s=n(1021),c=n(1365),u=n(31),l=n(302),d=n(338),p=n(124),h=function(){function View(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),u=new r.IndexedFilter(n.getIndex()),l=n.getNodeFilter();this.processor_=new i.ViewProcessor(l);var d=t.getServerCache(),p=t.getEventCache(),h=u.updateFullNode(o.ChildrenNode.EMPTY_NODE,d.getNode(),null),f=l.updateFullNode(o.ChildrenNode.EMPTY_NODE,p.getNode(),null),g=new a.CacheNode(h,d.isFullyInitialized(),u.filtersNodes()),m=new a.CacheNode(f,p.isFullyInitialized(),l.filtersNodes());this.viewCache_=new s.ViewCache(m,g),this.eventGenerator_=new c.EventGenerator(this.query_)}return View.prototype.getQuery=function(){return this.query_},View.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},View.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},View.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},View.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},View.prototype.removeEventRegistration=function(e,t){var n=[];if(t){(0,u.assert)(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var i=e.createCancelEvent(t,r);i&&n.push(i)})}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},View.prototype.applyOperation=function(e,t,n){e.type===l.OperationType.MERGE&&null!==e.source.queryId&&((0,u.assert)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),(0,u.assert)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),(0,u.assert)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},View.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(p.PRIORITY_INDEX,function(e,t){n.push(d.Change.childAddedChange(e,t))}),t.isFullyInitialized()&&n.push(d.Change.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},View.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},View}();t.View=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewProcessor=t.ProcessorResult=void 0;var r=n(302),i=n(31),o=n(1363),a=n(338),s=n(132),c=n(656),u=n(833),l=n(77),d=n(1364),p=function(){function ProcessorResult(e,t){this.viewCache=e,this.changes=t}return ProcessorResult}();t.ProcessorResult=p;var h=function(){function ViewProcessor(e){this.filter_=e}return ViewProcessor.prototype.assertIndexed=function(e){(0,i.assert)(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),(0,i.assert)(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},ViewProcessor.prototype.applyOperation=function(e,t,n,a){var s=new o.ChildChangeAccumulator,c,u;if(t.type===r.OperationType.OVERWRITE){var l=t;l.source.fromUser?c=this.applyUserOverwrite_(e,l.path,l.snap,n,a,s):((0,i.assert)(l.source.fromServer,"Unknown source."),u=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),c=this.applyServerOverwrite_(e,l.path,l.snap,n,a,u,s))}else if(t.type===r.OperationType.MERGE){var d=t;d.source.fromUser?c=this.applyUserMerge_(e,d.path,d.children,n,a,s):((0,i.assert)(d.source.fromServer,"Unknown source."),u=d.source.tagged||e.getServerCache().isFiltered(),c=this.applyServerMerge_(e,d.path,d.children,n,a,u,s))}else if(t.type===r.OperationType.ACK_USER_WRITE){var h=t;c=h.revert?this.revertUserWrite_(e,h.path,n,a,s):this.ackUserWrite_(e,h.path,h.affectedTree,n,a,s)}else{if(t.type!==r.OperationType.LISTEN_COMPLETE)throw(0,i.assertionError)("Unknown operation type: "+t.type);c=this.listenComplete_(e,t.path,n,s)}var f=s.getChanges();return ViewProcessor.maybeAddValueEvent_(e,c,f),new p(c,f)},ViewProcessor.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(a.Change.valueChange(t.getCompleteEventSnap()))}},ViewProcessor.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,o){var a=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var c=void 0,u=void 0;if(t.isEmpty())if((0,i.assert)(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var l=e.getCompleteServerSnap(),d=l instanceof s.ChildrenNode?l:s.ChildrenNode.EMPTY_NODE,p=n.calcCompleteEventChildren(d);c=this.filter_.updateFullNode(e.getEventCache().getNode(),p,o)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());c=this.filter_.updateFullNode(e.getEventCache().getNode(),h,o)}else{var f=t.getFront();if(".priority"==f){(0,i.assert)(1==t.getLength(),"Can't have a priority with additional path components");var g=a.getNode();u=e.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(t,g,u);c=null!=m?this.filter_.updatePriority(g,m):a.getNode()}else{var v=t.popFront(),y=void 0;if(a.isCompleteForChild(f)){u=e.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(t,a.getNode(),u);y=null!=_?a.getNode().getImmediateChild(f).updateChild(v,_):a.getNode().getImmediateChild(f)}else y=n.calcCompleteChild(f,e.getServerCache());c=null!=y?this.filter_.updateChild(a.getNode(),f,y,v,r,o):a.getNode()}}return e.updateEventSnap(c,a.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},ViewProcessor.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s=e.getServerCache(),c,u=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())c=u.updateFullNode(s.getNode(),n,null);else if(u.filtersNodes()&&!s.isFiltered()){var l=s.getNode().updateChild(t,n);c=u.updateFullNode(s.getNode(),l,null)}else{var p=t.getFront();if(!s.isCompleteForPath(t)&&t.getLength()>1)return e;var h=t.popFront(),f=s.getNode().getImmediateChild(p).updateChild(h,n);c=".priority"==p?u.updatePriority(s.getNode(),f):u.updateChild(s.getNode(),p,f,h,d.NO_COMPLETE_CHILD_SOURCE,null)}var g=e.updateServerSnap(c,s.isFullyInitialized()||t.isEmpty(),u.filtersNodes()),m=new d.WriteTreeCompleteChildSource(r,g,i);return this.generateEventCacheAfterServerEvent_(g,t,r,m,a)},ViewProcessor.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a=e.getEventCache(),c,u,l=new d.WriteTreeCompleteChildSource(r,e,i);if(t.isEmpty())u=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),c=e.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var p=t.getFront();if(".priority"===p)u=this.filter_.updatePriority(e.getEventCache().getNode(),n),c=e.updateEventSnap(u,a.isFullyInitialized(),a.isFiltered());else{var h=t.popFront(),f=a.getNode().getImmediateChild(p),g=void 0;if(h.isEmpty())g=n;else{var m=l.getCompleteChild(p);g=null!=m?".priority"===h.getBack()&&m.getChild(h.parent()).isEmpty()?m:m.updateChild(h,n):s.ChildrenNode.EMPTY_NODE}if(f.equals(g))c=e;else{var v=this.filter_.updateChild(a.getNode(),p,g,h,l,o);c=e.updateEventSnap(v,a.isFullyInitialized(),this.filter_.filtersNodes())}}}return c},ViewProcessor.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},ViewProcessor.prototype.applyUserMerge_=function(e,t,n,r,i,o){var a=this,s=e;return n.foreach(function(n,c){var u=t.child(n);ViewProcessor.cacheHasChild_(e,u.getFront())&&(s=a.applyUserOverwrite_(s,u,c,r,i,o))}),n.foreach(function(n,c){var u=t.child(n);ViewProcessor.cacheHasChild_(e,u.getFront())||(s=a.applyUserOverwrite_(s,u,c,r,i,o))}),s},ViewProcessor.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},ViewProcessor.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var c=e,d;d=t.isEmpty()?n:u.ImmutableTree.Empty.setTree(t,n);var p=e.getServerCache().getNode();return d.children.inorderTraversal(function(t,n){if(p.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),d=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new l.Path(t),d,r,i,o,a)}}),d.children.inorderTraversal(function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!p.hasChild(t)&&!u){var d=e.getServerCache().getNode().getImmediateChild(t),h=s.applyMerge_(d,n);c=s.applyServerOverwrite_(c,new l.Path(t),h,r,i,o,a)}}),c},ViewProcessor.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var d=u.ImmutableTree.Empty;return s.getNode().forEachChild(c.KEY_INDEX,function(e,t){d=d.set(new l.Path(e),t)}),this.applyServerMerge_(e,t,d,r,i,a,o)}return e}var p=u.ImmutableTree.Empty;return n.foreach(function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(p=p.set(e,s.getNode().getChild(r)))}),this.applyServerMerge_(e,t,p,r,i,a,o)},ViewProcessor.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,d.NO_COMPLETE_CHILD_SOURCE,r)},ViewProcessor.prototype.revertUserWrite_=function(e,t,n,r,o){var a;if(null!=n.shadowingWrite(t))return e;var c=new d.WriteTreeCompleteChildSource(n,e,r),u=e.getEventCache().getNode(),p=void 0;if(t.isEmpty()||".priority"===t.getFront()){var h=void 0;if(e.getServerCache().isFullyInitialized())h=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var f=e.getServerCache().getNode();(0,i.assert)(f instanceof s.ChildrenNode,"serverChildren would be complete if leaf node"),h=n.calcCompleteEventChildren(f)}h=h,p=this.filter_.updateFullNode(u,h,o)}else{var g=t.getFront(),m=n.calcCompleteChild(g,e.getServerCache());null==m&&e.getServerCache().isCompleteForChild(g)&&(m=u.getImmediateChild(g)),(p=null!=m?this.filter_.updateChild(u,g,m,t.popFront(),c,o):e.getEventCache().getNode().hasChild(g)?this.filter_.updateChild(u,g,s.ChildrenNode.EMPTY_NODE,t.popFront(),c,o):u).isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(p=this.filter_.updateFullNode(p,a,o))}return a=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(l.Path.Empty),e.updateEventSnap(p,a,this.filter_.filtersNodes())},ViewProcessor}();t.ViewProcessor=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildChangeAccumulator=void 0;var r=n(54),i=n(338),o=n(31),a=function(){function ChildChangeAccumulator(){this.changeMap_={}}return ChildChangeAccumulator.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)(t==i.Change.CHILD_ADDED||t==i.Change.CHILD_CHANGED||t==i.Change.CHILD_REMOVED,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var a=(0,r.safeGet)(this.changeMap_,n);if(a){var s=a.type;if(t==i.Change.CHILD_ADDED&&s==i.Change.CHILD_REMOVED)this.changeMap_[n]=i.Change.childChangedChange(n,e.snapshotNode,a.snapshotNode);else if(t==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_ADDED)delete this.changeMap_[n];else if(t==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_CHANGED)this.changeMap_[n]=i.Change.childRemovedChange(n,a.oldSnap);else if(t==i.Change.CHILD_CHANGED&&s==i.Change.CHILD_ADDED)this.changeMap_[n]=i.Change.childAddedChange(n,e.snapshotNode);else{if(t!=i.Change.CHILD_CHANGED||s!=i.Change.CHILD_CHANGED)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+a);this.changeMap_[n]=i.Change.childChangedChange(n,e.snapshotNode,a.oldSnap)}}else this.changeMap_[n]=e},ChildChangeAccumulator.prototype.getChanges=function(){return(0,r.getValues)(this.changeMap_)},ChildChangeAccumulator}();t.ChildChangeAccumulator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteTreeCompleteChildSource=t.NO_COMPLETE_CHILD_SOURCE=t.NoCompleteChildSource_=void 0;var r=n(783),i=function(){function NoCompleteChildSource_(){}return NoCompleteChildSource_.prototype.getCompleteChild=function(e){return null},NoCompleteChildSource_.prototype.getChildAfterChild=function(e,t,n){return null},NoCompleteChildSource_}();t.NoCompleteChildSource_=i;var o=t.NO_COMPLETE_CHILD_SOURCE=new i,a=function(){function WriteTreeCompleteChildSource(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return WriteTreeCompleteChildSource.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new r.CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},WriteTreeCompleteChildSource.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},WriteTreeCompleteChildSource}();t.WriteTreeCompleteChildSource=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventGenerator=void 0;var r=n(154),i=n(338),o=n(31),a=function(){function EventGenerator(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return EventGenerator.prototype.generateEventsForChanges=function(e,t,n){var r=this,o=[],a=[];return e.forEach(function(e){e.type===i.Change.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&a.push(i.Change.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(o,i.Change.CHILD_REMOVED,e,n,t),this.generateEventsForType_(o,i.Change.CHILD_ADDED,e,n,t),this.generateEventsForType_(o,i.Change.CHILD_MOVED,a,n,t),this.generateEventsForType_(o,i.Change.CHILD_CHANGED,e,n,t),this.generateEventsForType_(o,i.Change.VALUE,e,n,t),o},EventGenerator.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter(function(e){return e.type===t});a.sort(this.compareChanges_.bind(this)),a.forEach(function(t){var n=o.materializeSingleChange_(t,i);r.forEach(function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))})})},EventGenerator.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},EventGenerator.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw(0,o.assertionError)("Should only compare child_ events.");var n=new r.NamedNode(e.childName,e.snapshotNode),i=new r.NamedNode(t.childName,t.snapshotNode);return this.index_.compare(n,i)},EventGenerator}();t.EventGenerator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteTreeRef=t.WriteTree=void 0;var r=n(54),i=n(31),o=n(77),a=n(1367),s=n(124),c=n(132),u=function(){function WriteTree(){this.visibleWrites_=a.CompoundWrite.Empty,this.allWrites_=[],this.lastWriteId_=-1}return WriteTree.prototype.childWrites=function(e){return new l(e,this)},WriteTree.prototype.addOverwrite=function(e,t,n,r){(0,i.assert)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},WriteTree.prototype.addMerge=function(e,t,n){(0,i.assert)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},WriteTree.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},WriteTree.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex(function(t){return t.writeId===e});(0,i.assert)(n>=0,"removeWrite called with nonexistent writeId.");var o=this.allWrites_[n];this.allWrites_.splice(n,1);for(var a=o.visible,s=!1,c=this.allWrites_.length-1;a&&c>=0;){var u=this.allWrites_[c];u.visible&&(c>=n&&this.recordContainsPath_(u,o.path)?a=!1:o.path.contains(u.path)&&(s=!0)),c--}if(a){if(s)return this.resetTree_(),!0;if(o.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(o.path);else{var l=o.children;(0,r.forEach)(l,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(o.path.child(e))})}return!0}return!1},WriteTree.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},WriteTree.prototype.calcCompleteEventCache=function(e,t,n,r){if(n||r){var i=this.visibleWrites_.childCompoundWrite(e);if(!r&&i.isEmpty())return t;if(r||null!=t||i.hasCompleteWrite(o.Path.Empty)){var a=function filter(t){return(t.visible||r)&&(!n||!~n.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},s=WriteTree.layerTree_(this.allWrites_,a,e),u=t||c.ChildrenNode.EMPTY_NODE;return s.apply(u)}return null}var l=this.visibleWrites_.getCompleteNode(e);if(null!=l)return l;var d=this.visibleWrites_.childCompoundWrite(e);if(d.isEmpty())return t;if(null!=t||d.hasCompleteWrite(o.Path.Empty)){var u=t||c.ChildrenNode.EMPTY_NODE;return d.apply(u)}return null},WriteTree.prototype.calcCompleteEventChildren=function(e,t){var n=c.ChildrenNode.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(s.PRIORITY_INDEX,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(s.PRIORITY_INDEX,function(e,t){var r=i.childCompoundWrite(new o.Path(e)).apply(t);n=n.updateImmediateChild(e,r)}),i.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},WriteTree.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){(0,i.assert)(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=e.child(t);if(this.visibleWrites_.hasCompleteWrite(o))return null;var a=this.visibleWrites_.childCompoundWrite(o);return a.isEmpty()?r.getChild(t):a.apply(r.getChild(t))},WriteTree.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},WriteTree.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},WriteTree.prototype.calcIndexedSlice=function(e,t,n,r,i,a){var s,c=this.visibleWrites_.childCompoundWrite(e),u=c.getCompleteNode(o.Path.Empty);if(null!=u)s=u;else{if(null==t)return[];s=c.apply(t)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],d=a.getCompare(),p=i?s.getReverseIteratorFrom(n,a):s.getIteratorFrom(n,a),h=p.getNext();h&&l.length<r;)0!==d(h,n)&&l.push(h),h=p.getNext();return l},WriteTree.prototype.recordContainsPath_=function(e,t){return e.snap?e.path.contains(t):!!(0,r.findKey)(e.children,function(n,r){return e.path.child(r).contains(t)})},WriteTree.prototype.resetTree_=function(){this.visibleWrites_=WriteTree.layerTree_(this.allWrites_,WriteTree.DefaultFilter_,o.Path.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},WriteTree.DefaultFilter_=function(e){return e.visible},WriteTree.layerTree_=function(e,t,n){for(var s=a.CompoundWrite.Empty,c=0;c<e.length;++c){var u=e[c];if(t(u)){var l=u.path,d=void 0;if(u.snap)n.contains(l)?(d=o.Path.relativePath(n,l),s=s.addWrite(d,u.snap)):l.contains(n)&&(d=o.Path.relativePath(l,n),s=s.addWrite(o.Path.Empty,u.snap.getChild(d)));else{if(!u.children)throw(0,i.assertionError)("WriteRecord should have .snap or .children");if(n.contains(l))d=o.Path.relativePath(n,l),s=s.addWrites(d,u.children);else if(l.contains(n))if((d=o.Path.relativePath(l,n)).isEmpty())s=s.addWrites(o.Path.Empty,u.children);else{var p=(0,r.safeGet)(u.children,d.getFront());if(p){var h=p.getChild(d.popFront());s=s.addWrite(o.Path.Empty,h)}}}}}return s},WriteTree}();t.WriteTree=u;var l=function(){function WriteTreeRef(e,t){this.treePath_=e,this.writeTree_=t}return WriteTreeRef.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},WriteTreeRef.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},WriteTreeRef.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},WriteTreeRef.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},WriteTreeRef.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},WriteTreeRef.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},WriteTreeRef.prototype.child=function(e){return new WriteTreeRef(this.treePath_.child(e),this.writeTree_)},WriteTreeRef}();t.WriteTreeRef=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompoundWrite=void 0;var r=n(833),i=n(77),o=n(54),a=n(154),s=n(124),c=n(31),u=function(){function CompoundWrite(e){this.writeTree_=e}return CompoundWrite.prototype.addWrite=function(e,t){if(e.isEmpty())return new CompoundWrite(new r.ImmutableTree(t));var n=this.writeTree_.findRootMostValueAndPath(e);if(null!=n){var o=n.path,a=n.value,s=i.Path.relativePath(o,e);return a=a.updateChild(s,t),new CompoundWrite(this.writeTree_.set(o,a))}var c=new r.ImmutableTree(t);return new CompoundWrite(this.writeTree_.setTree(e,c))},CompoundWrite.prototype.addWrites=function(e,t){var n=this;return(0,o.forEach)(t,function(t,r){n=n.addWrite(e.child(t),r)}),n},CompoundWrite.prototype.removeWrite=function(e){return e.isEmpty()?CompoundWrite.Empty:new CompoundWrite(this.writeTree_.setTree(e,r.ImmutableTree.Empty))},CompoundWrite.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},CompoundWrite.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(i.Path.relativePath(t.path,e)):null},CompoundWrite.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(s.PRIORITY_INDEX,function(t,n){e.push(new a.NamedNode(t,n))}):this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new a.NamedNode(t,n.value))}),e},CompoundWrite.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var t=this.getCompleteNode(e);return new CompoundWrite(null!=t?new r.ImmutableTree(t):this.writeTree_.subtree(e))},CompoundWrite.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},CompoundWrite.prototype.apply=function(e){return CompoundWrite.applySubtreeWrite_(i.Path.Empty,this.writeTree_,e)},CompoundWrite.Empty=new CompoundWrite(new r.ImmutableTree(null)),CompoundWrite.applySubtreeWrite_=function(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(t,i){".priority"===t?((0,c.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=CompoundWrite.applySubtreeWrite_(e.child(t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(e.child(".priority"),r)),n},CompoundWrite}();t.CompoundWrite=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SnapshotHolder=void 0;var r=n(132),i=function(){function SnapshotHolder(){this.rootNode_=r.ChildrenNode.EMPTY_NODE}return SnapshotHolder.prototype.getNode=function(e){return this.rootNode_.getChild(e)},SnapshotHolder.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},SnapshotHolder}();t.SnapshotHolder=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthTokenProvider=void 0;var r=n(36),i=function(){function AuthTokenProvider(e){this.app_=e}return AuthTokenProvider.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?((0,r.log)("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},AuthTokenProvider.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},AuthTokenProvider.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},AuthTokenProvider.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',(0,r.warn)(e)},AuthTokenProvider}();t.AuthTokenProvider=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsCollection=void 0;var r=n(1004),i=n(54),o=function(){function StatsCollection(){this.counters_={}}return StatsCollection.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,i.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},StatsCollection.prototype.get=function(){return(0,r.deepCopy)(this.counters_)},StatsCollection}();t.StatsCollection=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsReporter=void 0;var r=n(54),i=n(36),o=n(1022),a=1e4,s=3e4,c=3e5,u=function(){function StatsReporter(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new o.StatsListener(e);var n=a+(s-a)*Math.random();(0,i.setTimeoutNonBlocking)(this.reportStats_.bind(this),Math.floor(n))}return StatsReporter.prototype.includeStat=function(e){this.statsToReport_[e]=!0},StatsReporter.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},o=!1;(0,r.forEach)(t,function(t,i){i>0&&(0,r.contains)(e.statsToReport_,t)&&(n[t]=i,o=!0)}),o&&this.server_.reportStats(n),(0,i.setTimeoutNonBlocking)(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},StatsReporter}();t.StatsReporter=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventList=t.EventQueue=void 0;var r=n(36),i=function(){function EventQueue(){this.eventLists_=[],this.recursionDepth_=0}return EventQueue.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new o(i)),t.add(r)}t&&this.eventLists_.push(t)},EventQueue.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},EventQueue.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},EventQueue.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1)}t&&(this.eventLists_=[]),this.recursionDepth_--},EventQueue}();t.EventQueue=i;var o=function(){function EventList(e){this.path_=e,this.events_=[]}return EventList.prototype.add=function(e){this.events_.push(e)},EventList.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();r.logger&&(0,r.log)("event: "+t.toString()),(0,r.exceptionGuard)(n)}}},EventList.prototype.getPath=function(){return this.path_},EventList}();t.EventList=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VisibilityMonitor=void 0;var r=n(1024),i=n(31),o=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),a=function(e){function VisibilityMonitor(){var t=e.call(this,["visible"])||this,n,r;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(r="visibilitychange",n="hidden"):void 0!==document.mozHidden?(r="mozvisibilitychange",n="mozHidden"):void 0!==document.msHidden?(r="msvisibilitychange",n="msHidden"):void 0!==document.webkitHidden&&(r="webkitvisibilitychange",n="webkitHidden")),t.visible_=!0,r&&document.addEventListener(r,function(){var e=!document[n];e!==t.visible_&&(t.visible_=e,t.trigger("visible",e))},!1),t}return o(VisibilityMonitor,e),VisibilityMonitor.getInstance=function(){return new VisibilityMonitor},VisibilityMonitor.prototype.getInitialEvent=function(e){return(0,i.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},VisibilityMonitor}(r.EventEmitter);t.VisibilityMonitor=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnlineMonitor=void 0;var r=n(31),i=n(1024),o=n(337),a=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=function(e){function OnlineMonitor(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return a(OnlineMonitor,e),OnlineMonitor.getInstance=function(){return new OnlineMonitor},OnlineMonitor.prototype.getInitialEvent=function(e){return(0,r.assert)("online"===e,"Unknown event type: "+e),[this.online_]},OnlineMonitor.prototype.currentlyOnline=function(){return this.online_},OnlineMonitor}(i.EventEmitter);t.OnlineMonitor=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAdmin=t.isValidFormat=t.issuedAtTime=t.isValidTimestamp=t.decode=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(36),o=n(193),a=t.decode=function decode(e){var t={},n={},r={},a="";try{var s=e.split(".");t=(0,o.jsonEval)((0,i.base64Decode)(s[0])||""),n=(0,o.jsonEval)((0,i.base64Decode)(s[1])||""),a=s[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:a}},s=t.isValidTimestamp=function isValidTimestamp(e){var t=a(e).claims,n=Math.floor((new Date).getTime()/1e3),i,o;return"object"===(void 0===t?"undefined":r(t))&&(t.hasOwnProperty("nbf")?i=t.nbf:t.hasOwnProperty("iat")&&(i=t.iat),o=t.hasOwnProperty("exp")?t.exp:i+86400),n&&i&&o&&n>=i&&n<=o},c=t.issuedAtTime=function issuedAtTime(e){var t=a(e).claims;return"object"===(void 0===t?"undefined":r(t))&&t.hasOwnProperty("iat")?t.iat:null},u=t.isValidFormat=function isValidFormat(e){var t=a(e),n=t.claims;return!!t.signature&&!!n&&"object"===(void 0===n?"undefined":r(n))&&n.hasOwnProperty("iat")},l=t.isAdmin=function isAdmin(e){var t=a(e).claims;return"object"===(void 0===t?"undefined":r(t))&&!0===t.admin}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransportManager=void 0;var r=n(1026),i=n(1027),o=n(36),a=function(){function TransportManager(e){this.initTransports_(e)}return Object.defineProperty(TransportManager,"ALL_TRANSPORTS",{get:function get(){return[r.BrowserPollConnection,i.WebSocketConnection]},enumerable:!0,configurable:!0}),TransportManager.prototype.initTransports_=function(e){var t=i.WebSocketConnection&&i.WebSocketConnection.isAvailable(),n=t&&!i.WebSocketConnection.previouslyFailed();if(e.webSocketOnly&&(t||(0,o.warn)("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[i.WebSocketConnection];else{var r=this.transports_=[];(0,o.each)(TransportManager.ALL_TRANSPORTS,function(e,t){t&&t.isAvailable()&&r.push(t)})}},TransportManager.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},TransportManager.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},TransportManager}();t.TransportManager=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PacketReceiver=void 0;var r=n(36),i=function(){function PacketReceiver(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return PacketReceiver.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},PacketReceiver.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var i=function _loop_1(){var e=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var t=function _loop_2(t){e[t]&&(0,r.exceptionGuard)(function(){n.onMessage_(e[t])})},i=0;i<e.length;++i)t(i);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},PacketReceiver}();t.PacketReceiver=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadonlyRestClient=void 0;var r=n(31),i=n(36),o=n(193),a=n(54),s=n(1379),c=n(1028),u=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=function(e){function ReadonlyRestClient(t,n,r){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.log_=(0,i.logWrapper)("p:rest:"),o.listens_={},o}return u(ReadonlyRestClient,e),ReadonlyRestClient.prototype.reportStats=function(e){throw new Error("Method not implemented.")},ReadonlyRestClient.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,r.assert)(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},ReadonlyRestClient.prototype.listen=function(e,t,n,r){var i=this,o=e.path.toString();this.log_("Listen called for "+o+" "+e.queryIdentifier());var s=ReadonlyRestClient.getListenId_(e,n),c={};this.listens_[s]=c;var u=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(o+".json",u,function(e,t){var u=t;if(404===e&&(u=null,e=null),null===e&&i.onDataUpdate_(o,u,!1,n),(0,a.safeGet)(i.listens_,s)===c){var l;r(l=e?401==e?"permission_denied":"rest_error:"+e:"ok",null)}})},ReadonlyRestClient.prototype.unlisten=function(e,t){var n=ReadonlyRestClient.getListenId_(e,t);delete this.listens_[n]},ReadonlyRestClient.prototype.refreshAuthToken=function(e){},ReadonlyRestClient.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then(function(a){var c=a&&a.accessToken;c&&(t.auth=c);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?"+(0,s.querystring)(t);r.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=(0,o.jsonEval)(l.responseText)}catch(e){(0,i.warn)("Failed to parse JSON response for "+u+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&(0,i.warn)("Got unsuccessful REST response for "+u+" Status: "+l.status),n(l.status);n=null}},l.open("GET",u,!0),l.send()})},ReadonlyRestClient}(c.ServerActions);t.ReadonlyRestClient=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.querystringDecode=t.querystring=void 0;var r=n(54),i=t.querystring=function querystring(e){var t=[];return(0,r.forEach)(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},o=t.querystringDecode=function querystringDecode(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryParams=void 0;var r=n(31),i=n(36),o=n(656),a=n(124),s=n(1010),c=n(1014),u=n(834),l=n(1381),d=n(1029),p=n(193),h=function(){function QueryParams(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=a.PRIORITY_INDEX}return QueryParams.prototype.hasStart=function(){return this.startSet_},QueryParams.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},QueryParams.prototype.getIndexStartValue=function(){return(0,r.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},QueryParams.prototype.getIndexStartName=function(){return(0,r.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:i.MIN_NAME},QueryParams.prototype.hasEnd=function(){return this.endSet_},QueryParams.prototype.getIndexEndValue=function(){return(0,r.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},QueryParams.prototype.getIndexEndName=function(){return(0,r.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:i.MAX_NAME},QueryParams.prototype.hasLimit=function(){return this.limitSet_},QueryParams.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},QueryParams.prototype.getLimit=function(){return(0,r.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},QueryParams.prototype.getIndex=function(){return this.index_},QueryParams.prototype.copy_=function(){var e=new QueryParams;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},QueryParams.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},QueryParams.prototype.limitToFirst=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_=QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,t},QueryParams.prototype.limitToLast=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_=QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,t},QueryParams.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},QueryParams.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},QueryParams.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},QueryParams.prototype.getQueryObject=function(){var e=QueryParams.WIRE_PROTOCOL_CONSTANTS_,t={};if(this.startSet_&&(t[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(t[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(t[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(t[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){t[e.LIMIT]=this.limit_;var n=this.viewFrom_;""===n&&(n=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),t[e.VIEW_FROM]=n}return this.index_!==a.PRIORITY_INDEX&&(t[e.INDEX]=this.index_.toString()),t},QueryParams.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},QueryParams.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==a.PRIORITY_INDEX},QueryParams.prototype.getNodeFilter=function(){return this.loadsAllData()?new u.IndexedFilter(this.getIndex()):this.hasLimit()?new l.LimitedFilter(this):new d.RangedFilter(this)},QueryParams.prototype.toRestQueryStringParameters=function(){var e=QueryParams.REST_QUERY_CONSTANTS_,t={};if(this.isDefault())return t;var n;return this.index_===a.PRIORITY_INDEX?n=e.PRIORITY_INDEX:this.index_===s.VALUE_INDEX?n=e.VALUE_INDEX:this.index_===o.KEY_INDEX?n=e.KEY_INDEX:((0,r.assert)(this.index_ instanceof c.PathIndex,"Unrecognized index type!"),n=this.index_.toString()),t[e.ORDER_BY]=(0,p.stringify)(n),this.startSet_&&(t[e.START_AT]=(0,p.stringify)(this.indexStartValue_),this.startNameSet_&&(t[e.START_AT]+=","+(0,p.stringify)(this.indexStartName_))),this.endSet_&&(t[e.END_AT]=(0,p.stringify)(this.indexEndValue_),this.endNameSet_&&(t[e.END_AT]+=","+(0,p.stringify)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?t[e.LIMIT_TO_FIRST]=this.limit_:t[e.LIMIT_TO_LAST]=this.limit_),t},QueryParams.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},QueryParams.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},QueryParams.DEFAULT=new QueryParams,QueryParams}();t.QueryParams=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LimitedFilter=void 0;var r=n(1029),i=n(132),o=n(154),a=n(31),s=n(338),c=function(){function LimitedFilter(e){this.rangedFilter_=new r.RangedFilter(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return LimitedFilter.prototype.updateChild=function(e,t,n,r,a,s){return this.rangedFilter_.matches(new o.NamedNode(t,n))||(n=i.ChildrenNode.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,a,s):this.fullLimitUpdateChild_(e,t,n,a,s)},LimitedFilter.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=i.ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=i.ChildrenNode.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var s=o.getNext(),c=void 0;if(!(c=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),a++}}else{r=(r=t.withIndex(this.index_)).updatePriority(i.ChildrenNode.EMPTY_NODE);var u=void 0,l=void 0,d=void 0,o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var p=this.index_.getCompare();d=function cmp(e,t){return p(t,e)}}else o=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();for(var a=0,h=!1;o.hasNext();){var s=o.getNext();!h&&d(u,s)<=0&&(h=!0),(c=h&&a<this.limit_&&d(s,l)<=0)?a++:r=r.updateImmediateChild(s.name,i.ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},LimitedFilter.prototype.updatePriority=function(e,t){return e},LimitedFilter.prototype.filtersNodes=function(){return!0},LimitedFilter.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},LimitedFilter.prototype.getIndex=function(){return this.index_},LimitedFilter.prototype.fullLimitUpdateChild_=function(e,t,n,r,c){var u;if(this.reverse_){var l=this.index_.getCompare();u=function cmp(e,t){return l(t,e)}}else u=this.index_.getCompare();var d=e;(0,a.assert)(d.numChildren()==this.limit_,"");var p=new o.NamedNode(t,n),h=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),f=this.rangedFilter_.matches(p);if(d.hasChild(t)){for(var g=d.getImmediateChild(t),m=r.getChildAfterChild(this.index_,h,this.reverse_);null!=m&&(m.name==t||d.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);var v=null==m?1:u(m,p);if(f&&!n.isEmpty()&&v>=0)return null!=c&&c.trackChildChange(s.Change.childChangedChange(t,n,g)),d.updateImmediateChild(t,n);null!=c&&c.trackChildChange(s.Change.childRemovedChange(t,g));var y=d.updateImmediateChild(t,i.ChildrenNode.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(null!=c&&c.trackChildChange(s.Change.childAddedChange(m.name,m.node)),y.updateImmediateChild(m.name,m.node)):y}return n.isEmpty()?e:f&&u(h,p)>=0?(null!=c&&(c.trackChildChange(s.Change.childRemovedChange(h.name,h.node)),c.trackChildChange(s.Change.childAddedChange(t,n))),d.updateImmediateChild(t,n).updateImmediateChild(h.name,i.ChildrenNode.EMPTY_NODE)):e},LimitedFilter}();t.LimitedFilter=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionStatus=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(31),o=n(831),a=n(1015),s=n(77),c=n(1383),u=n(124),l=n(36),d=n(1016),p=n(301),h=n(54),f=n(657),g=n(132),m=n(782),v=t.TransactionStatus=void 0;!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(v||(t.TransactionStatus=v={})),m.Repo.MAX_TRANSACTION_RETRIES_=25,m.Repo.prototype.transactions_init_=function(){this.transactionQueueTree_=new c.Tree},m.Repo.prototype.startTransaction=function(e,t,n,s){this.log_("transaction on "+e);var c=function valueCallback(){},m=new o.Reference(this,e);m.on("value",c);var y=function unwatcher(){m.off("value",c)},_={path:e,update:t,onComplete:n,status:null,order:(0,l.LUIDGenerator)(),applyLocally:s,retryCount:0,unwatcher:y,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},b=this.getLatestState_(e);_.currentInputSnapshot=b;var S=_.update(b.val());if(void 0===S){if(_.unwatcher(),_.currentOutputSnapshotRaw=null,_.currentOutputSnapshotResolved=null,_.onComplete){var w=new a.DataSnapshot(_.currentInputSnapshot,new o.Reference(this,_.path),u.PRIORITY_INDEX);_.onComplete(null,!1,w)}}else{(0,p.validateFirebaseData)("transaction failed: Data returned ",S,_.path),_.status=v.RUN;var C=this.transactionQueueTree_.subTree(e),T=C.getValue()||[];T.push(_),C.setValue(T);var E=void 0;"object"===(void 0===S?"undefined":r(S))&&null!==S&&(0,h.contains)(S,".priority")?(E=(0,h.safeGet)(S,".priority"),(0,i.assert)((0,p.isValidPriority)(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(this.serverSyncTree_.calcCompleteEventCache(e)||g.ChildrenNode.EMPTY_NODE).getPriority().val(),E=E;var k=this.generateServerValues(),x=(0,f.nodeFromJSON)(S,E),I=(0,d.resolveDeferredValueSnapshot)(x,k);_.currentOutputSnapshotRaw=x,_.currentOutputSnapshotResolved=I,_.currentWriteId=this.getNextWriteId_();var R=this.serverSyncTree_.applyUserOverwrite(e,I,_.currentWriteId,_.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,R),this.sendReadyTransactions_()}},m.Repo.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||g.ChildrenNode.EMPTY_NODE},m.Repo.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);(0,i.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return e.status===v.RUN})&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},m.Repo.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map(function(e){return e.currentWriteId}),c=this.getLatestState_(e,r),d=c,p=c.hash(),h=0;h<t.length;h++){var f=t[h];(0,i.assert)(f.status===v.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=v.SENT,f.retryCount++;var g=s.Path.relativePath(e,f.path);d=d.updateChild(g,f.currentOutputSnapshotRaw)}var m=d.val(!0),y=e;this.server_.put(y.toString(),m,function(r){n.log_("transaction put response",{path:y.toString(),status:r});var i=[];if("ok"===r){for(var s=[],c=0;c<t.length;c++){if(t[c].status=v.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[c].currentWriteId)),t[c].onComplete){var d=t[c].currentOutputSnapshotResolved,p=new o.Reference(n,t[c].path),h=new a.DataSnapshot(d,p,u.PRIORITY_INDEX);s.push(t[c].onComplete.bind(null,null,!0,h))}t[c].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i);for(var c=0;c<s.length;c++)(0,l.exceptionGuard)(s[c])}else{if("datastale"===r)for(var c=0;c<t.length;c++)t[c].status===v.SENT_NEEDS_ABORT?t[c].status=v.NEEDS_ABORT:t[c].status=v.RUN;else{(0,l.warn)("transaction at "+y.toString()+" failed: "+r);for(var c=0;c<t.length;c++)t[c].status=v.NEEDS_ABORT,t[c].abortReason=r}n.rerunTransactions_(e)}},p)},m.Repo.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},m.Repo.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],c=[],g=e.filter(function(e){return e.status===v.RUN}).map(function(e){return e.currentWriteId}),y=0;y<e.length;y++){var _=e[y],b=s.Path.relativePath(t,_.path),S=!1,w=void 0;if((0,i.assert)(null!==b,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===v.NEEDS_ABORT)S=!0,w=_.abortReason,c=c.concat(this.serverSyncTree_.ackUserWrite(_.currentWriteId,!0));else if(_.status===v.RUN)if(_.retryCount>=m.Repo.MAX_TRANSACTION_RETRIES_)S=!0,w="maxretry",c=c.concat(this.serverSyncTree_.ackUserWrite(_.currentWriteId,!0));else{var C=this.getLatestState_(_.path,g);_.currentInputSnapshot=C;var T=e[y].update(C.val());if(void 0!==T){(0,p.validateFirebaseData)("transaction failed: Data returned ",T,_.path);var E=(0,f.nodeFromJSON)(T);"object"===(void 0===T?"undefined":r(T))&&null!=T&&(0,h.contains)(T,".priority")||(E=E.updatePriority(C.getPriority()));var k=_.currentWriteId,x=this.generateServerValues(),I=(0,d.resolveDeferredValueSnapshot)(E,x);_.currentOutputSnapshotRaw=E,_.currentOutputSnapshotResolved=I,_.currentWriteId=this.getNextWriteId_(),g.splice(g.indexOf(k),1),c=(c=c.concat(this.serverSyncTree_.applyUserOverwrite(_.path,I,_.currentWriteId,_.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(k,!0))}else S=!0,w="nodata",c=c.concat(this.serverSyncTree_.ackUserWrite(_.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,c),c=[],S&&(e[y].status=v.COMPLETED,function(e){setTimeout(e,Math.floor(0))}(e[y].unwatcher),e[y].onComplete))if("nodata"===w){var R=new o.Reference(this,e[y].path),O=e[y].currentInputSnapshot,P=new a.DataSnapshot(O,R,u.PRIORITY_INDEX);n.push(e[y].onComplete.bind(null,null,!1,P))}else n.push(e[y].onComplete.bind(null,new Error(w),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var y=0;y<n.length;y++)(0,l.exceptionGuard)(n[y]);this.sendReadyTransactions_()}},m.Repo.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},m.Repo.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},m.Repo.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},m.Repo.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==v.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},m.Repo.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},m.Repo.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],o=-1,a=0;a<t.length;a++)if(t[a].status===v.SENT_NEEDS_ABORT);else if(t[a].status===v.SENT)(0,i.assert)(o===a-1,"All SENT items should be at beginning of queue."),o=a,t[a].status=v.SENT_NEEDS_ABORT,t[a].abortReason="set";else if((0,i.assert)(t[a].status===v.RUN,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[a].currentWriteId,!0)),t[a].onComplete){var s=null;n.push(t[a].onComplete.bind(null,new Error("set"),!1,null))}-1===o?e.setValue(null):t.length=o+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r);for(var a=0;a<n.length;a++)(0,l.exceptionGuard)(n[a])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tree=t.TreeNode=void 0;var r=n(31),i=n(77),o=n(54),a=function(){function TreeNode(){this.children={},this.childCount=0,this.value=null}return TreeNode}();t.TreeNode=a;var s=function(){function Tree(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new a),this.name_=e,this.parent_=t,this.node_=n}return Tree.prototype.subTree=function(e){for(var t=e instanceof i.Path?e:new i.Path(e),n=this,r;null!==(r=t.getFront());)n=new Tree(r,n,(0,o.safeGet)(n.node_.children,r)||new a),t=t.popFront();return n},Tree.prototype.getValue=function(){return this.node_.value},Tree.prototype.setValue=function(e){(0,r.assert)(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},Tree.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},Tree.prototype.hasChildren=function(){return this.node_.childCount>0},Tree.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},Tree.prototype.forEachChild=function(e){var t=this;(0,o.forEach)(this.node_.children,function(n,r){e(new Tree(n,t,r))})},Tree.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},Tree.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},Tree.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},Tree.prototype.path=function(){return new i.Path(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},Tree.prototype.name=function(){return this.name_},Tree.prototype.parent=function(){return this.parent_},Tree.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},Tree.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=(0,o.contains)(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},Tree}();t.Tree=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interceptServerData=t.dataUpdateCount=t.statsIncrementCounter=t.stats=t.setSecurityDebugCallback=t.isWebSocketsAvailable=t.forceWebSockets=t.forceLongPolling=void 0;var r=n(1027),i=n(1026),o=t.forceLongPolling=function forceLongPolling(){r.WebSocketConnection.forceDisallow(),i.BrowserPollConnection.forceAllow()},a=t.forceWebSockets=function forceWebSockets(){i.BrowserPollConnection.forceDisallow()},s=t.isWebSocketsAvailable=function isWebSocketsAvailable(){return r.WebSocketConnection.isAvailable()},c=t.setSecurityDebugCallback=function setSecurityDebugCallback(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},u=t.stats=function stats(e,t){e.repo.stats(t)},l=t.statsIncrementCounter=function statsIncrementCounter(e,t){e.repo.statsIncrementCounter(t)},d=t.dataUpdateCount=function dataUpdateCount(e){return e.repo.dataUpdateCount},p=t.interceptServerData=function interceptServerData(e,t){return e.repo.interceptServerData_(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forceRestClient=t.listens=t.queryIdentifier=t.ConnectionTarget=t.hijackHash=t.RealTimeConnection=t.DataConnection=void 0;var r=n(1007),i=n(1023),o=n(836),a=n(1025),s=t.DataConnection=i.PersistentConnection;i.PersistentConnection.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},i.PersistentConnection.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var c=t.RealTimeConnection=a.Connection,u=t.hijackHash=function hijackHash(e){var t=i.PersistentConnection.prototype.put;return i.PersistentConnection.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){i.PersistentConnection.prototype.put=t}},l=t.ConnectionTarget=r.RepoInfo,d=t.queryIdentifier=function queryIdentifier(e){return e.queryIdentifier()},p=t.listens=function listens(e){return e.repo.persistentConnection_.listens_},h=t.forceRestClient=function forceRestClient(e){o.RepoManager.getInstance().forceRestClient(e)}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function factory(e,t,n){return new s.Service(e,new o.XhrIoPool,n)}function registerStorage(e){var t={TaskState:i.TaskState,TaskEvent:i.TaskEvent,StringFormat:r.StringFormat,Storage:s.Service,Reference:a.Reference};e.INTERNAL.registerService(c,factory,t,void 0,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerStorage=registerStorage;var r=n(837),i=n(1030),o=n(1387),a=n(1032),s=n(1396),c="storage";registerStorage(_interopRequireDefault(n(298)).default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XhrIoPool=void 0;var r=n(1388),i=function(){function XhrIoPool(){}return XhrIoPool.prototype.createXhrIo=function(){return new r.NetworkXhrIo},XhrIoPool}();t.XhrIoPool=i},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkXhrIo=void 0;var r=_interopRequireWildcard(n(207)),i=_interopRequireWildcard(n(339)),o=_interopRequireWildcard(n(303)),a=_interopRequireWildcard(n(155)),s=_interopRequireWildcard(n(1031)),c=function(){function NetworkXhrIo(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=s.ErrorCode.NO_ERROR,this.sendPromise_=o.make(function(t,n){e.xhr_.addEventListener("abort",function(n){e.errorCode_=s.ErrorCode.ABORT,t(e)}),e.xhr_.addEventListener("error",function(n){e.errorCode_=s.ErrorCode.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(n){t(e)})})}return NetworkXhrIo.prototype.send=function(e,t,n,o){var s=this;if(this.sent_)throw r.internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a.isDef(o)){var c=o;i.forEach(c,function(e,t){s.xhr_.setRequestHeader(e,t.toString())})}return a.isDef(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},NetworkXhrIo.prototype.getErrorCode=function(){if(!this.sent_)throw r.internalError("cannot .getErrorCode() before sending");return this.errorCode_},NetworkXhrIo.prototype.getStatus=function(){if(!this.sent_)throw r.internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},NetworkXhrIo.prototype.getResponseText=function(){if(!this.sent_)throw r.internalError("cannot .getResponseText() before sending");return this.xhr_.responseText},NetworkXhrIo.prototype.abort=function(){this.xhr_.abort()},NetworkXhrIo.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},NetworkXhrIo.prototype.addUploadProgressListener=function(e){a.isDef(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},NetworkXhrIo.prototype.removeUploadProgressListener=function(e){a.isDef(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},NetworkXhrIo}();t.NetworkXhrIo=c},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function jsonObjectOrNull(e){var t;try{t=JSON.parse(e)}catch(e){return null}return r.isNonArrayObject(t)?t:null}Object.defineProperty(t,"__esModule",{value:!0}),t.jsonObjectOrNull=jsonObjectOrNull;var r=_interopRequireWildcard(n(155))},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function getBlobBuilder(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function getBlob(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=getBlobBuilder();if(void 0!==n){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}if(r.isNativeBlobDefined())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}function sliceBlob(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}Object.defineProperty(t,"__esModule",{value:!0}),t.getBlob=getBlob,t.sliceBlob=sliceBlob;var r=_interopRequireWildcard(n(155))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function RequestInfo(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return RequestInfo}();t.RequestInfo=r},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.UploadTask=void 0;var r=n(1030),i=_interopRequireWildcard(r),o=n(1393),a=n(1394),s=_interopRequireWildcard(n(838)),c=_interopRequireWildcard(n(841)),u=n(1395),l=_interopRequireWildcard(n(207)),d=_interopRequireWildcard(n(303)),p=_interopRequireWildcard(n(1035)),h=_interopRequireWildcard(n(155)),f=function(){function UploadTask(e,t,n,i,o,a){void 0===a&&(a=null);var s=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=o,this.metadata_=a,this.mappings_=i,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=r.InternalTaskState.RUNNING,this.errorHandler_=function(e){s.request_=null,s.chunkMultiplier_=1,e.codeEquals(l.Code.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=e,s.transition_(r.InternalTaskState.ERROR))},this.metadataErrorHandler_=function(e){s.request_=null,e.codeEquals(l.Code.CANCELED)?s.completeTransitions_():(s.error_=e,s.transition_(r.InternalTaskState.ERROR))},this.promise_=d.make(function(e,t){s.resolve_=e,s.reject_=t,s.start_()}),this.promise_.then(null,function(){})}return UploadTask.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n,r){e.updateProgress_(t+n)}},UploadTask.prototype.shouldDoResumable_=function(e){return e.size()>262144},UploadTask.prototype.start_=function(){this.state_===r.InternalTaskState.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},UploadTask.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then(function(n){switch(t.state_){case r.InternalTaskState.RUNNING:e(n);break;case r.InternalTaskState.CANCELING:t.transition_(r.InternalTaskState.CANCELED);break;case r.InternalTaskState.PAUSING:t.transition_(r.InternalTaskState.PAUSED)}})},UploadTask.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(t){var n=p.createResumableUpload(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},UploadTask.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_(function(n){var r=p.getResumableUploadStatus(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then(function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},UploadTask.prototype.continueUpload_=function(){var e=this,t=p.resumableUploadChunkSize*this.chunkMultiplier_,n=new p.ResumableUploadStatus(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_(function(o){var a;try{a=p.continueResumableUpload(e.location_,e.authWrapper_,i,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(t){return e.error_=t,void e.transition_(r.InternalTaskState.ERROR)}var s=e.authWrapper_.makeRequest(a,o);e.request_=s,s.getPromise().then(function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(r.InternalTaskState.SUCCESS)):e.completeTransitions_()},e.errorHandler_)})},UploadTask.prototype.increaseMultiplier_=function(){p.resumableUploadChunkSize*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},UploadTask.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(t){var n=p.getMetadata(e.authWrapper_,e.location_,e.mappings_),i=e.authWrapper_.makeRequest(n,t);e.request_=i,i.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.transition_(r.InternalTaskState.SUCCESS)},e.metadataErrorHandler_)})},UploadTask.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(t){var n=p.multipartUpload(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),i=e.authWrapper_.makeRequest(n,t);e.request_=i,i.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(r.InternalTaskState.SUCCESS)},e.errorHandler_)})},UploadTask.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},UploadTask.prototype.transition_=function(e){if(this.state_!==e)switch(e){case r.InternalTaskState.CANCELING:case r.InternalTaskState.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case r.InternalTaskState.RUNNING:var t=this.state_===r.InternalTaskState.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case r.InternalTaskState.PAUSED:this.state_=e,this.notifyObservers_();break;case r.InternalTaskState.CANCELED:this.error_=l.canceled(),this.state_=e,this.notifyObservers_();break;case r.InternalTaskState.ERROR:case r.InternalTaskState.SUCCESS:this.state_=e,this.notifyObservers_()}},UploadTask.prototype.completeTransitions_=function(){switch(this.state_){case r.InternalTaskState.PAUSING:this.transition_(r.InternalTaskState.PAUSED);break;case r.InternalTaskState.CANCELING:this.transition_(r.InternalTaskState.CANCELED);break;case r.InternalTaskState.RUNNING:this.start_()}},Object.defineProperty(UploadTask.prototype,"snapshot",{get:function get(){var e=i.taskStateFromInternalTaskState(this.state_);return new a.UploadTaskSnapshot(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),UploadTask.prototype.on=function(e,t,n,i){function typeValidator(t){if(e!==r.TaskEvent.STATE_CHANGED)throw"Expected one of the event types: ["+r.TaskEvent.STATE_CHANGED+"]."}function nextOrObserverValidator(e){try{return void c(e)}catch(e){}try{if(u(e),!(h.isJustDef(e.next)||h.isJustDef(e.error)||h.isJustDef(e.complete)))throw"";return}catch(e){throw a}}function makeBinder(e){function binder(t,n,r){null!==e&&s.validate("on",e,arguments);var a=new o.Observer(t,n,i);return d.addObserver_(a),function(){d.removeObserver_(a)}}return binder}function binderNextOrObserverValidator(e){if(null===e)throw a;nextOrObserverValidator(e)}void 0===t&&(t=void 0),void 0===n&&(n=void 0),void 0===i&&(i=void 0);var a="Expected a function or an Object with one of `next`, `error`, `complete` properties.",c=s.nullFunctionSpec(!0).validator,u=s.looseObjectSpec(null,!0).validator,l=[s.stringSpec(typeValidator),s.looseObjectSpec(nextOrObserverValidator,!0),s.nullFunctionSpec(!0),s.nullFunctionSpec(!0)];s.validate("on",l,arguments);var d=this,p=[s.looseObjectSpec(binderNextOrObserverValidator),s.nullFunctionSpec(!0),s.nullFunctionSpec(!0)];return!(h.isJustDef(t)||h.isJustDef(n)||h.isJustDef(i))?makeBinder(p):makeBinder(null)(t,n,i)},UploadTask.prototype.then=function(e,t){return this.promise_.then(e,t)},UploadTask.prototype.catch=function(e){return this.then(null,e)},UploadTask.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},UploadTask.prototype.removeObserver_=function(e){c.remove(this.observers_,e)},UploadTask.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),c.clone(this.observers_).forEach(function(t){e.notifyObserver_(t)})},UploadTask.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(i.taskStateFromInternalTaskState(this.state_)){case r.TaskState.SUCCESS:(0,u.async)(this.resolve_.bind(null,this.snapshot))();break;case r.TaskState.CANCELED:case r.TaskState.ERROR:var t=this.reject_;(0,u.async)(t.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},UploadTask.prototype.notifyObserver_=function(e){switch(i.taskStateFromInternalTaskState(this.state_)){case r.TaskState.RUNNING:case r.TaskState.PAUSED:null!==e.next&&(0,u.async)(e.next.bind(e,this.snapshot))();break;case r.TaskState.SUCCESS:null!==e.complete&&(0,u.async)(e.complete.bind(e))();break;case r.TaskState.CANCELED:case r.TaskState.ERROR:null!==e.error&&(0,u.async)(e.error.bind(e,this.error_))();break;default:null!==e.error&&(0,u.async)(e.error.bind(e,this.error_))()}},UploadTask.prototype.resume=function(){s.validate("resume",[],arguments);var e=this.state_===r.InternalTaskState.PAUSED||this.state_===r.InternalTaskState.PAUSING;return e&&this.transition_(r.InternalTaskState.RUNNING),e},UploadTask.prototype.pause=function(){s.validate("pause",[],arguments);var e=this.state_===r.InternalTaskState.RUNNING;return e&&this.transition_(r.InternalTaskState.PAUSING),e},UploadTask.prototype.cancel=function(){s.validate("cancel",[],arguments);var e=this.state_===r.InternalTaskState.RUNNING||this.state_===r.InternalTaskState.PAUSING;return e&&this.transition_(r.InternalTaskState.CANCELING),e},UploadTask}();t.UploadTask=f},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Observer=void 0;var r=_interopRequireWildcard(n(155)),i=function(){function Observer(e,t,n){if(r.isFunction(e)||r.isDef(t)||r.isDef(n))this.next=e,this.error=t||null,this.complete=n||null;else{var i=e;this.next=i.next||null,this.error=i.error||null,this.complete=i.complete||null}}return Observer}();t.Observer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function UploadTaskSnapshot(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o}return Object.defineProperty(UploadTaskSnapshot.prototype,"downloadURL",{get:function get(){if(null!==this.metadata){var e=this.metadata.downloadURLs;return null!=e&&null!=e[0]?e[0]:null}return null},enumerable:!0,configurable:!0}),UploadTaskSnapshot}();t.UploadTaskSnapshot=r},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function async(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r.resolve(!0).then(function(){e.apply(null,t)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.async=async;var r=_interopRequireWildcard(n(303))},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceInternals=t.Service=void 0;var r=_interopRequireWildcard(n(838)),i=n(1397),o=n(785),a=_interopRequireWildcard(n(303)),s=_interopRequireWildcard(n(1400)),c=n(1032),u=function(){function Service(e,t,n){function maker(e,t){return new c.Reference(e,t)}if(this.bucket_=null,this.authWrapper_=new i.AuthWrapper(e,maker,s.makeRequest,this,t),this.app_=e,null!=n)this.bucket_=o.Location.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new o.Location(r,""))}this.internals_=new l(this)}return Service.prototype.ref=function(e){function validator(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(r.validate("ref",[r.stringSpec(validator,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var t=new c.Reference(this.authWrapper_,this.bucket_);return null!=e?t.child(e):t},Service.prototype.refFromURL=function(e){function validator(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{o.Location.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}}return r.validate("refFromURL",[r.stringSpec(validator,!1)],arguments),new c.Reference(this.authWrapper_,e)},Object.defineProperty(Service.prototype,"maxUploadRetryTime",{get:function get(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),Service.prototype.setMaxUploadRetryTime=function(e){r.validate("setMaxUploadRetryTime",[r.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},Object.defineProperty(Service.prototype,"maxOperationRetryTime",{get:function get(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),Service.prototype.setMaxOperationRetryTime=function(e){r.validate("setMaxOperationRetryTime",[r.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(Service.prototype,"app",{get:function get(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(Service.prototype,"INTERNAL",{get:function get(){return this.internals_},enumerable:!0,configurable:!0}),Service}();t.Service=u;var l=function(){function ServiceInternals(e){this.service_=e}return ServiceInternals.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),a.resolve(void 0)},ServiceInternals}();t.ServiceInternals=l},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthWrapper=void 0;var r=_interopRequireWildcard(n(784)),i=_interopRequireWildcard(n(207)),o=n(1398),a=n(785),s=_interopRequireWildcard(n(303)),c=n(1399),u=_interopRequireWildcard(n(155)),l=function(){function AuthWrapper(e,t,n,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;u.isDef(a)&&(this.bucket_=AuthWrapper.extractBucket_(a))}this.storageRefMaker_=t,this.requestMaker_=n,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=r.defaultMaxOperationRetryTime,this.maxUploadRetryTime_=r.defaultMaxUploadRetryTime,this.requestMap_=new c.RequestMap}return AuthWrapper.extractBucket_=function(e){var t=e[r.configOption]||null;return null==t?null:a.Location.makeFromBucketSpec(t).bucket},AuthWrapper.prototype.getAuthToken=function(){return null!==this.app_&&u.isDef(this.app_.INTERNAL)&&u.isDef(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(e){return null}):s.resolve(null)},AuthWrapper.prototype.bucket=function(){if(this.deleted_)throw i.appDeleted();return this.bucket_},AuthWrapper.prototype.service=function(){return this.service_},AuthWrapper.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},AuthWrapper.prototype.makeRequest=function(e,t){if(this.deleted_)return new o.FailRequest(i.appDeleted());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},AuthWrapper.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},AuthWrapper.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},AuthWrapper.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},AuthWrapper.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},AuthWrapper.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},AuthWrapper}();t.AuthWrapper=l},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.FailRequest=void 0;var r=_interopRequireWildcard(n(303)),i=function(){function FailRequest(e){this.promise_=r.reject(e)}return FailRequest.prototype.getPromise=function(){return this.promise_},FailRequest.prototype.cancel=function(e){void 0===e&&(e=!1)},FailRequest}();t.FailRequest=i},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.RequestMap=void 0;var r=_interopRequireWildcard(n(339)),i=_interopRequireWildcard(n(784)),o=function(){function RequestMap(){this.map_={},this.id_=i.minSafeInteger}return RequestMap.prototype.addRequest=function(e){function unmap(){delete n.map_[t]}var t=this.id_;this.id_++,this.map_[t]=e;var n=this;e.getPromise().then(unmap,unmap)},RequestMap.prototype.clear=function(){r.forEach(this.map_,function(e,t){t&&t.cancel(!0)}),this.map_={}},RequestMap}();t.RequestMap=o},function(e,t,n){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function addAuthHeader_(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function addVersionHeader_(e){var t="undefined"!=typeof firebase?firebase.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function makeRequest(e,t,n){var r=u.makeQueryString(e.urlParams),i=e.url+r,o=a.clone(e.headers);return addAuthHeader_(o,t),addVersionHeader_(o),new d(i,e.method,o,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.RequestEndStatus=void 0,t.addAuthHeader_=addAuthHeader_,t.addVersionHeader_=addVersionHeader_,t.makeRequest=makeRequest;var r=_interopRequireWildcard(n(841)),i=_interopRequireWildcard(n(1401)),o=_interopRequireWildcard(n(207)),a=_interopRequireWildcard(n(339)),s=_interopRequireWildcard(n(303)),c=_interopRequireWildcard(n(155)),u=_interopRequireWildcard(n(840)),l=_interopRequireWildcard(n(1031)),d=function(){function NetworkRequest(e,t,n,r,i,o,a,c,u,l,d){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=c,this.progressCallback_=l,this.timeout_=u,this.pool_=d;var p=this;this.promise_=s.make(function(e,t){p.resolve_=e,p.reject_=t,p.start_()})}return NetworkRequest.prototype.start_=function(){function doTheRequest(t,n){function progressListener(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}if(n)t(!1,new p(!1,null,!0));else{var i=e.pool_.createXhrIo();e.pendingXhr_=i,null!==e.progressCallback_&&i.addUploadProgressListener(progressListener),i.send(e.url_,e.method_,e.body_,e.headers_).then(function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(progressListener),e.pendingXhr_=null;var i=(n=n).getErrorCode()===l.ErrorCode.NO_ERROR,o=n.getStatus();if(i&&!e.isRetryStatusCode_(o)){var a=r.contains(e.successCodes_,o);t(!0,new p(a,n))}else{var s=n.getErrorCode()===l.ErrorCode.ABORT;t(!1,new p(!1,null,s))}})}}function backoffDone(t,n){var r=e.resolve_,i=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());c.isJustDef(s)?r(s):r()}catch(e){i(e)}else if(null!==a)(u=o.unknown()).setServerResponseProp(a.getResponseText()),i(e.errorCallback_?e.errorCallback_(a,u):u);else if(n.canceled){var u=e.appDelete_?o.appDeleted():o.canceled();i(u)}else{var u=o.retryLimitExceeded();i(u)}}var e=this;this.canceled_?backoffDone(!1,new p(!1,null,!0)):this.backoffId_=i.start(doTheRequest,backoffDone,this.timeout_)},NetworkRequest.prototype.getPromise=function(){return this.promise_},NetworkRequest.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&i.stop(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},NetworkRequest.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=[408,429],i=r.contains(n,e),o=r.contains(this.additionalRetryCodes_,e);return t||i||o},NetworkRequest}(),p=function(){function RequestEndStatus(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n}return RequestEndStatus}();t.RequestEndStatus=p},function(e,t,n){"use strict";function start(e,t,n){function canceled(){return 2===a}function triggerCallback(){s||(s=!0,t.apply(null,arguments))}function callWithDelay(t){i=setTimeout(function(){i=null,e(handler,canceled())},t)}function handler(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!s)if(e)triggerCallback.apply(null,arguments);else if(canceled()||o)triggerCallback.apply(null,arguments);else{r<64&&(r*=2);var i;1===a?(a=2,i=0):i=1e3*(r+Math.random()),callWithDelay(i)}}function stop(e){c||(c=!0,s||(null!==i?(e||(a=2),clearTimeout(i),callWithDelay(0)):e||(a=1)))}var r=1,i=null,o=!1,a=0,s=!1,c=!1;return callWithDelay(0),setTimeout(function(){o=!0,stop(!0)},n),stop}function stop(e){e(!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.start=start,t.stop=stop},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function registerMessaging(e){var t="messaging",n=function factoryMethod(e){return self&&"ServiceWorkerGlobalScope"in self?new i.default(e):new r.default(e)},o={Messaging:r.default};e.INTERNAL.registerService("messaging",n,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerMessaging=registerMessaging;var r=_interopRequireDefault(n(1403)),i=_interopRequireDefault(n(1407));registerMessaging(_interopRequireDefault(n(298)).default)},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=_interopRequireDefault(n(1036)),i=_interopRequireDefault(n(786)),o=_interopRequireDefault(n(1039)),a=_interopRequireDefault(n(1406)),s=_interopRequireDefault(n(1038)),c=n(1002),u=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),l=function(e){function WindowController(t){var n=e.call(this,t)||this;return n.registrationToUse_,n.manifestCheckPromise_,n.messageObserver_=null,n.onMessage_=(0,c.createSubscribe)(function(e){n.messageObserver_=e}),n.tokenRefreshObserver_=null,n.onTokenRefresh_=(0,c.createSubscribe)(function(e){n.tokenRefreshObserver_=e}),n.setupSWMessageListener_(),n}return u(WindowController,e),WindowController.prototype.getToken=function(){var t=this;return this.isSupported_()?this.manifestCheck_().then(function(){return e.prototype.getToken.call(t)}):Promise.reject(this.errorFactory_.create(i.default.codes.UNSUPPORTED_BROWSER))},WindowController.prototype.manifestCheck_=function(){var e=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var t=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise_=t?fetch(t.href).then(function(e){return e.json()}).catch(function(){return Promise.resolve()}).then(function(t){if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw e.errorFactory_.create(i.default.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise_},WindowController.prototype.requestPermission=function(){var e=this;return Notification.permission===s.default.granted?Promise.resolve():new Promise(function(t,n){var r=function managePermissionResult(r){return r===s.default.granted?t():n(r===s.default.denied?e.errorFactory_.create(i.default.codes.PERMISSION_BLOCKED):e.errorFactory_.create(i.default.codes.PERMISSION_DEFAULT))},o=Notification.requestPermission(function(e){o||r(e)});o&&o.then(r)})},WindowController.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(i.default.codes.SW_REGISTRATION_EXPECTED);if(void 0!==this.registrationToUse_)throw this.errorFactory_.create(i.default.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=e},WindowController.prototype.onMessage=function(e,t,n){return this.onMessage_(e,t,n)},WindowController.prototype.onTokenRefresh=function(e,t,n){return this.onTokenRefresh_(e,t,n)},WindowController.prototype.waitForRegistrationToActivate_=function(e){var t=this,n=e.installing||e.waiting||e.active;return new Promise(function(r,o){if(n)if("activated"!==n.state)if("redundant"!==n.state){var a=function stateChangeListener(){if("activated"===n.state)r(e);else{if("redundant"!==n.state)return;o(t.errorFactory_.create(i.default.codes.SW_REG_REDUNDANT))}n.removeEventListener("statechange",stateChangeListener)};n.addEventListener("statechange",a)}else o(t.errorFactory_.create(i.default.codes.SW_REG_REDUNDANT));else r(e);else o(t.errorFactory_.create(i.default.codes.NO_SW_IN_REG))})},WindowController.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register(a.default.path,{scope:a.default.scope}).catch(function(t){throw e.errorFactory_.create(i.default.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(t){return e.waitForRegistrationToActivate_(t).then(function(){return e.registrationToUse_=t,t.update(),t})}))},WindowController.prototype.setupSWMessageListener_=function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[o.default.PARAMS.TYPE_OF_MSG]){var n=t.data;switch(n[o.default.PARAMS.TYPE_OF_MSG]){case o.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case o.default.TYPES_OF_MSG.NOTIFICATION_CLICKED:var r=n[o.default.PARAMS.DATA];e.messageObserver_.next(r)}}},!1)},WindowController.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},WindowController}(r.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(829),i=_interopRequireDefault(n(786)),o=_interopRequireDefault(n(1405)),a=_interopRequireDefault(n(1037)),s="fcm_token_details_db",c="fcm_token_object_Store",u=1,l=function(){function TokenManager(){this.errorFactory_=new r.ErrorFactory("messaging","Messaging",i.default.map),this.openDbPromise_=null}return TokenManager.prototype.openDatabase_=function(){return this.openDbPromise_?this.openDbPromise_:(this.openDbPromise_=new Promise(function(e,t){var n=indexedDB.open(s,1);n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result.createObjectStore(c,{keyPath:"swScope"});t.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),t.createIndex("fcmToken","fcmToken",{unique:!0})}}),this.openDbPromise_)},TokenManager.prototype.closeDatabase=function(){var e=this;return this.openDbPromise_?this.openDbPromise_.then(function(t){t.close(),e.openDbPromise_=null}):Promise.resolve()},TokenManager.prototype.getTokenDetailsFromToken=function(e){return this.openDatabase_().then(function(t){return new Promise(function(n,r){var i=t.transaction([c]).objectStore(c).index("fcmToken").get(e);i.onerror=function(e){r(e.target.error)},i.onsuccess=function(e){n(e.target.result)}})})},TokenManager.prototype.getTokenDetailsFromSWScope_=function(e){return this.openDatabase_().then(function(t){return new Promise(function(n,r){var i=t.transaction([c]).objectStore(c).get(e);i.onerror=function(e){r(e.target.error)},i.onsuccess=function(e){n(e.target.result)}})})},TokenManager.prototype.getAllTokenDetailsForSenderId_=function(e){return this.openDatabase_().then(function(t){return new Promise(function(n,r){var i=[],o=t.transaction([c]).objectStore(c).openCursor();o.onerror=function(e){r(e.target.error)},o.onsuccess=function(t){var r=t.target.result;r?(r.value.fcmSenderId===e&&i.push(r.value),r.continue()):n(i)}})})},TokenManager.prototype.subscribeToFCM=function(e,t,n){var r=this,s=(0,o.default)(t.getKey("p256dh")),c=(0,o.default)(t.getKey("auth")),u="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+s+"&encryption_auth="+c;n&&(u+="&pushSet="+n);var l=new Headers;l.append("Content-Type","application/x-www-form-urlencoded");var d={method:"POST",headers:l,body:u};return fetch(a.default.ENDPOINT+"/fcm/connect/subscribe",d).then(function(e){return e.json()}).then(function(e){var t=e;if(t.error){var n=t.error.message;throw r.errorFactory_.create(i.default.codes.TOKEN_SUBSCRIBE_FAILED,{message:n})}if(!t.token)throw r.errorFactory_.create(i.default.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!t.pushSet)throw r.errorFactory_.create(i.default.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:t.token,pushSet:t.pushSet}})},TokenManager.prototype.isSameSubscription_=function(e,t){return e.endpoint===t.endpoint&&(0,o.default)(e.getKey("auth"))===t.auth&&(0,o.default)(e.getKey("p256dh"))===t.p256dh},TokenManager.prototype.saveTokenDetails_=function(e,t,n,r,i){var a={swScope:t.scope,endpoint:n.endpoint,auth:(0,o.default)(n.getKey("auth")),p256dh:(0,o.default)(n.getKey("p256dh")),fcmToken:r,fcmPushSet:i,fcmSenderId:e};return this.openDatabase_().then(function(e){return new Promise(function(t,n){var r=e.transaction([c],"readwrite").objectStore(c).put(a);r.onerror=function(e){n(e.target.error)},r.onsuccess=function(e){t()}})})},TokenManager.prototype.getSavedToken=function(e,t){var n=this;return t instanceof ServiceWorkerRegistration?"string"!=typeof e||0===e.length?Promise.reject(this.errorFactory_.create(i.default.codes.BAD_SENDER_ID)):this.getAllTokenDetailsForSenderId_(e).then(function(n){if(0!==n.length){var r=n.findIndex(function(n){return t.scope===n.swScope&&e===n.fcmSenderId});if(-1!==r)return n[r]}}).then(function(e){if(e)return t.pushManager.getSubscription().catch(function(e){throw n.errorFactory_.create(i.default.codes.GET_SUBSCRIPTION_FAILED)}).then(function(t){if(t&&n.isSameSubscription_(t,e))return e.fcmToken})}):Promise.reject(this.errorFactory_.create(i.default.codes.SW_REGISTRATION_EXPECTED))},TokenManager.prototype.createToken=function(e,t){var n=this;if("string"!=typeof e||0===e.length)return Promise.reject(this.errorFactory_.create(i.default.codes.BAD_SENDER_ID));if(!(t instanceof ServiceWorkerRegistration))return Promise.reject(this.errorFactory_.create(i.default.codes.SW_REGISTRATION_EXPECTED));var r,o;return t.pushManager.getSubscription().then(function(e){return e||t.pushManager.subscribe(a.default.SUBSCRIPTION_OPTIONS)}).then(function(t){return r=t,n.subscribeToFCM(e,r)}).then(function(i){return o=i,n.saveTokenDetails_(e,t,r,o.token,o.pushSet)}).then(function(){return o.token})},TokenManager.prototype.deleteToken=function(e){var t=this;return"string"!=typeof e||0===e.length?Promise.reject(this.errorFactory_.create(i.default.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(e).then(function(e){if(!e)throw t.errorFactory_.create(i.default.codes.DELETE_TOKEN_NOT_FOUND);return t.openDatabase_().then(function(n){return new Promise(function(r,o){var a=n.transaction([c],"readwrite").objectStore(c).delete(e.swScope);a.onerror=function(e){o(e.target.error)},a.onsuccess=function(n){0!==n.target.result?r(e):o(t.errorFactory_.create(i.default.codes.FAILED_TO_DELETE_TOKEN))}})})})},TokenManager}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";function toBase64(e){var t=new Uint8Array(e);return window.btoa(String.fromCharCode.apply(null,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return toBase64(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"},e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=_interopRequireDefault(n(1036)),o=_interopRequireDefault(n(786)),a=_interopRequireDefault(n(1039)),s=_interopRequireDefault(n(1037)),c=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),u="FCM_MSG",l=function(e){function SWController(t){var n=e.call(this,t)||this;return self.addEventListener("push",function(e){return n.onPush_(e)},!1),self.addEventListener("pushsubscriptionchange",function(e){return n.onSubChange_(e)},!1),self.addEventListener("notificationclick",function(e){return n.onNotificationClick_(e)},!1),n.bgMessageHandler_=null,n}return c(SWController,e),SWController.prototype.onPush_=function(e){var t=this,n;try{n=e.data.json()}catch(e){return}var r=this.hasVisibleClients_().then(function(e){if(e){if(n.notification||t.bgMessageHandler_)return t.sendMessageToWindowClients_(n)}else{var r=t.getNotificationData_(n);if(r){var i=r.title||"";return self.registration.showNotification(i,r)}if(t.bgMessageHandler_)return t.bgMessageHandler_(n)}});e.waitUntil(r)},SWController.prototype.onSubChange_=function(e){var t=this,n=this.getToken().then(function(e){if(!e)throw t.errorFactory_.create(o.default.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var n=null,r=t.getTokenManager();return r.getTokenDetailsFromToken(e).then(function(e){if(!(n=e))throw t.errorFactory_.create(o.default.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(s.default.SUBSCRIPTION_OPTIONS)}).then(function(e){return r.subscribeToFCM(n.fcmSenderId,e,n.fcmPushSet)}).catch(function(e){return r.deleteToken(n.fcmToken).then(function(){throw t.errorFactory_.create(o.default.codes.UNABLE_TO_RESUBSCRIBE,{message:e})})})});e.waitUntil(n)},SWController.prototype.onNotificationClick_=function(e){var t=this;if(e.notification&&e.notification.data&&e.notification.data[u]){e.stopImmediatePropagation(),e.notification.close();var n=e.notification.data[u],r=n.notification.click_action;if(r){var i=this.getWindowClient_(r).then(function(e){return e||self.clients.openWindow(r)}).then(function(e){if(e){var r=n.notification;delete n.notification;var i=a.default.createNewMsg(a.default.TYPES_OF_MSG.NOTIFICATION_CLICKED,n);return t.attemptToMessageClient_(e,i)}});e.waitUntil(i)}}},SWController.prototype.getNotificationData_=function(e){if(e&&"object"===r(e.notification)){var t=Object.assign({},e.notification);return t.data=(n={},n[u]=e,n),t;var n}},SWController.prototype.setBackgroundMessageHandler=function(e){if(e&&"function"!=typeof e)throw this.errorFactory_.create(o.default.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=e},SWController.prototype.getWindowClient_=function(e){var t=new URL(e).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){for(var n=null,r=0;r<e.length;r++)if(new URL(e[r].url).href===t){n=e[r];break}if(n)return n.focus(),n})},SWController.prototype.attemptToMessageClient_=function(e,t){var n=this;return new Promise(function(r,i){if(!e)return i(n.errorFactory_.create(o.default.codes.NO_WINDOW_CLIENT_TO_MSG));e.postMessage(t),r()})},SWController.prototype.hasVisibleClients_=function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){return e.some(function(e){return"visible"===e.visibilityState})})},SWController.prototype.sendMessageToWindowClients_=function(e){var t=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var r=a.default.createNewMsg(a.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED,e);return Promise.all(n.map(function(e){return t.attemptToMessageClient_(e,r)}))})},SWController.prototype.getSWRegistration_=function(){return Promise.resolve(self.registration)},SWController}(i.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(772),o=n(1409),a=function mapStateToProps(e){return{editorValue:e.editor.value}},s={connectEditor:i.connectEditor,changeCode:i.changeCode};t.SessionEditorCodepad=r.connect(a,s)(o.SessionEditorCodepad)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(1410),a=n(997),s=function(e){function SessionEditorCodepad(e){_classCallCheck(this,SessionEditorCodepad);var t=_possibleConstructorReturn(this,(SessionEditorCodepad.__proto__||Object.getPrototypeOf(SessionEditorCodepad)).call(this));return t.toggleCodeMirror=function(e){t.codeMirror&&t.codeMirror.setOption("readOnly",e)},t.changeCode=function(e){var n=t.props,r=n.initialCode,i=n.changeCode;t.localStorage.update(e,r!==e),i(e)},t.redraw=function(e){var n=e.language,r=e.link;t.shouldRedraw(e)&&(t.localStorage=new o.LocalStorage(r),t.assignCodeMirror(n,t.latestCode(e)))},t.initialCodeChanged=function(e){return e!==t.props.initialCode},t.linkChanged=function(e){return e!==t.props.link},t.shouldRedraw=function(e){var n=e.link,r=e.initialCode;return t.initialCodeChanged(r)||t.linkChanged(n)},t.latestCode=function(e){var n=e.latestCode,r=e.updatedAt,i=e.initialCode,o=t.localStorage.getContent()||i;return n&&r&&Date.parse(r)>t.localStorage.getUpdatedAt()?n:o},t.localStorage=new o.LocalStorage(e.link),t}return _inherits(SessionEditorCodepad,e),r(SessionEditorCodepad,[{key:"render",value:function render(){var e=this,t=this.props,n=t.initialCode,r=t.editorValue;return i.createElement(a.SessionEditorCodemirror,{initialCode:n,value:r,ref:function ref(t){return e.codeMirrorRef=t},onChange:this.changeCode})}},{key:"componentDidMount",value:function componentDidMount(){this.assignCodeMirror(this.props.language,this.latestCode(this.props)),this.props.connectEditor()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){this.redraw(e),e.disabled!==this.props.disabled&&this.toggleCodeMirror(e.disabled)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.codeMirrorRef.destroy(),this.localStorage=null}},{key:"assignCodeMirror",value:function assignCodeMirror(e,t){this.codeMirrorRef.destroy(),this.codeMirror=this.codeMirrorRef.define({language:e,value:t}),this.toggleCodeMirror(this.props.disabled),this.codeMirrorRef.focusCursor()}}]),SessionEditorCodepad}(i.Component);t.SessionEditorCodepad=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function LocalStorage(e){var t=this;_classCallCheck(this,LocalStorage),this.getUpdatedAt=function(){var e=localStorage.getItem(t.updatedAtKey),n=Date.parse(e);return!e||isNaN(n)?0:n},this.getContent=function(){return localStorage.getItem(t.contentKey)},this.update=function(e,n){t.setContent(e),n&&t.setUpdatedAt()},this.setContent=function(e){localStorage.setItem(t.contentKey,e)},this.setUpdatedAt=function(){localStorage.setItem(t.updatedAtKey,(new Date).toISOString())},this.contentKey="codepad_ls_content_"+e,this.updatedAtKey="codepad_ls_updated_at_"+e};t.LocalStorage=r},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(348),o=n(772),a=n(1414),s=function mapStateToProps(e){return{leftBarHidden:e.splitPane.leftBarHidden}},c={toggleLeftBar:i.toggleLeftBar,resetCode:o.resetCode};t.SessionEditorHeader=r.connect(s,c)(a.SessionEditorHeader)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(1415),a=n(1043),s=n(730),c=n(1044),u=n(1202),l=function(e){function SessionEditorHeader(){_classCallCheck(this,SessionEditorHeader);var e=_possibleConstructorReturn(this,(SessionEditorHeader.__proto__||Object.getPrototypeOf(SessionEditorHeader)).apply(this,arguments));return e.state={resetCodeConfirmModalShown:!1},e.showResetCodeConfirmModal=function(){e.setState({resetCodeConfirmModalShown:!0})},e.closeResetCodeConfirmModal=function(t){e.setState({resetCodeConfirmModalShown:!1}),t&&e.props.resetCode()},e.selectLanguage=function(t){e.props.selectLanguage(t)},e}return _inherits(SessionEditorHeader,e),r(SessionEditorHeader,[{key:"render",value:function render(){var e=this,t=this.props,n=t.leftBarHidden,r=t.connected,l=t.disabled,d=t.language,p=t.toggleLeftBar,h=t.children,f=this.state.resetCodeConfirmModalShown;return i.createElement("div",{className:"session-editor-header"},n&&i.createElement(c.SessionEditorToggle,{onToggle:p}),i.createElement("div",{className:"session-editor-header__controls"},i.createElement(o.Dropdown,{value:d,label:"Language:",options:u.languages.map(this.mapLanguage),disabled:!r||l,onChange:function onChange(t){return e.selectLanguage(t.value)}}),i.createElement(a.TooltipButton,{disabled:!r||l,onClick:this.showResetCodeConfirmModal,className:"btn btn_xs btn_capitalize btn_black-grey btn_reset",tooltipPlacement:"bottom",tooltipLabel:"Reset code"},i.createElement("span",{className:"icon icon--reset"}),i.createElement("span",{className:"btn__label btn__label_left-blank"},"Reset")),h),i.createElement(s.ConfirmModal,{isOpen:f,onClose:this.closeResetCodeConfirmModal,title:"Reset code"},i.createElement("div",{className:"confirm-modal-component__content"},i.createElement("p",null,"Resetting the code will lose all current changes."),i.createElement("p",null,"Are you sure you want to proceed?"))))}},{key:"mapLanguage",value:function mapLanguage(e){var t=e.value,n=e.label,r=e.icon;return{value:t,label:i.createElement("div",{className:"dropdown-component__item-inner"},i.createElement("i",{className:"icon "+r}),n)}}}]),SessionEditorHeader}(i.Component);t.SessionEditorHeader=l},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1416),__export(n(1417))},function(e,t){},function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(15),a=n(94),s=27,c=function(e){function Dropdown(e){_classCallCheck(this,Dropdown);var t=_possibleConstructorReturn(this,(Dropdown.__proto__||Object.getPrototypeOf(Dropdown)).call(this,e));return t.toggleList=function(e){e.stopPropagation(),t.setState({opened:!t.state.opened})},t.onEscape=function(e){t.state.opened&&e.keyCode===s&&t.close()},t.onMouseDown=function(e){t.state.opened&&!t.hasElement(e.target)&&t.close()},t.hasElement=function(e){return a(t.ref.contains)&&t.ref.contains(e)},t.close=function(){t.setState({opened:!1})},t.setRef=function(e){t.ref=e},t.state={opened:!1,value:t.props.value},t}return _inherits(Dropdown,e),r(Dropdown,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=e.value;this.state.value!==t&&this.setState({value:t})}},{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("keydown",this.onEscape)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onEscape)}},{key:"render",value:function render(){var e=this,t=this.state,n=t.value,r=t.opened,a=this.props,s=a.options,c=a.label,u=a.error,l=a.customClassName,d=a.disabled,p="dropdown-component__wrapper";return i.createElement("div",{ref:this.setRef,className:o(p,l,_defineProperty({"is-open":r},p+"_disabled",d)),onClick:this.toggleList},i.createElement("span",{className:"dropdown-component__label"},c),i.createElement("span",{className:o("dropdown-component__value",{"dropdown-component__error":!!u})},(s.find(function(e){return e.value===n})||{label:""}).label),i.createElement("ul",{className:"dropdown-component__list"},s.map(function(t){return i.createElement("li",{className:o("dropdown-component__item",{"is-active":t.value===n}),onClick:function onClick(n){return e.selectValue(n,t)},key:t.value,value:t.value},t.label)})))}},{key:"selectValue",value:function selectValue(e,t){this.state.opened&&(e.stopPropagation(),this.setState({value:t.value,opened:!1}),this.props.onChange(t))}}]),Dropdown}(i.Component);c.defaultProps={label:"",value:"",placeholder:"",error:"",disabled:!1,options:[],customClassName:"",onChange:function onChange(){}},t.Dropdown=c},function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);n(1419),t.Hint=function(e){var t,n=e.children,o=e.visible,a=e.label,s=e.type,c=e.disabled,u=void 0!==c&&c,l=e.placement,d=void 0===l?"top":l,p=e.rounded,h=i("hint__label",(t={hint__label_rounded:void 0===p||p,hint__label_disabled:u,hint__label_visible:o},_defineProperty(t,"hint__label_"+d,d),_defineProperty(t,"hint__label_"+s,s),t));return r.createElement("div",{className:"hint"},r.createElement("div",{className:"hint__content"},n),r.createElement("div",{className:h},a))}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(348),o=n(1424),a=function mapStateToProps(e){return{bottomBarHidden:e.splitPane.bottomBarHidden}},s={toggleBottomBar:i.toggleBottomBar};t.SessionEditorSplitPane=r.connect(a,s)(o.SessionEditorSplitPane)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(72),a=n(329),s=n(989),c=190,u=function(e){function SessionEditorSplitPane(){_classCallCheck(this,SessionEditorSplitPane);var e=_possibleConstructorReturn(this,(SessionEditorSplitPane.__proto__||Object.getPrototypeOf(SessionEditorSplitPane)).apply(this,arguments));return e.state={splitPaneMaxSize:0},e.onWindowResize=a(function(){return e.setSize()}),e.toggleBottomBar=function(){e.props.bottomBarHidden?e.hideBottomBar():e.showBottomBar()},e.showBottomBar=function(){e.refs["split-pane"].setSize({size:Math.min(.75*e.state.splitPaneMaxSize,e.state.splitPaneMaxSize-c)},{})},e.hideBottomBar=function(){e.refs["split-pane"].setSize({size:e.state.splitPaneMaxSize},{})},e.getMaxSize=function(){return o.findDOMNode(e.refs["split-pane"]).getBoundingClientRect().height},e.onSplitPaneChange=function(t){var n=e.props,r=n.toggleBottomBar,i=n.bottomBarHidden;t===e.state.splitPaneMaxSize?i||r(!0):i&&r(!1)},e.setSize=function(){var t=e.state.splitPaneMaxSize;e.setState({splitPaneMaxSize:e.getMaxSize()},function(){if(!e.props.bottomBarHidden){var n=e.refs["split-pane"].state.draggedSize;String(n).includes("%")||(n=Math.round(n/t*e.state.splitPaneMaxSize)),e.refs["split-pane"].setSize({size:n},{})}})},e}return _inherits(SessionEditorSplitPane,e),r(SessionEditorSplitPane,[{key:"render",value:function render(){var e=this.props.children;return i.createElement("div",{className:"session-editor-split-pane"},i.createElement(s,{ref:"split-pane",split:"horizontal",defaultSize:"100%",minSize:0,maxSize:this.state.splitPaneMaxSize,onChange:this.onSplitPaneChange},e))}},{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.bottomBarHidden!==e.bottomBarHidden&&this.toggleBottomBar()}}]),SessionEditorSplitPane}(i.Component);t.SessionEditorSplitPane=u},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(348),o=n(1427),a=function mapStateToProps(e){return{messages:e.console.messages,running:e.console.running,tests:e.console.tests,hasErrorCompilation:e.console.tests.hasErrorCompilation,runTests:e.console.runTests}},s={toggleBottomBar:i.toggleBottomBar};t.SessionEditorConsole=r.connect(a,s)(o.SessionEditorConsole)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(1428);t.SessionEditorConsole=function(e){var t=e.hasErrorCompilation,n=e.messages,o=e.runTests,a=e.hasTests,s=e.running,c=e.tests,u=e.showConsoleScrollHint,l=e.toggleBottomBar,d=e.consoleScroll;return r.createElement(i.Console,{hasErrorCompilation:t,messages:n,hasTests:a,runTests:o,running:s,tests:c,showConsoleScrollHint:u,ackConsoleScroll:d,toggle:l})}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1429),__export(n(1430))},function(e,t){},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(15),a=n(1431),s=n(1484),c=n(1485),u=n(808),l=n(1486),d=n(1061),p=n(1506),h=20,f=function(e){function Console(e){_classCallCheck(this,Console);var t=_possibleConstructorReturn(this,(Console.__proto__||Object.getPrototypeOf(Console)).call(this,e));return t.message=function(e){var n=e.index,r=e.style,o=e.parent,l=e.key,d=t.props.messages[n];return d.data===u.RUNNING?i.createElement(c.ConsoleRunning,{key:d.id,style:r}):i.createElement(a.CellMeasurer,{cache:t.cache,columnIndex:0,key:l,parent:o,rowIndex:n},i.createElement(s.ConsoleLine,{message:d,style:r}))},t.getConsoleHintVisibility=function(e){var n=t.props,r=n.messages,i=n.running,o=n.showConsoleScrollHint,a=r.length;return o&&!i&&e<Math.ceil(a*h)},t.setListRef=function(e){t.list=e},t.redrawList=function(e){var n=e.messages.length,r=t.props.messages.length;t.list&&0!==r&&(n===r&&t.list.forceUpdateGrid(),t.list.scrollToRow(r-1))},t.cache=new a.CellMeasurerCache({fixedWidth:!0,defaultHeight:h}),t}return _inherits(Console,e),r(Console,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return e.showConsoleScrollHint===this.props.showConsoleScrollHint}},{key:"componentDidUpdate",value:function componentDidUpdate(e){this.redrawList(e)}},{key:"render",value:function render(){var e=this,t=this.props,n=t.hasTests,r=t.messages,s=t.tests,c=t.toggle,u=t.running,d=t.hasErrorCompilation,h=t.runTests,f=t.showConsoleScrollHint,g=t.ackConsoleScroll,m=!u&&!d&&n;return i.createElement("div",{className:"console-component"},i.createElement("div",{className:"console-component--header"},i.createElement("ul",{className:"console-component-tab-list"},i.createElement("li",{className:o("console-component-tab",{"console-component-tab-green":m&&0===s.failed&&s.passed>0,"console-component-tab-red":m&&s.failed>0})},"Console")),i.createElement("span",{className:"console-component--header-toggle",onClick:c},i.createElement("span",{className:"fa fa-close icon icon--animated"}))),!r.length&&i.createElement(p.ConsoleReadyToRun,null),h&&n&&!d?i.createElement(l.ConsoleTestsWrapper,{tests:s,consoleHintShown:f&&!u,ackConsoleScroll:g}):i.createElement("div",{className:"console-component--container"},i.createElement(a.AutoSizer,null,function(t){return e.messages(t)})))}},{key:"messages",value:function messages(e){var t=e.width,n=e.height,r=this.props,messages=r.messages,o=r.ackConsoleScroll,s=messages.length,c=this.getConsoleHintVisibility(n),u=this.cache;return c&&o(),i.createElement("div",null,i.createElement(d.ConsoleScrollHint,{visible:c}),i.createElement(a.List,{ref:this.setListRef,width:t,height:n,rowCount:s,rowRenderer:this.message,className:"console-component--output",deferredMeasurementCache:u,rowHeight:u.rowHeight}))}}]),Console}(i.Component);t.Console=f},function(e,t,n){"use strict";function createDetectElementResize(e){var t;t="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var n="undefined"!=typeof document&&document.attachEvent;if(!n){var r=function(){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){return t.setTimeout(e,20)};return function(t){return e(t)}}(),i=function(){var e=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(t){return e(t)}}(),o=function resetTriggers(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},a=function checkTriggers(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},s=function scrollListener(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;o(this),this.__resizeRAF__&&i(this.__resizeRAF__),this.__resizeRAF__=r(function(){a(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(n){n.call(t,e)}))})}},c=!1,u="animation",l="",d="animationstart",p="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",g=document.createElement("fakeelement");if(void 0!==g.style.animationName&&(c=!0),!1===c)for(var m=0;m<p.length;m++)if(void 0!==g.style[p[m]+"AnimationName"]){u=(f=p[m])+"Animation",l="-"+f.toLowerCase()+"-",d=h[m],c=!0;break}var v="resizeanim",y="@"+l+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",_=l+"animation: 1ms "+v+"; "}var b=function createStyles(){if(!document.getElementById("detectElementResize")){var t=(y||"")+".resize-triggers { "+(_||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.id="detectElementResize",r.type="text/css",null!=e&&r.setAttribute("nonce",e),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),n.appendChild(r)}};return{addResizeListener:function addResizeListener(e,r){if(n)e.attachEvent("onresize",r);else{if(!e.__resizeTriggers__){var i=t.getComputedStyle(e);i&&"static"==i.position&&(e.style.position="relative"),b(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),o(e),e.addEventListener("scroll",s,!0),d&&(e.__resizeTriggers__.__animationListener__=function animationListener(t){t.animationName==v&&o(e)},e.__resizeTriggers__.addEventListener(d,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(r)}},removeResizeListener:function removeResizeListener(e,t){if(n)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(d,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}function defaultKeyMapper(e,t){return e+"-"+t}function createCallbackMemoizer(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,i=n.indices,o=oe()(i),a=!e||o.every(function(e){var t=i[e];return Array.isArray(t)?t.length>0:t>=0}),s=o.length!==oe()(t).length||o.some(function(e){var n=t[e],r=i[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r});t=i,a&&s&&r(i)}}function calculateSizeAndPositionData_calculateSizeAndPositionData(e){for(var t=e.cellCount,n=e.cellSizeAndPositionGetter,r=e.sectionSize,i=[],o=new He(r),a=0,s=0,c=0;c<t;c++){var u=n({index:c});if(null==u.height||isNaN(u.height)||null==u.width||isNaN(u.width)||null==u.x||isNaN(u.x)||null==u.y||isNaN(u.y))throw Error("Invalid metadata returned for cell "+c+":\n        x:"+u.x+", y:"+u.y+", width:"+u.width+", height:"+u.height);a=Math.max(a,u.y+u.height),s=Math.max(s,u.x+u.width),i[c]=u,o.registerCell({cellMetadatum:u,index:c})}return{cellMetadata:i,height:a,sectionManager:o,width:s}}function getUpdatedOffsetForIndex(e){var t=e.align,n=void 0===t?"auto":t,r=e.cellOffset,i=e.cellSize,o=e.containerSize,a=e.currentOffset,s=r,c=s-o+i;switch(n){case"start":return s;case"end":return c;case"center":return s-(o-i)/2;default:return Math.max(c,Math.min(s,a))}}function defaultCellGroupRenderer(e){var t=e.cellCache,n=e.cellRenderer,r=e.cellSizeAndPositionGetter,i=e.indices,o=e.isScrolling;return i.map(function(e){var i=r({index:e}),a={index:e,isScrolling:o,key:e,style:{height:i.height,left:i.x,position:"absolute",top:i.y,width:i.width}};return o?(e in t||(t[e]=n(a)),t[e]):n(a)}).filter(function(e){return!!e})}function calculateSizeAndPositionDataAndUpdateScrollOffset(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,i=e.computeMetadataCallbackProps,o=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,c=e.scrollToIndex,u=e.updateScrollOffsetForScrollToIndex;t===o&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(i),c>=0&&c===s&&u())}function defaultOverscanIndicesGetter(e){var t=e.direction,n=e.cellCount,r=e.overscanCellsCount,i=e.scrollDirection,o=e.startIndex,a=e.stopIndex,s=void 0,c=void 0;switch(i){case jt:s=o,c=a+r;break;case Ut:s=o-r,c=a}return{overscanStartIndex:Math.max(0,s),overscanStopIndex:Math.min(n-1,c)}}function updateScrollIndexHelper(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,i=e.previousCellSize,o=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,c=e.scrollOffset,u=e.scrollToAlignment,l=e.scrollToIndex,d=e.size,p=e.sizeJustIncreasedFromZero,h=e.updateScrollIndexCallback,f=n.getCellCount(),g=l>=0&&l<f;g&&(d!==s||p||!i||"number"==typeof t&&t!==i||u!==o||l!==a)?h(l):!g&&f>0&&(d<s||f<r)&&c>n.getTotalSize()-d&&h(f-1)}function defaultCellRangeRenderer(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,i=e.columnStartIndex,o=e.columnStopIndex,a=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,c=e.isScrolling,u=e.parent,l=e.rowSizeAndPositionManager,d=e.rowStartIndex,p=e.rowStopIndex,h=e.scrollLeft,f=e.scrollTop,g=e.styleCache,m=e.verticalOffsetAdjustment,v=e.visibleColumnIndices,y=e.visibleRowIndices,_=void 0!==a,b=[],S=r.areOffsetsAdjusted()||l.areOffsetsAdjusted(),w=!c&&!S,C=d;C<=p;C++)for(var T=l.getSizeAndPositionOfCell(C),E=i;E<=o;E++){var k=r.getSizeAndPositionOfCell(E),x=E>=v.start&&E<=v.stop&&C>=y.start&&C<=y.stop,I=C+"-"+E,R=void 0;w&&g[I]?R=g[I]:_&&!a.has(C,E)?R={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(R={height:T.size,left:k.offset+s,position:"absolute",top:T.offset+m,width:k.size},g[I]=R);var O={columnIndex:E,isScrolling:c,isVisible:x,key:I,parent:u,rowIndex:C,style:R},P=void 0;!c||s||m?P=n(O):(t[I]||(t[I]=n(O)),P=t[I]),null!=P&&!1!==P&&b.push(P)}return b}function warnAboutMissingStyle(e,t){}function accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter(e){var t=e.direction,n=e.cellCount,r=e.overscanCellsCount,i=e.scrollDirection,o=e.startIndex,a=e.stopIndex,s=void 0,c=void 0;switch(r=Math.max(1,r),i){case fn:s=o-1,c=a+r;break;case hn:s=o-r,c=a+1}return{overscanStartIndex:Math.max(0,s),overscanStopIndex:Math.min(n-1,c)}}function isRangeVisible(e){var t=e.lastRenderedStartIndex,n=e.lastRenderedStopIndex,r=e.startIndex,i=e.stopIndex;return!(r>n||i<t)}function scanForUnloadedRanges(e){for(var t=e.isRowLoaded,n=e.minimumBatchSize,r=e.rowCount,i=e.startIndex,o=e.stopIndex,a=[],s=null,c=null,u=i;u<=o;u++)t({index:u})?null!==c&&(a.push({startIndex:s,stopIndex:c}),s=c=null):(c=u,null===s&&(s=u));if(null!==c){for(var l=Math.min(Math.max(c,s+n-1),r-1),d=c+1;d<=l&&!t({index:d});d++)c=d;a.push({startIndex:s,stopIndex:c})}if(a.length)for(var p=a[0];p.stopIndex-p.startIndex+1<n&&p.startIndex>0;){var h=p.startIndex-1;if(t({index:h}))break;p.startIndex=h}return a}function forceUpdateReactVirtualizedComponent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"==typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;n?n.call(e,t):e.forceUpdate()}function _GEA(e,t,n,r){for(var i=n+1;t<=n;){var o=t+n>>>1;e[o]>=r?(i=o,n=o-1):t=o+1}return i}function _GEP(e,t,n,r,i){for(var o=n+1;t<=n;){var a=t+n>>>1;i(e[a],r)>=0?(o=a,n=a-1):t=a+1}return o}function dispatchBsearchGE(e,t,n,r,i){return"function"==typeof n?_GEP(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):_GEA(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)}function _GTA(e,t,n,r){for(var i=n+1;t<=n;){var o=t+n>>>1;e[o]>r?(i=o,n=o-1):t=o+1}return i}function _GTP(e,t,n,r,i){for(var o=n+1;t<=n;){var a=t+n>>>1;i(e[a],r)>0?(o=a,n=a-1):t=a+1}return o}function dispatchBsearchGT(e,t,n,r,i){return"function"==typeof n?_GTP(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):_GTA(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)}function _LTA(e,t,n,r){for(var i=t-1;t<=n;){var o=t+n>>>1;e[o]<r?(i=o,t=o+1):n=o-1}return i}function _LTP(e,t,n,r,i){for(var o=t-1;t<=n;){var a=t+n>>>1;i(e[a],r)<0?(o=a,t=a+1):n=a-1}return o}function dispatchBsearchLT(e,t,n,r,i){return"function"==typeof n?_LTP(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):_LTA(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)}function _LEA(e,t,n,r){for(var i=t-1;t<=n;){var o=t+n>>>1;e[o]<=r?(i=o,t=o+1):n=o-1}return i}function _LEP(e,t,n,r,i){for(var o=t-1;t<=n;){var a=t+n>>>1;i(e[a],r)<=0?(o=a,t=a+1):n=a-1}return o}function dispatchBsearchLE(e,t,n,r,i){return"function"==typeof n?_LEP(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):_LEA(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)}function _EQA(e,t,n,r){for(;t<=n;){var i=t+n>>>1,o=e[i];if(o===r)return i;o<=r?t=i+1:n=i-1}return-1}function _EQP(e,t,n,r,i){for(;t<=n;){var o=t+n>>>1,a=i(e[o],r);if(0===a)return o;a<=0?t=o+1:n=o-1}return-1}function dispatchBsearchEQ(e,t,n,r,i){return"function"==typeof n?_EQP(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):_EQA(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)}function IntervalTreeNode(e,t,n,r,i){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(t?t.count:0)+(n?n.count:0)+r.length}function copy(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function rebuild(e,t){var n=createIntervalTree(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function rebuildWithInterval(e,t){var n=e.intervals([]);n.push(t),rebuild(e,n)}function rebuildWithoutInterval(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?ir:(n.splice(r,1),rebuild(e,n),or)}function reportLeftRange(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var i=n(e[r]);if(i)return i}}function reportRightRange(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var i=n(e[r]);if(i)return i}}function reportRange(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function compareNumbers(e,t){return e-t}function compareBegin(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function compareEnd(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function createIntervalTree(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(compareNumbers);for(var r=t[t.length>>1],i=[],o=[],a=[],n=0;n<e.length;++n){var s=e[n];s[1]<r?i.push(s):r<s[0]?o.push(s):a.push(s)}var c=a,u=a.slice();return c.sort(compareBegin),u.sort(compareEnd),new IntervalTreeNode(r,createIntervalTree(i),createIntervalTree(o),c,u)}function IntervalTree(e){this.root=e}function createWrapper(e){return new IntervalTree(e&&0!==e.length?createIntervalTree(e):null)}function identity(e){return e}function noop(){}function createCellPositioner(e){function cellPositioner(e){for(var n=0,i=1;i<a.length;i++)a[i]<a[n]&&(n=i);var s=n*(r+o),c=a[n]||0;return a[n]=c+t.getHeight(e)+o,{left:s,top:c}}function initOrResetDerivedValues(){a=[];for(var e=0;e<n;e++)a[e]=0}function reset(e){n=e.columnCount,r=e.columnWidth,o=e.spacer,initOrResetDerivedValues()}var t=e.cellMeasurerCache,n=e.columnCount,r=e.columnWidth,i=e.spacer,o=void 0===i?0:i,a=void 0;return initOrResetDerivedValues(),cellPositioner.reset=reset,cellPositioner}function SortIndicator(e){var t=e.sortDirection,n=ki()("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===Ti.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===Ti.DESC});return Oi.a.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},t===Ti.ASC?Oi.a.createElement("path",{d:"M7 14l5-5 5 5z"}):Oi.a.createElement("path",{d:"M7 10l5 5 5-5z"}),Oi.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function defaultHeaderRenderer(e){var t=e.columnData,n=e.dataKey,r=e.disableSort,i=e.label,o=e.sortBy,a=e.sortDirection,s=o===n,c=[Ai.a.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:i},i)];return s&&c.push(Ai.a.createElement(SortIndicator,{key:"SortIndicator",sortDirection:a})),c}function defaultCellRenderer(e){var t=e.cellData,n=e.columnData,r=e.columnIndex,i=e.dataKey,o=e.isScrolling,a=e.rowData,s=e.rowIndex;return null==t?"":String(t)}function defaultCellDataGetter(e){var t=e.columnData,n=e.dataKey,r=e.rowData;return"function"==typeof r.get?r.get(n):r[n]}function defaultRowRenderer(e){var t=e.className,n=e.columns,r=e.index,i=e.isScrolling,o=e.key,a=e.onRowClick,s=e.onRowDoubleClick,c=e.onRowMouseOver,u=e.onRowMouseOut,l=e.rowData,d=e.style,p={};return(a||s||c||u)&&(p["aria-label"]="row",p.tabIndex=0,a&&(p.onClick=function(e){return a({event:e,index:r,rowData:l})}),s&&(p.onDoubleClick=function(e){return s({event:e,index:r,rowData:l})}),u&&(p.onMouseOut=function(e){return u({event:e,index:r,rowData:l})}),c&&(p.onMouseOver=function(e){return c({event:e,index:r,rowData:l})})),Yi.a.createElement("div",Xi()({},p,{className:t,key:o,role:"row",style:d}),n)}function defaultHeaderRowRenderer(e){var t=e.className,n=e.columns,r=e.style;return Ji.a.createElement("div",{className:t,role:"row",style:r},n)}function enablePointerEventsIfDisabled(){To&&(To=null,document.body.style.pointerEvents=Co,Co=null)}function enablePointerEventsAfterDelayCallback(){enablePointerEventsIfDisabled(),wo.forEach(function(e){return e.__resetIsScrolling()})}function enablePointerEventsAfterDelay(){To&&clearTimeout(To);var e=0;wo.forEach(function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)}),To=setTimeout(enablePointerEventsAfterDelayCallback,e)}function onScrollWindow(e){e.currentTarget===window&&null==Co&&(Co=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),enablePointerEventsAfterDelay(),wo.forEach(function(t){t.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent(e)})}function registerScrollListener(e,t){wo.some(function(e){return e.scrollElement===t})||t.addEventListener("scroll",onScrollWindow),wo.push(e)}function unregisterScrollListener(e,t){(wo=wo.filter(function(t){return t!==e})).length||(t.removeEventListener("scroll",onScrollWindow),To&&(clearTimeout(To),enablePointerEventsIfDisabled()))}function getDimensions(e){if(e===window)return{height:"number"==typeof window.innerHeight?window.innerHeight:0,width:"number"==typeof window.innerWidth?window.innerWidth:0};var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}function getPositionOffset(e,t){var n=t===window?{top:0,left:0}:getScrollOffset(t),r=t===window?document.documentElement:t,i=e.getBoundingClientRect(),o=r.getBoundingClientRect();return{top:i.top+n.top-o.top,left:i.left+n.left-o.left}}function getScrollOffset(e){return e===window?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}var r=n(105),i=n.n(r),o=n(69),a=n.n(o),s=n(78),c=n.n(s),u=n(106),l=n.n(u),d=n(107),p=n.n(d),h=n(17),f=n.n(h),g=n(1),m=n.n(g),v=function(e){function ArrowKeyStepper(e,t){a()(this,ArrowKeyStepper);var n=l()(this,(ArrowKeyStepper.__proto__||i()(ArrowKeyStepper)).call(this,e,t));return n.state={scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow},n._columnStartIndex=0,n._columnStopIndex=0,n._rowStartIndex=0,n._rowStopIndex=0,n._onKeyDown=n._onKeyDown.bind(n),n._onSectionRendered=n._onSectionRendered.bind(n),n}return p()(ArrowKeyStepper,e),c()(ArrowKeyStepper,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){if(!this.props.isControlled){var t=e.scrollToColumn,n=e.scrollToRow,r=this.props,i=r.scrollToColumn,o=r.scrollToRow;i!==t&&o!==n?this.setState({scrollToColumn:t,scrollToRow:n}):i!==t?this.setState({scrollToColumn:t}):o!==n&&this.setState({scrollToRow:n})}}},{key:"setScrollIndexes",value:function setScrollIndexes(e){var t=e.scrollToColumn,n=e.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:t})}},{key:"render",value:function render(){var e=this.props,t=e.className,n=e.children,r=this._getScrollState(),i=r.scrollToColumn,o=r.scrollToRow;return m.a.createElement("div",{className:t,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:i,scrollToRow:o}))}},{key:"_onKeyDown",value:function _onKeyDown(e){var t=this.props,n=t.columnCount,r=t.disabled,i=t.mode,o=t.rowCount;if(!r){var a=this._getScrollState(),s=a.scrollToColumn,c=a.scrollToRow,u=this._getScrollState(),l=u.scrollToColumn,d=u.scrollToRow;switch(e.key){case"ArrowDown":d="cells"===i?Math.min(d+1,o-1):Math.min(this._rowStopIndex+1,o-1);break;case"ArrowLeft":l="cells"===i?Math.max(l-1,0):Math.max(this._columnStartIndex-1,0);break;case"ArrowRight":l="cells"===i?Math.min(l+1,n-1):Math.min(this._columnStopIndex+1,n-1);break;case"ArrowUp":d="cells"===i?Math.max(d-1,0):Math.max(this._rowStartIndex-1,0)}l===s&&d===c||(e.preventDefault(),this._updateScrollState({scrollToColumn:l,scrollToRow:d}))}}},{key:"_onSectionRendered",value:function _onSectionRendered(e){var t=e.columnStartIndex,n=e.columnStopIndex,r=e.rowStartIndex,i=e.rowStopIndex;this._columnStartIndex=t,this._columnStopIndex=n,this._rowStartIndex=r,this._rowStopIndex=i}},{key:"_getScrollState",value:function _getScrollState(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function _updateScrollState(e){var t=e.scrollToColumn,n=e.scrollToRow,r=this.props,i=r.isControlled,o=r.onScrollToChange;"function"==typeof o&&o({scrollToColumn:t,scrollToRow:n}),i||this.setState({scrollToColumn:t,scrollToRow:n})}}]),ArrowKeyStepper}(g.PureComponent);v.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0};var y=v,_=n(105),b=n.n(_),S=n(69),w=n.n(S),C=n(78),T=n.n(C),E=n(106),k=n.n(E),x=n(107),I=n.n(x),R=n(17),O=n.n(R),P=n(1),A=n.n(P),M=function(e){function AutoSizer(e){w()(this,AutoSizer);var t=k()(this,(AutoSizer.__proto__||b()(AutoSizer)).call(this,e));return t.state={height:0,width:0},t._onResize=t._onResize.bind(t),t._setRef=t._setRef.bind(t),t}return I()(AutoSizer,e),T()(AutoSizer,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.nonce;this._parentNode=this._autoSizer.parentNode,this._detectElementResize=createDetectElementResize(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function render(){var e=this.props,t=e.children,n=e.disableHeight,r=e.disableWidth,i=this.state,o=i.height,a=i.width,s={overflow:"visible"};return n||(s.height=0),r||(s.width=0),A.a.createElement("div",{ref:this._setRef,style:s},t({height:o,width:a}))}},{key:"_onResize",value:function _onResize(){var e=this.props,t=e.disableHeight,n=e.disableWidth,r=e.onResize,i=this._parentNode.offsetHeight||0,o=this._parentNode.offsetWidth||0,a=window.getComputedStyle(this._parentNode)||{},s=parseInt(a.paddingLeft,10)||0,c=parseInt(a.paddingRight,10)||0,u=parseInt(a.paddingTop,10)||0,l=parseInt(a.paddingBottom,10)||0,d=i-u-l,p=o-s-c;(!t&&this.state.height!==d||!n&&this.state.width!==p)&&(this.setState({height:i-u-l,width:o-s-c}),r({height:i,width:o}))}},{key:"_setRef",value:function _setRef(e){this._autoSizer=e}}]),AutoSizer}(P.PureComponent);M.defaultProps={onResize:function onResize(){}};var N=M,D=n(105),L=n.n(D),F=n(69),U=n.n(F),j=n(78),W=n.n(j),B=n(106),H=n.n(B),z=n(107),q=n.n(z),V=n(1),G=n.n(V),$=n(72),X=n.n($),K=function(e){function CellMeasurer(e,t){U()(this,CellMeasurer);var n=H()(this,(CellMeasurer.__proto__||L()(CellMeasurer)).call(this,e,t));return n._measure=n._measure.bind(n),n}return q()(CellMeasurer,e),W()(CellMeasurer,[{key:"componentDidMount",value:function componentDidMount(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){this._maybeMeasureCell()}},{key:"render",value:function render(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure}):e}},{key:"_getCellMeasurements",value:function _getCellMeasurements(){var e=this.props.cache,t=Object($.findDOMNode)(this),n=t.style.width,r=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var i=Math.ceil(t.offsetHeight),o=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),r&&(t.style.height=r),{height:i,styleHeight:r,styleWidth:n,width:o}}},{key:"_maybeMeasureCell",value:function _maybeMeasureCell(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,i=e.parent,o=e.rowIndex,a=void 0===o?this.props.index:o;if(!t.has(a,r)){var s=this._getCellMeasurements(),c=s.height,u=s.width;t.set(a,r,u,c),i&&"function"==typeof i.invalidateCellSizeAfterRender&&i.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}},{key:"_measure",value:function _measure(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,i=e.parent,o=e.rowIndex,a=void 0===o?this.props.index:o,s=this._getCellMeasurements(),c=s.height,u=s.width;c===t.getHeight(a,r)&&u===t.getWidth(a,r)||(t.set(a,r,u,c),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:r,rowIndex:a}))}}]),CellMeasurer}(V.PureComponent),Y=K,Q=n(69),J=n.n(Q),Z=n(78),ee=n.n(Z),te=30,ne=100,re=function(){function CellMeasurerCache(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};J()(this,CellMeasurerCache),this.columnWidth=function(t){var n=t.index,r=e._keyMapper(0,n);return e._columnWidthCache.hasOwnProperty(r)?e._columnWidthCache[r]:e._defaultWidth},this.rowHeight=function(t){var n=t.index,r=e._keyMapper(n,0);return e._rowHeightCache.hasOwnProperty(r)?e._rowHeightCache[r]:e._defaultHeight};var n=t.defaultHeight,r=t.defaultWidth,i=t.fixedHeight,o=t.fixedWidth,a=t.keyMapper,s=t.minHeight,c=t.minWidth;this._hasFixedHeight=!0===i,this._hasFixedWidth=!0===o,this._minHeight=s||0,this._minWidth=c||0,this._keyMapper=a||defaultKeyMapper,this._defaultHeight=Math.max(this._minHeight,"number"==typeof n?n:te),this._defaultWidth=Math.max(this._minWidth,"number"==typeof r?r:ne),this._columnCount=0,this._rowCount=0,this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={}}return ee()(CellMeasurerCache,[{key:"clear",value:function clear(e,t){var n=this._keyMapper(e,t);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function clearAll(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={}}},{key:"hasFixedHeight",value:function hasFixedHeight(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function hasFixedWidth(){return this._hasFixedWidth}},{key:"getHeight",value:function getHeight(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function getWidth(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(e,t);return this._cellWidthCache.hasOwnProperty(n)?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function has(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)}},{key:"set",value:function set(e,t,n,r){var i=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[i]=r,this._cellWidthCache[i]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function _updateCachedColumnAndRowSizes(e,t){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,t));var i=this._keyMapper(0,t);this._columnWidthCache[i]=n}if(!this._hasFixedHeight){for(var o=0,a=0;a<this._columnCount;a++)o=Math.max(o,this.getHeight(e,a));var s=this._keyMapper(e,0);this._rowHeightCache[s]=o}}},{key:"defaultHeight",get:function get(){return this._defaultHeight}},{key:"defaultWidth",get:function get(){return this._defaultWidth}}]),CellMeasurerCache}(),ie=n(1057),oe=n.n(ie),ae=n(282),se=n.n(ae),ce=n(105),ue=n.n(ce),le=n(69),de=n.n(le),pe=n(78),he=n.n(pe),fe=n(106),ge=n.n(fe),me=n(107),ve=n.n(me),ye=n(17),_e=n.n(ye),be=n(1),Se=n.n(be),we=n(15),Ce=n.n(we),Te=n(1058),Ee=n.n(Te),ke=150,xe={OBSERVED:"observed",REQUESTED:"requested"},Ie=function(e){function CollectionView(e,t){de()(this,CollectionView);var n=ge()(this,(CollectionView.__proto__||ue()(CollectionView)).call(this,e,t));return n.state={isScrolling:!1,scrollLeft:0,scrollTop:0},n._calculateSizeAndPositionDataOnNextUpdate=!1,n._onSectionRenderedMemoizer=createCallbackMemoizer(),n._onScrollMemoizer=createCallbackMemoizer(!1),n._invokeOnSectionRenderedHelper=n._invokeOnSectionRenderedHelper.bind(n),n._onScroll=n._onScroll.bind(n),n._setScrollingContainerRef=n._setScrollingContainerRef.bind(n),n._updateScrollPositionForScrollToCell=n._updateScrollPositionForScrollToCell.bind(n),n}return ve()(CollectionView,e),he()(CollectionView,[{key:"recomputeCellSizesAndPositions",value:function recomputeCellSizesAndPositions(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.cellLayoutManager,n=e.scrollLeft,r=e.scrollToCell,i=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=Ee()(),this._scrollbarSizeMeasured=!0,this.setState({})),r>=0?this._updateScrollPositionForScrollToCell():(n>=0||i>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:i}),this._invokeOnSectionRenderedHelper();var o=t.getTotalSize(),a=o.height,s=o.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:i||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){var n=this.props,r=n.height,i=n.scrollToAlignment,o=n.scrollToCell,a=n.width,s=this.state,c=s.scrollLeft,u=s.scrollPositionChangeReason,l=s.scrollTop;u===xe.REQUESTED&&(c>=0&&c!==t.scrollLeft&&c!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=c),l>=0&&l!==t.scrollTop&&l!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=l)),r===e.height&&i===e.scrollToAlignment&&o===e.scrollToCell&&a===e.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillMount",value:function componentWillMount(){this.props.cellLayoutManager.calculateSizeAndPositionData(),this._scrollbarSize=Ee()(),void 0===this._scrollbarSize?(this._scrollbarSizeMeasured=!1,this._scrollbarSize=0):this._scrollbarSizeMeasured=!0}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=this.state,n=t.scrollLeft,r=t.scrollTop;0!==e.cellCount||0===n&&0===r?e.scrollLeft===this.props.scrollLeft&&e.scrollTop===this.props.scrollTop||this._setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}):this._setScrollPosition({scrollLeft:0,scrollTop:0}),(e.cellCount!==this.props.cellCount||e.cellLayoutManager!==this.props.cellLayoutManager||this._calculateSizeAndPositionDataOnNextUpdate)&&e.cellLayoutManager.calculateSizeAndPositionData(),this._calculateSizeAndPositionDataOnNextUpdate&&(this._calculateSizeAndPositionDataOnNextUpdate=!1)}},{key:"render",value:function render(){var e=this.props,t=e.autoHeight,n=e.cellCount,r=e.cellLayoutManager,i=e.className,o=e.height,a=e.horizontalOverscanSize,s=e.id,c=e.noContentRenderer,u=e.style,l=e.verticalOverscanSize,d=e.width,p=this.state,h=p.isScrolling,f=p.scrollLeft,g=p.scrollTop,m=r.getTotalSize(),v=m.height,y=m.width,_=Math.max(0,f-a),b=Math.max(0,g-l),S=Math.min(y,f+d+a),w=Math.min(v,g+o+l),C=o>0&&d>0?r.cellRenderers({height:w-b,isScrolling:h,width:S-_,x:_,y:b}):[],T={boxSizing:"border-box",direction:"ltr",height:t?"auto":o,position:"relative",WebkitOverflowScrolling:"touch",width:d,willChange:"transform"},E=v>o?this._scrollbarSize:0,k=y>d?this._scrollbarSize:0;return T.overflowX=y+E<=d?"hidden":"auto",T.overflowY=v+k<=o?"hidden":"auto",Se.a.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Ce()("ReactVirtualized__Collection",i),id:s,onScroll:this._onScroll,role:"grid",style:se()({},T,u),tabIndex:0},n>0&&Se.a.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:v,maxHeight:v,maxWidth:y,overflow:"hidden",pointerEvents:h?"none":"",width:y}},C),0===n&&c())}},{key:"_enablePointerEventsAfterDelay",value:function _enablePointerEventsAfterDelay(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){(0,e.props.isScrollingChange)(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})},150)}},{key:"_invokeOnSectionRenderedHelper",value:function _invokeOnSectionRenderedHelper(){var e=this.props,t=e.cellLayoutManager,n=e.onSectionRendered;this._onSectionRenderedMemoizer({callback:n,indices:{indices:t.getLastRenderedIndices()}})}},{key:"_invokeOnScrollMemoizer",value:function _invokeOnScrollMemoizer(e){var t=this,n=e.scrollLeft,r=e.scrollTop,i=e.totalHeight,o=e.totalWidth;this._onScrollMemoizer({callback:function callback(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_setScrollingContainerRef",value:function _setScrollingContainerRef(e){this._scrollingContainer=e}},{key:"_setScrollPosition",value:function _setScrollPosition(e){var t=e.scrollLeft,n=e.scrollTop,r={scrollPositionChangeReason:xe.REQUESTED};t>=0&&(r.scrollLeft=t),n>=0&&(r.scrollTop=n),(t>=0&&t!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}},{key:"_updateScrollPositionForScrollToCell",value:function _updateScrollPositionForScrollToCell(){var e=this.props,t=e.cellLayoutManager,n=e.height,r=e.scrollToAlignment,i=e.scrollToCell,o=e.width,a=this.state,s=a.scrollLeft,c=a.scrollTop;if(i>=0){var u=t.getScrollPositionForCell({align:r,cellIndex:i,height:n,scrollLeft:s,scrollTop:c,width:o});u.scrollLeft===s&&u.scrollTop===c||this._setScrollPosition(u)}}},{key:"_onScroll",value:function _onScroll(e){if(e.target===this._scrollingContainer){this._enablePointerEventsAfterDelay();var t=this.props,n=t.cellLayoutManager,r=t.height,i=t.isScrollingChange,o=t.width,a=this._scrollbarSize,s=n.getTotalSize(),c=s.height,u=s.width,l=Math.max(0,Math.min(u-o+a,e.target.scrollLeft)),d=Math.max(0,Math.min(c-r+a,e.target.scrollTop));if(this.state.scrollLeft!==l||this.state.scrollTop!==d){var p=e.cancelable?xe.OBSERVED:xe.REQUESTED;this.state.isScrolling||i(!0),this.setState({isScrolling:!0,scrollLeft:l,scrollPositionChangeReason:p,scrollTop:d})}this._invokeOnScrollMemoizer({scrollLeft:l,scrollTop:d,totalWidth:u,totalHeight:c})}}}]),CollectionView}(be.PureComponent);Ie.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function noContentRenderer(){return null},onScroll:function onScroll(){return null},onSectionRendered:function onSectionRendered(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0};var Re=Ie,Oe=n(69),Pe=n.n(Oe),Ae=n(78),Me=n.n(Ae),Ne=function(){function Section(e){var t=e.height,n=e.width,r=e.x,i=e.y;Pe()(this,Section),this.height=t,this.width=n,this.x=r,this.y=i,this._indexMap={},this._indices=[]}return Me()(Section,[{key:"addCellIndex",value:function addCellIndex(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:"getCellIndices",value:function getCellIndices(){return this._indices}},{key:"toString",value:function toString(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),Section}(),De=n(1057),Le=n.n(De),Fe=n(69),Ue=n.n(Fe),je=n(78),We=n.n(je),Be=100,He=function(){function SectionManager(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;Ue()(this,SectionManager),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return We()(SectionManager,[{key:"getCellIndices",value:function getCellIndices(e){var t=e.height,n=e.width,r=e.x,i=e.y,o={};return this.getSections({height:t,width:n,x:r,y:i}).forEach(function(e){return e.getCellIndices().forEach(function(e){o[e]=e})}),Le()(o).map(function(e){return o[e]})}},{key:"getCellMetadata",value:function getCellMetadata(e){var t=e.index;return this._cellMetadata[t]}},{key:"getSections",value:function getSections(e){for(var t=e.height,n=e.width,r=e.x,i=e.y,o=Math.floor(r/this._sectionSize),a=Math.floor((r+n-1)/this._sectionSize),s=Math.floor(i/this._sectionSize),c=Math.floor((i+t-1)/this._sectionSize),u=[],l=o;l<=a;l++)for(var d=s;d<=c;d++){var p=l+"."+d;this._sections[p]||(this._sections[p]=new Ne({height:this._sectionSize,width:this._sectionSize,x:l*this._sectionSize,y:d*this._sectionSize})),u.push(this._sections[p])}return u}},{key:"getTotalSectionCount",value:function getTotalSectionCount(){return Le()(this._sections).length}},{key:"toString",value:function toString(){var e=this;return Le()(this._sections).map(function(t){return e._sections[t].toString()})}},{key:"registerCell",value:function registerCell(e){var t=e.cellMetadatum,n=e.index;this._cellMetadata[n]=t,this.getSections(t).forEach(function(e){return e.addCellIndex({index:n})})}}]),SectionManager}(),ze=n(282),qe=n.n(ze),Ve=n(791),Ge=n.n(Ve),$e=n(105),Xe=n.n($e),Ke=n(69),Ye=n.n(Ke),Qe=n(78),Je=n.n(Qe),Ze=n(106),et=n.n(Ze),tt=n(107),nt=n.n(tt),rt=n(17),it=n.n(rt),ot=n(1),at=n.n(ot),st=function(e){function Collection(e,t){Ye()(this,Collection);var n=et()(this,(Collection.__proto__||Xe()(Collection)).call(this,e,t));return n._cellMetadata=[],n._lastRenderedCellIndices=[],n._cellCache=[],n._isScrollingChange=n._isScrollingChange.bind(n),n._setCollectionViewRef=n._setCollectionViewRef.bind(n),n}return nt()(Collection,e),Je()(Collection,[{key:"forceUpdate",value:function forceUpdate(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function recomputeCellSizesAndPositions(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function render(){var e=Ge()(this.props,[]);return at.a.createElement(Re,qe()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function calculateSizeAndPositionData(){var e=this.props,t=calculateSizeAndPositionData_calculateSizeAndPositionData({cellCount:e.cellCount,cellSizeAndPositionGetter:e.cellSizeAndPositionGetter,sectionSize:e.sectionSize});this._cellMetadata=t.cellMetadata,this._sectionManager=t.sectionManager,this._height=t.height,this._width=t.width}},{key:"getLastRenderedIndices",value:function getLastRenderedIndices(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function getScrollPositionForCell(e){var t=e.align,n=e.cellIndex,r=e.height,i=e.scrollLeft,o=e.scrollTop,a=e.width,s=this.props.cellCount;if(n>=0&&n<s){var c=this._cellMetadata[n];i=getUpdatedOffsetForIndex({align:t,cellOffset:c.x,cellSize:c.width,containerSize:a,currentOffset:i,targetIndex:n}),o=getUpdatedOffsetForIndex({align:t,cellOffset:c.y,cellSize:c.height,containerSize:r,currentOffset:o,targetIndex:n})}return{scrollLeft:i,scrollTop:o}}},{key:"getTotalSize",value:function getTotalSize(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function cellRenderers(e){var t=this,n=e.height,r=e.isScrolling,i=e.width,o=e.x,a=e.y,s=this.props,c=s.cellGroupRenderer,u=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:i,x:o,y:a}),c({cellCache:this._cellCache,cellRenderer:u,cellSizeAndPositionGetter:function cellSizeAndPositionGetter(e){var n=e.index;return t._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:r})}},{key:"_isScrollingChange",value:function _isScrollingChange(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function _setCollectionViewRef(e){this._collectionView=e}}]),Collection}(ot.PureComponent);st.defaultProps={"aria-label":"grid",cellGroupRenderer:defaultCellGroupRenderer};var ct=st,ut=n(105),lt=n.n(ut),dt=n(69),pt=n.n(dt),ht=n(78),ft=n.n(ht),gt=n(106),mt=n.n(gt),vt=n(107),yt=n.n(vt),_t=n(17),bt=n.n(_t),St=n(1),wt=n.n(St),Ct=function(e){function ColumnSizer(e,t){pt()(this,ColumnSizer);var n=mt()(this,(ColumnSizer.__proto__||lt()(ColumnSizer)).call(this,e,t));return n._registerChild=n._registerChild.bind(n),n}return yt()(ColumnSizer,e),ft()(ColumnSizer,[{key:"componentDidUpdate",value:function componentDidUpdate(e,t){var n=this.props,r=n.columnMaxWidth,i=n.columnMinWidth,o=n.columnCount,a=n.width;r===e.columnMaxWidth&&i===e.columnMinWidth&&o===e.columnCount&&a===e.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function render(){var e=this.props,t=e.children,n=e.columnMaxWidth,r=e.columnMinWidth,i=e.columnCount,o=e.width,a=r||1,s=n?Math.min(n,o):o,c=o/i;return c=Math.max(a,c),c=Math.min(s,c),c=Math.floor(c),t({adjustedWidth:Math.min(o,c*i),columnWidth:c,getColumnWidth:function getColumnWidth(){return c},registerChild:this._registerChild})}},{key:"_registerChild",value:function _registerChild(e){if(e&&"function"!=typeof e.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),ColumnSizer}(St.PureComponent),Tt=Ct,Et=n(69),kt=n.n(Et),xt=n(78),It=n.n(xt),Rt=function(){function CellSizeAndPositionManager(e){var t=e.batchAllCells,n=void 0!==t&&t,r=e.cellCount,i=e.cellSizeGetter,o=e.estimatedCellSize;kt()(this,CellSizeAndPositionManager),this._batchAllCells=n,this._cellSizeGetter=i,this._cellCount=r,this._estimatedCellSize=o,this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1}return It()(CellSizeAndPositionManager,[{key:"areOffsetsAdjusted",value:function areOffsetsAdjusted(){return!1}},{key:"configure",value:function configure(e){var t=e.cellCount,n=e.estimatedCellSize;this._cellCount=t,this._estimatedCellSize=n}},{key:"getCellCount",value:function getCellCount(){return this._cellCount}},{key:"getEstimatedCellSize",value:function getEstimatedCellSize(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function getLastMeasuredIndex(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function getOffsetAdjustment(e){var t=e.containerSize,n=e.offset;return 0}},{key:"getSizeAndPositionOfCell",value:function getSizeAndPositionOfCell(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var i=this._cellSizeGetter({index:r});if(void 0===i||isNaN(i))throw Error("Invalid size returned for cell "+r+" of value "+i);null===i?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:i},n+=i,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function getSizeAndPositionOfLastMeasuredCell(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function getTotalSize(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function getUpdatedOffsetForIndex(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,i=e.currentOffset,o=e.targetIndex;if(r<=0)return 0;var a=this.getSizeAndPositionOfCell(o),s=a.offset,c=s-r+a.size,u=void 0;switch(n){case"start":u=s;break;case"end":u=c;break;case"center":u=s-(r-a.size)/2;break;default:u=Math.max(c,Math.min(s,i))}var l=this.getTotalSize();return Math.max(0,Math.min(l-r,u))}},{key:"getVisibleCellRange",value:function getVisibleCellRange(e){if(this._batchAllCells)return{start:0,stop:this._cellCount-1};var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,i=this._findNearestCell(n),o=this.getSizeAndPositionOfCell(i);n=o.offset+o.size;for(var a=i;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:i,stop:a}}},{key:"resetCell",value:function resetCell(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function _binarySearch(e){for(var t=e.high,n=e.low,r=e.offset,i=void 0,o=void 0;n<=t;){if(i=n+Math.floor((t-n)/2),(o=this.getSizeAndPositionOfCell(i).offset)===r)return i;o<r?n=i+1:o>r&&(t=i-1)}if(n>0)return n-1}},{key:"_exponentialSearch",value:function _exponentialSearch(e){for(var t=e.index,n=e.offset,r=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<n;)t+=r,r*=2;return this._binarySearch({high:Math.min(t,this._cellCount-1),low:Math.floor(t/2),offset:n})}},{key:"_findNearestCell",value:function _findNearestCell(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch({high:n,low:0,offset:e}):this._exponentialSearch({index:n,offset:e})}}]),CellSizeAndPositionManager}(),Ot=n(791),Pt=n.n(Ot),At=n(69),Mt=n.n(At),Nt=n(78),Dt=n.n(Nt),Lt=15e5,Ft=function(){function ScalingCellSizeAndPositionManager(e){var t=e.maxScrollSize,n=void 0===t?Lt:t,r=Pt()(e,["maxScrollSize"]);Mt()(this,ScalingCellSizeAndPositionManager),this._cellSizeAndPositionManager=new Rt(r),this._maxScrollSize=n}return Dt()(ScalingCellSizeAndPositionManager,[{key:"areOffsetsAdjusted",value:function areOffsetsAdjusted(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function configure(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function getCellCount(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function getEstimatedCellSize(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function getLastMeasuredIndex(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function getOffsetAdjustment(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize(),o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:i});return Math.round(o*(i-r))}},{key:"getSizeAndPositionOfCell",value:function getSizeAndPositionOfCell(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function getSizeAndPositionOfLastMeasuredCell(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function getTotalSize(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function getUpdatedOffsetForIndex(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,i=e.currentOffset,o=e.targetIndex,a=e.totalSize;i=this._safeOffsetToOffset({containerSize:r,offset:i});var s=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:i,targetIndex:o,totalSize:a});return this._offsetToSafeOffset({containerSize:r,offset:s})}},{key:"getVisibleCellRange",value:function getVisibleCellRange(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function resetCell(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function _getOffsetPercentage(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function _offsetToSafeOffset(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(r===i)return n;var o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(o*(i-t))}},{key:"_safeOffsetToOffset",value:function _safeOffsetToOffset(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(r===i)return n;var o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:i});return Math.round(o*(r-t))}}]),ScalingCellSizeAndPositionManager}(),Ut=-1,jt=1,Wt="horizontal",Bt="vertical",Ht=n(282),zt=n.n(Ht),qt=n(105),Vt=n.n(qt),Gt=n(69),$t=n.n(Gt),Xt=n(78),Kt=n.n(Xt),Yt=n(106),Qt=n.n(Yt),Jt=n(107),Zt=n.n(Jt),en=n(1),tn=n.n(en),nn=n(17),rn=n.n(nn),on=n(15),an=n.n(on),sn=n(1058),cn=n.n(sn),un=150,ln={OBSERVED:"observed",REQUESTED:"requested"},dn=function(e){function Grid(e,t){$t()(this,Grid);var n=Qt()(this,(Grid.__proto__||Vt()(Grid)).call(this,e,t));n.state={isScrolling:!1,scrollDirectionHorizontal:jt,scrollDirectionVertical:jt,scrollLeft:0,scrollTop:0},n._onGridRenderedMemoizer=createCallbackMemoizer(),n._onScrollMemoizer=createCallbackMemoizer(!1),n._debounceScrollEndedCallback=n._debounceScrollEndedCallback.bind(n),n._invokeOnGridRenderedHelper=n._invokeOnGridRenderedHelper.bind(n),n._onScroll=n._onScroll.bind(n),n._setScrollingContainerRef=n._setScrollingContainerRef.bind(n),n._columnWidthGetter=n._wrapSizeGetter(e.columnWidth),n._rowHeightGetter=n._wrapSizeGetter(e.rowHeight),n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._recomputeScrollLeftFlag=!1,n._recomputeScrollTopFlag=!1,n._horizontalScrollBarSize=0,n._verticalScrollBarSize=0,n._scrollbarPresenceChanged=!1;var r=e.deferredMeasurementCache,i=void 0!==r;return n._columnSizeAndPositionManager=new Ft({batchAllCells:i&&!r.hasFixedHeight(),cellCount:e.columnCount,cellSizeGetter:function cellSizeGetter(e){return n._columnWidthGetter(e)},estimatedCellSize:n._getEstimatedColumnSize(e)}),n._rowSizeAndPositionManager=new Ft({batchAllCells:i&&!r.hasFixedWidth(),cellCount:e.rowCount,cellSizeGetter:function cellSizeGetter(e){return n._rowHeightGetter(e)},estimatedCellSize:n._getEstimatedRowSize(e)}),n._cellCache={},n._styleCache={},n}return Zt()(Grid,e),Kt()(Grid,[{key:"getOffsetForCell",value:function getOffsetForCell(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,i=void 0===r?this.props.scrollToColumn:r,o=e.rowIndex,a=void 0===o?this.props.scrollToRow:o,s=zt()({},this.props,{scrollToAlignment:n,scrollToColumn:i,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"handleScrollEvent",value:function handleScrollEvent(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r;if(!(i<0)){this._debounceScrollEnded();var o=this.props,a=o.autoHeight,s=o.autoWidth,c=o.height,u=o.width,l=this._scrollbarSize,d=this._rowSizeAndPositionManager.getTotalSize(),p=this._columnSizeAndPositionManager.getTotalSize(),h=Math.min(Math.max(0,p-u+l),n),f=Math.min(Math.max(0,d-c+l),i);if(this.state.scrollLeft!==h||this.state.scrollTop!==f){var g={isScrolling:!0,scrollDirectionHorizontal:h!==this.state.scrollLeft?h>this.state.scrollLeft?jt:Ut:this.state.scrollDirectionHorizontal,scrollDirectionVertical:f!==this.state.scrollTop?f>this.state.scrollTop?jt:Ut:this.state.scrollDirectionVertical,scrollPositionChangeReason:ln.OBSERVED};a||(g.scrollTop=f),s||(g.scrollLeft=h),this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:f,totalColumnsWidth:p,totalRowsHeight:d})}}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function measureAllCells(){var e=this.props,t=e.columnCount,n=e.rowCount;this._columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),this._rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function recomputeGridSize(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r,o=this.props,a=o.scrollToColumn,s=o.scrollToRow;this._columnSizeAndPositionManager.resetCell(n),this._rowSizeAndPositionManager.resetCell(i),this._recomputeScrollLeftFlag=a>=0&&n<=a,this._recomputeScrollTopFlag=s>=0&&i<=s,this._cellCache={},this._styleCache={},this.forceUpdate()}},{key:"scrollToCell",value:function scrollToCell(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,i=this.props;r>1&&this._updateScrollLeftForScrollToColumn(zt()({},i,{scrollToColumn:t})),this._updateScrollTopForScrollToRow(zt()({},i,{scrollToRow:n}))}},{key:"scrollToPosition",value:function scrollToPosition(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scrollLeft,n=e.scrollTop;this._setScrollPosition({scrollLeft:t,scrollTop:n})}},{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.getScrollbarSize,n=e.height,r=e.scrollLeft,i=e.scrollToColumn,o=e.scrollTop,a=e.scrollToRow,s=e.width;this._handleInvalidatedGridSize(),this._scrollbarSizeMeasured||(this._scrollbarSize=t(),this._scrollbarSizeMeasured=!0,this.setState({})),(r>=0||o>=0)&&this._setScrollPosition({scrollLeft:r,scrollTop:o});var c=n>0&&s>0;i>=0&&c&&this._updateScrollLeftForScrollToColumn(),a>=0&&c&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:r||0,scrollTop:o||0,totalColumnsWidth:this._columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:this._rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){var n=this,r=this.props,i=r.autoHeight,o=r.autoWidth,a=r.columnCount,s=r.height,c=r.rowCount,u=r.scrollToAlignment,l=r.scrollToColumn,d=r.scrollToRow,p=r.width,h=this.state,f=h.scrollLeft,g=h.scrollPositionChangeReason,m=h.scrollTop;this._handleInvalidatedGridSize();var v=a>0&&0===e.columnCount||c>0&&0===e.rowCount;g===ln.REQUESTED&&(!o&&f>=0&&(f!==t.scrollLeft&&f!==this._scrollingContainer.scrollLeft||v)&&(this._scrollingContainer.scrollLeft=f),!i&&m>=0&&(m!==t.scrollTop&&m!==this._scrollingContainer.scrollTop||v)&&(this._scrollingContainer.scrollTop=m));var y=(0===e.width||0===e.height)&&s>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):updateScrollIndexHelper({cellSizeAndPositionManager:this._columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:f,scrollToAlignment:u,scrollToIndex:l,size:p,sizeJustIncreasedFromZero:y,updateScrollIndexCallback:function updateScrollIndexCallback(e){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):updateScrollIndexHelper({cellSizeAndPositionManager:this._rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:m,scrollToAlignment:u,scrollToIndex:d,size:s,sizeJustIncreasedFromZero:y,updateScrollIndexCallback:function updateScrollIndexCallback(e){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),f!==t.scrollLeft||m!==t.scrollTop){var _=this._rowSizeAndPositionManager.getTotalSize(),b=this._columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:m,totalColumnsWidth:b,totalRowsHeight:_})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillMount",value:function componentWillMount(){var e=this.props.getScrollbarSize;this._scrollbarSize=e(),void 0===this._scrollbarSize?(this._scrollbarSizeMeasured=!1,this._scrollbarSize=0):this._scrollbarSizeMeasured=!0,this._calculateChildrenToRender()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=this,n=this.state,r=n.scrollLeft,i=n.scrollTop;if(0===e.columnCount&&0!==r||0===e.rowCount&&0!==i)this._setScrollPosition({scrollLeft:0,scrollTop:0});else if(e.scrollLeft!==this.props.scrollLeft||e.scrollTop!==this.props.scrollTop){var o={};null!=e.scrollLeft&&(o.scrollLeft=e.scrollLeft),null!=e.scrollTop&&(o.scrollTop=e.scrollTop),this._setScrollPosition(o)}e.columnWidth===this.props.columnWidth&&e.rowHeight===this.props.rowHeight||(this._styleCache={}),this._columnWidthGetter=this._wrapSizeGetter(e.columnWidth),this._rowHeightGetter=this._wrapSizeGetter(e.rowHeight),this._columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:this._getEstimatedColumnSize(e)}),this._rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:this._getEstimatedRowSize(e)});var a=this.props,s=a.columnCount,c=a.rowCount;0!==s&&0!==c||(s=0,c=0),e.autoHeight&&!1===e.isScrolling&&!0===this.props.isScrolling&&this._resetStyleCache(),calculateSizeAndPositionDataAndUpdateScrollOffset({cellCount:s,cellSize:this.props.columnWidth,computeMetadataCallback:function computeMetadataCallback(){return t._columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:e.columnWidth,nextScrollToIndex:e.scrollToColumn,scrollToIndex:this.props.scrollToColumn,updateScrollOffsetForScrollToIndex:function updateScrollOffsetForScrollToIndex(){return t._updateScrollLeftForScrollToColumn(e,t.state)}}),calculateSizeAndPositionDataAndUpdateScrollOffset({cellCount:c,cellSize:this.props.rowHeight,computeMetadataCallback:function computeMetadataCallback(){return t._rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:e.rowHeight,nextScrollToIndex:e.scrollToRow,scrollToIndex:this.props.scrollToRow,updateScrollOffsetForScrollToIndex:function updateScrollOffsetForScrollToIndex(){return t._updateScrollTopForScrollToRow(e,t.state)}})}},{key:"componentWillUpdate",value:function componentWillUpdate(e,t){this._calculateChildrenToRender(e,t)}},{key:"render",value:function render(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,r=e.autoWidth,i=e.className,o=e.containerStyle,a=e.height,s=e.id,c=e.noContentRenderer,u=e.role,l=e.style,d=e.tabIndex,p=e.width,h=this._isScrolling(),f={boxSizing:"border-box",direction:"ltr",height:n?"auto":a,position:"relative",width:r?"auto":p,WebkitOverflowScrolling:"touch",willChange:"transform"},g=this._columnSizeAndPositionManager.getTotalSize(),m=this._rowSizeAndPositionManager.getTotalSize(),v=m>a?this._scrollbarSize:0,y=g>p?this._scrollbarSize:0;y===this._horizontalScrollBarSize&&v===this._verticalScrollBarSize||(this._horizontalScrollBarSize=y,this._verticalScrollBarSize=v,this._scrollbarPresenceChanged=!0),f.overflowX=g+v<=p?"hidden":"auto",f.overflowY=m+y<=a?"hidden":"auto";var _=this._childrenToDisplay,b=0===_.length&&a>0&&p>0;return tn.a.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:an()("ReactVirtualized__Grid",i),id:s,onScroll:this._onScroll,role:u,style:zt()({},f,l),tabIndex:d},_.length>0&&tn.a.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",style:zt()({width:t?"auto":g,height:m,maxWidth:g,maxHeight:m,overflow:"hidden",pointerEvents:h?"none":"",position:"relative"},o)},_),b&&c())}},{key:"_calculateChildrenToRender",value:function _calculateChildrenToRender(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,i=e.columnCount,o=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,c=e.overscanIndicesGetter,u=e.overscanRowCount,l=e.rowCount,d=e.width,p=t.scrollDirectionHorizontal,h=t.scrollDirectionVertical,f=t.scrollLeft,g=t.scrollTop,m=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&d>0){var v=this._columnSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:f}),y=this._rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:g}),_=this._columnSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:f}),b=this._rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:g});this._renderedColumnStartIndex=v.start,this._renderedColumnStopIndex=v.stop,this._renderedRowStartIndex=y.start,this._renderedRowStopIndex=y.stop;var S=c({direction:"horizontal",cellCount:i,overscanCellsCount:s,scrollDirection:p,startIndex:this._renderedColumnStartIndex,stopIndex:this._renderedColumnStopIndex}),w=c({direction:"vertical",cellCount:l,overscanCellsCount:u,scrollDirection:h,startIndex:this._renderedRowStartIndex,stopIndex:this._renderedRowStopIndex});this._columnStartIndex=S.overscanStartIndex,this._columnStopIndex=S.overscanStopIndex,this._rowStartIndex=w.overscanStartIndex,this._rowStopIndex=w.overscanStopIndex,this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:this._columnSizeAndPositionManager,columnStartIndex:this._columnStartIndex,columnStopIndex:this._columnStopIndex,deferredMeasurementCache:o,horizontalOffsetAdjustment:_,isScrolling:m,parent:this,rowSizeAndPositionManager:this._rowSizeAndPositionManager,rowStartIndex:this._rowStartIndex,rowStopIndex:this._rowStopIndex,scrollLeft:f,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:b,visibleColumnIndices:v,visibleRowIndices:y})}}},{key:"_debounceScrollEnded",value:function _debounceScrollEnded(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(this._debounceScrollEndedCallback,e)}},{key:"_debounceScrollEndedCallback",value:function _debounceScrollEndedCallback(){this._disablePointerEventsTimeoutId=null,this._resetStyleCache()}},{key:"_getEstimatedColumnSize",value:function _getEstimatedColumnSize(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function _getEstimatedRowSize(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_handleInvalidatedGridSize",value:function _handleInvalidatedGridSize(){if("number"==typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnGridRenderedHelper",value:function _invokeOnGridRenderedHelper(){var e=this.props.onSectionRendered;this._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:this._columnStartIndex,columnOverscanStopIndex:this._columnStopIndex,columnStartIndex:this._renderedColumnStartIndex,columnStopIndex:this._renderedColumnStopIndex,rowOverscanStartIndex:this._rowStartIndex,rowOverscanStopIndex:this._rowStopIndex,rowStartIndex:this._renderedRowStartIndex,rowStopIndex:this._renderedRowStopIndex}})}},{key:"_invokeOnScrollMemoizer",value:function _invokeOnScrollMemoizer(e){var t=this,n=e.scrollLeft,r=e.scrollTop,i=e.totalColumnsWidth,o=e.totalRowsHeight;this._onScrollMemoizer({callback:function callback(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function _isScrolling(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?e.isScrolling:t.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function _maybeCallOnScrollbarPresenceChange(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this._scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"_setScrollingContainerRef",value:function _setScrollingContainerRef(e){this._scrollingContainer=e}},{key:"_setScrollPosition",value:function _setScrollPosition(e){var t=e.scrollLeft,n=e.scrollTop,r={scrollPositionChangeReason:ln.REQUESTED};t>=0&&(r.scrollDirectionHorizontal=t>this.state.scrollLeft?jt:Ut,r.scrollLeft=t),n>=0&&(r.scrollDirectionVertical=n>this.state.scrollTop?jt:Ut,r.scrollTop=n),(t>=0&&t!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}},{key:"_wrapPropertyGetter",value:function _wrapPropertyGetter(e){return"function"==typeof e?e:function(){return e}}},{key:"_wrapSizeGetter",value:function _wrapSizeGetter(e){return this._wrapPropertyGetter(e)}},{key:"_getCalculatedScrollLeft",value:function _getCalculatedScrollLeft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.columnCount,r=e.height,i=e.scrollToAlignment,o=e.scrollToColumn,a=e.width,s=t.scrollLeft;if(o>=0&&n>0){var c=Math.max(0,Math.min(n-1,o)),u=this._rowSizeAndPositionManager.getTotalSize()>r?this._scrollbarSize:0;return this._columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:a-u,currentOffset:s,targetIndex:c})}}},{key:"_updateScrollLeftForScrollToColumn",value:function _updateScrollLeftForScrollToColumn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t.scrollLeft,r=this._getCalculatedScrollLeft(e,t);r>=0&&n!==r&&this._setScrollPosition({scrollLeft:r})}},{key:"_getCalculatedScrollTop",value:function _getCalculatedScrollTop(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.height,r=e.rowCount,i=e.scrollToAlignment,o=e.scrollToRow,a=e.width,s=t.scrollTop;if(o>=0&&r>0){var c=Math.max(0,Math.min(r-1,o)),u=this._columnSizeAndPositionManager.getTotalSize()>a?this._scrollbarSize:0;return this._rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:n-u,currentOffset:s,targetIndex:c})}}},{key:"_resetStyleCache",value:function _resetStyleCache(){var e=this._styleCache;this._cellCache={},this._styleCache={};for(var t=this._rowStartIndex;t<=this._rowStopIndex;t++)for(var n=this._columnStartIndex;n<=this._columnStopIndex;n++){var r=t+"-"+n;this._styleCache[r]=e[r]}this.setState({isScrolling:!1})}},{key:"_updateScrollTopForScrollToRow",value:function _updateScrollTopForScrollToRow(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t.scrollTop,r=this._getCalculatedScrollTop(e,t);r>=0&&n!==r&&this._setScrollPosition({scrollTop:r})}},{key:"_onScroll",value:function _onScroll(e){e.target===this._scrollingContainer&&this.handleScrollEvent(e.target)}}]),Grid}(en.PureComponent);dn.defaultProps={"aria-label":"grid",cellRangeRenderer:defaultCellRangeRenderer,estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:cn.a,noContentRenderer:function noContentRenderer(){return null},onScroll:function onScroll(){return null},onScrollbarPresenceChange:function onScrollbarPresenceChange(){return null},onSectionRendered:function onSectionRendered(){return null},overscanColumnCount:0,overscanIndicesGetter:defaultOverscanIndicesGetter,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0};var pn=dn,hn=-1,fn=1,gn="horizontal",mn="vertical",vn=n(105),yn=n.n(vn),_n=n(69),bn=n.n(_n),Sn=n(78),wn=n.n(Sn),Cn=n(106),Tn=n.n(Cn),En=n(107),kn=n.n(En),xn=n(1),In=n.n(xn),Rn=n(17),On=n.n(Rn),Pn=function(e){function InfiniteLoader(e,t){bn()(this,InfiniteLoader);var n=Tn()(this,(InfiniteLoader.__proto__||yn()(InfiniteLoader)).call(this,e,t));return n._loadMoreRowsMemoizer=createCallbackMemoizer(),n._onRowsRendered=n._onRowsRendered.bind(n),n._registerChild=n._registerChild.bind(n),n}return kn()(InfiniteLoader,e),wn()(InfiniteLoader,[{key:"resetLoadMoreRowsCache",value:function resetLoadMoreRowsCache(e){this._loadMoreRowsMemoizer=createCallbackMemoizer(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function render(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function _loadUnloadedRanges(e){var t=this,n=this.props.loadMoreRows;e.forEach(function(e){var r=n(e);r&&r.then(function(){isRangeVisible({lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex})&&t._registeredChild&&forceUpdateReactVirtualizedComponent(t._registeredChild,t._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function _onRowsRendered(e){var t=e.startIndex,n=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=n,this._doStuff(t,n)}},{key:"_doStuff",value:function _doStuff(e,t){var n=this,r=this.props,i=r.isRowLoaded,o=r.minimumBatchSize,a=r.rowCount,s=r.threshold,c=scanForUnloadedRanges({isRowLoaded:i,minimumBatchSize:o,rowCount:a,startIndex:Math.max(0,e-s),stopIndex:Math.min(a-1,t+s)}),u=c.reduce(function(e,t){return e.concat([t.startIndex,t.stopIndex])},[]);this._loadMoreRowsMemoizer({callback:function callback(){n._loadUnloadedRanges(c)},indices:{squashedUnloadedRanges:u}})}},{key:"_registerChild",value:function _registerChild(e){this._registeredChild=e}}]),InfiniteLoader}(xn.PureComponent);Pn.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};var An=Pn,Mn=n(1473),Nn=n.n(Mn),Dn=n(791),Ln=n.n(Dn),Fn=n(282),Un=n.n(Fn),jn=n(105),Wn=n.n(jn),Bn=n(69),Hn=n.n(Bn),zn=n(78),qn=n.n(zn),Vn=n(106),Gn=n.n(Vn),$n=n(107),Xn=n.n($n),Kn=n(17),Yn=n.n(Kn),Qn=n(1),Jn=n.n(Qn),Zn=n(15),er=n.n(Zn),tr=function(e){function List(e,t){Hn()(this,List);var n=Gn()(this,(List.__proto__||Wn()(List)).call(this,e,t));return n._cellRenderer=n._cellRenderer.bind(n),n._onScroll=n._onScroll.bind(n),n._onSectionRendered=n._onSectionRendered.bind(n),n._setRef=n._setRef.bind(n),n}return Xn()(List,e),qn()(List,[{key:"forceUpdateGrid",value:function forceUpdateGrid(){this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function getOffsetForRow(e){var t=e.alignment,n=e.index;return this.Grid.getOffsetForCell({alignment:t,rowIndex:n}).scrollTop}},{key:"measureAllRows",value:function measureAllRows(){this.Grid.measureAllCells()}},{key:"recomputeRowHeights",value:function recomputeRowHeights(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function scrollToPosition(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function scrollToRow(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function render(){var e=this.props,t=e.className,n=e.noRowsRenderer,r=e.scrollToIndex,i=e.width,o=er()("ReactVirtualized__List",t);return Jn.a.createElement(pn,Un()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:o,columnWidth:i,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}},{key:"_cellRenderer",value:function _cellRenderer(e){var t=e.rowIndex,n=e.style,r=Ln()(e,["rowIndex","style"]),i=this.props.rowRenderer;return Nn()(n,"width").writable&&(n.width="100%"),i(Un()({index:t,style:n},r))}},{key:"_setRef",value:function _setRef(e){this.Grid=e}},{key:"_onScroll",value:function _onScroll(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function _onSectionRendered(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,r=e.rowStartIndex,i=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:r,stopIndex:i})}}]),List}(Qn.PureComponent);tr.defaultProps={estimatedRowSize:30,noRowsRenderer:function noRowsRenderer(){return null},onRowsRendered:function onRowsRendered(){return null},onScroll:function onScroll(){return null},overscanIndicesGetter:accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var nr=tr,rr={ge:dispatchBsearchGE,gt:dispatchBsearchGT,lt:dispatchBsearchLT,le:dispatchBsearchLE,eq:dispatchBsearchEQ},ir=0,or=1,ar=2,sr=IntervalTreeNode.prototype;sr.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},sr.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?rebuildWithInterval(this,e):this.left.insert(e):this.left=createIntervalTree([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?rebuildWithInterval(this,e):this.right.insert(e):this.right=createIntervalTree([e]);else{var n=rr.ge(this.leftPoints,e,compareBegin),r=rr.ge(this.rightPoints,e,compareEnd);this.leftPoints.splice(n,0,e),this.rightPoints.splice(r,0,e)}},sr.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?rebuildWithoutInterval(this,e):2===(o=this.left.remove(e))?(this.left=null,this.count-=1,or):(o===or&&(this.count-=1),o):ir;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?rebuildWithoutInterval(this,e):2===(o=this.right.remove(e))?(this.right=null,this.count-=1,or):(o===or&&(this.count-=1),o):ir;if(1===this.count)return this.leftPoints[0]===e?2:ir;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var i=this.left,o=this.right;n.count-=r.count,n.right=r.left,r.left=i,r.right=o}copy(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?copy(this,this.left):copy(this,this.right);return or}for(var i=rr.ge(this.leftPoints,e,compareBegin);i<this.leftPoints.length&&this.leftPoints[i][0]===e[0];++i)if(this.leftPoints[i]===e){this.count-=1,this.leftPoints.splice(i,1);for(var o=rr.ge(this.rightPoints,e,compareEnd);o<this.rightPoints.length&&this.rightPoints[o][1]===e[1];++o)if(this.rightPoints[o]===e)return this.rightPoints.splice(o,1),or}return ir},sr.queryPoint=function(e,t){if(e<this.mid)return this.left&&(n=this.left.queryPoint(e,t))?n:reportLeftRange(this.leftPoints,e,t);if(e>this.mid){if(this.right){var n=this.right.queryPoint(e,t);if(n)return n}return reportRightRange(this.rightPoints,e,t)}return reportRange(this.leftPoints,t)},sr.queryInterval=function(e,t,n){if(e<this.mid&&this.left&&(r=this.left.queryInterval(e,t,n)))return r;if(t>this.mid&&this.right){var r=this.right.queryInterval(e,t,n);if(r)return r}return t<this.mid?reportLeftRange(this.leftPoints,t,n):e>this.mid?reportRightRange(this.rightPoints,e,n):reportRange(this.leftPoints,n)};var cr=IntervalTree.prototype;cr.insert=function(e){this.root?this.root.insert(e):this.root=new IntervalTreeNode(e[0],null,null,[e],[e])},cr.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),t!==ir}return!1},cr.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},cr.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(cr,"count",{get:function get(){return this.root?this.root.count:0}}),Object.defineProperty(cr,"intervals",{get:function get(){return this.root?this.root.intervals([]):[]}});var ur=n(1476),lr=n.n(ur),dr=n(69),pr=n.n(dr),hr=n(78),fr=n.n(hr),gr=function(){function PositionCache(){pr()(this,PositionCache),this._columnSizeMap={},this._intervalTree=createWrapper(),this._leftMap={}}return fr()(PositionCache,[{key:"estimateTotalHeight",value:function estimateTotalHeight(e,t,n){var r=e-this.count;return this.tallestColumnSize+Math.ceil(r/t)*n}},{key:"range",value:function range(e,t,n){var r=this;this._intervalTree.queryInterval(e,e+t,function(e){var t=lr()(e,3),i=t[0],o=t[1],a=t[2];return n(a,r._leftMap[a],i)})}},{key:"setPosition",value:function setPosition(e,t,n,r){this._intervalTree.insert([n,n+r,e]),this._leftMap[e]=t;var i=this._columnSizeMap,o=i[t];i[t]=void 0===o?n+r:Math.max(o,n+r)}},{key:"count",get:function get(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function get(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=0===t?r:Math.min(t,r)}return t}},{key:"tallestColumnSize",get:function get(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=Math.max(t,r)}return t}}]),PositionCache}(),mr=n(282),vr=n.n(mr),yr=n(105),_r=n.n(yr),br=n(69),Sr=n.n(br),wr=n(78),Cr=n.n(wr),Tr=n(106),Er=n.n(Tr),kr=n(107),xr=n.n(kr),Ir=n(1),Rr=n.n(Ir),Or=n(15),Pr=n.n(Or),Ar={},Mr=150,Nr=function(e){function Masonry(e,t){Sr()(this,Masonry);var n=Er()(this,(Masonry.__proto__||_r()(Masonry)).call(this,e,t));return n._invalidateOnUpdateStartIndex=null,n._invalidateOnUpdateStopIndex=null,n._positionCache=new gr,n._startIndex=null,n._startIndexMemoized=null,n._stopIndex=null,n._stopIndexMemoized=null,n.state={isScrolling:!1,scrollTop:0},n._debounceResetIsScrollingCallback=n._debounceResetIsScrollingCallback.bind(n),n._setScrollingContainerRef=n._setScrollingContainerRef.bind(n),n._onScroll=n._onScroll.bind(n),n}return xr()(Masonry,e),Cr()(Masonry,[{key:"clearCellPositions",value:function clearCellPositions(){this._positionCache=new gr,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,t))}},{key:"recomputeCellPositions",value:function recomputeCellPositions(){var e=this._positionCache.count-1;this._positionCache=new gr,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function componentDidMount(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._debounceResetIsScrollingId&&clearTimeout(this._debounceResetIsScrollingId)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){this.props.scrollTop!==e.scrollTop&&(this._debounceResetIsScrolling(),this.setState({isScrolling:!0,scrollTop:e.scrollTop}))}},{key:"render",value:function render(){var e=this,t=this.props,n=t.autoHeight,r=t.cellCount,i=t.cellMeasurerCache,o=t.cellRenderer,a=t.className,s=t.height,c=t.id,u=t.keyMapper,l=t.overscanByPixels,d=t.role,p=t.style,h=t.tabIndex,f=t.width,g=this.state,m=g.isScrolling,v=g.scrollTop,y=[],_=this._getEstimatedTotalHeight(),b=this._positionCache.shortestColumnSize,S=this._positionCache.count;if(b<v+s+l&&S<r)for(var w=Math.min(r-S,Math.ceil((v+s+l-b)/i.defaultHeight*f/i.defaultWidth)),C=S;C<S+w;C++)y.push(o({index:C,isScrolling:m,key:u(C),parent:this,style:{width:i.getWidth(C)}}));else!function(){var t=void 0,n=void 0;e._positionCache.range(v-l,s+l,function(r,a,s){void 0===n?(n=r,t=r):(n=Math.min(n,r),t=Math.max(t,r)),y.push(o({index:r,isScrolling:m,key:u(r),parent:e,style:{height:i.getHeight(r),left:a,position:"absolute",top:s,width:i.getWidth(r)}})),e._startIndex=n,e._stopIndex=t})}();return Rr.a.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Pr()("ReactVirtualized__Masonry",a),id:c,onScroll:this._onScroll,role:d,style:vr()({boxSizing:"border-box",direction:"ltr",height:n?"auto":s,overflowX:"hidden",overflowY:_<s?"hidden":"auto",position:"relative",width:f,WebkitOverflowScrolling:"touch",willChange:"transform"},p),tabIndex:h},Rr.a.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:_,maxWidth:"100%",maxHeight:_,overflow:"hidden",pointerEvents:m?"none":"",position:"relative"}},y))}},{key:"_checkInvalidateOnUpdate",value:function _checkInvalidateOnUpdate(){if("number"==typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function _debounceResetIsScrolling(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&clearTimeout(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=setTimeout(this._debounceResetIsScrollingCallback,e)}},{key:"_debounceResetIsScrollingCallback",value:function _debounceResetIsScrollingCallback(){this.setState({isScrolling:!1})}},{key:"_getEstimatedTotalHeight",value:function _getEstimatedTotalHeight(){var e=this.props,t=e.cellCount,n=e.cellMeasurerCache,r=e.width,i=Math.floor(r/n.defaultWidth);return this._positionCache.estimateTotalHeight(t,i,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function _invokeOnScrollCallback(){var e=this.props,t=e.height,n=e.onScroll,r=this.state.scrollTop;this._onScrollMemoized!==r&&(n({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:r}),this._onScrollMemoized=r)}},{key:"_invokeOnCellsRenderedCallback",value:function _invokeOnCellsRenderedCallback(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function _populatePositionCache(e,t){for(var n=this.props,r=n.cellMeasurerCache,i=n.cellPositioner,o=e;o<=t;o++){var a=i(o),s=a.left,c=a.top;this._positionCache.setPosition(o,s,c,r.getHeight(o))}}},{key:"_setScrollingContainerRef",value:function _setScrollingContainerRef(e){this._scrollingContainer=e}},{key:"_onScroll",value:function _onScroll(e){var t=this.props.height,n=e.target.scrollTop,r=Math.min(Math.max(0,this._getEstimatedTotalHeight()-t),n);n===r&&(this._debounceResetIsScrolling(),this.state.scrollTop!==r&&this.setState({isScrolling:!0,scrollTop:r}))}}]),Masonry}(Ir.PureComponent);Nr.defaultProps={autoHeight:!1,keyMapper:identity,onCellsRendered:noop,onScroll:noop,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:Ar,tabIndex:0};var Dr=Nr,Lr=n(69),Fr=n.n(Lr),Ur=n(78),jr=n.n(Ur),Wr=function(){function CellMeasurerCacheDecorator(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Fr()(this,CellMeasurerCacheDecorator),this.columnWidth=function(t){var n=t.index;e._cellMeasurerCache.columnWidth({index:n+e._columnIndexOffset})},this.rowHeight=function(t){var n=t.index;e._cellMeasurerCache.rowHeight({index:n+e._rowIndexOffset})};var n=t.cellMeasurerCache,r=t.columnIndexOffset,i=void 0===r?0:r,o=t.rowIndexOffset,a=void 0===o?0:o;this._cellMeasurerCache=n,this._columnIndexOffset=i,this._rowIndexOffset=a}return jr()(CellMeasurerCacheDecorator,[{key:"clear",value:function clear(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"clearAll",value:function clearAll(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function hasFixedHeight(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function hasFixedWidth(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function getHeight(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"getWidth",value:function getWidth(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"has",value:function has(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"set",value:function set(e,t,n,r){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,n,r)}},{key:"defaultHeight",get:function get(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function get(){return this._cellMeasurerCache.defaultWidth}}]),CellMeasurerCacheDecorator}(),Br=n(282),Hr=n.n(Br),zr=n(791),qr=n.n(zr),Vr=n(105),Gr=n.n(Vr),$r=n(69),Xr=n.n($r),Kr=n(78),Yr=n.n(Kr),Qr=n(106),Jr=n.n(Qr),Zr=n(107),ei=n.n(Zr),ti=n(17),ni=n.n(ti),ri=n(1),ii=n.n(ri),oi=20,ai=function(e){function MultiGrid(e,t){Xr()(this,MultiGrid);var n=Jr()(this,(MultiGrid.__proto__||Gr()(MultiGrid)).call(this,e,t));return n.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._bottomLeftGridRef=n._bottomLeftGridRef.bind(n),n._bottomRightGridRef=n._bottomRightGridRef.bind(n),n._cellRendererBottomLeftGrid=n._cellRendererBottomLeftGrid.bind(n),n._cellRendererBottomRightGrid=n._cellRendererBottomRightGrid.bind(n),n._cellRendererTopRightGrid=n._cellRendererTopRightGrid.bind(n),n._columnWidthRightGrid=n._columnWidthRightGrid.bind(n),n._onScroll=n._onScroll.bind(n),n._onScrollbarPresenceChange=n._onScrollbarPresenceChange.bind(n),n._onScrollLeft=n._onScrollLeft.bind(n),n._onScrollTop=n._onScrollTop.bind(n),n._rowHeightBottomGrid=n._rowHeightBottomGrid.bind(n),n._topLeftGridRef=n._topLeftGridRef.bind(n),n._topRightGridRef=n._topRightGridRef.bind(n),n}return ei()(MultiGrid,e),Yr()(MultiGrid,[{key:"forceUpdateGrids",value:function forceUpdateGrids(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function invalidateCellSizeAfterRender(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,i):i}},{key:"measureAllCells",value:function measureAllCells(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function recomputeGridSize(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r,o=this.props,a=o.fixedColumnCount,s=o.fixedRowCount,c=Math.max(0,n-a),u=Math.max(0,i-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:u}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:c,rowIndex:u}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:i}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:c,rowIndex:i}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(null,this.props,null,this.state)}},{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.scrollLeft,n=e.scrollTop;if(t>0||n>0){var r={};t>0&&(r.scrollLeft=t),n>0&&(r.scrollTop=n),this.setState(r)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){this._handleInvalidatedGridSize()}},{key:"componentWillMount",value:function componentWillMount(){var e=this.props,t=e.deferredMeasurementCache,n=e.fixedColumnCount,r=e.fixedRowCount;this._maybeCalculateCachedStyles(null,this.props,null,this.state),t&&(this._deferredMeasurementCacheBottomLeftGrid=r>0?new Wr({cellMeasurerCache:t,columnIndexOffset:0,rowIndexOffset:r}):t,this._deferredMeasurementCacheBottomRightGrid=n>0||r>0?new Wr({cellMeasurerCache:t,columnIndexOffset:n,rowIndexOffset:r}):t,this._deferredMeasurementCacheTopRightGrid=n>0?new Wr({cellMeasurerCache:t,columnIndexOffset:n,rowIndexOffset:0}):t)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e,t){var n=this.props,r=n.columnWidth,i=n.fixedColumnCount,o=n.fixedRowCount,a=n.rowHeight;if(r===e.columnWidth&&i===e.fixedColumnCount||(this._leftGridWidth=null),o===e.fixedRowCount&&a===e.rowHeight||(this._topGridHeight=null),e.scrollLeft!==this.props.scrollLeft||e.scrollTop!==this.props.scrollTop){var s={};null!=e.scrollLeft&&e.scrollLeft>=0&&(s.scrollLeft=e.scrollLeft),null!=e.scrollTop&&e.scrollTop>=0&&(s.scrollTop=e.scrollTop),this.setState(s)}this._maybeCalculateCachedStyles(this.props,e,this.state,t)}},{key:"render",value:function render(){var e=this.props,t=e.onScroll,n=e.onSectionRendered,r=e.scrollLeft,i=e.scrollToColumn,o=e.scrollTop,a=e.scrollToRow,s=qr()(e,["onScroll","onSectionRendered","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(0===this.props.width||0===this.props.height)return null;var c=this.state,u=c.scrollLeft,l=c.scrollTop;return ii.a.createElement("div",{style:this._containerOuterStyle},ii.a.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(s),this._renderTopRightGrid(Hr()({},s,{onScroll:t,scrollLeft:u}))),ii.a.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Hr()({},s,{onScroll:t,scrollTop:l})),this._renderBottomRightGrid(Hr()({},s,{onScroll:t,onSectionRendered:n,scrollLeft:u,scrollToColumn:i,scrollToRow:a,scrollTop:l}))))}},{key:"_bottomLeftGridRef",value:function _bottomLeftGridRef(e){this._bottomLeftGrid=e}},{key:"_bottomRightGridRef",value:function _bottomRightGridRef(e){this._bottomRightGrid=e}},{key:"_cellRendererBottomLeftGrid",value:function _cellRendererBottomLeftGrid(e){var t=e.rowIndex,n=qr()(e,["rowIndex"]),r=this.props,i=r.cellRenderer,o=r.fixedRowCount;return t===r.rowCount-o?ii.a.createElement("div",{key:n.key,style:Hr()({},n.style,{height:20})}):i(Hr()({},n,{parent:this,rowIndex:t+o}))}},{key:"_cellRendererBottomRightGrid",value:function _cellRendererBottomRightGrid(e){var t=e.columnIndex,n=e.rowIndex,r=qr()(e,["columnIndex","rowIndex"]),i=this.props,o=i.cellRenderer,a=i.fixedColumnCount,s=i.fixedRowCount;return o(Hr()({},r,{columnIndex:t+a,parent:this,rowIndex:n+s}))}},{key:"_cellRendererTopRightGrid",value:function _cellRendererTopRightGrid(e){var t=e.columnIndex,n=qr()(e,["columnIndex"]),r=this.props,i=r.cellRenderer,o=r.columnCount,a=r.fixedColumnCount;return t===o-a?ii.a.createElement("div",{key:n.key,style:Hr()({},n.style,{width:20})}):i(Hr()({},n,{columnIndex:t+a,parent:this}))}},{key:"_columnWidthRightGrid",value:function _columnWidthRightGrid(e){var t=e.index,n=this.props,r=n.columnCount,i=n.fixedColumnCount,o=n.columnWidth,a=this.state,s=a.scrollbarSize;return a.showHorizontalScrollbar&&t===r-i?s:"function"==typeof o?o({index:t+i}):o}},{key:"_getBottomGridHeight",value:function _getBottomGridHeight(e){return e.height-this._getTopGridHeight(e)}},{key:"_getLeftGridWidth",value:function _getLeftGridWidth(e){var t=e.fixedColumnCount,n=e.columnWidth;if(null==this._leftGridWidth)if("function"==typeof n){for(var r=0,i=0;i<t;i++)r+=n({index:i});this._leftGridWidth=r}else this._leftGridWidth=n*t;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function _getRightGridWidth(e){return e.width-this._getLeftGridWidth(e)}},{key:"_getTopGridHeight",value:function _getTopGridHeight(e){var t=e.fixedRowCount,n=e.rowHeight;if(null==this._topGridHeight)if("function"==typeof n){for(var r=0,i=0;i<t;i++)r+=n({index:i});this._topGridHeight=r}else this._topGridHeight=n*t;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function _handleInvalidatedGridSize(){if("number"==typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function _maybeCalculateCachedStyles(e,t,n,r){var i=t.columnWidth,o=t.enableFixedColumnScroll,a=t.enableFixedRowScroll,s=t.height,c=t.fixedColumnCount,u=t.fixedRowCount,l=t.rowHeight,d=t.style,p=t.styleBottomLeftGrid,h=t.styleBottomRightGrid,f=t.styleTopLeftGrid,g=t.styleTopRightGrid,m=t.width,v=!e,y=v||s!==e.height||m!==e.width,_=v||i!==e.columnWidth||c!==e.fixedColumnCount,b=v||u!==e.fixedRowCount||l!==e.rowHeight;(v||y||d!==e.style)&&(this._containerOuterStyle=Hr()({height:s,overflow:"visible",width:m},d)),(v||y||b)&&(this._containerTopStyle={height:this._getTopGridHeight(t),position:"relative",width:m},this._containerBottomStyle={height:s-this._getTopGridHeight(t),overflow:"visible",position:"relative",width:m}),(v||p!==e.styleBottomLeftGrid)&&(this._bottomLeftGridStyle=Hr()({left:0,overflowX:"hidden",overflowY:o?"auto":"hidden",position:"absolute"},p)),(v||_||h!==e.styleBottomRightGrid)&&(this._bottomRightGridStyle=Hr()({left:this._getLeftGridWidth(t),position:"absolute"},h)),(v||f!==e.styleTopLeftGrid)&&(this._topLeftGridStyle=Hr()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},f)),(v||_||g!==e.styleTopRightGrid)&&(this._topRightGridStyle=Hr()({left:this._getLeftGridWidth(t),overflowX:a?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},g))}},{key:"_onScroll",value:function _onScroll(e){var t=e.scrollLeft,n=e.scrollTop;this.setState({scrollLeft:t,scrollTop:n});var r=this.props.onScroll;r&&r(e)}},{key:"_onScrollbarPresenceChange",value:function _onScrollbarPresenceChange(e){var t=e.horizontal,n=e.size,r=e.vertical,i=this.state,o=i.showHorizontalScrollbar,a=i.showVerticalScrollbar;t===o&&r===a||this.setState({scrollbarSize:n,showHorizontalScrollbar:t,showVerticalScrollbar:r})}},{key:"_onScrollLeft",value:function _onScrollLeft(e){var t=e.scrollLeft;this._onScroll({scrollLeft:t,scrollTop:this.state.scrollTop})}},{key:"_onScrollTop",value:function _onScrollTop(e){var t=e.scrollTop;this._onScroll({scrollTop:t,scrollLeft:this.state.scrollLeft})}},{key:"_renderBottomLeftGrid",value:function _renderBottomLeftGrid(e){var t=e.enableFixedColumnScroll,n=e.fixedColumnCount,r=e.fixedRowCount,i=e.rowCount,o=e.scrollTop,a=this.state.showVerticalScrollbar;if(!n)return null;var s=a?1:0;return ii.a.createElement(pn,Hr()({},e,{cellRenderer:this._cellRendererBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:this._getBottomGridHeight(e),onScroll:t?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,i-r)+s,rowHeight:this._rowHeightBottomGrid,scrollTop:o,style:this._bottomLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)}))}},{key:"_renderBottomRightGrid",value:function _renderBottomRightGrid(e){var t=e.columnCount,n=e.fixedColumnCount,r=e.fixedRowCount,i=e.rowCount,o=e.scrollToColumn,a=e.scrollToRow;return ii.a.createElement(pn,Hr()({},e,{cellRenderer:this._cellRendererBottomRightGrid,columnCount:Math.max(0,t-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,i-r),rowHeight:this._rowHeightBottomGrid,scrollToColumn:o-n,scrollToRow:a-r,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function _renderTopLeftGrid(e){var t=e.fixedColumnCount,n=e.fixedRowCount;return t&&n?ii.a.createElement(pn,Hr()({},e,{columnCount:t,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderTopRightGrid",value:function _renderTopRightGrid(e){var t=e.columnCount,n=e.enableFixedRowScroll,r=e.fixedColumnCount,i=e.fixedRowCount,o=e.scrollLeft,a=this.state.showHorizontalScrollbar;if(!i)return null;var s=a?1:0;return ii.a.createElement(pn,Hr()({},e,{cellRenderer:this._cellRendererTopRightGrid,columnCount:Math.max(0,t-r)+s,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:this._getTopGridHeight(e),onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:i,scrollLeft:o,style:this._topRightGridStyle,tabIndex:null,width:this._getRightGridWidth(e)}))}},{key:"_rowHeightBottomGrid",value:function _rowHeightBottomGrid(e){var t=e.index,n=this.props,r=n.fixedRowCount,i=n.rowCount,o=n.rowHeight,a=this.state,s=a.scrollbarSize;return a.showVerticalScrollbar&&t===i-r?s:"function"==typeof o?o({index:t+r}):o}},{key:"_topLeftGridRef",value:function _topLeftGridRef(e){this._topLeftGrid=e}},{key:"_topRightGridRef",value:function _topRightGridRef(e){this._topRightGrid=e}}]),MultiGrid}(ri.PureComponent);ai.defaultProps={enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{}};var si=ai,ci=n(105),ui=n.n(ci),li=n(69),di=n.n(li),pi=n(78),hi=n.n(pi),fi=n(106),gi=n.n(fi),mi=n(107),vi=n.n(mi),yi=n(17),_i=n.n(yi),bi=n(1),Si=n.n(bi),wi=function(e){function ScrollSync(e,t){di()(this,ScrollSync);var n=gi()(this,(ScrollSync.__proto__||ui()(ScrollSync)).call(this,e,t));return n.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},n._onScroll=n._onScroll.bind(n),n}return vi()(ScrollSync,e),hi()(ScrollSync,[{key:"render",value:function render(){var e=this.props.children,t=this.state,n=t.clientHeight,r=t.clientWidth,i=t.scrollHeight,o=t.scrollLeft,a=t.scrollTop,s=t.scrollWidth;return e({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:i,scrollLeft:o,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function _onScroll(e){var t=e.clientHeight,n=e.clientWidth,r=e.scrollHeight,i=e.scrollLeft,o=e.scrollTop,a=e.scrollWidth;this.setState({clientHeight:t,clientWidth:n,scrollHeight:r,scrollLeft:i,scrollTop:o,scrollWidth:a})}}]),ScrollSync}(bi.PureComponent),Ci=wi,Ti={ASC:"ASC",DESC:"DESC"},Ei=n(15),ki=n.n(Ei),xi=n(17),Ii=n.n(xi),Ri=n(1),Oi=n.n(Ri),Pi=n(1),Ai=n.n(Pi),Mi=n(105),Ni=n.n(Mi),Di=n(69),Li=n.n(Di),Fi=n(106),Ui=n.n(Fi),ji=n(107),Wi=n.n(ji),Bi=n(17),Hi=n.n(Bi),zi=n(1),qi=n.n(zi),Vi=function(e){function Column(){return Li()(this,Column),Ui()(this,(Column.__proto__||Ni()(Column)).apply(this,arguments))}return Wi()(Column,e),Column}(zi.Component);Vi.defaultProps={cellDataGetter:defaultCellDataGetter,cellRenderer:defaultCellRenderer,flexGrow:0,flexShrink:1,headerRenderer:defaultHeaderRenderer,style:{}};var Gi=Vi,$i=n(282),Xi=n.n($i),Ki=n(1),Yi=n.n(Ki),Qi=n(1),Ji=n.n(Qi),Zi=n(282),eo=n.n(Zi),to=n(105),no=n.n(to),ro=n(69),io=n.n(ro),oo=n(78),ao=n.n(oo),so=n(106),co=n.n(so),uo=n(107),lo=n.n(uo),po=n(15),ho=n.n(po),fo=n(17),go=n.n(fo),mo=n(1),vo=n.n(mo),yo=n(72),_o=n.n(yo),bo=function(e){function Table(e){io()(this,Table);var t=co()(this,(Table.__proto__||no()(Table)).call(this,e));return t.state={scrollbarWidth:0},t._createColumn=t._createColumn.bind(t),t._createRow=t._createRow.bind(t),t._onScroll=t._onScroll.bind(t),t._onSectionRendered=t._onSectionRendered.bind(t),t._setRef=t._setRef.bind(t),t}return lo()(Table,e),ao()(Table,[{key:"forceUpdateGrid",value:function forceUpdateGrid(){this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function getOffsetForRow(e){var t=e.alignment,n=e.index;return this.Grid.getOffsetForCell({alignment:t,rowIndex:n}).scrollTop}},{key:"measureAllRows",value:function measureAllRows(){this.Grid.measureAllCells()}},{key:"recomputeRowHeights",value:function recomputeRowHeights(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function scrollToPosition(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function scrollToRow(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"componentDidMount",value:function componentDidMount(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._setScrollbarWidth()}},{key:"render",value:function render(){var e=this,t=this.props,n=t.children,r=t.className,i=t.disableHeader,o=t.gridClassName,a=t.gridStyle,s=t.headerHeight,c=t.headerRowRenderer,u=t.height,l=t.id,d=t.noRowsRenderer,p=t.rowClassName,h=t.rowStyle,f=t.scrollToIndex,g=t.style,m=t.width,v=this.state.scrollbarWidth,y=i?u:u-s,_="function"==typeof p?p({index:-1}):p,b="function"==typeof h?h({index:-1}):h;return this._cachedColumnStyles=[],vo.a.Children.toArray(n).forEach(function(t,n){var r=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[n]=eo()({},r,{overflow:"hidden"})}),vo.a.createElement("div",{className:ho()("ReactVirtualized__Table",r),id:l,role:"grid",style:g},!i&&c({className:ho()("ReactVirtualized__Table__headerRow",_),columns:this._getHeaderColumns(),style:eo()({},b,{height:s,overflow:"hidden",paddingRight:v,width:m})}),vo.a.createElement(pn,eo()({},this.props,{autoContainerWidth:!0,className:ho()("ReactVirtualized__Table__Grid",o),cellRenderer:this._createRow,columnWidth:m,columnCount:1,height:y,id:void 0,noContentRenderer:d,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:v,scrollToRow:f,style:eo()({},a,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function _createColumn(e){var t=e.column,n=e.columnIndex,r=e.isScrolling,i=e.parent,o=e.rowData,a=e.rowIndex,s=t.props,c=s.cellDataGetter,u=s.cellRenderer,l=s.className,d=s.columnData,p=s.dataKey,h=s.id,f=u({cellData:c({columnData:d,dataKey:p,rowData:o}),columnData:d,columnIndex:n,dataKey:p,isScrolling:r,parent:i,rowData:o,rowIndex:a}),g=this._cachedColumnStyles[n],m="string"==typeof f?f:null,v={role:"gridcell"};return h&&(v["aria-describedby"]=h),vo.a.createElement("div",eo()({},v,{key:"Row"+a+"-Col"+n,className:ho()("ReactVirtualized__Table__rowColumn",l),style:g,title:m}),f)}},{key:"_createHeader",value:function _createHeader(e){var t=e.column,n=e.index,r=this.props,i=r.headerClassName,o=r.headerStyle,a=r.onHeaderClick,s=r.sort,c=r.sortBy,u=r.sortDirection,l=t.props,d=l.dataKey,p=l.disableSort,h=l.headerRenderer,f=l.id,g=l.label,m=l.columnData,v=!p&&s,y=ho()("ReactVirtualized__Table__headerColumn",i,t.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:v}),_=this._getFlexStyleForColumn(t,o),b=h({columnData:m,dataKey:d,disableSort:p,label:g,sortBy:c,sortDirection:u}),S={role:"columnheader"};return(v||a)&&function(){var e=c!==d||u===Ti.DESC?Ti.ASC:Ti.DESC,n=function onClick(t){v&&s({sortBy:d,sortDirection:e}),a&&a({columnData:m,dataKey:d,event:t})},r=function onKeyDown(e){"Enter"!==e.key&&" "!==e.key||n(e)};S["aria-label"]=t.props["aria-label"]||g||d,S.tabIndex=0,S.onClick=n,S.onKeyDown=r}(),c===d&&(S["aria-sort"]=u===Ti.ASC?"ascending":"descending"),f&&(S.id=f),vo.a.createElement("div",eo()({},S,{key:"Header-Col"+n,className:y,style:_}),b)}},{key:"_createRow",value:function _createRow(e){var t=this,n=e.rowIndex,r=e.isScrolling,i=e.key,o=e.parent,a=e.style,s=this.props,c=s.children,u=s.onRowClick,l=s.onRowDoubleClick,d=s.onRowMouseOver,p=s.onRowMouseOut,h=s.rowClassName,f=s.rowGetter,g=s.rowRenderer,m=s.rowStyle,v=this.state.scrollbarWidth,y="function"==typeof h?h({index:n}):h,_="function"==typeof m?m({index:n}):m,b=f({index:n}),S=vo.a.Children.toArray(c).map(function(e,i){return t._createColumn({column:e,columnIndex:i,isScrolling:r,parent:o,rowData:b,rowIndex:n,scrollbarWidth:v})}),w=ho()("ReactVirtualized__Table__row",y),C=eo()({},a,_,{height:this._getRowHeight(n),overflow:"hidden",paddingRight:v});return g({className:w,columns:S,index:n,isScrolling:r,key:i,onRowClick:u,onRowDoubleClick:l,onRowMouseOver:d,onRowMouseOut:p,rowData:b,style:C})}},{key:"_getFlexStyleForColumn",value:function _getFlexStyleForColumn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.props.flexGrow+" "+e.props.flexShrink+" "+e.props.width+"px",r=eo()({},t,{flex:n,msFlex:n,WebkitFlex:n});return e.props.maxWidth&&(r.maxWidth=e.props.maxWidth),e.props.minWidth&&(r.minWidth=e.props.minWidth),r}},{key:"_getHeaderColumns",value:function _getHeaderColumns(){var e=this,t=this.props,n=t.children;return(t.disableHeader?[]:vo.a.Children.toArray(n)).map(function(t,n){return e._createHeader({column:t,index:n})})}},{key:"_getRowHeight",value:function _getRowHeight(e){var t=this.props.rowHeight;return"function"==typeof t?t({index:e}):t}},{key:"_onScroll",value:function _onScroll(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function _onSectionRendered(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,r=e.rowStartIndex,i=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:r,stopIndex:i})}},{key:"_setRef",value:function _setRef(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function _setScrollbarWidth(){var e=Object(yo.findDOMNode)(this.Grid),t=e.clientWidth||0,n=(e.offsetWidth||0)-t;this.setState({scrollbarWidth:n})}}]),Table}(mo.PureComponent);bo.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function noRowsRenderer(){return null},onRowsRendered:function onRowsRendered(){return null},onScroll:function onScroll(){return null},overscanIndicesGetter:accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter,overscanRowCount:10,rowRenderer:defaultRowRenderer,headerRowRenderer:defaultHeaderRowRenderer,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var So=bo,wo=[],Co=null,To=null,Eo=n(105),ko=n.n(Eo),xo=n(69),Io=n.n(xo),Ro=n(78),Oo=n.n(Ro),Po=n(106),Ao=n.n(Po),Mo=n(107),No=n.n(Mo),Do=n(17),Lo=n.n(Do),Fo=n(1),Uo=n.n(Fo),jo=n(72),Wo=n.n(jo),Bo=150,Ho=function(e){function WindowScroller(e){Io()(this,WindowScroller);var t=Ao()(this,(WindowScroller.__proto__||ko()(WindowScroller)).call(this,e)),n="undefined"!=typeof window?getDimensions(e.scrollElement||window):{width:0,height:0},r=n.width,i=n.height;return t.state={height:i,width:r,isScrolling:!1,scrollLeft:0,scrollTop:0},t._onResize=t._onResize.bind(t),t._onChildScroll=t._onChildScroll.bind(t),t.__handleWindowScrollEvent=t.__handleWindowScrollEvent.bind(t),t.__resetIsScrolling=t.__resetIsScrolling.bind(t),t}return No()(WindowScroller,e),Oo()(WindowScroller,[{key:"updatePosition",value:function updatePosition(e){var t=this.props.onResize,n=this.state,r=n.height,i=n.width;e=e||this.props.scrollElement||window;var o=getPositionOffset(Wo.a.findDOMNode(this),e);this._positionFromTop=o.top,this._positionFromLeft=o.left;var a=getDimensions(e);r===a.height&&i===a.width||(this.setState({height:a.height,width:a.width}),t({height:a.height,width:a.width}))}},{key:"componentDidMount",value:function componentDidMount(){var e=this.props.scrollElement||window;this.updatePosition(e),registerScrollListener(this,e),window.addEventListener("resize",this._onResize,!1),this._isMounted=!0}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=this.props.scrollElement||window,n=e.scrollElement||window;t!==n&&(this.updatePosition(n),unregisterScrollListener(this,t),registerScrollListener(this,n))}},{key:"componentWillUnmount",value:function componentWillUnmount(){unregisterScrollListener(this,this.props.scrollElement||window),window.removeEventListener("resize",this._onResize,!1),this._isMounted=!1}},{key:"render",value:function render(){var e=this.props.children,t=this.state,n=t.isScrolling,r=t.scrollTop,i=t.scrollLeft,o=t.height,a=t.width;return e({onChildScroll:this._onChildScroll,height:o,isScrolling:n,scrollLeft:i,scrollTop:r,width:a})}},{key:"_onChildScroll",value:function _onChildScroll(e){var t=e.scrollTop;if(this.state.scrollTop!==t){var n=this.scrollElement;"function"==typeof n.scrollTo?n.scrollTo(0,t+this._positionFromTop):n.scrollTop=t+this._positionFromTop}}},{key:"_onResize",value:function _onResize(e){this.updatePosition()}},{key:"__handleWindowScrollEvent",value:function __handleWindowScrollEvent(e){if(this._isMounted){var t=this.props.onScroll,n=getScrollOffset(this.props.scrollElement||window),r=Math.max(0,n.left-this._positionFromLeft),i=Math.max(0,n.top-this._positionFromTop);this.setState({isScrolling:!0,scrollLeft:r,scrollTop:i}),t({scrollLeft:r,scrollTop:i})}}},{key:"__resetIsScrolling",value:function __resetIsScrolling(){this.setState({isScrolling:!1})}},{key:"scrollElement",get:function get(){return this.props.scrollElement||window}}]),WindowScroller}(Fo.PureComponent);Ho.defaultProps={onResize:function onResize(){},onScroll:function onScroll(){},scrollingResetTimeInterval:150};var zo=Ho;n.d(t,"ArrowKeyStepper",function(){return y}),n.d(t,"AutoSizer",function(){return N}),n.d(t,"CellMeasurer",function(){return Y}),n.d(t,"CellMeasurerCache",function(){return re}),n.d(t,"Collection",function(){return ct}),n.d(t,"ColumnSizer",function(){return Tt}),n.d(t,"accessibilityOverscanIndicesGetter",function(){return accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter}),n.d(t,"defaultCellRangeRenderer",function(){return defaultCellRangeRenderer}),n.d(t,"defaultOverscanIndicesGetter",function(){return defaultOverscanIndicesGetter}),n.d(t,"Grid",function(){return pn}),n.d(t,"InfiniteLoader",function(){return An}),n.d(t,"List",function(){return nr}),n.d(t,"createMasonryCellPositioner",function(){return createCellPositioner}),n.d(t,"Masonry",function(){return Dr}),n.d(t,"MultiGrid",function(){return si}),n.d(t,"ScrollSync",function(){return Ci}),n.d(t,"defaultTableCellDataGetter",function(){return defaultCellDataGetter}),n.d(t,"defaultTableCellRenderer",function(){return defaultCellRenderer}),n.d(t,"defaultTableHeaderRenderer",function(){return defaultHeaderRenderer}),n.d(t,"defaultTableHeaderRowRenderer",function(){return defaultHeaderRowRenderer}),n.d(t,"defaultTableRowRenderer",function(){return defaultRowRenderer}),n.d(t,"Table",function(){return So}),n.d(t,"Column",function(){return Gi}),n.d(t,"SortDirection",function(){return Ti}),n.d(t,"SortIndicator",function(){return SortIndicator}),n.d(t,"WindowScroller",function(){return zo})},function(e,t,n){n(1433),e.exports=n(125).Object.getPrototypeOf},function(e,t,n){var r=n(787),i=n(1047);n(845)("getPrototypeOf",function(){return function getPrototypeOf(e){return i(r(e))}})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports={default:n(1436),__esModule:!0}},function(e,t,n){n(1437);var r=n(125).Object;e.exports=function defineProperty(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(305);r(r.S+r.F*!n(307),"Object",{defineProperty:n(306).f})},function(e,t,n){e.exports={default:n(1439),__esModule:!0}},function(e,t,n){n(847),n(854),e.exports=n(855).f("iterator")},function(e,t,n){var r=n(848),i=n(842);e.exports=function(e){return function(t,n){var o=String(i(t)),a=r(n),s=o.length,c,u;return a<0||a>=s?e?"":void 0:(c=o.charCodeAt(a))<55296||c>56319||a+1===s||(u=o.charCodeAt(a+1))<56320||u>57343?e?o.charAt(a):c:e?o.slice(a,a+2):u-56320+(c-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(850),i=n(789),o=n(853),a={};n(340)(a,n(208)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(306),i=n(341),o=n(660);e.exports=n(307)?Object.defineProperties:function defineProperties(e,t){i(e);for(var n=o(t),a=n.length,s=0,c;a>s;)r.f(e,c=n[s++],t[c]);return e}},function(e,t,n){var r=n(308),i=n(1444),o=n(1445);e.exports=function(e){return function(t,n,a){var s=r(t),c=i(s.length),u=o(a,c),l;if(e&&n!=n){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(848),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(848),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(281).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";var r=n(1448),i=n(1449),o=n(659),a=n(308);e.exports=n(1052)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(1451),__esModule:!0}},function(e,t,n){n(1452),n(1457),n(1458),n(1459),e.exports=n(125).Symbol},function(e,t,n){"use strict";var r=n(281),i=n(304),o=n(307),a=n(305),s=n(1053),c=n(1453).KEY,u=n(342),l=n(844),d=n(853),p=n(788),h=n(208),f=n(855),g=n(856),m=n(1454),v=n(1455),y=n(341),_=n(308),b=n(846),S=n(789),w=n(850),C=n(1456),T=n(858),E=n(306),k=n(660),x=T.f,I=E.f,R=C.f,O=r.Symbol,P=r.JSON,A=P&&P.stringify,M="prototype",N=h("_hidden"),D=h("toPrimitive"),L={}.propertyIsEnumerable,F=l("symbol-registry"),U=l("symbols"),j=l("op-symbols"),W=Object[M],B="function"==typeof O,H=r.QObject,z=!H||!H[M]||!H[M].findChild,q=o&&u(function(){return 7!=w(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=x(W,t);r&&delete W[t],I(e,t,n),r&&e!==W&&I(W,t,r)}:I,V=function(e){var t=U[e]=w(O[M]);return t._k=e,t},G=B&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},$=function defineProperty(e,t,n){return e===W&&$(j,t,n),y(e),t=b(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=w(n,{enumerable:S(0,!1)})):(i(e,N)||I(e,N,S(1,{})),e[N][t]=!0),q(e,t,n)):I(e,t,n)},X=function defineProperties(e,t){y(e);for(var n=m(t=_(t)),r=0,i=n.length,o;i>r;)$(e,o=n[r++],t[o]);return e},K=function create(e,t){return void 0===t?w(e):X(w(e),t)},Y=function propertyIsEnumerable(e){var t=L.call(this,e=b(e,!0));return!(this===W&&i(U,e)&&!i(j,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,N)&&this[N][e])||t)},Q=function getOwnPropertyDescriptor(e,t){if(e=_(e),t=b(t,!0),e!==W||!i(U,t)||i(j,t)){var n=x(e,t);return!n||!i(U,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},J=function getOwnPropertyNames(e){for(var t=R(_(e)),n=[],r=0,o;t.length>r;)i(U,o=t[r++])||o==N||o==c||n.push(o);return n},Z=function getOwnPropertySymbols(e){for(var t=e===W,n=R(t?j:_(e)),r=[],o=0,a;n.length>o;)!i(U,a=n[o++])||t&&!i(W,a)||r.push(U[a]);return r};B||(s((O=function Symbol(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===W&&t.call(j,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),q(this,e,S(1,n))};return o&&z&&q(W,e,{configurable:!0,set:t}),V(e)})[M],"toString",function toString(){return this._k}),T.f=Q,E.f=$,n(1056).f=C.f=J,n(790).f=Y,n(857).f=Z,o&&!n(849)&&s(W,"propertyIsEnumerable",Y,!0),f.f=function(e){return V(h(e))}),a(a.G+a.W+a.F*!B,{Symbol:O});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ne=k(h.store),re=0;ne.length>re;)g(ne[re++]);a(a.S+a.F*!B,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=O(e)},keyFor:function keyFor(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!B,"Object",{create:K,defineProperty:$,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),P&&a(a.S+a.F*(!B||u(function(){var e=O();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))})),"JSON",{stringify:function stringify(e){if(void 0!==e&&!G(e)){for(var t=[e],n=1,r,i;arguments.length>n;)t.push(arguments[n++]);return"function"==typeof(r=t[1])&&(i=r),!i&&v(r)||(r=function(e,t){if(i&&(t=i.call(this,e,t)),!G(t))return t}),t[1]=r,A.apply(P,t)}}}),O[M][D]||n(340)(O[M],D,O[M].valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(788)("meta"),i=n(658),o=n(304),a=n(306).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(342)(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},p=function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},h=function(e){return u&&f.NEED&&c(e)&&!o(e,r)&&l(e),e},f=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:p,onFreeze:h}},function(e,t,n){var r=n(660),i=n(857),o=n(790);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a=n(e),s=o.f,c=0,u;a.length>c;)s.call(e,u=a[c++])&&t.push(u);return t}},function(e,t,n){var r=n(851);e.exports=Array.isArray||function isArray(e){return"Array"==r(e)}},function(e,t,n){var r=n(308),i=n(1056).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function getOwnPropertyNames(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t){},function(e,t,n){n(856)("asyncIterator")},function(e,t,n){n(856)("observable")},function(e,t,n){e.exports={default:n(1461),__esModule:!0}},function(e,t,n){n(1462),e.exports=n(125).Object.setPrototypeOf},function(e,t,n){var r=n(305);r(r.S,"Object",{setPrototypeOf:n(1463).set})},function(e,t,n){var r=n(658),i=n(341),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(1048)(Function.call,n(858).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function setPrototypeOf(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(1465),__esModule:!0}},function(e,t,n){n(1466);var r=n(125).Object;e.exports=function create(e,t){return r.create(e,t)}},function(e,t,n){var r=n(305);r(r.S,"Object",{create:n(850)})},function(e,t,n){e.exports={default:n(1468),__esModule:!0}},function(e,t,n){n(1469),e.exports=n(125).Object.assign},function(e,t,n){var r=n(305);r(r.S+r.F,"Object",{assign:n(1470)})},function(e,t,n){"use strict";var r=n(660),i=n(857),o=n(790),a=n(787),s=n(1055),c=Object.assign;e.exports=!c||n(342)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function assign(e,t){for(var n=a(e),c=arguments.length,u=1,l=i.f,d=o.f;c>u;)for(var p=s(arguments[u++]),h=l?r(p).concat(l(p)):r(p),f=h.length,g=0,m;f>g;)d.call(p,m=h[g++])&&(n[m]=p[m]);return n}:c},function(e,t,n){n(1472),e.exports=n(125).Object.keys},function(e,t,n){var r=n(787),i=n(660);n(845)("keys",function(){return function keys(e){return i(r(e))}})},function(e,t,n){e.exports={default:n(1474),__esModule:!0}},function(e,t,n){n(1475);var r=n(125).Object;e.exports=function getOwnPropertyDescriptor(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(308),i=n(858).f;n(845)("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(e,t){return i(r(e),t)}})},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=_interopRequireDefault(n(1477)),i=_interopRequireDefault(n(1480));t.default=function(){function sliceIterator(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s=(0,i.default)(e),c;!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(1478),__esModule:!0}},function(e,t,n){n(854),n(847),e.exports=n(1479)},function(e,t,n){var r=n(1059),i=n(208)("iterator"),o=n(659);e.exports=n(125).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(1481),__esModule:!0}},function(e,t,n){n(854),n(847),e.exports=n(1482)},function(e,t,n){var r=n(341),i=n(1483);e.exports=n(125).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(1059),i=n(208)("iterator"),o=n(659);e.exports=n(125).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.ConsoleLine=function(e){var t=e.message,n=e.style;return r.createElement("div",{className:"console-component--line console-component--line-"+t.type,style:n},t.data)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.ConsoleRunning=function(e){var t=e.style;return r.createElement("div",{className:"console-component--line-system",style:t},"Executing code...")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(1487),o=n(1488);t.ConsoleTestsWrapper=function(e){return e.tests&&!e.tests.showTests?r.createElement(i.ConsoleTestsRunning,null):r.createElement(o.ConsoleTestsResult,Object.assign({},e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.ConsoleTestsRunning=function(){return r.createElement("div",{className:"tests-wrapper"},r.createElement("div",{className:"tests-running"},r.createElement("span",{className:"console-component--line-system"},"Executing tests...")))}},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(15),a=n(806),s=n(721),c=n(941),u=n(1489),l=n(1505),d=n(1061),p=function(e){function ConsoleTestsResult(){_classCallCheck(this,ConsoleTestsResult);var e=_possibleConstructorReturn(this,(ConsoleTestsResult.__proto__||Object.getPrototypeOf(ConsoleTestsResult)).apply(this,arguments));return e.state={consoleHintShown:!1,activeIndex:0,isActive:!0},e.setRefTestsContainer=function(t){e.refTestsContainer=t},e.setRefTestsContent=function(t){e.refTestsContent=t},e.isOpened=function(t){var n=e.state,r=n.activeIndex,i=n.isActive;return r===t&&i},e.setActiveTestIndex=function(t){var n=e.state,r=n.activeIndex,i=n.isActive;e.setState({activeIndex:t,isActive:r!==t||!i})},e.consoleHintShown=function(){var t=e.refTestsContainer.getClientHeight(),n=e.refTestsContent.clientHeight;return e.props.consoleHintShown&&n>t},e}return _inherits(ConsoleTestsResult,e),r(ConsoleTestsResult,[{key:"componentDidMount",value:function componentDidMount(){var e=this,t=this.getActiveTestIndex(),n=this.consoleHintShown();this.setState({consoleHintShown:n,activeIndex:t},function(){n&&e.props.ackConsoleScroll()})}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return!c(e.tests,this.props.tests)||t.consoleHintShown!==this.state.consoleHintShown||this.activeTestChanged(t)}},{key:"render",value:function render(){var e=this,t=this.props.tests,n=t.passed,r=t.failed,s=t.wallTime,c=t.testResults,p=t.testErrors,h=t.meta,f=this.state.consoleHintShown,g=0===r?"green":"red";return i.createElement("div",{className:"tests-wrapper tests-wrapper_"+g},i.createElement("div",{className:"tests-summary-info"},i.createElement("span",null,"Time: ",s,"ms"),i.createElement("span",{className:o({green:n>0})},"Passed: ",n),i.createElement("span",{className:o({red:r>0})},"Failed: ",r)),i.createElement(u.Scrollbars,{ref:this.setRefTestsContainer},i.createElement("div",{className:"tests-content",ref:this.setRefTestsContent},h.map(function(t,n){return i.createElement("div",{key:a("test-")},i.createElement(l.TestItem,{title:"Test Case #"+(n+1),meta:t,test:c[n],testError:p?p[n]:null,opened:e.isOpened(n),onClick:function onClick(){return e.setActiveTestIndex(n)}}))})),i.createElement(d.ConsoleScrollHint,{visible:f})))}},{key:"getActiveTestIndex",value:function getActiveTestIndex(){var e=this.props.tests,t=e.testResults,n=e.failed;if(e.meta.length===n&&t.length)return 0;var r=s(t,{passed:!1});return r>=0?r:0}},{key:"activeTestChanged",value:function activeTestChanged(e){var t=e.activeIndex,n=e.isActive;return t!==this.state.activeIndex||n!==this.state.isActive}}]),ConsoleTestsResult}(i.Component);t.ConsoleTestsResult=p},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var r=_interopRequireDefault(n(1490));t.default=r.default,t.Scrollbars=r.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=n(1491),a=_interopRequireDefault(o),s=_interopRequireDefault(n(1060)),c=n(1),u=_interopRequireDefault(n(17)),l=_interopRequireDefault(n(1498)),d=_interopRequireDefault(n(1499)),p=_interopRequireDefault(n(1500)),h=_interopRequireDefault(n(1501)),f=_interopRequireDefault(n(1502)),g=n(1503),m=n(1504),v=function(e){function Scrollbars(e){var t;_classCallCheck(this,Scrollbars);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=_possibleConstructorReturn(this,(t=Scrollbars.__proto__||Object.getPrototypeOf(Scrollbars)).call.apply(t,[this,e].concat(r)));return o.getScrollLeft=o.getScrollLeft.bind(o),o.getScrollTop=o.getScrollTop.bind(o),o.getScrollWidth=o.getScrollWidth.bind(o),o.getScrollHeight=o.getScrollHeight.bind(o),o.getClientWidth=o.getClientWidth.bind(o),o.getClientHeight=o.getClientHeight.bind(o),o.getValues=o.getValues.bind(o),o.getThumbHorizontalWidth=o.getThumbHorizontalWidth.bind(o),o.getThumbVerticalHeight=o.getThumbVerticalHeight.bind(o),o.getScrollLeftForOffset=o.getScrollLeftForOffset.bind(o),o.getScrollTopForOffset=o.getScrollTopForOffset.bind(o),o.scrollLeft=o.scrollLeft.bind(o),o.scrollTop=o.scrollTop.bind(o),o.scrollToLeft=o.scrollToLeft.bind(o),o.scrollToTop=o.scrollToTop.bind(o),o.scrollToRight=o.scrollToRight.bind(o),o.scrollToBottom=o.scrollToBottom.bind(o),o.handleTrackMouseEnter=o.handleTrackMouseEnter.bind(o),o.handleTrackMouseLeave=o.handleTrackMouseLeave.bind(o),o.handleHorizontalTrackMouseDown=o.handleHorizontalTrackMouseDown.bind(o),o.handleVerticalTrackMouseDown=o.handleVerticalTrackMouseDown.bind(o),o.handleHorizontalThumbMouseDown=o.handleHorizontalThumbMouseDown.bind(o),o.handleVerticalThumbMouseDown=o.handleVerticalThumbMouseDown.bind(o),o.handleWindowResize=o.handleWindowResize.bind(o),o.handleScroll=o.handleScroll.bind(o),o.handleDrag=o.handleDrag.bind(o),o.handleDragEnd=o.handleDragEnd.bind(o),o.state={didMountUniversal:!1},o}return _inherits(Scrollbars,e),i(Scrollbars,[{key:"componentDidMount",value:function componentDidMount(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function componentDidMountUniversal(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.update()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.removeListeners(),(0,o.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function getScrollLeft(){return this.view.scrollLeft}},{key:"getScrollTop",value:function getScrollTop(){return this.view.scrollTop}},{key:"getScrollWidth",value:function getScrollWidth(){return this.view.scrollWidth}},{key:"getScrollHeight",value:function getScrollHeight(){return this.view.scrollHeight}},{key:"getClientWidth",value:function getClientWidth(){return this.view.clientWidth}},{key:"getClientHeight",value:function getClientHeight(){return this.view.clientHeight}},{key:"getValues",value:function getValues(){var e=this.view,t=e.scrollLeft,n=e.scrollTop,r=e.scrollWidth,i=e.scrollHeight,o=e.clientWidth,a=e.clientHeight;return{left:t/(r-o)||0,top:n/(i-a)||0,scrollLeft:t,scrollTop:n,scrollWidth:r,scrollHeight:i,clientWidth:o,clientHeight:a}}},{key:"getThumbHorizontalWidth",value:function getThumbHorizontalWidth(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollWidth,o=r.clientWidth,a=(0,h.default)(this.trackHorizontal),s=Math.ceil(o/i*a);return a===s?0:t||Math.max(s,n)}},{key:"getThumbVerticalHeight",value:function getThumbVerticalHeight(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollHeight,o=r.clientHeight,a=(0,f.default)(this.trackVertical),s=Math.ceil(o/i*a);return a===s?0:t||Math.max(s,n)}},{key:"getScrollLeftForOffset",value:function getScrollLeftForOffset(e){var t=this.view,n=t.scrollWidth,r=t.clientWidth;return e/((0,h.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-r)}},{key:"getScrollTopForOffset",value:function getScrollTopForOffset(e){var t=this.view,n=t.scrollHeight,r=t.clientHeight;return e/((0,f.default)(this.trackVertical)-this.getThumbVerticalHeight())*(n-r)}},{key:"scrollLeft",value:function scrollLeft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollLeft=e}},{key:"scrollTop",value:function scrollTop(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollTop=e}},{key:"scrollToLeft",value:function scrollToLeft(){this.view.scrollLeft=0}},{key:"scrollToTop",value:function scrollToTop(){this.view.scrollTop=0}},{key:"scrollToRight",value:function scrollToRight(){this.view.scrollLeft=this.view.scrollWidth}},{key:"scrollToBottom",value:function scrollToBottom(){this.view.scrollTop=this.view.scrollHeight}},{key:"addListeners",value:function addListeners(){if("undefined"!=typeof document){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),r.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function removeListeners(){if("undefined"!=typeof document){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),r.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function handleScroll(e){var t=this,n=this.props,r=n.onScroll,i=n.onScrollFrame;r&&r(e),this.update(function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,i&&i(e)}),this.detectScrolling()}},{key:"handleScrollStart",value:function handleScrollStart(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function handleScrollStartAutoHide(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function handleScrollStop(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function handleScrollStopAutoHide(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function handleWindowResize(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function handleHorizontalTrackMouseDown(e){e.preventDefault();var t=e.target,n=e.clientX,r=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),o=Math.abs(r-n)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}},{key:"handleVerticalTrackMouseDown",value:function handleVerticalTrackMouseDown(e){e.preventDefault();var t=e.target,n=e.clientY,r=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),o=Math.abs(r-n)-i/2;this.view.scrollTop=this.getScrollTopForOffset(o)}},{key:"handleHorizontalThumbMouseDown",value:function handleHorizontalThumbMouseDown(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=r-(n-i)}},{key:"handleVerticalThumbMouseDown",value:function handleVerticalThumbMouseDown(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=r-(n-i)}},{key:"setupDragging",value:function setupDragging(){(0,s.default)(document.body,g.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=p.default}},{key:"teardownDragging",value:function teardownDragging(){(0,s.default)(document.body,g.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function handleDragStart(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function handleDrag(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var r=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+r-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function handleDragEnd(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function handleDragEndAutoHide(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function handleTrackMouseEnter(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function handleTrackMouseEnterAutoHide(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function handleTrackMouseLeave(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function handleTrackMouseLeaveAutoHide(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function showTracks(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function hideTracks(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})},t)}}},{key:"detectScrolling",value:function detectScrolling(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop},100))}},{key:"raf",value:function raf(e){var t=this;this.requestFrame&&a.default.cancel(this.requestFrame),this.requestFrame=(0,a.default)(function(){t.requestFrame=void 0,e()})}},{key:"update",value:function update(e){var t=this;this.raf(function(){return t._update(e)})}},{key:"_update",value:function _update(e){var t=this.props,n=t.onUpdate,r=t.hideTracksWhenNotNeeded,i=this.getValues();if((0,d.default)()){var o=i.scrollLeft,a=i.clientWidth,c=i.scrollWidth,u=(0,h.default)(this.trackHorizontal),l=this.getThumbHorizontalWidth(),p={width:l,transform:"translateX("+o/(c-a)*(u-l)+"px)"},g=i.scrollTop,m=i.clientHeight,v=i.scrollHeight,y=(0,f.default)(this.trackVertical),_=this.getThumbVerticalHeight(),b={height:_,transform:"translateY("+g/(v-m)*(y-_)+"px)"};if(r){var S={visibility:c>a?"visible":"hidden"},w={visibility:v>m?"visible":"hidden"};(0,s.default)(this.trackHorizontal,S),(0,s.default)(this.trackVertical,w)}(0,s.default)(this.thumbHorizontal,p),(0,s.default)(this.thumbVertical,b)}n&&n(i),"function"==typeof e&&e(i)}},{key:"render",value:function render(){var e=this,t=(0,d.default)(),n=this.props,i=n.onScroll,o=n.onScrollFrame,a=n.onScrollStart,s=n.onScrollStop,u=n.onUpdate,p=n.renderView,h=n.renderTrackHorizontal,f=n.renderTrackVertical,m=n.renderThumbHorizontal,v=n.renderThumbVertical,y=n.tagName,_=n.hideTracksWhenNotNeeded,b=n.autoHide,S=n.autoHideTimeout,w=n.autoHideDuration,C=n.thumbSize,T=n.thumbMinSize,E=n.universal,k=n.autoHeight,x=n.autoHeightMin,I=n.autoHeightMax,R=n.style,O=n.children,P=_objectWithoutProperties(n,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),A=this.state.didMountUniversal,M=r({},g.containerStyleDefault,k&&r({},g.containerStyleAutoHeight,{minHeight:x,maxHeight:I}),R),N=r({},g.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},k&&r({},g.viewStyleAutoHeight,{minHeight:(0,l.default)(x)?"calc("+x+" + "+t+"px)":x+t,maxHeight:(0,l.default)(I)?"calc("+I+" + "+t+"px)":I+t}),k&&E&&!A&&{minHeight:x,maxHeight:I},E&&!A&&g.viewStyleUniversalInitial),D={transition:"opacity "+w+"ms",opacity:0},L=r({},g.trackHorizontalStyleDefault,b&&D,(!t||E&&!A)&&{display:"none"}),F=r({},g.trackVerticalStyleDefault,b&&D,(!t||E&&!A)&&{display:"none"});return(0,c.createElement)(y,r({},P,{style:M,ref:function ref(t){e.container=t}}),[(0,c.cloneElement)(p({style:N}),{key:"view",ref:function ref(t){e.view=t}},O),(0,c.cloneElement)(h({style:L}),{key:"trackHorizontal",ref:function ref(t){e.trackHorizontal=t}},(0,c.cloneElement)(m({style:g.thumbHorizontalStyleDefault}),{ref:function ref(t){e.thumbHorizontal=t}})),(0,c.cloneElement)(f({style:F}),{key:"trackVertical",ref:function ref(t){e.trackVertical=t}},(0,c.cloneElement)(v({style:g.thumbVerticalStyleDefault}),{ref:function ref(t){e.thumbVertical=t}}))])}}]),Scrollbars}(c.Component);t.default=v,v.propTypes={onScroll:u.default.func,onScrollFrame:u.default.func,onScrollStart:u.default.func,onScrollStop:u.default.func,onUpdate:u.default.func,renderView:u.default.func,renderTrackHorizontal:u.default.func,renderTrackVertical:u.default.func,renderThumbHorizontal:u.default.func,renderThumbVertical:u.default.func,tagName:u.default.string,thumbSize:u.default.number,thumbMinSize:u.default.number,hideTracksWhenNotNeeded:u.default.bool,autoHide:u.default.bool,autoHideTimeout:u.default.number,autoHideDuration:u.default.number,autoHeight:u.default.bool,autoHeightMin:u.default.oneOfType([u.default.number,u.default.string]),autoHeightMax:u.default.oneOfType([u.default.number,u.default.string]),universal:u.default.bool,style:u.default.object,children:u.default.node},v.defaultProps={renderView:m.renderViewDefault,renderTrackHorizontal:m.renderTrackHorizontalDefault,renderTrackVertical:m.renderTrackVerticalDefault,renderThumbHorizontal:m.renderThumbHorizontalDefault,renderThumbVertical:m.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},function(e,t,n){(function(t){for(var r=n(1492),i="undefined"==typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],c=i["cancel"+a]||i["cancelRequest"+a],u=0;!s&&u<o.length;u++)s=i[o[u]+"Request"+a],c=i[o[u]+"Cancel"+a]||i[o[u]+"CancelRequest"+a];if(!s||!c){var l=0,d=0,p=[],h=1e3/60;s=function(e){if(0===p.length){var t=r(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){c.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}).call(t,n(37))},function(e,t,n){(function(t){(function(){var n,r,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(t,n(126))},function(e,t){var n=null,r=["Webkit","Moz","O","ms"];e.exports=function prefixStyle(e){n||(n=document.createElement("div"));var t=n.style;if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),o=r.length;o>=0;o--){var a=r[o]+i;if(a in t)return a}return!1}},function(e,t,n){function toCamelCase(e){return r(e).replace(/\s(\w)/g,function(e,t){return t.toUpperCase()})}var r=n(1495);e.exports=toCamelCase},function(e,t,n){function toSpaceCase(e){return r(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""}).trim()}var r=n(1496);e.exports=toSpaceCase},function(e,t){function toNoCase(e){return n.test(e)?e.toLowerCase():r.test(e)?(unseparate(e)||e).toLowerCase():i.test(e)?uncamelize(e).toLowerCase():e.toLowerCase()}function unseparate(e){return e.replace(o,function(e,t){return t?" "+t:""})}function uncamelize(e){return e.replace(a,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}e.exports=toNoCase;var n=/\s/,r=/(_|-|\.|:)/,i=/([a-z][A-Z]|[A-Z][a-z])/,o=/[\W_]+(.|$)/g,a=/(.)([A-Z]+)/g},function(e,t){var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return"number"!=typeof t||n[e]?t:t+"px"}},function(e,t,n){"use strict";function isString(e){return"string"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=isString},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getScrollbarWidth(){if(!1!==i)return i;if("undefined"!=typeof document){var e=document.createElement("div");(0,r.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),i=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else i=0;return i||0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=getScrollbarWidth;var r=_interopRequireDefault(n(1060)),i=!1},function(e,t,n){"use strict";function returnFalse(){return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=returnFalse},function(e,t,n){"use strict";function getInnerWidth(e){var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,i=n.paddingRight;return t-parseFloat(r)-parseFloat(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=getInnerWidth},function(e,t,n){"use strict";function getInnerHeight(e){var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,i=n.paddingBottom;return t-parseFloat(r)-parseFloat(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=getInnerHeight},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},i=t.containerStyleAutoHeight={height:"auto"},o=t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},a=t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},s=t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},c=t.trackHorizontalStyleDefault={position:"absolute",height:6},u=t.trackVerticalStyleDefault={position:"absolute",width:6},l=t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},d=t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},p=t.disableSelectStyle={userSelect:"none"},h=t.disableSelectStyleReset={userSelect:""}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function renderViewDefault(e){return i.default.createElement("div",e)}function renderTrackHorizontalDefault(e){var t=e.style,n=_objectWithoutProperties(e,["style"]),o=r({},t,{right:2,bottom:2,left:2,borderRadius:3});return i.default.createElement("div",r({style:o},n))}function renderTrackVerticalDefault(e){var t=e.style,n=_objectWithoutProperties(e,["style"]),o=r({},t,{right:2,bottom:2,top:2,borderRadius:3});return i.default.createElement("div",r({style:o},n))}function renderThumbHorizontalDefault(e){var t=e.style,n=_objectWithoutProperties(e,["style"]),o=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return i.default.createElement("div",r({style:o},n))}function renderThumbVerticalDefault(e){var t=e.style,n=_objectWithoutProperties(e,["style"]),o=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return i.default.createElement("div",r({style:o},n))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.renderViewDefault=renderViewDefault,t.renderTrackHorizontalDefault=renderTrackHorizontalDefault,t.renderTrackVerticalDefault=renderTrackVerticalDefault,t.renderThumbHorizontalDefault=renderThumbHorizontalDefault,t.renderThumbVerticalDefault=renderThumbVerticalDefault;var i=_interopRequireDefault(n(1))},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(15),a=n(1111),s=function(e){function TestItem(){return _classCallCheck(this,TestItem),_possibleConstructorReturn(this,(TestItem.__proto__||Object.getPrototypeOf(TestItem)).apply(this,arguments))}return _inherits(TestItem,e),r(TestItem,[{key:"render",value:function render(){var e=this.props,t=e.title,n=e.meta,r=e.test,s=e.testError,c=e.onClick,u=e.opened,l=r||{passed:!1,actual:"N/A",stdOut:null,stdError:null},d=a(l.stdError||s),p=r&&l.stdOut?"test-log":"hide",h=r&&d?"test-log":"hide",f=r?l.passed?"green":"red":"yellow";return i.createElement("div",null,i.createElement("div",{className:o("test-offset-1 test-dropdown"),onClick:c},i.createElement("i",{className:o("fa",{"fa-caret-down":u,"fa-caret-right":!u,"fa-caret-down-red":r&&!l.passed,"fa-caret-down-green":r&&l.passed,"fa-caret-down-yellow":!r})}),i.createElement("i",{className:o("fa test-offset-1 "+f,{"fa-exclamation-circle":!l.passed,"fa-check-circle":l.passed})}),i.createElement("div",{className:"test-name"},t),r?i.createElement("div",{className:o("test-summary",{hide:u})},i.createElement("span",null,"Input: ",n.input),",",i.createElement("span",null,"Expected: ",n.output),",",i.createElement("span",null,"Actual: ",l.actual)):i.createElement("div",{className:"test-summary"},"Inconclusive: the test did not run because a previous test had failed")),i.createElement("div",{className:o("test-details test-offset-3",{active:u})},i.createElement("div",null,i.createElement("span",null,"Input:")," ",i.createElement("span",null,n.input)),i.createElement("div",null,i.createElement("span",null,"Expected:")," ",i.createElement("span",null,n.output)),i.createElement("div",null,i.createElement("span",null,"Actual:")," ",i.createElement("span",null,l.actual)),i.createElement("div",{className:p},i.createElement("span",{className:"test-details__title"},"StdOut:"),i.createElement("span",null,l.stdOut&&i.createElement("pre",null,l.stdOut))),i.createElement("div",{className:h},i.createElement("span",null,"StdError:"),i.createElement("span",null,i.createElement("pre",null,d)))))}}]),TestItem}(i.Component);t.TestItem=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.ConsoleReadyToRun=function(){return r.createElement("div",{className:"console-component--ready-to-run console-component--line-system"},"Ready to Run Code")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(348),o=n(1508),a=function mapStateToProps(e){return{bottomBarHidden:e.splitPane.bottomBarHidden,running:e.console.running}},s={toggleBottomBar:i.toggleBottomBar};t.SessionEditorFooter=r.connect(a,s)(o.SessionEditorFooter)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(1),a=n(1044);n(1063);var s=function(e){function SessionEditorFooter(){return _classCallCheck(this,SessionEditorFooter),_possibleConstructorReturn(this,(SessionEditorFooter.__proto__||Object.getPrototypeOf(SessionEditorFooter)).apply(this,arguments))}return _inherits(SessionEditorFooter,e),r(SessionEditorFooter,[{key:"render",value:function render(){var e=this.props,t=e.bottomBarHidden,n=e.children,r=e.toggleBottomBar;return i.createElement("div",{className:"session-editor-footer"},i.createElement("div",{className:"session-editor-footer__wrapper"},n),t&&i.createElement(a.SessionEditorToggle,{onToggle:r}))}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=e.running,n=e.bottomBarHidden,r=e.toggleBottomBar;t&&n&&r()}}]),SessionEditorFooter}(o.Component);t.SessionEditorFooter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(1510),o=function mapStateToProps(e){return{codeRunning:e.console.running&&!e.console.runTests,testsRunning:e.console.running&&e.console.runTests,editorValue:e.editor.value,disabled:e.console.running}},a={};t.SessionEditorRunCode=r.connect(o,a)(i.SessionEditorRunCode)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(15),a=n(1043),s=n(1065),c=function(e){function SessionEditorRunCode(){_classCallCheck(this,SessionEditorRunCode);var e=_possibleConstructorReturn(this,(SessionEditorRunCode.__proto__||Object.getPrototypeOf(SessionEditorRunCode)).apply(this,arguments));return e.runCodeShortCut=function(t){var n=t.keyCode===s.ENTER_KEY,r=s.MAC_OS&&!0===t.metaKey,i=!s.MAC_OS&&!0===t.ctrlKey,o=e.props,a=o.editorValue,c=o.onClick;!e.props.codeRunning&&n&&(r||i)&&c(a)},e}return _inherits(SessionEditorRunCode,e),r(SessionEditorRunCode,[{key:"render",value:function render(){var e=this.props,t=e.testsRunning,n=e.codeRunning,r=e.editorValue,c=e.disabled,u=e.showHint,l=e.onClick,d=o("btn btn_sm",{btn_violet:!t,btn_grey:t});return i.createElement(a.TooltipButton,{tooltipLabel:u?s.CLICK_ME:s.DEFAULT_RUN_CODE_HINT,className:d,disabled:c,visible:u,onClick:function onClick(){return l(r)}},i.createElement("span",{className:o({"icon icon--run":!n,spinner:n})}),i.createElement("span",{className:"btn__label btn__label_left-blank"},n?s.RUNNING:s.RUN_CODE))}},{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("keydown",this.runCodeShortCut)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("keydown",this.runCodeShortCut)}}]),SessionEditorRunCode}(i.Component);t.SessionEditorRunCode=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(1512),o=function mapStateToProps(e){return{codeRunning:e.console.running&&!e.console.runTests,testsRunning:e.console.running&&e.console.runTests,editorValue:e.editor.value,disabled:e.console.running}},a={};t.SessionEditorRunTests=r.connect(o,a)(i.SessionEditorRunTests)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15),o=n(1065);t.SessionEditorRunTests=function(e){var t=e.testsRunning,n=e.codeRunning,a=e.editorValue,s=e.disabled,c=e.onClick,u=i("btn btn_sm btn_left-blank",{"btn_genoa-viridian":!n,btn_grey:n});return r.createElement("button",{className:u,disabled:s,onClick:function onClick(){return c(a)}},r.createElement("span",{className:i({"icon icon--run":!t,spinner:t})}),r.createElement("span",{className:"btn__label btn__label_left-blank"},t?o.RUNNING:o.RUN_TESTS))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(1041),o=n(1042),a=n(1045),s=n(1040),c=n(1046),u=n(1062),l=n(1064),d=n(1066);t.SessionEditor=function(e){var t=e.initialCode,n=e.latestCode,p=e.connected,h=e.updatedAt,f=e.language,g=e.hasTests,m=e.disabled,v=e.link,y=e.selectLanguage,_=e.runTests,b=e.runCode;return r.createElement(i.SessionEditorLayout,null,r.createElement(o.SessionEditorHeader,{connected:p,language:f,disabled:m,selectLanguage:y}),r.createElement(a.SessionEditorSplitPane,null,r.createElement(s.SessionEditorCodepad,{initialCode:t,latestCode:n,updatedAt:h,disabled:m,language:f,link:v}),r.createElement(c.SessionEditorConsole,{hasTests:g})),r.createElement(u.SessionEditorFooter,null,r.createElement(l.SessionEditorRunCode,{onClick:b,showHint:!1}),g&&r.createElement(d.SessionEditorRunTests,{onClick:_})))}},function(e,t){},function(e,t,n){!function webpackUniversalModuleDefinition(t,r){e.exports=r(n(1),n(72))}(this,function(e,t){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,n){"use strict";e.exports=n(1).default,e.exports.DraggableCore=n(17).default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function sliceIterator(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),a=_interopRequireDefault(n(2)),s=_interopRequireDefault(n(3)),c=_interopRequireDefault(n(11)),u=_interopRequireDefault(n(12)),l=n(13),d=n(16),p=n(14),h=_interopRequireDefault(n(17)),f=_interopRequireDefault(n(19)),g=function(e){function Draggable(e){_classCallCheck(this,Draggable);var t=_possibleConstructorReturn(this,(Draggable.__proto__||Object.getPrototypeOf(Draggable)).call(this,e));return t.onDragStart=function(e,n){if((0,f.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,d.createDraggableData)(t,n)))return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",n);var r=(0,d.createDraggableData)(t,n),o={x:r.x,y:r.y};if(t.props.bounds){var a=o.x,s=o.y;o.x+=t.state.slackX,o.y+=t.state.slackY;var c=(0,d.getBoundPosition)(t,o.x,o.y),u=i(c,2);o.x=u[0],o.y=u[1],o.slackX=t.state.slackX+(a-o.x),o.slackY=t.state.slackY+(s-o.y),r.x=a,r.y=s,r.deltaX=o.x-t.state.x,r.deltaY=o.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(o)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,d.createDraggableData)(t,n)))return!1;(0,f.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,o=i.x,a=i.y;r.x=o,r.y=a}t.setState(r)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},t}return _inherits(Draggable,e),o(Draggable,[{key:"componentWillMount",value:function componentWillMount(){this.props.position&&!this.props.onDrag&&this.props.onStop}},{key:"componentDidMount",value:function componentDidMount(){"undefined"!=typeof SVGElement&&c.default.findDOMNode(this)instanceof SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.setState({dragging:!1})}},{key:"render",value:function render(){var e,t={},n=null,i=!Boolean(this.props.position)||this.state.dragging,o=this.props.position||this.props.defaultPosition,s={x:(0,d.canDragX)(this)&&i?this.state.x:o.x,y:(0,d.canDragY)(this)&&i?this.state.y:o.y};this.state.isElementSVG?n=(0,l.createSVGTransform)(s):t=(0,l.createCSSTransform)(s);var c=this.props,p=c.defaultClassName,f=c.defaultClassNameDragging,g=c.defaultClassNameDragged,m=(0,u.default)(this.props.children.props.className||"",p,(e={},_defineProperty(e,f,this.state.dragging),_defineProperty(e,g,this.state.dragged),e));return a.default.createElement(h.default,r({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),a.default.cloneElement(a.default.Children.only(this.props.children),{className:m,style:r({},this.props.children.props.style,t),transform:n}))}}]),Draggable}(a.default.Component);g.displayName="Draggable",g.propTypes=r({},h.default.propTypes,{axis:s.default.oneOf(["both","x","y","none"]),bounds:s.default.oneOfType([s.default.shape({left:s.default.number,right:s.default.number,top:s.default.number,bottom:s.default.number}),s.default.string,s.default.oneOf([!1])]),defaultClassName:s.default.string,defaultClassNameDragging:s.default.string,defaultClassNameDragged:s.default.string,defaultPosition:s.default.shape({x:s.default.number,y:s.default.number}),position:s.default.shape({x:s.default.number,y:s.default.number}),className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe}),g.defaultProps=r({},h.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t.default=g},function(t,n){t.exports=e},function(e,t,n){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},o=!0;e.exports=n(4)(i,!0)}else e.exports=n(10)()},function(e,t,n){"use strict";var r=n(5),i=n(6),o=n(7),a=n(8),s=n(9);e.exports=function(e,t){function getIteratorFn(e){var t=e&&(n&&e[n]||e[c]);if("function"==typeof t)return t}function is(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function PropTypeError(e){this.message=e,this.stack=""}function createChainableTypeChecker(e){function checkType(s,c,l,d,p,h,f){if(d=d||u,h=h||l,f!==a)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&"undefined"!=typeof console){var g=d+":"+l;!n[g]&&r<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,d),n[g]=!0,r++)}return null==c[l]?s?new PropTypeError(null===c[l]?"The "+p+" `"+h+"` is marked as required in `"+d+"`, but its value is `null`.":"The "+p+" `"+h+"` is marked as required in `"+d+"`, but its value is `undefined`."):null:e(c,l,d,p,h)}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var n={},r=0;var s=checkType.bind(null,!1);return s.isRequired=checkType.bind(null,!0),s}function createPrimitiveTypeChecker(e){function validate(t,n,r,i,o,a){var s=t[n];return getPropType(s)!==e?new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPreciseType(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(r.thatReturnsNull)}function createArrayOfTypeChecker(e){function validate(t,n,r,i,o){if("function"!=typeof e)return new PropTypeError("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPropType(s)+"` supplied to `"+r+"`, expected an array.");for(var c=0;c<s.length;c++){var u=e(s,c,r,i,o+"["+c+"]",a);if(u instanceof Error)return u}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(t,n,r,i,o){var a=t[n];return e(a)?null:new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPropType(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(e){function validate(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||u;return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getClassName(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(e){function validate(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(is(a,e[s]))return null;return new PropTypeError("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?createChainableTypeChecker(validate):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function createObjectOfTypeChecker(e){function validate(t,n,r,i,o){if("function"!=typeof e)return new PropTypeError("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],c=getPropType(s);if("object"!==c)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var l=e(s,u,r,i,o+"."+u,a);if(l instanceof Error)return l}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(e){function validate(t,n,r,i,o){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,i,o,a))return null;return new PropTypeError("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}return Array.isArray(e)?createChainableTypeChecker(validate):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull)}function createNodeChecker(){function validate(e,t,n,r,i){return isNode(e[t])?null:new PropTypeError("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return createChainableTypeChecker(validate)}function createShapeTypeChecker(e){function validate(t,n,r,i,o){var s=t[n],c=getPropType(s);if("object"!==c)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var l=e[u];if(l){var d=l(s,u,r,i,o+"."+u,a);if(d)return d}}return null}return createChainableTypeChecker(validate)}function isNode(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(isNode);if(null===t||e(t))return!0;var n=getIteratorFn(t);if(!n)return!1;var r=n.call(t),i;if(n!==t.entries){for(;!(i=r.next()).done;)if(!isNode(i.value))return!1}else for(;!(i=r.next()).done;){var o=i.value;if(o&&!isNode(o[1]))return!1}return!0;default:return!1}}function isSymbol(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function getPropType(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":isSymbol(t,e)?"symbol":t}function getPreciseType(e){var t=getPropType(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function getClassName(e){return e.constructor&&e.constructor.name?e.constructor.name:u}var n="function"==typeof Symbol&&Symbol.iterator,c="@@iterator",u="<<anonymous>>",l={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};return PropTypeError.prototype=Error.prototype,l.checkPropTypes=s,l.PropTypes=l,l}},function(e,t){"use strict";function makeEmptyFunction(e){return function(){return e}}var n=function emptyFunction(){};n.thatReturns=makeEmptyFunction,n.thatReturnsFalse=makeEmptyFunction(!1),n.thatReturnsTrue=makeEmptyFunction(!0),n.thatReturnsNull=makeEmptyFunction(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){"use strict";function invariant(e,t,n,i,o,a,s,c){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,a,s,c],d=0;(u=new Error(t.replace(/%s/g,function(){return l[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function validateFormat(e){};"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&(r=function validateFormat(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=invariant},function(e,t,n){"use strict";var r=n(5);"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&function(){var e=function printWarning(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});try{throw new Error(o)}catch(e){}};r=function warning(t,n){if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!t){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.apply(void 0,[n].concat(i))}}}(),e.exports=r},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){"use strict";function checkPropTypes(e,t,n,s,c){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var l;try{r("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",s||"React class",n,u),l=e[u](t,u,s,n,null,o)}catch(e){l=e}if(i(!l||l instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,u,typeof l),l instanceof Error&&!(l.message in a)){a[l.message]=!0;var d=c?c():"";i(!1,"Failed %s type: %s%s",n,l.message,null!=d?d:"")}}}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var r=n(6),i=n(7),o=n(8),a={};e.exports=checkPropTypes},function(e,t,n){"use strict";var r=n(5),i=n(6);e.exports=function(){function shim(){i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim};return e.checkPropTypes=r,e.PropTypes=e,e}},function(e,n){e.exports=t},function(e,t,n){var r,i;!function(){"use strict";function classNames(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(classNames.apply(null,r));else if("object"===i)for(var o in r)n.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}var n={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=classNames:void 0!==(i=function(){return classNames}.apply(t,r=[]))&&(e.exports=i)}()},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function matchesSelector(e,t){return s||(s=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,i.isFunction)(e[t])})),e[s].call(e,t)}function matchesSelectorAndParentsTo(e,t,n){var r=e;do{if(matchesSelector(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function addEvent(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function removeEvent(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function outerHeight(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderTopWidth),t+=(0,i.int)(n.borderBottomWidth)}function outerWidth(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderLeftWidth),t+=(0,i.int)(n.borderRightWidth)}function innerHeight(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingTop),t-=(0,i.int)(n.paddingBottom)}function innerWidth(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingLeft),t-=(0,i.int)(n.paddingRight)}function offsetXYFromParent(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}function createCSSTransform(e){var t=e.x,n=e.y;return _defineProperty({},(0,o.browserPrefixToKey)("transform",a.default),"translate("+t+"px,"+n+"px)")}function createSVGTransform(e){return"translate("+e.x+","+e.y+")"}function getTouch(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,i.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function getTouchIdentifier(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function addUserSelectStyles(e){var t=e.getAttribute("style")||"";d.test(t)||e.setAttribute("style",t+l)}function removeUserSelectStyles(e){var t=e.getAttribute("style")||"";e.setAttribute("style",t.replace(d,""))}function styleHacks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r({touchAction:"none"},e)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.matchesSelector=matchesSelector,t.matchesSelectorAndParentsTo=matchesSelectorAndParentsTo,t.addEvent=addEvent,t.removeEvent=removeEvent,t.outerHeight=outerHeight,t.outerWidth=outerWidth,t.innerHeight=innerHeight,t.innerWidth=innerWidth,t.offsetXYFromParent=offsetXYFromParent,t.createCSSTransform=createCSSTransform,t.createSVGTransform=createSVGTransform,t.getTouch=getTouch,t.getTouchIdentifier=getTouchIdentifier,t.addUserSelectStyles=addUserSelectStyles,t.removeUserSelectStyles=removeUserSelectStyles,t.styleHacks=styleHacks;var i=n(14),o=n(15),a=_interopRequireDefault(o),s="",c=(0,o.getPrefix)("user-select"),u=(0,o.browserPrefixToStyle)("user-select",c),l=";"+u+": none;",d=new RegExp(";?"+u+": none;")},function(e,t){"use strict";function findInArray(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function isFunction(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function isNum(e){return"number"==typeof e&&!isNaN(e)}function int(e){return parseInt(e,10)}function dontSetMe(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=findInArray,t.isFunction=isFunction,t.isNum=isNum,t.int=int,t.dontSetMe=dontSetMe},function(e,t){"use strict";function getPrefix(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var r=0;r<n.length;r++)if(browserPrefixToKey(e,n[r])in t)return n[r];return""}function browserPrefixToKey(e,t){return t?""+t+kebabToTitleCase(e):e}function browserPrefixToStyle(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function kebabToTitleCase(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=getPrefix,t.browserPrefixToKey=browserPrefixToKey,t.browserPrefixToStyle=browserPrefixToStyle;var n=["Moz","Webkit","O","ms"];t.default=getPrefix()},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getBoundPosition(e,t,n){if(!e.props.bounds)return[t,n];var a=e.props.bounds;a="string"==typeof a?a:cloneBounds(a);var s=i.default.findDOMNode(e);if("string"==typeof a){var c=s.ownerDocument,u=c.defaultView,l=void 0;if("parent"===a)l=s.parentNode;else if(!(l=c.querySelector(a)))throw new Error('Bounds selector "'+a+'" could not find an element.');var d=u.getComputedStyle(s),p=u.getComputedStyle(l);a={left:-s.offsetLeft+(0,r.int)(p.paddingLeft)+(0,r.int)(d.marginLeft),top:-s.offsetTop+(0,r.int)(p.paddingTop)+(0,r.int)(d.marginTop),right:(0,o.innerWidth)(l)-(0,o.outerWidth)(s)-s.offsetLeft+(0,r.int)(p.paddingRight)-(0,r.int)(d.marginRight),bottom:(0,o.innerHeight)(l)-(0,o.outerHeight)(s)-s.offsetTop+(0,r.int)(p.paddingBottom)-(0,r.int)(d.marginBottom)}}return(0,r.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,r.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,r.isNum)(a.top)&&(n=Math.max(n,a.top)),[t,n]}function snapToGrid(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function canDragX(e){return"both"===e.props.axis||"x"===e.props.axis}function canDragY(e){return"both"===e.props.axis||"y"===e.props.axis}function getControlPosition(e,t,n){var r="number"==typeof t?(0,o.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var a=i.default.findDOMNode(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,o.offsetXYFromParent)(r||e,s)}function createCoreData(e,t,n){var o=e.state;return!(0,r.isNum)(o.lastX)?{node:i.default.findDOMNode(e),deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i.default.findDOMNode(e),deltaX:t-o.lastX,deltaY:n-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:n}}function createDraggableData(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function cloneBounds(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=getBoundPosition,t.snapToGrid=snapToGrid,t.canDragX=canDragX,t.canDragY=canDragY,t.getControlPosition=getControlPosition,t.createCoreData=createCoreData,t.createDraggableData=createDraggableData;var r=n(14),i=_interopRequireDefault(n(11)),o=n(13)},function(e,t,n){(function(e){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function sliceIterator(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=_interopRequireDefault(n(2)),a=_interopRequireDefault(n(3)),s=_interopRequireDefault(n(11)),c=n(13),u=n(16),l=n(14),d=_interopRequireDefault(n(19)),p={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},h=p.mouse,f=function(e){function DraggableCore(){var e,t,n,i;_classCallCheck(this,DraggableCore);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return t=n=_possibleConstructorReturn(this,(e=DraggableCore.__proto__||Object.getPrototypeOf(DraggableCore)).call.apply(e,[this].concat(a))),n.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},n.handleDragStart=function(e){if(n.props.onMouseDown(e),!n.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=s.default.findDOMNode(n),r=t.ownerDocument;if(!(n.props.disabled||!(e.target instanceof r.defaultView.Node)||n.props.handle&&!(0,c.matchesSelectorAndParentsTo)(e.target,n.props.handle,t)||n.props.cancel&&(0,c.matchesSelectorAndParentsTo)(e.target,n.props.cancel,t))){var i=(0,c.getTouchIdentifier)(e);n.setState({touchIdentifier:i});var o=(0,u.getControlPosition)(e,i,n);if(null!=o){var a=o.x,l=o.y,p=(0,u.createCoreData)(n,a,l);(0,d.default)("DraggableCore: handleDragStart: %j",p),(0,d.default)("calling",n.props.onStart),!1!==n.props.onStart(e,p)&&(n.props.enableUserSelectHack&&(0,c.addUserSelectStyles)(r.body),n.setState({dragging:!0,lastX:a,lastY:l}),(0,c.addEvent)(r,h.move,n.handleDrag),(0,c.addEvent)(r,h.stop,n.handleDragStop))}}},n.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,u.getControlPosition)(e,n.state.touchIdentifier,n);if(null!=t){var i=t.x,o=t.y;if(Array.isArray(n.props.grid)){var a=i-n.state.lastX,s=o-n.state.lastY,c=(0,u.snapToGrid)(n.props.grid,a,s),l=r(c,2);if(a=l[0],s=l[1],!a&&!s)return;i=n.state.lastX+a,o=n.state.lastY+s}var p=(0,u.createCoreData)(n,i,o);if((0,d.default)("DraggableCore: handleDrag: %j",p),!1!==n.props.onDrag(e,p))n.setState({lastX:i,lastY:o});else try{n.handleDragStop(new MouseEvent("mouseup"))}catch(e){var h=document.createEvent("MouseEvents");h.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(h)}}},n.handleDragStop=function(e){if(n.state.dragging){var t=(0,u.getControlPosition)(e,n.state.touchIdentifier,n);if(null!=t){var r=t.x,i=t.y,o=(0,u.createCoreData)(n,r,i),a=s.default.findDOMNode(n).ownerDocument;n.props.enableUserSelectHack&&(0,c.removeUserSelectStyles)(a.body),(0,d.default)("DraggableCore: handleDragStop: %j",o),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(e,o),(0,d.default)("DraggableCore: Removing handlers"),(0,c.removeEvent)(a,h.move,n.handleDrag),(0,c.removeEvent)(a,h.stop,n.handleDragStop)}}},n.onMouseDown=function(e){return h=p.mouse,n.handleDragStart(e)},n.onMouseUp=function(e){return h=p.mouse,n.handleDragStop(e)},n.onTouchStart=function(e){return h=p.touch,n.handleDragStart(e)},n.onTouchEnd=function(e){return h=p.touch,n.handleDragStop(e)},i=t,_possibleConstructorReturn(n,i)}return _inherits(DraggableCore,e),i(DraggableCore,[{key:"componentWillUnmount",value:function componentWillUnmount(){var e=s.default.findDOMNode(this).ownerDocument;(0,c.removeEvent)(e,p.mouse.move,this.handleDrag),(0,c.removeEvent)(e,p.touch.move,this.handleDrag),(0,c.removeEvent)(e,p.mouse.stop,this.handleDragStop),(0,c.removeEvent)(e,p.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,c.removeUserSelectStyles)(e.body)}},{key:"render",value:function render(){return o.default.cloneElement(o.default.Children.only(this.props.children),{style:(0,c.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),DraggableCore}(o.default.Component);f.displayName="DraggableCore",f.propTypes={allowAnyClick:a.default.bool,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function offsetParent(t,n){if(e.browser&&t[n]&&1!==t[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe},f.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function onStart(){},onDrag:function onDrag(){},onStop:function onStop(){},onMouseDown:function onMouseDown(){}},t.default=f}).call(t,n(18))},function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(i===clearTimeout)return clearTimeout(e);if((i===defaultClearTimeout||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}function cleanUpNextTick(){a&&s&&(a=!1,s.length?o=s.concat(o):c=-1,o.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=o.length;t;){for(s=o,o=[];++c<t;)s&&s[c].run();c=-1,t=o.length}s=null,a=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var n=e.exports={},r,i;!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{i="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){i=defaultClearTimeout}}();var o=[],a=!1,s,c=-1;n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new Item(e,t)),1!==o.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,n){"use strict";function log(){var e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=log}])})},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1517),__export(n(1518)),__export(n(1602))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(795),o=n(653),a=n(1519),s=function mapStateToProps(e){return{audioOutputDeviceId:e.videoSettings.audioOutputDeviceId,audioInputDeviceId:e.videoSettings.audioInputDeviceId,videoInputDeviceId:e.videoSettings.videoInputDeviceId,videoQualityId:e.videoSettings.videoQualityId,isInterviewer:e.session.isInterviewer,peerFirstName:e.session.peerFirstName,sessionType:e.sessionRouter.sessionType,selfStatus:o.selfStatusSelector(e),peerStatus:o.peerStatusSelector(e),startTime:e.session.startTime,token:e.session.token,room:e.session.videoRoom}},c={updateVideoStatus:i.updateVideoStatus};t.VideoContainer=r.connect(s,c)(a.VideoContainer)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(1520),a=n(942),s=n(1522),c=n(1086),u=n(1087),l=n(1600),d=n(185),p=n(867),h=n(242),f=function(e){function VideoContainer(){_classCallCheck(this,VideoContainer);var e=_possibleConstructorReturn(this,(VideoContainer.__proto__||Object.getPrototypeOf(VideoContainer)).apply(this,arguments));return e.state={selfStatus:e.props.selfStatus,peerStatus:e.props.peerStatus,showSettings:!1,peerStatusChangedAt:null},e.onShowSettings=function(){e.setState({showSettings:!0})},e.onHideSettings=function(){e.setState({showSettings:!1})},e.onDisconnect=function(){e.props.updateVideoStatus(h.STATUS_DISCONNECTED)},e.onConnectError=function(t){Promise.resolve().then(function(){return"NotAllowedError"===t.name?e.getMediaStatus():""}).then(function(t){e.props.updateVideoStatus(t||h.STATUS_CONNECTION_FAILED)})},e.onConnectSuccess=function(){e.props.updateVideoStatus(h.STATUS_CONNECTED)},e.onParticipantConnected=function(t){e.participant=t},e.onParticipantDisconnected=function(t){e.participant===t&&(e.participant=null),e.setPeerStatus(e.props.peerStatus)},e}return _inherits(VideoContainer,e),r(VideoContainer,[{key:"componentDidMount",value:function componentDidMount(){var e=this;this.getMediaStatus().then(function(t){t&&e.props.updateVideoStatus(t)})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=e.selfStatus,n=e.peerStatus;t!==this.props.selfStatus&&this.setSelfStatus(t),n!==this.props.peerStatus&&this.setPeerStatus(n)}},{key:"render",value:function render(){var e=this,t=this.props,n=t.token,r=t.room,o=t.startTime,d=t.sessionType,h=t.isInterviewer,f=t.peerFirstName,g=t.videoQualityId,m=t.audioInputDeviceId,v=t.videoInputDeviceId,y=t.audioOutputDeviceId,_=this.state,b=_.selfStatus,S=_.peerStatus,w=_.showSettings,C=_.peerStatusChangedAt,T=p.selfStatusToMessage(b),E=p.peerStatusToMessage(S,C,o,h,d),k=T.videoVisible&&E.videoVisible;return i.createElement("div",{className:"video-container-wrap"},i.createElement("div",{className:"video-container"},i.createElement(l.VideoSettingsButton,{className:"video-container__settings",onClick:this.onShowSettings}),i.createElement(u.VideoStatusMessage,{title:T.title,subTitle:T.message,loader:T.loader,visible:T.show}),i.createElement(u.VideoStatusMessage,{peer:!0,title:E.title,subTitle:E.message,loader:E.loader,visible:E.show&&!T.show}),i.createElement(s.Video,{audioOutputDeviceId:y,audioInputDeviceId:m,videoInputDeviceId:v,videoQualityId:g,visible:k,room:r,token:n,ref:function ref(t){return e.video=t},onParticipantDisconnected:this.onParticipantDisconnected,onParticipantConnected:this.onParticipantConnected,onConnectSuccess:this.onConnectSuccess,onConnectError:this.onConnectError,onDisconnect:this.onDisconnect}),k&&i.createElement(c.VideoStatusBar,{selfColor:p.statusToColor(b),peerColor:p.statusToColor(S),peerName:"placement"===d?f:""}),i.createElement(a.VideoSettings,{isOpen:w,onClose:this.onHideSettings,onSave:this.onHideSettings})))}},{key:"getMediaStatus",value:function getMediaStatus(){return o.loadDetector().then(function(e){return e.isWebsiteHasMicrophonePermissions||e.isWebsiteHasWebcamPermissions?e.isWebsiteHasMicrophonePermissions?e.isWebsiteHasWebcamPermissions?"":h.STATUS_NO_ACCESS_CAM:h.STATUS_NO_ACCESS_MIC:h.STATUS_NO_ACCESS})}},{key:"setSelfStatus",value:function setSelfStatus(e){this.props.runCommand(d.WS_SEND_UPDATE_STATUS,{status:e}),this.setState({selfStatus:e})}},{key:"setPeerStatus",value:function setPeerStatus(e){var t=this;e===h.STATUS_DISCONNECTED&&this.participant&&"connected"===this.participant.state||(this.setState({peerStatus:e,peerStatusChangedAt:new Date}),e===h.STATUS_DISCONNECTED&&setTimeout(function(){return t.setState({})},5e3))}}]),VideoContainer}(i.Component);t.VideoContainer=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1521),i=void 0,o=function run(){return new Promise(function(e){r.load(function(){return e(r)})})};t.loadDetector=function(){return i||(i=o()),i},t.loadRefreshedDetector=function(){return i=null,t.loadDetector()}},function(e,t,n){"use strict";(function(n,r){var i,o;!function(){function getBrowserInfo(){var e=c.appVersion,t=c.userAgent,n=c.appName,r=""+parseFloat(c.appVersion),i=parseInt(c.appVersion,10),o,a,s;if(d){n="Opera";try{r=c.userAgent.split("OPR/")[1].split(" ")[0],i=r.split(".")[0]}catch(e){r="0.0.0.0",i=0}}else g?(a=t.indexOf("MSIE"),n="IE",r=t.substring(a+5)):f?(a=t.indexOf("Chrome"),n="Chrome",r=t.substring(a+7)):h?(a=t.indexOf("Safari"),n="Safari",r=t.substring(a+7),-1!==(a=t.indexOf("Version"))&&(r=t.substring(a+8))):p?(a=t.indexOf("Firefox"),n="Firefox",r=t.substring(a+8)):(o=t.lastIndexOf(" ")+1)<(a=t.lastIndexOf("/"))&&(n=t.substring(o,a),r=t.substring(a+1),n.toLowerCase()===n.toUpperCase()&&(n=c.appName));return l&&(n="Edge",r=parseInt(c.userAgent.match(/Edge\/(\d+).(\d+)$/)[2],10).toString()),-1!==(s=r.indexOf(";"))&&(r=r.substring(0,s)),-1!==(s=r.indexOf(" "))&&(r=r.substring(0,s)),i=parseInt(""+r,10),isNaN(i)&&(r=""+parseFloat(c.appVersion),i=parseInt(c.appVersion,10)),{fullVersion:r,version:i,name:n,isPrivateBrowsing:!1}}function retry(e,t){var n=0,r=50,i=10,o=!1,a=window.setInterval(function(){e()&&(window.clearInterval(a),t(o)),n++>50&&(window.clearInterval(a),t(o=!0))},10)}function isIE10OrLater(e){var t=e.toLowerCase();if(0===t.indexOf("msie")&&0===t.indexOf("trident"))return!1;var n=/(?:msie|rv:)\s?([\d\.]+)/.exec(t);return!!(n&&parseInt(n[1],10)>=10)}function detectPrivateMode(e){var t;try{if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,function(){t=!1},function(e){t=!0});else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var n;try{(n=window.indexedDB.open("test")).onerror=function(){return!0}}catch(e){t=!0}void 0===t&&retry(function isDone(){return"done"===n.readyState},function next(e){e||(t=!n.result)})}else if(isIE10OrLater(window.navigator.userAgent)){t=!1;try{window.indexedDB||(t=!0)}catch(e){t=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(e){t=!0}void 0===t&&(t=!1,window.localStorage.removeItem("test"))}}catch(e){t=!1}retry(function isDone(){return void 0!==t},function next(n){e(t)})}function detectDesktopOS(){for(var e="-",t=c.appVersion,n=c.userAgent,r="-",i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],o=0,a;a=i[o];o++)if(a.r.test(n)){r=a.s;break}var s="-";switch(/Windows/.test(r)&&(/Windows (.*)/.test(r)&&(s=/Windows (.*)/.exec(r)[1]),r="Windows"),r){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(n)&&(s=/Mac OS X (10[\.\_\d]+)/.exec(n)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(n)&&(s=/Android ([\.\_\d]+)/.exec(n)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(n)&&(s=(s=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))[1]+"."+s[2]+"."+(0|s[3]))}return{osName:r,osVersion:s}}function getAndroidVersion(e){var t=(e=(e||c.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/);return!!t&&t[1]}function DetectLocalIPAddress(e){M.isWebRTCSupported&&(M.isORTCSupported||getIPs(function(t){e(t.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/)?"Local: "+t:"Public: "+t)}))}function getIPs(e){function handleCandidate(n){var r=/([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(n);if(r){var i=r[1];void 0===t[i]&&e(i),t[i]=!0}}if("undefined"!=typeof document&&"function"==typeof document.getElementById){var t={},n=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,r=!!window.webkitRTCPeerConnection;if(!n){var i=document.getElementById("iframe");if(!i)throw"NOTE: you need to have an iframe in the page right above the script tag.";var o=i.contentWindow;n=o.RTCPeerConnection||o.mozRTCPeerConnection||o.webkitRTCPeerConnection,r=!!o.webkitRTCPeerConnection}if(n){var a={optional:[{RtpDataChannels:!0}]},s;r&&(s={iceServers:[{urls:"stun:stun.services.mozilla.com"}]},void 0!==M&&M.browser.isFirefox&&M.browser.version<=38&&(s[0]={url:s[0].urls}));var c=new n(s,a);c.onicecandidate=function(e){e.candidate&&handleCandidate(e.candidate.candidate)},c.createDataChannel(""),c.createOffer(function(e){c.setLocalDescription(e,function(){},function(){})},function(){}),setTimeout(function(){c.localDescription.sdp.split("\n").forEach(function(e){0===e.indexOf("a=candidate:")&&handleCandidate(e)})},1e3)}}}function checkDeviceSupport(e){if(x)if(!c.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(c.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!c.enumerateDevices&&c.enumerateDevices&&(c.enumerateDevices=c.enumerateDevices.bind(c)),c.enumerateDevices){C=[],T=[],E=[],k=[],P=!1,A=!1;var t={};c.enumerateDevices(function(n){n.forEach(function(e){var n={};for(var r in e)try{"function"!=typeof e[r]&&(n[r]=e[r])}catch(e){}t[n.deviceId+n.label]||("audio"===n.kind&&(n.kind="audioinput"),"video"===n.kind&&(n.kind="videoinput"),n.deviceId||(n.deviceId=n.id),n.id||(n.id=n.deviceId),n.label?("videoinput"!==n.kind||A||(A=!0),"audioinput"!==n.kind||P||(P=!0)):(n.label="Please invoke getUserMedia once.",void 0!==M&&M.browser.isChrome&&M.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(n.label="HTTPs is required to get label of this "+n.kind+" device.")),"audioinput"===n.kind&&(I=!0,-1===T.indexOf(n)&&T.push(n)),"audiooutput"===n.kind&&(R=!0,-1===E.indexOf(n)&&E.push(n)),"videoinput"===n.kind&&(O=!0,-1===k.indexOf(n)&&k.push(n)),C.push(n),t[n.deviceId+n.label]=n)}),void 0!==M&&(M.MediaDevices=C,M.hasMicrophone=I,M.hasSpeakers=R,M.hasWebcam=O,M.isWebsiteHasWebcamPermissions=A,M.isWebsiteHasMicrophonePermissions=P,M.audioInputDevices=T,M.audioOutputDevices=E,M.videoInputDevices=k),e&&e()})}else e&&e();else e&&e()}var a="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";if(b="object"==typeof n&&"object"==typeof n.versions&&n.versions.node&&!n.browser){var s=n.versions.node.toString().replace("v","");a="Nodejs/"+s+" (NodeOS) AppleWebKit/"+s+" (KHTML, like Gecko) Nodejs/"+s+" Nodejs/"+s}!function(e){"undefined"==typeof window&&("undefined"==typeof window&&void 0!==r&&(r.navigator={userAgent:a,getUserMedia:function(){}},e.window=r),"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}))}(void 0!==r?r:window);var c=window.navigator;void 0!==c?(void 0!==c.webkitGetUserMedia&&(c.getUserMedia=c.webkitGetUserMedia),void 0!==c.mozGetUserMedia&&(c.getUserMedia=c.mozGetUserMedia)):c={getUserMedia:function(){},userAgent:a};var u=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(c.userAgent||""),l=!(-1===c.userAgent.indexOf("Edge")||!c.msSaveOrOpenBlob&&!c.msSaveBlob),d=!!window.opera||c.userAgent.indexOf(" OPR/")>=0,p=void 0!==window.InstallTrigger,h=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,f=!!window.chrome&&!d,g="undefined"!=typeof document&&!!document.documentMode&&!l,m={Android:function(){return c.userAgent.match(/Android/i)},BlackBerry:function(){return c.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return c.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return c.userAgent.match(/Opera Mini/i)},Windows:function(){return c.userAgent.match(/IEMobile/i)},any:function(){return m.Android()||m.BlackBerry()||m.iOS()||m.Opera()||m.Windows()},getOsName:function(){var e="Unknown OS";return m.Android()&&(e="Android"),m.BlackBerry()&&(e="BlackBerry"),m.iOS()&&(e="iOS"),m.Opera()&&(e="Opera Mini"),m.Windows()&&(e="Windows"),e}},v="Unknown OS",y="Unknown OS Version",_=detectDesktopOS();_&&_.osName&&"-"!=_.osName?(v=_.osName,y=_.osVersion):m.any()&&"Android"==(v=m.getOsName())&&(y=getAndroidVersion());var b="object"==typeof n&&"object"==typeof n.versions&&n.versions.node;"Unknown OS"===v&&b&&(v="Nodejs",y=n.versions.node.toString().replace("v",""));var S=!1,w=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(e){"undefined"!=typeof document&&"function"==typeof document.createElement&&(!S&&e in document.createElement("canvas")&&(S=!0),!w&&e in document.createElement("video")&&(w=!0))});var C=[],T=[],E=[],k=[];c.mediaDevices&&c.mediaDevices.enumerateDevices&&(c.enumerateDevices=function(e){c.mediaDevices.enumerateDevices().then(e).catch(function(){e([])})});var x=!1;"undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack?x=!0:c.mediaDevices&&c.mediaDevices.enumerateDevices&&(x=!0);var I=!1,R=!1,O=!1,P=!1,A=!1,M=window.DetectRTC||{};M.browser=getBrowserInfo(),detectPrivateMode(function(e){M.browser.isPrivateBrowsing=!!e}),M.browser["is"+M.browser.name]=!0,M.osName=v,M.osVersion=y;var N="object"==typeof n&&"object"==typeof n.versions&&n.versions["node-webkit"],D=!1;["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach(function(e){D||e in window&&(D=!0)}),M.isWebRTCSupported=D,M.isORTCSupported="undefined"!=typeof RTCIceGatherer;var L=!1;M.browser.isChrome&&M.browser.version>=35?L=!0:M.browser.isFirefox&&M.browser.version>=34&&(L=!0),/^(https:|chrome-extension:)$/g.test(location.protocol||"")||("undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(L=!1),M.browser.isFirefox&&(L=!1)),M.isScreenCapturingSupported=L;var F={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach(function(e){F.isSupported||e in window&&(F.isSupported=!0,window[e]&&"createMediaStreamSource"in window[e].prototype&&(F.isCreateMediaStreamSourceSupported=!0))}),M.isAudioContextSupported=F.isSupported,M.isCreateMediaStreamSourceSupported=F.isCreateMediaStreamSourceSupported;var U=!1;M.browser.isChrome&&M.browser.version>31&&(U=!0),M.isRtpDataChannelsSupported=U;var j=!1;M.browser.isFirefox&&M.browser.version>28?j=!0:M.browser.isChrome&&M.browser.version>25?j=!0:M.browser.isOpera&&M.browser.version>=11&&(j=!0),M.isSctpDataChannelsSupported=j,M.isMobileDevice=u;var W=!1;c.getUserMedia?W=!0:c.mediaDevices&&c.mediaDevices.getUserMedia&&(W=!0),M.browser.isChrome&&M.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(W="Requires HTTPs"),"Nodejs"===M.osName&&(W=!1),M.isGetUserMediaSupported=W;var B="";screen.width&&(B+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:"")),M.displayResolution=B,M.isCanvasSupportsStreamCapturing=S,M.isVideoSupportsStreamCapturing=w,"Chrome"==M.browser.name&&M.browser.version>=53&&(M.isCanvasSupportsStreamCapturing||(M.isCanvasSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features"),M.isVideoSupportsStreamCapturing||(M.isVideoSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features")),M.DetectLocalIPAddress=DetectLocalIPAddress,M.isWebSocketsSupported="WebSocket"in window&&2===window.WebSocket.CLOSING,M.isWebSocketsBlocked=!M.isWebSocketsSupported,"Nodejs"===M.osName&&(M.isWebSocketsSupported=!0,M.isWebSocketsBlocked=!1),M.checkWebSocketsSupport=function(e){e=e||function(){};try{var t=new WebSocket("wss://echo.websocket.org:443/");t.onopen=function(){M.isWebSocketsBlocked=!1,e(),t.close(),t=null},t.onerror=function(){M.isWebSocketsBlocked=!0,e()}}catch(t){M.isWebSocketsBlocked=!0,e()}},M.load=function(e){checkDeviceSupport(e=e||function(){})},M.MediaDevices=void 0!==C?C:[],M.hasMicrophone=I,M.hasSpeakers=R,M.hasWebcam=O,M.isWebsiteHasWebcamPermissions=A,M.isWebsiteHasMicrophonePermissions=P,M.audioInputDevices=T,M.audioOutputDevices=E,M.videoInputDevices=k;var H=!1;"undefined"!=typeof document&&"function"==typeof document.createElement&&"setSinkId"in document.createElement("video")&&(H=!0),M.isSetSinkIdSupported=H;var z=!1;M.browser.isFirefox&&"undefined"!=typeof mozRTCPeerConnection?"getSenders"in mozRTCPeerConnection.prototype&&(z=!0):M.browser.isChrome&&"undefined"!=typeof webkitRTCPeerConnection&&"getSenders"in webkitRTCPeerConnection.prototype&&(z=!0),M.isRTPSenderReplaceTracksSupported=z;var q=!1;M.browser.isFirefox&&M.browser.version>38&&(q=!0),M.isRemoteStreamProcessingSupported=q;var V=!1;"undefined"!=typeof MediaStreamTrack&&"applyConstraints"in MediaStreamTrack.prototype&&(V=!0),M.isApplyConstraintsSupported=V;var G=!1;M.browser.isFirefox&&M.browser.version>=43&&(G=!0),M.isMultiMonitorScreenCapturingSupported=G,M.isPromisesSupported=!!("Promise"in window),void 0===M&&(window.DetectRTC={});var $=window.MediaStream;void 0===$&&"undefined"!=typeof webkitMediaStream&&($=webkitMediaStream),M.MediaStream=void 0!==$&&Object.keys($.prototype),"undefined"!=typeof MediaStreamTrack?M.MediaStreamTrack=Object.keys(MediaStreamTrack.prototype):M.MediaStreamTrack=!1;var X=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;M.RTCPeerConnection=void 0!==X&&Object.keys(X.prototype),window.DetectRTC=M,e.exports=M,void 0!==(o=function(){return M}.apply(t,i=[]))&&(e.exports=o)}()}).call(t,n(126),n(37))},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(15),a=n(94),s=n(1067),c=n(867),u=void 0;window.AudioContext?u=new AudioContext:window.webkitAudioContext&&(u=new window.webkitAudioContext);var l=function(e){function Video(){_classCallCheck(this,Video);var e=_possibleConstructorReturn(this,(Video.__proto__||Object.getPrototypeOf(Video)).apply(this,arguments));return e.state={videoInputEnabled:!0,audioInputEnabled:!0,audioOutputEnabled:!0,participantVideoInputEnabled:!0,localParticipantVideoInputEnabled:!0,localParticipantAudioInputEnabled:!0},e.connect=function(t,n){if(e.disconnectFromRoom(),t&&n){var r=e.props,i=r.videoInputDeviceId,o=r.audioInputDeviceId,a=r.videoQualityId;c.localTracks(o,i,a).then(function(r){return e.connectToRoom(t,n,r)})}},e.attachAudioOutput=function(t){if("audio"===t.kind){var n=t.attach();a(n.setSinkId)&&n.setSinkId(e.props.audioOutputDeviceId).then(function(){return e.refs["local-media"].appendChild(n)})}},e.handleParticipantConnected=function(t){var n=function setParticipantVideoInputStatus(){e.setState({participantVideoInputEnabled:c.videoEnabled(t)})};t.tracks.forEach(function(t){e.refs["remote-media"].appendChild(t.attach())}),t.on("trackAdded",function(n){"audio"===n.kind&&(c.enableAudio(t,e.state.audioOutputEnabled),c.assignMicActivityLevel(u,n,e.refs["remote-media-waves"])),e.refs["remote-media"].appendChild(n.attach())}),t.on("trackStarted",n),t.on("trackEnabled",n),t.on("trackDisabled",n),e.props.onParticipantConnected(t)},e.handleParticipantDisconnected=function(t){c.detachTracks(t),e.props.onParticipantDisconnected(t),e.setState({participantVideoInputEnabled:!0})},e.handleDisconnected=function(t){c.detachTracks(t.localParticipant),t.participants.forEach(e.handleParticipantDisconnected),e.props.onDisconnect()},e.toggleVoice=function(){e.state.localParticipantAudioInputEnabled&&e.setState({audioInputEnabled:!e.state.audioInputEnabled},function(){e.room&&c.enableAudio(e.room.localParticipant,e.state.audioInputEnabled)})},e.toggleSound=function(){e.setState({audioOutputEnabled:!e.state.audioOutputEnabled},function(){e.room&&e.room.participants.forEach(function(t){c.enableAudio(t,e.state.audioOutputEnabled)})})},e.toggleCamera=function(){e.state.localParticipantVideoInputEnabled&&e.setState({videoInputEnabled:!e.state.videoInputEnabled},function(){e.room&&c.enableVideo(e.room.localParticipant,e.state.videoInputEnabled)})},e.onWindowUnload=function(){e.disconnectFromRoom()},e.onOnline=function(){e.connect(e.props.token,e.props.room)},e.onOffline=function(){e.disconnectFromRoom()},e}return _inherits(Video,e),r(Video,[{key:"componentDidMount",value:function componentDidMount(){this.connect(this.props.token,this.props.room),window.addEventListener("beforeunload",this.onWindowUnload),window.addEventListener("offline",this.onOffline),window.addEventListener("online",this.onOnline)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=this.props,n=t.token,r=t.room;e.token===n&&e.room===r||this.connect(e.token,e.room)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("beforeunload",this.onWindowUnload),window.removeEventListener("offline",this.onOffline),window.removeEventListener("online",this.onOnline),this.disconnectFromRoom()}},{key:"render",value:function render(){var e=this.state,t=e.videoInputEnabled,n=e.audioInputEnabled,r=e.audioOutputEnabled,a=e.participantVideoInputEnabled,s=e.localParticipantVideoInputEnabled,c=e.localParticipantAudioInputEnabled,u=this.props.visible;return i.createElement("div",{className:o("video-component",{"video-component-hidden":!u})},i.createElement("div",{ref:"remote-media",className:"video-component__remote-media"},i.createElement("div",{className:o("video-placeholder",{"is-hidden":a})},i.createElement("div",{className:"video-placeholder__icon"}),i.createElement("div",{ref:"remote-media-waves"}))),i.createElement("div",{ref:"local-media",className:"video-component__local-media"},i.createElement("div",{className:o("video-placeholder",{"is-hidden":t})},i.createElement("div",{className:"video-placeholder__icon"}),i.createElement("div",{ref:"local-media-waves"}))),i.createElement("div",{className:"video-notification"},n||i.createElement("span",{className:"video-notification-label--voice"}),r||i.createElement("span",{className:"video-notification-label--sound"})),i.createElement("div",{className:"video-component__controls"},i.createElement("span",{className:o({"video-controls-btn":n,"video-controls-btn--off":!n,"is-disabled":!c}),onClick:this.toggleVoice},i.createElement("span",{className:"video-controls-icon--voice"})),i.createElement("span",{className:o({"video-controls-btn":r,"video-controls-btn--off":!r}),onClick:this.toggleSound},i.createElement("span",{className:"video-controls-icon--sound"})),i.createElement("span",{className:o({"video-controls-btn":t,"video-controls-btn--off":!t,"is-disabled":!s}),onClick:this.toggleCamera},i.createElement("span",{className:"video-controls-icon--camera"}))))}},{key:"connectToRoom",value:function connectToRoom(e,t,n){var r=this;s.connect(e,{tracks:n,name:t}).then(function(e){r.room=e,e.localParticipant.tracks.forEach(function(e){r.refs["local-media"].appendChild(e.attach())}),e.localParticipant.audioTracks.forEach(function(e){c.assignMicActivityLevel(u,e,r.refs["local-media-waves"])}),r.setState({audioInputEnabled:c.audioEnabled(e.localParticipant),videoInputEnabled:c.videoEnabled(e.localParticipant),localParticipantAudioInputEnabled:c.audioEnabled(e.localParticipant),localParticipantVideoInputEnabled:c.videoEnabled(e.localParticipant)}),e.participants.forEach(r.handleParticipantConnected),e.on("participantConnected",r.handleParticipantConnected),e.on("participantDisconnected",r.handleParticipantDisconnected),e.on("disconnected",r.handleDisconnected),e.on("trackAdded",r.attachAudioOutput),r.props.onConnectSuccess()},function(e){r.props.onConnectError(e)})}},{key:"disconnectFromRoom",value:function disconnectFromRoom(){this.room&&(this.room.disconnect(),this.room=null)}}]),Video}(i.Component);l.defaultProps={audioOutputDeviceId:"",audioInputDeviceId:"",videoInputDeviceId:"",videoQualityId:"",token:"",room:"",onDisconnect:function onDisconnect(){},onConnectSuccess:function onConnectSuccess(){},onConnectError:function onConnectError(e){},onParticipantConnected:function onParticipantConnected(e){},onParticipantDisconnected:function onParticipantDisconnected(e){}},t.Video=l},function(e,t,n){"use strict";function connect(e,t){t=Object.assign({createLocalTracks:o,environment:s.DEFAULT_ENVIRONMENT,LocalAudioTrack:l,LocalParticipant:d,LocalVideoTrack:p,MediaStreamTrack:f,logLevel:s.DEFAULT_LOG_LEVEL,name:null,realm:s.DEFAULT_REALM,signaling:m},t),t=Object.assign({wsServer:s.WS_SERVER(t.environment,t.realm)},t);var n=v.buildLogLevels(t.logLevel),a="[connect #"+ ++y+"]";try{var c=new h("default",a,n)}catch(e){return r.reject(e)}if(t.log=c,"string"!=typeof e)return r.reject(new u.INVALID_TYPE("token","string"));if("tracks"in t){if(!Array.isArray(t.tracks))return r.reject(new u.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{t.tracks=t.tracks.map(function(e){return v.asLocalTrack(e,t)})}catch(e){return r.reject(e)}}var g=new(0,t.signaling)(t.wsServer,t);c.info("Connecting to a Room"),c.debug("Options:",t);var _=i(getLocalTracks.bind(null,t),createLocalParticipant.bind(null,g,c,t),createRoomSignaling.bind(null,e,t,g),createRoom.bind(null,t));return _.then(function(e){return c.info("Connected to Room:",e.toString()),c.info("Room name:",e.name),c.debug("Room:",e),e},function(e){_._isCanceled?c.info("Attempt to connect to a Room was canceled"):c.info("Error while connecting to a Room:",e)}),_}function createLocalParticipant(e,t,n,r){var i=e.createLocalParticipantSignaling();return t.debug("Creating a new LocalParticipant:",i),new n.LocalParticipant(i,r,n)}function createRoom(e,t,n){var r=new c(t,n,e),i=e.log;return i.debug("Creating a new Room:",r),n.on("stateChanged",function stateChanged(){i.info("Disconnected from Room:",r.toString()),n.removeListener("stateChanged",stateChanged)}),r}function createRoomSignaling(e,t,n,r){var i=t.log;return i.info("Getting ICE servers"),i.debug("Options:",t),(t.iceServers?new a(t.iceServers):new g(e,t)).start().then(function(o){var a={token:e};return i.info("Got ICE servers"),i.debug("ICE servers:",o),t.iceServers=o,i.debug("Creating a new RoomSignaling"),i.debug("RoomSignaling params:",a),n.connect(r._signaling,e,t)})}function getLocalTracks(e,t){var n=e.log;return e.shouldStopLocalTracks=!e.tracks,e.shouldStopLocalTracks?n.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(n.info("Getting LocalTracks"),n.debug("Options:",e)),e.createLocalTracks(e).then(function getLocalTracksSucceeded(r){var i=t(r);return i.catch(function handleLocalTracksFailed(){e.shouldStopLocalTracks&&(n.info("The automatically acquired LocalTracks will now be stopped"),r.forEach(function(e){e.stop()}))}),i})}var r=n(860),i=n(1524),o=n(861),a=n(1529),s=n(156),c=n(1530),u=n(156).typeErrors,l=n(792),d=n(1531),p=n(794),h=n(793),f=n(864),g=n(1532),m=n(1538),v=n(85),y=0,_={debug:"debug",info:"info",warn:"warn",error:"error",off:"off"};e.exports=connect},function(e,t,n){"use strict";function createCancelableRoomPromise(e,t,n,i){var o,a=new Error("Canceled");return new r(function onCreate(s,c,u){var l;e(function getLocalTracksSucceeded(e){return u()?r.reject(a):(l=t(e),n(l).then(function createRoomSignalingSucceeded(e){if(u())throw a;return o=e()}))}).then(function roomSignalingConnected(e){if(u())throw e.disconnect(),a;s(i(l,e))}).catch(function onError(e){c(e)})},function onCancel(){o&&o.cancel()})}var r=n(860);e.exports=createCancelableRoomPromise},function(e,t,n){"use strict";function getUserMedia(e){return new Promise(function getUserMediaPromise(t,n){_getUserMedia(e||{audio:!0,video:!0},t,n)})}function _getUserMedia(e,t,n){"undefined"==typeof window||"undefined"==typeof navigator?n(new Error("getUserMedia is not supported")):"object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e).then(t,n):"function"==typeof navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(e,t,n):"function"==typeof navigator.mozGetUserMedia&&navigator.mozGetUserMedia(e,t,n)}e.exports=getUserMedia},function(e,t){e.exports=function isBuffer(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function inherits(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function inherits(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function LocalTrackSignaling(e){i.call(this,e.id,e.kind,e.enabled),this.setMediaStreamTrack(e)}var r=n(24).inherits,i=n(1070);r(LocalTrackSignaling,i),e.exports=LocalTrackSignaling},function(e,t,n){"use strict";function ConstantIceServerSource(e){r.call(this),Object.defineProperties(this,{_instance:{value:++i},_iceServers:{enumerable:!0,value:e,writable:!0}})}var r=n(129).EventEmitter,i=0;(0,n(24).inherits)(ConstantIceServerSource,r),ConstantIceServerSource.prototype.start=function start(){return Promise.resolve(this._iceServers)},ConstantIceServerSource.prototype.stop=function stop(){},ConstantIceServerSource.prototype.toString=function toString(){return"[ConstantIceServerSource #"+this._instance+"]"},e.exports=ConstantIceServerSource},function(e,t,n){"use strict";function Room(e,t,n){if(!(this instanceof Room))return new Room(e,t,n);r.call(this);var i=n.log.createLog("default",this),o=new Map;Object.defineProperties(this,{_log:{value:i},_instanceId:{value:++a},_options:{value:n},_participants:{value:o},_signaling:{value:t},isRecording:{enumerable:!0,get:function(){return t.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:e},name:{enumerable:!0,value:t.name},participants:{enumerable:!0,value:o},sid:{enumerable:!0,value:t.sid},state:{enumerable:!0,get:function(){return t.state}}}),handleRecordingEvents(this,t.recording),handleSignalingEvents(this,t),i.info("Created a new Room:",this.name),i.debug("Initial Participants:",Array.from(this._participants.values()))}function connectParticipant(e,t){var n=e._log,r=new o(t,{log:n});n.info("A new Participant connected:",r),e._participants.set(r.sid,r),e.emit("participantConnected",r);var i=["trackAdded","trackDimensionsChanged","trackDisabled","trackEnabled","trackRemoved","trackStarted"].map(function(t){function reemit(){var n=[].slice.call(arguments);n.unshift(t),n.push(r),e.emit.apply(e,n)}return r.on(t,reemit),[t,reemit]});r.once("disconnected",function participantDisconnected(){n.info("Participant disconnected:",r),e._participants.delete(r.sid),i.forEach(function(e){r.removeListener(e[0],e[1])}),e.emit("participantDisconnected",r)})}function handleRecordingEvents(e,t){t.on("updated",function updated(){var n=t.isEnabled;e._log.info("Recording "+(n?"started":"stopped")),e.emit("recording"+(n?"Started":"Stopped"))})}function handleSignalingEvents(e,t){var n=e._log;n.debug("Creating a new Participant for each ParticipantSignaling in the RoomSignaling"),t.participants.forEach(connectParticipant.bind(null,e)),n.debug("Setting up Participant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),t.on("participantConnected",connectParticipant.bind(null,e)),t.on("stateChanged",function stateChanged(t,r){n.info("Transitioned to state:",t),e.emit(t,e,r)})}var r=n(129).EventEmitter,i=n(24).inherits,o=n(1072),a=0;i(Room,r),Room.prototype.toString=function toString(){return"[Room #"+this._instanceId+": "+this.sid+"]"},Room.prototype.disconnect=function disconnect(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this},Room.prototype.getStats=function getStats(){return this._signaling.getStats()},e.exports=Room},function(e,t,n){"use strict";function LocalParticipant(e,t,n){if(!(this instanceof LocalParticipant))return new LocalParticipant(e,t,n);var r=(n=Object.assign({LocalAudioTrack:a,LocalVideoTrack:s,MediaStreamTrack:c,shouldStopLocalTracks:!1,tracks:t},n)).shouldStopLocalTracks?new Set(t):new Set;u.call(this,e,n),Object.defineProperties(this,{_LocalAudioTrack:{value:n.LocalAudioTrack},_LocalVideoTrack:{value:n.LocalVideoTrack},_MediaStreamTrack:{value:n.MediaStreamTrack},_tracksToStop:{value:r}})}var r=n(85),i=n(24).inherits,o=n(156).typeErrors,a=n(792),s=n(794),c=n(864),u=n(1072);i(LocalParticipant,u),LocalParticipant.prototype._getTrackEvents=function _getTrackEvents(){return u.prototype._getTrackEvents.call(this).concat([["stopped","trackStopped"]])},LocalParticipant.prototype.toString=function toString(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},LocalParticipant.prototype._handleTrackSignalingEvents=function _handleTrackSignalingEvents(){function localTrackAdded(n){t.addTrack(n._signaling),e.info("Added a new "+r.trackClass(n,!0)+":",n.id),e.debug(r.trackClass(n,!0)+":",n)}function localTrackRemoved(n){t.removeTrack(n._signaling),e.info("Removed a "+r.trackClass(n,!0)+":",n.id),e.debug(r.trackClass(n,!0)+":",n)}var e=this._log;if("disconnected"!==this.state){var t=this._signaling;this.on("trackAdded",localTrackAdded),this.on("trackRemoved",localTrackRemoved),this.tracks.forEach(localTrackAdded);var n=this;t.on("stateChanged",function stateChanged(r){e.debug("Transitioned to state:",r),"disconnected"===r&&(e.debug("Removing LocalTrack event listeners"),t.removeListener("stateChanged",stateChanged),n.removeListener("trackAdded",localTrackAdded),n.removeListener("trackRemoved",localTrackRemoved),e.info("LocalParticipant disconnected. Stopping "+n._tracksToStop.size+" automatically-acquired LocalTracks"),n._tracksToStop.forEach(function(e){e.stop()}))})}},LocalParticipant.prototype.addTrack=function addTrack(e){return this._addTrack(r.asLocalTrack(e,{log:this._log,LocalAudioTrack:this._LocalAudioTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack}))},LocalParticipant.prototype.addTracks=function addTracks(e){if(!Array.isArray(e))throw new o.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack");var t=this;return e.reduce(function(e,n){var r=t.addTrack(n);return r?e.concat(r):e},[])},LocalParticipant.prototype.removeTrack=function removeTrack(e,t){return e=this._removeTrack(r.asLocalTrack(e,{log:this._log,LocalAudioTrack:this._LocalAudioTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack})),t="boolean"!=typeof t||t,e&&t&&(e.stop(),this._log.info("Stopped LocalTrack:",e)),e},LocalParticipant.prototype.removeTracks=function removeTracks(e,t){if(!Array.isArray(e))throw new o.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack");var n=this;return e.reduce(function(e,r){var i=n.removeTrack(r,t);return i?e.concat(i):e},[])},e.exports=LocalParticipant},function(e,t,n){"use strict";function NTSIceServerSource(e,t){o.call(this),t=Object.assign({defaultTTL:r.ICE_SERVERS_DEFAULT_TTL,environment:r.DEFAULT_ENVIRONMENT,getConfiguration:i.getConfiguration,realm:r.DEFAULT_REALM,timeout:r.ICE_SERVERS_TIMEOUT_MS},t);var n=r.DEFAULT_ICE_SERVERS(t.environment),a=t.ecsServer||r.ECS_SERVER(t.environment,t.realm),c=t.log?t.log.createLog("default",this):new s("default",this,u.buildLogLevels("off"));Object.defineProperties(this,{_defaultIceServers:{value:n},_defaultTTL:{value:t.defaultTTL},_ecsServer:{value:a},_getConfiguration:{value:t.getConfiguration},_instance:{value:++d},_nextPoll:{value:null,writable:!0},_log:{value:c},_started:{value:null,writable:!0},_stopped:{value:u.defer(),writable:!0},_timeout:{value:t.timeout},_token:{value:e}}),this._log.info("Created a new NTSIceServerSource"),this._log.debug("ECS server:",this._ecsServer)}function parseECSConfig(e,t){var n=u.getOrNull(t,"video.network_traversal_service");if(!n)throw new Error("network_traversal_service not available");n.warning&&e._log.warn(n.warning);var r=n.ice_servers;if(!r)throw new Error("ice_servers not available");return e._log.info("Got ICE servers: "+JSON.stringify(r)),[r,n.ttl||e._defaultTTL]}function poll(e){e._log.debug("Getting ECS configuration");var t={configUrl:e._ecsServer+"/v1/Configuration",body:{service:"video",sdk_version:l}},n=new Error("Already stopped"),i=e._getConfiguration(e._token,t),o=new c(i,e._timeout);return Promise.race([o,e._stopped.promise]).then(function(t){if(!t)throw n;return parseECSConfig(e,t)}).catch(function(t){if(!e._started)throw n;return o.isTimedOut?e._log.warn("Getting ICE servers took too long (using defaults)"):e._log.warn("Failed to get ICE servers (using defaults):",t),[e._defaultIceServers,e._defaultTTL]}).then(function(t){var n=t[0],i=t[1];e._log.info("Getting ICE servers again in "+i+" seconds"),e._nextPoll=setTimeout(function nextPoll(){e._started&&(e._started=poll(e))},1e3*(i-r.ECS_TIMEOUT)),e._iceServers=n;try{e.emit("iceServers",n)}catch(e){}return n})}var r=n(156),i=n(1533),o=n(129).EventEmitter,a=n(24).inherits,s=n(793),c=n(1537),u=n(85),l=n(859).version,d=0;a(NTSIceServerSource,o),NTSIceServerSource.prototype.start=function start(){return this._started?this._log.warn("Already started"):(this._log.info("Starting"),this._started=poll(this)),this._started},NTSIceServerSource.prototype.stop=function stop(){this._started?(this._log.info("Stopping"),this._started=null,clearTimeout(this._nextPoll),this._stopped.resolve(),this._stopped=u.defer(),this._log.debug("Stopped")):this._log.warn("Already stopped")},NTSIceServerSource.prototype.toString=function toString(){return"[NTSIceServerSource #"+this._instance+"]"},e.exports=NTSIceServerSource},function(e,t,n){"use strict";function getConfiguration(e,t){if(!e)throw new Error("<String>token is a required argument.");var n={url:(t=Object.assign({configUrl:a},t)).configUrl,headers:{"X-Twilio-Token":e,"Content-Type":"application/x-www-form-urlencoded"}};return t.body&&(n.body=toQueryString(t.body)),r.post(n).then(function(e){return parseJsonTextFromECS(e)},function(e){var t=parseJsonTextFromECS(e);throw i(t.code,t.message)})}function parseJsonTextFromECS(e){var t=null;try{t=JSON.parse(e)}catch(e){throw new o}return t}function toQueryString(e){return Object.keys(e||{}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}var r=n(1534),i=n(309).createTwilioError,o=n(309).ConfigurationAcquireFailedError,a="https://ecs.us1.twilio.com/v1/Configuration";e.exports.getConfiguration=getConfiguration},function(e,t,n){"use strict";function request(e,t){return new Promise(function(n,i){if("string"!=typeof e||!t)throw new Error("<String>method and <Object>params are required args.");var o=new r;o.open(e.toUpperCase(),t.url,!0),o.withCredentials=!!t.withCredentials,o.onreadystatechange=function onreadystatechange(){4===o.readyState&&(200<=o.status&&o.status<300?n(o.responseText):i(o.responseText))};for(var a in t.headers)o.setRequestHeader(a,t.headers[a]);o.send(t.body)})}var r=n(1535).XMLHttpRequest;request.get=request.bind(null,"GET"),request.post=request.bind(null,"POST"),e.exports=request},function(e,t){t.XMLHttpRequest=XMLHttpRequest},function(e,t,n){"use strict";function TwilioError(e){var t=Error.apply(this,[].slice.call(arguments,1));t.name="TwilioError",Object.defineProperty(this,"code",{value:e,enumerable:!0}),Object.getOwnPropertyNames(t).forEach(function(e){Object.defineProperty(this,e,{value:t[e],enumerable:!0})},this)}(0,n(24).inherits)(TwilioError,Error),TwilioError.prototype.toString=function toString(){var e=this.message?": "+this.message:"";return this.name+" "+this.code+e},e.exports=TwilioError},function(e,t,n){"use strict";function TimeoutPromise(e,t){if(!(this instanceof TimeoutPromise))return new TimeoutPromise(e,t);r.call(this);var n=o.defer(),i=!1,a=new Error("Timed out"),s=null,c=null;Object.defineProperties(this,{_deferred:{value:n},_isTimedOut:{get:function(){return i},set:function(e){i=e}},_timedOut:{value:a},_timeout:{get:function(){return s},set:function(e){s=e}},_timer:{get:function(){return c},set:function(e){c=e}},_promise:{value:n.promise},isTimedOut:{enumerable:!0,get:function(){return i}},timeout:{enumerable:!0,get:function(){return s}}});var u=this;e.then(function originalResolved(){clearTimeout(u._timer),n.resolve.apply(n.promise,arguments)},function originalRejected(){clearTimeout(u._timer),n.reject.apply(n.promise,arguments)}),t&&this.start(t)}var r=n(129).EventEmitter,i=n(24).inherits,o=n(85);i(TimeoutPromise,r),TimeoutPromise.prototype.catch=function _catch(){return this._promise.catch.apply(this._promise,arguments)},TimeoutPromise.prototype.start=function start(e){if(this._timer)return this;var t=this;return this._timeout=e,this._timer=setTimeout(function timer(){t._timer&&(t._isTimedOut=!0,t.emit("timedOut",t),t._deferred.reject(t._timedOut))},this.timeout),this},TimeoutPromise.prototype.then=function then(){return this._promise.then.apply(this._promise,arguments)},e.exports=TimeoutPromise},function(e,t,n){"use strict";function SignalingV2(e,t){var n=l.makeClientSIPURI(),o="debug"===(t=Object.assign({createCancelableRoomSignalingPromise:i,registrarServer:r.REGISTRAR_SERVER,UA:c.UA},t)).logLevel,a=e.startsWith("wss://"),d=new(0,t.UA)({autostart:!1,log:{builtinEnabled:o},extraSupported:["room-signaling","timer"],hackAllowUnregisteredOptionTags:!0,keepAliveInterval:30,mediaHandlerFactory:u.defaultFactory,register:!1,registrarServer:t.registrarServer,traceSip:o,uri:n,wsServers:e,hackWssInTransport:a});s.call(this),Object.defineProperties(this,{_createCancelableRoomSignalingPromise:{value:t.createCancelableRoomSignalingPromise},_options:{value:t},_ua:{value:d}})}var r=n(156),i=n(1539),o=n(24).inherits,a=n(1597),s=n(1598),c=n(866),u=n(1084),l=n(85);o(SignalingV2,s),SignalingV2.prototype._close=function _close(e){return this.transition("closing",e),this._ua.stop(),this._ua.transport.disconnect(),this.transition("closed",e),Promise.resolve(this)},SignalingV2.prototype._open=function _open(e){function startUA(){t._ua.start()}var t=this;return this.transition("opening",e),l.promiseFromEvents(startUA,this._ua,"connected","disconnected").then(function(){return t.transition("open",e),t},function(){throw t.transition("closed",e),new Error("Open failed")})},SignalingV2.prototype._connect=function _connect(e,t,n){n=Object.assign({iceServers:r.DEFAULT_ICE_SERVERS},this._options,n);var i=this._ua;return this._createCancelableRoomSignalingPromise.bind(null,t,i,e,n)},SignalingV2.prototype.createLocalParticipantSignaling=function createLocalParticipantSignaling(){return new a},e.exports=SignalingV2},function(e,t,n){"use strict";function createCancelableRoomSignalingPromise(e,t,n,l){var d,p=(l=Object.assign({PeerConnectionManager:i,RoomV2:o,Transport:a},l)).PeerConnectionManager,h=l.RoomV2,f=new p,g=u(n.tracks,function(e){return[e.mediaStreamTrack]});f.setConfiguration(l),f.setMediaStreamTracks(g);var m=new Error("Canceled");return new r(function onCreate(r,i,o){f.createAndOffer().then(function createAndOfferSucceeded(){return f.dequeue("description"),new Promise(function(r,i){if(o())i(m);else{var a="string"==typeof l.wsServerInsights?{wsServerInsights:l.wsServerInsights}:{};a=Object.assign({environment:l.environment,realm:l.realm},a);var u=l.Transport;(d=new u(l.name,e,n,f,t,a)).once("connected",function connected(e){if(o())i(m);else{var t=e.participant;t?(n.connect(t.sid,t.identity),r(new h(n,e,d,f,l))):i(new c)}}),d.once("stateChanged",function stateChanged(e,t){"disconnected"===e&&(t=t||new s,d=null,i(t))})}})}).then(function createRoomSignalingSucceeded(e){if(o())return f.close(),e.disconnect(),void i(m);r(e)}).catch(function onError(e){d&&(d.disconnect(),d=null),f.close(),i(e)})},function onCancel(){d&&(d.disconnect(),d=null)})}var r=n(860),i=n(1540),o=n(1557),a=n(1561),s=n(309).SignalingConnectionDisconnectedError,c=n(309).SignalingIncomingMessageInvalidError,u=n(85).flatMap;e.exports=createCancelableRoomSignalingPromise},function(e,t,n){"use strict";function PeerConnectionManager(e){if(!(this instanceof PeerConnectionManager))return new PeerConnectionManager(e);a.call(this),e=Object.assign({MediaStream:o,PeerConnectionV2:i},e),Object.defineProperties(this,{_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:s.defer()},_localMediaStream:{value:new e.MediaStream},_peerConnections:{value:new Map},_PeerConnectionV2:{value:e.PeerConnectionV2}})}var r=n(24).inherits,i=n(1541),o=n(863),a=n(1556),s=n(85);r(PeerConnectionManager,a),PeerConnectionManager.prototype._getConfiguration=function _getConfiguration(){return this._configurationDeferred.promise},PeerConnectionManager.prototype._getOrCreate=function _getOrCreate(e,t){var n=this,r=this._peerConnections.get(e);if(!r){var i=this._PeerConnectionV2;r=new i(e,t),this._peerConnections.set(r.id,r),r.on("candidates",this.queue.bind(this,"candidates")),r.on("description",this.queue.bind(this,"description")),r.on("trackAdded",this.queue.bind(this,"trackAdded")),r.on("stateChanged",function stateChanged(e){"closed"===e&&(r.removeListener("stateChanged",stateChanged),n._peerConnections.delete(r.id),n._closedPeerConnectionIds.add(r.id))}),r.addMediaStream(this._localMediaStream)}return r},PeerConnectionManager.prototype.close=function close(){return this._peerConnections.forEach(function(e){e.close()}),this},PeerConnectionManager.prototype.createAndOffer=function createAndOffer(){var e=this;return this._getConfiguration().then(function getConfigurationSucceeded(t){var n;do{n=s.makeUUID()}while(e._peerConnections.has(n));return e._getOrCreate(n,t)}).then(function createSucceeded(e){return e.offer()}).then(function offerSucceeded(){return e})},PeerConnectionManager.prototype.getRemoteMediaStreamTracks=function getRemoteMediaStreamTracks(){return s.flatMap(this._peerConnections,function(e){return e.getRemoteMediaStreamTracks()})},PeerConnectionManager.prototype.getStates=function getStates(){var e=[];return this._peerConnections.forEach(function(t){var n=t.getState();n&&e.push(n)}),e},PeerConnectionManager.prototype.setConfiguration=function setConfiguration(e){return this._configuration&&(this._configurationDeferred=s.defer(),this._peerConnections.forEach(function(t){t.setConfiguration(e)})),this._configuration=e,this._configurationDeferred.resolve(e),this},PeerConnectionManager.prototype.setMediaStreamTracks=function setMediaStreamTracks(e){var t=s.difference(this._localMediaStream.getTracks(),e),n=s.difference(e,this._localMediaStream.getTracks());return(t.size||n.size)&&(t.forEach(this._localMediaStream.removeTrack,this._localMediaStream),n.forEach(this._localMediaStream.addTrack,this._localMediaStream),this._peerConnections.forEach(function(e){e.removeMediaStream(this._localMediaStream),e.addMediaStream(this._localMediaStream),e.offer()},this)),this},PeerConnectionManager.prototype.update=function update(e){var t=this;return this._getConfiguration().then(function getConfigurationSucceeded(n){return Promise.all(e.map(function(e){return t._closedPeerConnectionIds.has(e.id)?null:t._getOrCreate(e.id,n).update(e)}))}).then(function updatesSucceeded(){return t})},PeerConnectionManager.prototype.getStats=function getStats(){var e=Array.from(this._peerConnections.values());return Promise.all(e.map(function(e){return e.getStats()}))},e.exports=PeerConnectionManager},function(e,t,n){"use strict";function PeerConnectionV2(e,t){if(!(this instanceof PeerConnectionV2))return new PeerConnectionV2(e,t);p.call(this,"open",g);var n=getConfiguration(t=Object.assign(f,t)),r=new(0,t.RTCPeerConnection)(n);Object.defineProperties(this,{_descriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCandidatesRevision:{writable:!0,value:1},_localDescription:{writable:!0,value:null},_localUfrag:{writable:!0,value:null},_needsInitialAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:t.offerOptions},_peerConnection:{value:r},_queuedDescription:{writable:!0,value:null},_remoteCandidates:{writable:!0,value:new c},_RTCIceCandidate:{value:t.RTCIceCandidate},_RTCPeerConnection:{value:t.RTCPeerConnection},_RTCSessionDescription:{value:t.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},id:{enumerable:!0,value:e}}),r.addEventListener("icecandidate",this._handleIceCandidateEvent.bind(this)),r.addEventListener("signalingstatechange",this._handleSignalingStateChange.bind(this)),r.addEventListener("track",this._handleTrackEvent.bind(this))}function getUfrag(e){if(e.sdp){var t=e.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+/]+)/m);if(t)return t[1]}return null}function getConfiguration(e){return Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},e)}var r=n(1542),i=n(1543),o=n(1547),a=n(85).flatMap,s=n(1548),c=n(1549),u=n(24).inherits,l=n(309).MediaClientLocalDescFailedError,d=n(309).MediaClientRemoteDescFailedError,p=n(343),h=n(1551),f={iceServers:[],offerOptions:{offerToReceiveAudio:!0,offerToReceiveVideo:!0},RTCIceCandidate:r,RTCPeerConnection:i,RTCSessionDescription:o},g={open:["closed","updating"],updating:["closed","open"],closed:[]};u(PeerConnectionV2,p),PeerConnectionV2.prototype._addIceCandidate=function _addIceCandidate(e){var t=this;return Promise.resolve().then(function(){return e=new t._RTCIceCandidate(e),t._peerConnection.addIceCandidate(e)})},PeerConnectionV2.prototype._addIceCandidates=function _addIceCandidates(e){return Promise.all(e.map(this._addIceCandidate,this)).then(function(){})},PeerConnectionV2.prototype._checkIceBox=function checkIceBox(e){var t=getUfrag(e);if(!t)return Promise.resolve();var n=this._remoteCandidates.setUfrag(t);return this._addIceCandidates(n)},PeerConnectionV2.prototype._answer=function _answer(e){var t=this;return Promise.resolve().then(function(){return e=new t._RTCSessionDescription(e),t._negotiationRole||(t._negotiationRole="answerer"),t._peerConnection.setRemoteDescription(e)}).catch(function(){throw new d}).then(function(){return t._peerConnection.createAnswer()}).then(function(e){return t._setLocalDescription(e)}).then(function(){return t._checkIceBox(e)}).catch(function(e){throw e instanceof d?e:new l})},PeerConnectionV2.prototype._close=function _close(){return"closed"!==this._peerConnection.signalingState&&(this._peerConnection.close(),!0)},PeerConnectionV2.prototype._handleGlare=function _handleGlare(e){var t=this;return Promise.resolve().then(function(){var e=new t._RTCSessionDescription({type:"rollback"});return t._setLocalDescription(e)}).then(function(){return t._answer(e)}).then(function(){return t._offer()})},PeerConnectionV2.prototype._handleIceCandidateEvent=function _handleIceCandidateEvent(e){e.candidate&&this._localCandidates.push(e.candidate);var t={ice:{candidates:this._localCandidates.slice(),revision:this._localCandidatesRevision++,ufrag:this._localUfrag},id:this.id};e.candidate||(t.ice.complete=!0),this.emit("candidates",t)},PeerConnectionV2.prototype._handleSignalingStateChange=function _handleSignalingStateChange(){"closed"===this._peerConnection.signalingState&&"closed"!==this.state&&this.preempt("closed")},PeerConnectionV2.prototype._handleTrackEvent=function _handleTrackEvent(e){var t=e.track;this.emit("trackAdded",t)},PeerConnectionV2.prototype._offer=function _offer(){var e=this;return Promise.resolve().then(function(){return e._peerConnection.createOffer(e._offerOptions)}).catch(function(){throw new l}).then(function(t){return e._negotiationRole||(e._negotiationRole="offerer",e._needsInitialAnswer=!0),e._setLocalDescription(t)})},PeerConnectionV2.prototype._setLocalDescription=function _setLocalDescription(e){var t=this;return Promise.resolve().then(function(){return e=new t._RTCSessionDescription(e),t._peerConnection.setLocalDescription(e)}).catch(function(){throw new l}).then(function setLocalDescriptionSucceeded(){"rollback"!==e.type&&(t._localDescription=e,t._localCandidates=[],"offer"===e.type&&t._descriptionRevision++,t._localUfrag=getUfrag(e),t.emit("description",t.getState()))})},PeerConnectionV2.prototype._updateDescription=function _updateDescription(e){switch(e.type){case"answer":case"pranswer":if(e.revision!==this._descriptionRevision||"have-local-offer"!==this._peerConnection.signalingState)return Promise.resolve();this._descriptionRevision=e.revision;break;case"close":return this._close();case"create-offer":return e.revision<this._descriptionRevision?Promise.resolve():this._needsInitialAnswer?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._offer());case"offer":return e.revision<this._descriptionRevision||this._descriptionRevision&&e.revision===this._descriptionRevision&&"have-local-offer"!==this._peerConnection.signalingState||"closed"===this._peerConnection.signalingState?Promise.resolve():e.revision>=this._descriptionRevision&&"have-local-offer"===this._peerConnection.signalingState?this._needsInitialAnswer?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._handleGlare(e)):(this._descriptionRevision=e.revision,this._answer(e))}var t=this;return Promise.resolve().then(function(){return e=new t._RTCSessionDescription(e),t._peerConnection.setRemoteDescription(e)}).catch(function(){throw new d}).then(function(){return"answer"===e.type&&(t._needsInitialAnswer=!1),t._checkIceBox(e)}).then(function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)}).then(function(){return t._queuedDescription=null,t._shouldOffer&&t._offer()}).then(function(){t._shouldOffer=!1})},PeerConnectionV2.prototype._updateIce=function _updateIce(e){var t=this._remoteCandidates.update(e);return this._addIceCandidates(t)},PeerConnectionV2.prototype.addMediaStream=function addMediaStream(e){this._peerConnection.addStream(e)},PeerConnectionV2.prototype.close=function close(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))},PeerConnectionV2.prototype.getRemoteMediaStreamTracks=function getRemoteMediaStreamTracks(){return a(this._peerConnection.getRemoteStreams(),function(e){return e.getTracks()})},PeerConnectionV2.prototype.getState=function getState(){if(!this._localDescription)return null;var e={type:this._localDescription.type,revision:this._descriptionRevision};return this._localDescription.sdp&&(e.sdp=this._localDescription.sdp),{description:e,id:this.id}},PeerConnectionV2.prototype.offer=function offer(){if(this._needsInitialAnswer)return this._shouldOffer=!0,Promise.resolve();var e=this;return this.bracket("offering",function transition(t){return e.transition("updating",t),e._offer().then(function offerSucceeded(){e.tryTransition("open",t)},function offerFailed(n){throw e.tryTransition("open",t),n})})},PeerConnectionV2.prototype.removeMediaStream=function removeMediaStream(e){this._peerConnection.removeStream(e)},PeerConnectionV2.prototype.setConfiguration=function setConfiguration(e){"function"==typeof this._peerConnection.setConfiguration&&this._peerConnection.setConfiguration(getConfiguration(e))},PeerConnectionV2.prototype.update=function update(e){var t=this;return this.bracket("updating",function transition(n){if("closed"===t.state)return Promise.resolve();t.transition("updating",n);var r=[];return e.ice&&r.push(t._updateIce(e.ice)),e.description&&r.push(t._updateDescription(e.description)),Promise.all(r).then(function updatesSucceeded(){t.tryTransition("open",n)},function updatesFailed(e){throw t.tryTransition("open",n),e})})},PeerConnectionV2.prototype.getStats=function getStats(){var e=this;return s(this._peerConnection).then(function(t){return new h(e.id,t)})},e.exports=PeerConnectionV2},function(e,t,n){"use strict";"undefined"!=typeof RTCIceCandidate?e.exports=RTCIceCandidate:"undefined"!=typeof mozRTCIceCandidate?e.exports=mozRTCIceCandidate:e.exports=function RTCIceCandidate(){throw new Error("WebRTC is unsupported")}},function(e,t,n){"use strict";"undefined"!=typeof webkitRTCPeerConnection?e.exports=n(1544):"undefined"!=typeof mozRTCPeerConnection?e.exports=n(1546):"undefined"!=typeof RTCPeerConnection&&(e.exports=RTCPeerConnection)},function(e,t,n){"use strict";function ChromeRTCPeerConnection(e){if(!(this instanceof ChromeRTCPeerConnection))return new ChromeRTCPeerConnection(e);i.call(this);var t=Object.assign({},e);t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy);var n=null,r=new webkitRTCPeerConnection(t);Object.defineProperties(this,{_peerConnection:{value:r},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_signalingStateLatch:{value:new a},_tracksToSSRCs:{value:new Map},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:r.localDescription}},onsignalingstatechange:{get:function(){return n},set:function(e){n&&this.removeEventListener("signalingstatechange",n),"function"==typeof e?(n=e,this.addEventListener("signalingstatechange",n)):n=null}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:r.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":r.signalingState}}});var o=this;r.addEventListener("signalingstatechange",function onsignalingstatechange(){o._pendingLocalOffer||o._pendingRemoteOffer||o.dispatchEvent.apply(o,arguments)}),r.ontrack=function ontrack(){},c.proxyProperties(webkitRTCPeerConnection.prototype,this,r)}function maybeDispatchTrackEvents(e,t){if(!("ontrack"in webkitRTCPeerConnection.prototype)){var n=c.flatMap(e.getRemoteStreams(),function(e){return e.getTracks()});c.difference(n,t).forEach(function(t){var n=new Event("track");n.track=t,e.dispatchEvent(n)})}}function setDescription(e,t,n){function setPendingLocalOffer(n){t?e._pendingLocalOffer=n:e._pendingRemoteOffer=n}function clearPendingLocalOffer(){t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null}var r=c.flatMap(e.getRemoteStreams(),function(e){return e.getTracks()}),i=t?e._pendingLocalOffer:e._pendingRemoteOffer,o=t?e._pendingRemoteOffer:e._pendingLocalOffer,a=t?"have-local-offer":"have-remote-offer",s=t?"setLocalDescription":"setRemoteDescription",u;if(!t&&o&&"answer"===n.type)u=setRemoteAnswer(e,n);else if("offer"===n.type){if(e.signalingState!==a&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));i||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var l=e.signalingState;setPendingLocalOffer(unwrap(n)),u=Promise.resolve(),e.signalingState!==l&&u.then(function dispatchSignalingStateChangeEvent(){e.dispatchEvent(new Event("signalingstatechange"))})}else"rollback"===n.type&&(e.signalingState!==a?u=Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(clearPendingLocalOffer(),(u=Promise.resolve()).then(function dispatchSignalingStateChangeEvent(){e.dispatchEvent(new Event("signalingstatechange"))})));return u||e._peerConnection[s](unwrap(n)).then(function(){t||maybeDispatchTrackEvents(e,r)})}function setRemoteAnswer(e,t){var n=c.flatMap(e.getRemoteStreams(),function(e){return e.getTracks()}),r=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(r).then(function setLocalOfferSucceeded(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)}).then(function setRemoteAnswerSucceeded(){maybeDispatchTrackEvents(e,n),e._signalingStateLatch.lower()})}function unwrap(e){return e instanceof r&&e._description?e._description:new RTCSessionDescription(e)}var r=n(1073),i=n(1074),o=n(24).inherits,a=n(1545),s=n(1075).updatePlanBTrackIdsToSSRCs,c=n(85);o(ChromeRTCPeerConnection,i),ChromeRTCPeerConnection.prototype.addIceCandidate=function addIceCandidate(e){var t=[].slice.call(arguments),n,r=this;return n="have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then(function signalingStatesResolved(){return r._peerConnection.addIceCandidate(e)}):this._peerConnection.addIceCandidate(e),t.length>1?c.legacyPromise(n,t[1],t[2]):n},ChromeRTCPeerConnection.prototype.close=function close(){"closed"!==this.signalingState&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},ChromeRTCPeerConnection.prototype.createAnswer=function createAnswer(){var e=[].slice.call(arguments),t,n=this;if(this._pendingRemoteOffer){var r=c.flatMap(this.getRemoteStreams(),function(e){return e.getTracks()});t=this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function setRemoteDescriptionSucceeded(){return maybeDispatchTrackEvents(n,r),n._signalingStateLatch.lower(),n._peerConnection.createAnswer()}).then(function createAnswerSucceeded(e){return n._pendingRemoteOffer=null,e},function setRemoteDescriptionOrCreateAnswerFailed(e){throw n._pendingRemoteOffer=null,e})}return t?e.length>1?c.legacyPromise(t,e[0],e[1]):t:this._peerConnection.createAnswer.apply(this._peerConnection,e)},ChromeRTCPeerConnection.prototype.createOffer=function createOffer(){var e=[].slice.call(arguments),t=(e.length>1?e[2]:e[0])||{},n=this,r=this._peerConnection.createOffer(t).then(function(e){return e.sdp=s(n._tracksToSSRCs,e.sdp),e});return e.length>1?c.legacyPromise(r,e[0],e[1]):r},ChromeRTCPeerConnection.prototype.setLocalDescription=function setLocalDescription(){var e=[].slice.call(arguments),t=setDescription(this,!0,e[0]);return e.length>1?c.legacyPromise(t,e[1],e[2]):t},ChromeRTCPeerConnection.prototype.setRemoteDescription=function setRemoteDescription(){var e=[].slice.call(arguments),t=setDescription(this,!1,e[0]);return e.length>1?c.legacyPromise(t,e[1],e[2]):t},c.delegateMethods(webkitRTCPeerConnection.prototype,ChromeRTCPeerConnection.prototype,"_peerConnection"),e.exports=ChromeRTCPeerConnection},function(e,t,n){"use strict";function Latch(e){if(!(this instanceof Latch))return new Latch(e);i.call(this,e||"low",o)}function transition(e,t){return e.transition(t),e}var r=n(24).inherits,i=n(343),o={high:["low"],low:["high"]};r(Latch,i),Latch.prototype.raise=function raise(){return transition(this,"high")},Latch.prototype.lower=function lower(){return transition(this,"low")},e.exports=Latch},function(e,t,n){"use strict";function FirefoxRTCPeerConnection(e){if(!(this instanceof FirefoxRTCPeerConnection))return new FirefoxRTCPeerConnection(e);r.call(this);var t=null,n=new u(e);Object.defineProperties(this,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:n},_rollingBack:{value:!1,writable:!0},_tracksToSSRCs:{value:new Map},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},localDescription:{enumerable:!0,get:function(){return overwriteWithInitiallyNegotiatedDtlsRole(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)}},onsignalingstatechange:{get:function(){return t},set:function(e){t&&this.removeEventListener("signalingstatechange",t),"function"==typeof e?(t=e,this.addEventListener("signalingstatechange",t)):t=null}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.signalingState}}});var i=this,o;n.addEventListener("signalingstatechange",function onsignalingstatechange(){if(!i._rollingBack&&i.signalingState!==o){o=i.signalingState;var e=i.dispatchEvent.apply.bind(i.dispatchEvent,i,arguments);i._isClosed?setTimeout(e):e()}}),c.proxyProperties(u.prototype,this,n),"ontrack"in u.prototype||n.addEventListener("addstream",function onaddstream(e){var t=e.stream;t.getTracks().forEach(function(e){var n=new Event("track");n.track=e,n.streams=[t],i.dispatchEvent(n)})})}function rollback(e,t,n){var r=t?"setLocalDescription":"setRemoteDescription";return e._rollingBack=!0,e._peerConnection[r](new i({type:"rollback"})).then(n).then(function onceRolledBackSucceeded(t){return e._rollingBack=!1,t},function rollbackOrOnceRolledBackFailed(t){throw e._rollingBack=!1,t})}function saveInitiallyNegotiatedDtlsRole(e,t,n){if(!e._initiallyNegotiatedDtlsRole&&"offer"!==t.type){var r=t.sdp.match(/a=setup:([a-z]+)/);if(r){var i=r[1];e._initiallyNegotiatedDtlsRole=n?{active:"passive",passive:"active"}[i]:i}}}function overwriteWithInitiallyNegotiatedDtlsRole(e,t){return e&&"answer"===e.type&&t&&(e.sdp=e.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+t)),e}var r=n(1074),i=n(1076),o=n(24).inherits,a=n(863),s=n(1075).updateUnifiedPlanTrackIdsToSSRCs,c=n(85),u=RTCPeerConnection||mozRTCPeerConnection;o(FirefoxRTCPeerConnection,r),FirefoxRTCPeerConnection.prototype.getLocalStreams=function getLocalStreams(){if(this._isClosed)return[];if(!this.getSenders)return this._peerConnection.getLocalStreams();var e=new a;return this.getSenders().forEach(function(t){var n=t.track;n&&e.addTrack(n)}),[e]},FirefoxRTCPeerConnection.prototype.getRemoteStreams=function getRemoteStreams(){if(this._isClosed)return[];if(!this.getReceivers)return this._peerConnection.getRemoteStreams();var e=new a;return this.getReceivers().forEach(function(t){var n=t.track;n&&e.addTrack(n)}),[e]},FirefoxRTCPeerConnection.prototype.removeStream=function removeStream(){},FirefoxRTCPeerConnection.prototype.addStream=function addStream(e){var t=this._peerConnection.getSenders().map(function(e){return e.track});c.difference(e.getTracks(),t).forEach(function(t){this._peerConnection.addTrack(t,e)},this)},FirefoxRTCPeerConnection.prototype.createAnswer=function createAnswer(){var e=[].slice.call(arguments),t,n=this;return t=this._peerConnection.createAnswer().then(function createAnswerSucceeded(e){return saveInitiallyNegotiatedDtlsRole(n,e),overwriteWithInitiallyNegotiatedDtlsRole(e,n._initiallyNegotiatedDtlsRole),e}),"function"==typeof e[0]?c.legacyPromise(t,e[0],e[1]):t},FirefoxRTCPeerConnection.prototype.createOffer=function createOffer(){var e=[].slice.call(arguments),t=(e.length>1?e[2]:e[0])||{},n,r=this;return n="have-local-offer"===this.signalingState||"have-remote-offer"===this.signalingState?rollback(this,"have-local-offer"===this.signalingState,function rollbackSucceeded(){return r.createOffer(t)}):r._peerConnection.createOffer(t),n=n.then(function(e){return e.sdp=s(r._tracksToSSRCs,e.sdp),e}),e.length>1?c.legacyPromise(n,e[0],e[1]):n},FirefoxRTCPeerConnection.prototype.setLocalDescription=function setLocalDescription(){var e=[].slice.call(arguments),t=e[0],n;return t&&"answer"===t.type&&"have-local-offer"===this.signalingState&&(n=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),n?e.length>1?c.legacyPromise(n,e[1],e[2]):n:this._peerConnection.setLocalDescription.apply(this._peerConnection,e)},FirefoxRTCPeerConnection.prototype.setRemoteDescription=function setRemoteDescription(){var e=[].slice.call(arguments),t=e[0],n,r=this;return t&&"have-remote-offer"===this.signalingState&&("answer"===t.type?n=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):"offer"===t.type&&(n=rollback(this,!1,function rollbackSucceeded(){return r._peerConnection.setRemoteDescription(t)}))),n||(n=this._peerConnection.setRemoteDescription(t)),n=n.then(function setRemoteDescriptionSucceeded(){saveInitiallyNegotiatedDtlsRole(r,t,!0)}),e.length>1?c.legacyPromise(n,e[1],e[2]):n},FirefoxRTCPeerConnection.prototype.close=function close(){"closed"!==this.signalingState&&(this._isClosed=!0,this._peerConnection.close())},c.delegateMethods(u.prototype,FirefoxRTCPeerConnection.prototype,"_peerConnection"),e.exports=FirefoxRTCPeerConnection},function(e,t,n){"use strict";"undefined"!=typeof webkitRTCPeerConnection?e.exports=n(1073):"undefined"!=typeof mozRTCSessionDescription?e.exports=n(1076):"undefined"!=typeof RTCSessionDescription&&(e.exports=RTCSessionDescription)},function(e,t,n){"use strict";function getStats(e,t){return e&&"function"==typeof e.getStats?_getStats(e,t):Promise.reject(new Error("Given PeerConnection does not support getStats"))}function _getStats(e,t){var n=getTracks(e,"audio","local"),r=getTracks(e,"video","local"),i=getTracks(e,"audio"),o=getTracks(e,"video"),a={localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},s=[].concat(n.map(function(n){return getTrackStats(e,n,t).then(function(e){e.trackId=n.id,a.localAudioTrackStats.push(e)})}),r.map(function(n){return getTrackStats(e,n,t).then(function(e){e.trackId=n.id,a.localVideoTrackStats.push(e)})}),i.map(function(n){return getTrackStats(e,n,t).then(function(e){e.trackId=n.id,a.remoteAudioTrackStats.push(e)})}),o.map(function(n){return getTrackStats(e,n,t).then(function(e){e.trackId=n.id,a.remoteVideoTrackStats.push(e)})}));return Promise.all(s).then(function(){return a})}function getTracks(e,t,n){return e["local"===n?"getLocalStreams":"getRemoteStreams"]().reduce(function(e,n){var r="audio"===t?"getAudioTracks":"getVideoTracks";return e.concat(n[r]())},[])}function getTrackStats(e,t,n){return void 0!==(n=n||{}).testForChrome||"undefined"!=typeof webkitRTCPeerConnection?chromeGetTrackStats(e,t):void 0!==n.testForFirefox||"undefined"!=typeof mozRTCPeerConnection?firefoxGetTrackStats(e,t):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}function chromeGetTrackStats(e,t){return new Promise(function(n,r){e.getStats(function(e){n(standardizeChromeStats(e))},t,r)})}function firefoxGetTrackStats(e,t){return new Promise(function(n,r){e.getStats(t,function(e){n(standardizeFirefoxStats(e))},r)})}function standardizeChromeStats(e){var t=e.result().reduce(function(e,t){return"ssrc"===t.type?t:e},null),n={};return t&&(n.timestamp=Math.round(Number(t.timestamp)),n=t.names().reduce(function(e,n){switch(n){case"googCodecName":e.codecName=t.stat(n);break;case"googRtt":e.roundTripTime=Number(t.stat(n));break;case"googJitterReceived":e.jitter=Number(t.stat(n));break;case"googFrameWidthInput":e.frameWidthInput=Number(t.stat(n));break;case"googFrameHeightInput":e.frameHeightInput=Number(t.stat(n));break;case"googFrameWidthSent":e.frameWidthSent=Number(t.stat(n));break;case"googFrameHeightSent":e.frameHeightSent=Number(t.stat(n));break;case"googFrameWidthReceived":e.frameWidthReceived=Number(t.stat(n));break;case"googFrameHeightReceived":e.frameHeightReceived=Number(t.stat(n));break;case"googFrameRateInput":e.frameRateInput=Number(t.stat(n));break;case"googFrameRateSent":e.frameRateSent=Number(t.stat(n));break;case"googFrameRateReceived":e.frameRateReceived=Number(t.stat(n));break;case"ssrc":e[n]=t.stat(n);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":e[n]=Number(t.stat(n))}return e},n)),n}function standardizeFirefoxStats(e){function getStatValue(e){var r=n,i=t;return n&&n.isRemote&&(r=t,i=n),r&&void 0!==r[e]?r[e]:i&&void 0!==i[e]?i[e]:null}e=e||{};var t=Object.keys(e).reduce(function(t,n){return"inboundrtp"===e[n].type?e[n]:t},null),n=Object.keys(e).reduce(function(t,n){return"outboundrtp"===e[n].type?e[n]:t},null),r={},i=getStatValue("timestamp");r.timestamp=Math.round(i);var o=getStatValue("ssrc");"string"==typeof o&&(r.ssrc=o);var a=getStatValue("bytesSent");"number"==typeof a&&(r.bytesSent=a);var s=getStatValue("packetsLost");"number"==typeof s&&(r.packetsLost=s);var c=getStatValue("packetsSent");"number"==typeof c&&(r.packetsSent=c);var u=getStatValue("mozRtt");"number"==typeof u&&(r.roundTripTime=u);var l=getStatValue("jitter");"number"==typeof l&&(r.jitter=Math.round(1e3*l));var d=getStatValue("framerateMean");"number"==typeof d&&(r.frameRateSent=Math.round(d));var p=getStatValue("bytesReceived");"number"==typeof p&&(r.bytesReceived=p);var h=getStatValue("packetsReceived");"number"==typeof h&&(r.packetsReceived=h);var f=getStatValue("framerateMean");return"number"==typeof f&&(r.frameRateReceived=Math.round(f)),r}e.exports=getStats},function(e,t,n){"use strict";function IceBox(){if(!(this instanceof IceBox))return new IceBox;Object.defineProperties(this,{_filter:{value:new r({getKey:function getKey(e){return e.ufrag},isLessThanOrEqualTo:function isLessThanOrEqualTo(e,t){return e.revision<=t.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}var r=n(1550);IceBox.prototype.setUfrag=function setUfrag(e){this._ufrag=e;var t=this._filter.toMap().get(e);return t?t.candidates:[]},IceBox.prototype.update=function update(e){e.candidates=e.candidates||[];var t=this._filter.toMap().get(e.ufrag),n=t?t.candidates:[];return this._filter.update(e)&&this._ufrag===e.ufrag?e.candidates.slice(n.length):[]},e.exports=IceBox},function(e,t,n){"use strict";function Filter(e){if(!(this instanceof Filter))return new Filter(e);e=Object.assign({getKey:function defaultGetKey(e){return e},getValue:function defaultGetValue(e){return e},isLessThanOrEqualTo:function defaultIsLessThanOrEqualTo(e,t){return e<=t}},e),Object.defineProperties(this,{_getKey:{value:e.getKey},_getValue:{value:e.getValue},_isLessThanOrEqualTo:{value:e.isLessThanOrEqualTo},_map:{value:new Map}})}Filter.prototype.toMap=function toMap(){return new Map(this._map)},Filter.prototype.updateAndFilter=function filter(e){return e.filter(this.update,this)},Filter.prototype.update=function update(e){var t=this._getKey(e),n=this._getValue(e);return(!this._map.has(t)||!this._isLessThanOrEqualTo(n,this._map.get(t)))&&(this._map.set(t,n),!0)},e.exports=Filter},function(e,t,n){"use strict";function StatsReport(e,t){if("string"!=typeof e)throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:e,enumerable:!0},localAudioTrackStats:{value:t.localAudioTrackStats.map(function(e){return new r(e.trackId,e)}),enumerable:!0},localVideoTrackStats:{value:t.localVideoTrackStats.map(function(e){return new i(e.trackId,e)}),enumerable:!0},remoteAudioTrackStats:{value:t.remoteAudioTrackStats.map(function(e){return new o(e.trackId,e)}),enumerable:!0},remoteVideoTrackStats:{value:t.remoteVideoTrackStats.map(function(e){return new a(e.trackId,e)}),enumerable:!0}})}var r=n(1552),i=n(1553),o=n(1554),a=n(1555);e.exports=StatsReport},function(e,t,n){"use strict";function LocalAudioTrackStats(e,t){i.call(this,e,t),Object.defineProperties(this,{audioLevel:{value:"number"==typeof t.audioInputLevel?t.audioInputLevel:null,enumerable:!0},jitter:{value:"number"==typeof t.jitter?t.jitter:null,enumerable:!0}})}var r=n(24).inherits,i=n(1077);r(LocalAudioTrackStats,i),e.exports=LocalAudioTrackStats},function(e,t,n){"use strict";function LocalVideoTrackStats(e,t){i.call(this,e,t);var n=null;"number"==typeof t.frameWidthInput&&"number"==typeof t.frameHeightInput&&(n={},Object.defineProperties(n,{width:{value:t.frameWidthInput,enumerable:!0},height:{value:t.frameHeightInput,enumerable:!0}}));var r=null;"number"==typeof t.frameWidthSent&&"number"==typeof t.frameHeightSent&&(r={},Object.defineProperties(r,{width:{value:t.frameWidthSent,enumerable:!0},height:{value:t.frameHeightSent,enumerable:!0}})),Object.defineProperties(this,{captureDimensions:{value:n,enumerable:!0},dimensions:{value:r,enumerable:!0},captureFrameRate:{value:"number"==typeof t.frameRateInput?t.frameRateInput:null,enumerable:!0},frameRate:{value:"number"==typeof t.frameRateSent?t.frameRateSent:null,enumerable:!0}})}var r=n(24).inherits,i=n(1077);r(LocalVideoTrackStats,i),e.exports=LocalVideoTrackStats},function(e,t,n){"use strict";function RemoteAudioTrackStats(e,t){i.call(this,e,t),Object.defineProperties(this,{audioLevel:{value:"number"==typeof t.audioOutputLevel?t.audioOutputLevel:null,enumerable:!0},jitter:{value:"number"==typeof t.jitter?t.jitter:null,enumerable:!0}})}var r=n(24).inherits,i=n(1079);r(RemoteAudioTrackStats,i),e.exports=RemoteAudioTrackStats},function(e,t,n){"use strict";function RemoteVideoTrackStats(e,t){i.call(this,e,t);var n=null;"number"==typeof t.frameWidthReceived&&"number"==typeof t.frameHeightReceived&&(n={},Object.defineProperties(n,{width:{value:t.frameWidthReceived,enumerable:!0},height:{value:t.frameHeightReceived,enumerable:!0}})),Object.defineProperties(this,{dimensions:{value:n,enumerable:!0},frameRate:{value:"number"==typeof t.frameRateReceived?t.frameRateReceived:null,enumerable:!0}})}var r=n(24).inherits,i=n(1079);r(RemoteVideoTrackStats,i),e.exports=RemoteVideoTrackStats},function(e,t,n){"use strict";function QueueingEventEmitter(){r.call(this),Object.defineProperties(this,{_queuedEvents:{value:new Map}})}var r=n(129).EventEmitter;(0,n(24).inherits)(QueueingEventEmitter,r),QueueingEventEmitter.prototype.dequeue=function dequeue(e){var t=!0;if(!e)return this._queuedEvents.forEach(function(e,n){t=this.dequeue(n)&&t},this),t;var n=this._queuedEvents.get(e)||[];this._queuedEvents.delete(e);var r=this;return n.reduce(function(t,n){return r.emit.apply(r,[e].concat(n))&&t},t)},QueueingEventEmitter.prototype.queue=function queue(){var e=[].slice.call(arguments);if(this.emit.apply(this,e))return!0;var t=e[0];return this._queuedEvents.has(t)||this._queuedEvents.set(t,[]),this._queuedEvents.get(t).push(e.slice(1)),!1},e.exports=QueueingEventEmitter},function(e,t,n){"use strict";function RoomV2(e,t,n,r,s){if(!(this instanceof RoomV2))return new RoomV2(e,t,n,r,s);s=Object.assign({RecordingSignaling:i,RemoteParticipantV2:a,statsPublishIntervalMs:c},s),o.call(this,e,t.sid,t.name,s),Object.defineProperties(this,{_disconnectedParticipantSids:{value:new Set},_peerConnectionManager:{value:r},_RemoteParticipantV2:{value:s.RemoteParticipantV2},_transport:{value:n},_trackIdToParticipants:{value:new Map},_mediaStreamTrackDeferreds:{value:new Map}}),handleLocalParticipantEvents(this,e),handlePeerConnectionEvents(this,r),handleTransportEvents(this,n),periodicallyPublishStats(this,e,n,s.statsPublishIntervalMs),this._update(t)}function handleLocalParticipantEvents(e,t){function renegotiate(){var e=s.flatMap(t.tracks,function(e){return e.mediaStreamTrack});r.setMediaStreamTracks(e)}function addListener(t){function updated(){e._publishNewLocalParticipantState()}t.on("updated",updated),removeListener(t),n.set(t,t.removeListener.bind(t,"updated",updated))}function removeListener(e){var t=n.get(e);t&&t()}function trackAdded(e){addListener(e),i()}function trackRemoved(e){removeListener(e),i()}var n=new Map,r=e._peerConnectionManager,i=s.oncePerTick(function(){e._publishNewLocalParticipantState(),renegotiate()});t.on("trackAdded",trackAdded),t.on("trackRemoved",trackRemoved),t.tracks.forEach(addListener),e.on("stateChanged",function stateChanged(n){"disconnected"===n&&(t.removeListener("trackAdded",trackAdded),t.removeListener("trackRemoved",trackRemoved),e.removeListener("stateChanged",stateChanged),t.disconnect())})}function handlePeerConnectionEvents(e,t){t.on("description",function onDescription(t){e._publishPeerConnectionState(t)}),t.dequeue("description"),t.on("candidates",function onCandidates(t){e._publishPeerConnectionState(t)}),t.dequeue("candidates"),t.on("trackAdded",e._addMediaStreamTrack.bind(e)),t.dequeue("trackAdded"),t.getRemoteMediaStreamTracks().forEach(function(t){e._addMediaStreamTrack(t)})}function handleTransportEvents(e,t){t.on("message",e._update.bind(e)),t.on("stateChanged",function stateChanged(n,r){"disconnected"===n&&("connected"===e.state&&e._disconnect(r),t.removeListener("stateChanged",stateChanged))})}function periodicallyPublishStats(e,t,n,r){var i=setInterval(function(){e.getStats().then(function(r){r.forEach(function(r){n.publishEvent("quality","stats-report",{audioTrackStats:r.remoteAudioTrackStats,localAudioTrackStats:r.localAudioTrackStats,localVideoTrackStats:r.localVideoTrackStats,participantSid:t.sid,peerConnectionId:r.peerConnectionId,roomSid:e.sid,videoTrackStats:r.remoteVideoTrackStats})})},function(){})},r);e.on("stateChanged",function onStateChanged(t){"disconnected"===t&&(clearInterval(i),e.removeListener("stateChanged",onStateChanged))})}var r=n(24).inherits,i=n(1558),o=n(1081),a=n(1559),s=n(85),c=1e3;r(RoomV2,o),RoomV2.prototype._deleteMediaStreamTrackDeferred=function _deleteMediaStreamTrackDeferred(e){return this._mediaStreamTrackDeferreds.delete(e)},RoomV2.prototype._getOrCreateMediaStreamTrackDeferred=function _getOrCreateMediaStreamTrackDeferred(e){var t=this._mediaStreamTrackDeferreds.get(e)||s.defer(),n=this._peerConnectionManager.getRemoteMediaStreamTracks().find(function(t){return t.id===e&&"ended"!==t.readyState});return n?t.resolve(n):this._mediaStreamTrackDeferreds.set(e,t),t},RoomV2.prototype._addMediaStreamTrack=function _addMediaStreamTrack(e){return this._getOrCreateMediaStreamTrackDeferred(e.id).resolve(e),this},RoomV2.prototype._disconnect=function _disconnect(e){var t=o.prototype._disconnect.call(this,e);return t&&this._transport.disconnect(),t},RoomV2.prototype._getMediaStreamTrack=function _getMediaStreamTrack(e){var t=this;return this._getOrCreateMediaStreamTrackDeferred(e).promise.then(function(n){return t._deleteMediaStreamTrackDeferred(e),n})},RoomV2.prototype._getOrCreateRemoteParticipant=function _getOrCreateRemoteParticipant(e){var t=this._RemoteParticipantV2,n=this.participants.get(e.sid),r=this;return n||((n=new t(e,this._getMediaStreamTrack.bind(this))).on("stateChanged",function stateChanged(e){"disconnected"===e&&(n.removeListener("stateChanged",stateChanged),r.participants.delete(n.sid),r._disconnectedParticipantSids.add(n.sid))}),this.connectParticipant(n)),n},RoomV2.prototype._getState=function _getState(){return{participant:this.localParticipant.getState()}},RoomV2.prototype._publishNewLocalParticipantState=function _publishNewLocalParticipantState(){this.localParticipant.update(),this._transport.publish(this._getState())},RoomV2.prototype._publishPeerConnectionState=function _publishPeerConnectionState(e){this._transport.publish(Object.assign({peer_connections:[e]},this._getState()))},RoomV2.prototype._update=function _update(e){var t=new Set;return(e.participants||[]).forEach(function(e){if(e.sid!==this.localParticipant.sid&&!this._disconnectedParticipantSids.has(e.sid)){var n=this._getOrCreateRemoteParticipant(e);n.update(e),t.add(n)}},this),e.peer_connections&&this._peerConnectionManager.update(e.peer_connections),e.recording&&this.recording.update(e.recording),this},RoomV2.prototype.getStats=function getStats(){return this._peerConnectionManager.getStats()},e.exports=RoomV2},function(e,t,n){"use strict";function RecordingV2(){i.call(this),Object.defineProperties(this,{_revision:{value:1,writable:!0}})}var r=n(24).inherits,i=n(1080);r(RecordingV2,i),RecordingV2.prototype.update=function update(e){return e.revision<this._revision?this:(this._revision=e.revision,this.enable(e.enabled))},e.exports=RecordingV2},function(e,t,n){"use strict";function RemoteParticipantV2(e,t,n){return this instanceof RemoteParticipantV2?(i.call(this,e.sid,e.identity),n=Object.assign({TrackV2:o},n),Object.defineProperties(this,{_revision:{writable:!0,value:null},_TrackV2:{value:n.TrackV2},_getMediaStreamTrack:{value:t},revision:{enumerable:!0,get:function(){return this._revision}}}),this.update(e)):new RemoteParticipantV2(e,t,n)}var r=n(24).inherits,i=n(1560),o=n(1082);r(RemoteParticipantV2,i),RemoteParticipantV2.prototype._getOrCreateTrack=function _getOrCreateTrack(e){var t=this._TrackV2,n=this.tracks.get(e.id);return n||(n=new t(e),this.addTrack(n)),n},RemoteParticipantV2.prototype.update=function update(e){if(null!==this.revision&&e.revision<=this.revision)return this;this._revision=e.revision;var t=new Set;return e.tracks.forEach(function(e){var n=this._getOrCreateTrack(e);n.update(e),t.add(n)},this),this.tracks.forEach(function(e){t.has(e)||this.removeTrack(e)},this),"disconnected"===e.state&&"connected"===this.state&&this.preempt("disconnected"),this},RemoteParticipantV2.prototype.addTrack=function addTrack(e){return i.prototype.addTrack.call(this,e),this._getMediaStreamTrack(e.id).then(function(t){e.setMediaStreamTrack(t)}),this},e.exports=RemoteParticipantV2},function(e,t,n){"use strict";function RemoteParticipantSignaling(e,t){i.call(this),this.connect(e,t)}var r=n(24).inherits,i=n(865);r(RemoteParticipantSignaling,i),e.exports=RemoteParticipantSignaling},function(e,t,n){"use strict";function Transport(e,t,n,r,i,o){if(!(this instanceof Transport))return new Transport(e,t,n,r,i,o);o=Object.assign({InsightsPublisher:a,SIPJSMediaHandler:c},o),u.call(this,"connecting",_);var s={};o.wsServerInsights&&(s.gateway=o.wsServerInsights);var l=createSession(this,e,t,n,r,i,o.SIPJSMediaHandler);Object.defineProperties(this,{_eventPublisher:{value:new o.InsightsPublisher(t,m,v,o.environment,o.realm,s)},_session:{value:l},_updatesReceived:{value:[]},_updatesToSend:{value:[]}}),setupEventListeners(this,l,i)}function createSession(e,t,n,i,o,a,s){var c="sip:"+l.makeServerSIPURI();return a.invite(c,{extraHeaders:[r.headers.X_TWILIO_ACCESSTOKEN+": "+n,"Session-Expires: 120"],media:{stream:{}},mediaHandlerFactory:function mediaHandlerFactory(){return new s(o,function createMessage(){if("disconnected"===e.state)return{type:"disconnect",version:y};var n={connecting:"connect",syncing:"sync"}[e.state]||"update",r={name:t,participant:i.getState(),type:n,version:y},o=l.getSdpFormat();return"connect"===n&&o&&(r.format=o),r})},onInfo:function onInfo(e){this.emit("info",e),e.reply(200)}})}function withJitter(e,t){var n=Math.random();return e-t+Math.floor(2*t*n+.5)}function publishWithRetries(e,t,n,i){return i=i||0,new Promise(function(o,a){function receiveResponse(s){switch(Math.floor(s.status_code/100)){case 2:o();break;case 5:i<r.PUBLISH_MAX_ATTEMPTS?o(publishWithRetries(e,t,n,++i)):a(new Error("Transport failed to send a message even after "+r.PUBLISH_MAX_ATTEMPTS+" attempts"));break;default:a(s)}}function sendRequest(){"disconnected"!==e.state&&t.sendRequest("INFO",{body:JSON.stringify(n),extraHeaders:["Content-Type: application/room-signaling+json","Event: room-signaling","Info-Package: room-signaling"],receiveResponse:receiveResponse})}if(0!==i){var s=(1<<i-1)*r.PUBLISH_BACKOFF_MS;setTimeout(sendRequest,withJitter(s,r.PUBLISH_BACKOFF_JITTER))}else sendRequest()})}function reducePeerConnections(e){return Array.from(e.reduce(function(e,t){var n=e.get(t.id)||t;return!n.description&&t.description?n.description=t.description:n.description&&t.description&&t.description.revision>n.description.revision&&(n.description=t.description),!n.ice&&t.ice?n.ice=t.ice:n.ice&&t.ice&&t.ice.revision>n.ice.revision&&(n.ice=t.ice),e.set(n.id,n),e},new Map).values())}function reduceUpdates(e){return e.reduce(function(e,t){return!e.participant&&t.participant?e.participant=t.participant:e.participant&&t.participant&&t.participant.revision>e.participant.revision&&(e.participant=t.participant),!e.peer_connections&&t.peer_connections?e.peer_connections=reducePeerConnections(t.peer_connections):e.peer_connections&&t.peer_connections&&(e.peer_connections=reducePeerConnections(e.peer_connections.concat(t.peer_connections))),e},{type:"update",version:y})}function parseRequestOrResponseBody(e){if(e.body)try{return JSON.parse(e.body)}catch(e){throw new g}return null}function getTwilioErrorFromRequestOrResponseBody(e){try{var t=parseRequestOrResponseBody(e);return t&&"error"===t.type?p(t.code,t.message):null}catch(e){return e}}function getTwilioErrorFromRequestOrResponseHeaders(e){var t=e.headers;if(t&&t["X-Twilio-Error"]){var n=t["X-Twilio-Error"][0].raw.split(" "),r=parseInt(n[0],10),i=n.slice(1).join(" ");return p(r,i)}return null}function getTwilioErrorFromRequestOrResponse(e){return getTwilioErrorFromRequestOrResponseHeaders(e)||getTwilioErrorFromRequestOrResponseBody(e)}function setupEventListeners(e,t,n){function disconnect(t,n){var r;if(!t||t instanceof s.OutgoingRequest||(r=getTwilioErrorFromRequestOrResponse(t)),!r)switch(n){case s.C.causes.REQUEST_TIMEOUT:r=new f;break;case s.C.causes.CONNECTION_ERROR:r=new h}e.disconnect(r)}function handleRequestOrResponse(t){if(!(t instanceof s.OutgoingRequest)){var n;try{n=getTwilioErrorFromRequestOrResponse(t)}catch(e){if(e instanceof g)return;n=e}if(n)e.disconnect(n);else{var r;try{r=parseRequestOrResponseBody(t)}catch(e){}if(r)switch(e.state){case"connected":switch(r.type){case"connected":case"synced":case"update":return void e.emit("message",r);case"disconnected":return void e.preempt("disconnected");default:return}case"connecting":switch(r.type){case"connected":return e.emit("connected",r),void e.preempt("connected");case"synced":case"update":return void e._updatesReceived.push(r);case"disconnected":return void e.preempt("disconnected");default:return}case"disconnected":return;case"syncing":switch(r.type){case"connected":case"update":return void e._updatesReceived.push(r);case"synced":return e.emit("message",r),void e.preempt("connected");case"disconnected":return void e.preempt("disconnected");default:return}default:return}}}}t.on("info",handleRequestOrResponse),t.once("bye",disconnect),t.once("accepted",handleRequestOrResponse),t.once("failed",disconnect),e.on("stateChanged",function stateChanged(r){switch(r){case"connected":t.removeListener("accepted",handleRequestOrResponse),t.removeListener("failed",disconnect);var i=e._updatesToSend.splice(0);return i.length&&e.publish(reduceUpdates(i)),void e._updatesReceived.splice(0).forEach(e.emit.bind(e,"message"));case"disconnected":return t.removeListener("accepted",handleRequestOrResponse),t.removeListener("failed",disconnect),t.removeListener("info",handleRequestOrResponse),t.removeListener("bye",disconnect),e.removeListener("stateChanged",stateChanged),void n.stop();case"syncing":default:return}}),n.once("disconnected",disconnect)}var r=n(156),i=n(24).inherits,o=n(859),a=n(1562),s=n(866),c=n(1084),u=n(343),l=n(85),d=n(309),p=d.createTwilioError,h=d.SignalingConnectionError,f=d.SignalingConnectionTimeoutError,g=d.SignalingIncomingMessageInvalidError,m=o.name+".js",v=o.version,y=1,_={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]};i(Transport,u),Transport.prototype.disconnect=function disconnect(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),this._session.terminate({body:JSON.stringify({type:"disconnect",version:y}),extraHeaders:["Content-Type: application/room-signaling+json"]}),this._eventPublisher.disconnect(),!0)},Transport.prototype.publish=function publish(e){switch(e=Object.assign({type:"update",version:y},e),this.state){case"connected":return publishWithRetries(this,this._session,e),!0;case"connecting":case"syncing":return this._updatesToSend.push(e),!0;case"disconnected":default:return!1}},Transport.prototype.publishEvent=function publishEvent(e,t,n){return this._eventPublisher.publish(e,t,n)},Transport.prototype.sync=function sync(){return"connected"===this.state&&(this.preempt("syncing"),this._session.sendReinvite(),!0)},e.exports=Transport},function(e,t,n){"use strict";(function(t){function InsightsPublisher(e,t,n,i,s,c){if(!(this instanceof InsightsPublisher))return new InsightsPublisher(e,t,n,i,s,c);r.call(this),c=Object.assign({gateway:createGateway(i,s)+"/v1/VideoEvents",maxReconnectAttempts:o,reconnectIntervalMs:a,userAgent:navigator.userAgent,WebSocket:u},c),Object.defineProperties(this,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_reconnectAttemptsLeft:{value:c.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:c.WebSocket}});var l=this;this.on("disconnected",function maybeReconnect(r){if(l._session=null,r&&l._reconnectAttemptsLeft>0)return l.emit("reconnecting"),void reconnect(l,e,t,n,c);l.removeListener("disconnected",maybeReconnect)}),connect(this,e,t,n,c)}function connect(e,t,n,r,i){e._connectTimestamp=Date.now(),e._reconnectAttemptsLeft--,e._ws=new i.WebSocket(i.gateway);var o=e._ws;o.addEventListener("close",function(t){t.code!==s?e.emit("disconnected",new Error("WebSocket Error "+t.code+": "+t.reason)):e.emit("disconnected")}),o.addEventListener("message",function(t){handleConnectResponse(e,JSON.parse(t.data),i)}),o.addEventListener("open",function(){var e={type:"connect",token:t,version:1};e.publisher={name:n,sdkVersion:r,userAgent:i.userAgent},o.send(JSON.stringify(e))})}function createGateway(e,t){return"prod"===e?"wss://sdkgw."+t+".twilio.com":"wss://sdkgw."+e+"-"+t+".twilio.com"}function handleConnectResponse(e,t,n){switch(t.type){case"connected":e._session=t.session,e._reconnectAttemptsLeft=n.maxReconnectAttempts,e._eventQueue.splice(0).forEach(e._publish,e),e.emit("connected");break;case"error":e._ws.close(),e.emit("disconnected",new Error(t.message))}}function reconnect(e,t,n,r,i){var o=Date.now()-e._connectTimestamp,a=i.reconnectIntervalMs-o;a>0?setTimeout(function(){connect(e,t,n,r,i)},a):connect(e,t,n,r,i)}var r=n(129).EventEmitter,i=n(24).inherits,o=5,a=50,s=1e3,c=t.window||t,u=c.WebSocket?c.WebSocket:n(1083);i(InsightsPublisher,r),InsightsPublisher.prototype._publish=function _publish(e){e.session=this._session,this._ws.send(JSON.stringify(e))},InsightsPublisher.prototype.disconnect=function disconnect(){if(this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch(e){}return this.emit("disconnected"),!0},InsightsPublisher.prototype.publish=function publish(e,t,n){return this._ws.readyState!==this._WebSocket.CLOSING&&this._ws.readyState!==this._WebSocket.CLOSED&&(("string"==typeof this._session?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue))({group:e,name:t,payload:n,timestamp:Date.now(),type:"event",version:1}),!0)},e.exports=InsightsPublisher}).call(t,n(37))},function(e,t,n){"use strict";e.exports=function(e,t){function computeKeepAliveTimeout(e){var t=.8*e;return 1e3*(Math.random()*(e-t)+t)}var n,r={STATUS_READY:0,STATUS_DISCONNECTED:1,STATUS_ERROR:2};return n=function(e,t){this.logger=e.getLogger("sip.transport"),this.ua=e,this.ws=null,this.server=t,this.reconnection_attempts=0,this.closed=!1,this.connected=!1,this.reconnectTimer=null,this.lastTransportError={},this.keepAliveInterval=e.configuration.keepAliveInterval,this.keepAliveTimeout=null,this.keepAliveTimer=null,this.ua.transport=this,this.connect()},n.prototype={send:function(e){var n=e.toString();return this.ws&&this.ws.readyState===t.OPEN?(!0===this.ua.configuration.traceSip&&this.logger.log("sending WebSocket message:\n\n"+n+"\n"),this.ws.send(n),!0):(this.logger.warn("unable to send message, WebSocket is not open"),!1)},sendKeepAlive:function(){if(!this.keepAliveTimeout)return this.keepAliveTimeout=e.Timers.setTimeout(function(){this.ua.emit("keepAliveTimeout")}.bind(this),1e4),this.send("\r\n\r\n")},startSendingKeepAlives:function(){this.keepAliveInterval&&!this.keepAliveTimer&&(this.keepAliveTimer=e.Timers.setTimeout(function(){this.sendKeepAlive(),this.keepAliveTimer=null,this.startSendingKeepAlives()}.bind(this),computeKeepAliveTimeout(this.keepAliveInterval)))},stopSendingKeepAlives:function(){e.Timers.clearTimeout(this.keepAliveTimer),e.Timers.clearTimeout(this.keepAliveTimeout),this.keepAliveTimer=null,this.keepAliveTimeout=null},disconnect:function(){this.ws&&(e.Timers.clearTimeout(this.reconnectTimer),this.stopSendingKeepAlives(),this.closed=!0,this.logger.log("closing WebSocket "+this.server.ws_uri),this.ws.close()),null!==this.reconnectTimer&&(e.Timers.clearTimeout(this.reconnectTimer),this.reconnectTimer=null,this.ua.emit("disconnected",{transport:this,code:this.lastTransportError.code,reason:this.lastTransportError.reason}))},connect:function(){var e=this;if(this.ws&&(this.ws.readyState===t.OPEN||this.ws.readyState===t.CONNECTING))return this.logger.log("WebSocket "+this.server.ws_uri+" is already connected"),!1;this.ws&&this.ws.close(),this.logger.log("connecting to WebSocket "+this.server.ws_uri),this.ua.onTransportConnecting(this,0===this.reconnection_attempts?1:this.reconnection_attempts);try{this.ws=new t(this.server.ws_uri,"sip")}catch(e){this.logger.warn("error connecting to WebSocket "+this.server.ws_uri+": "+e)}this.ws.binaryType="arraybuffer",this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(t){e.onClose(t)},this.ws.onmessage=function(t){e.onMessage(t)},this.ws.onerror=function(t){e.onError(t)}},onOpen:function(){this.connected=!0,this.logger.log("WebSocket "+this.server.ws_uri+" connected"),null!==this.reconnectTimer&&(e.Timers.clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.reconnection_attempts=0,this.closed=!1,this.ua.onTransportConnected(this),this.startSendingKeepAlives()},onClose:function(e){var t=this.connected;this.lastTransportError.code=e.code,this.lastTransportError.reason=e.reason,this.stopSendingKeepAlives(),this.reconnection_attempts>0?(this.logger.log("Reconnection attempt "+this.reconnection_attempts+" failed (code: "+e.code+(e.reason?"| reason: "+e.reason:"")+")"),this.reconnect()):(this.connected=!1,this.logger.log("WebSocket disconnected (code: "+e.code+(e.reason?"| reason: "+e.reason:"")+")"),!1===e.wasClean&&this.logger.warn("WebSocket abrupt disconnection"),!0===t?(this.ua.onTransportClosed(this),this.closed?this.ua.emit("disconnected",{transport:this,code:this.lastTransportError.code,reason:this.lastTransportError.reason}):this.reconnect()):this.ua.onTransportError(this))},onMessage:function(t){var n,r,i=t.data;if("\r\n"===i)return e.Timers.clearTimeout(this.keepAliveTimeout),this.keepAliveTimeout=null,void(!0===this.ua.configuration.traceSip&&this.logger.log("received WebSocket message with CRLF Keep Alive response"));if("string"!=typeof i){try{i=String.fromCharCode.apply(null,new Uint8Array(i))}catch(e){return void this.logger.warn("received WebSocket binary message failed to be converted into string, message discarded")}!0===this.ua.configuration.traceSip&&this.logger.log("received WebSocket binary message:\n\n"+i+"\n")}else!0===this.ua.configuration.traceSip&&this.logger.log("received WebSocket text message:\n\n"+i+"\n");if((n=e.Parser.parseMessage(i,this.ua))&&!(this.ua.status===e.UA.C.STATUS_USER_CLOSED&&n instanceof e.IncomingRequest)&&e.sanityCheck(n,this.ua,this))if(n instanceof e.IncomingRequest)n.transport=this,this.ua.receiveRequest(n);else if(n instanceof e.IncomingResponse)switch(n.method){case e.C.INVITE:(r=this.ua.transactions.ict[n.via_branch])&&r.receiveResponse(n);break;case e.C.ACK:break;default:(r=this.ua.transactions.nict[n.via_branch])&&r.receiveResponse(n)}},onError:function(e){this.logger.warn("WebSocket connection error: "+JSON.stringify(e))},reconnect:function(){var t=this;this.reconnection_attempts+=1,this.reconnection_attempts>this.ua.configuration.wsServerMaxReconnection?(this.logger.warn("maximum reconnection attempts for WebSocket "+this.server.ws_uri),this.ua.onTransportError(this)):1===this.reconnection_attempts?(this.logger.log("Connection to WebSocket "+this.server.ws_uri+" severed, attempting first reconnect"),t.connect()):(this.logger.log("trying to reconnect to WebSocket "+this.server.ws_uri+" (reconnection attempt "+this.reconnection_attempts+")"),this.reconnectTimer=e.Timers.setTimeout(function(){t.connect(),t.reconnectTimer=null},1e3*this.ua.configuration.wsServerReconnectionTimeout))}},n.C=r,n}},function(e,t,n){"use strict";e.exports=function(e){var t=n(1565),r=Object.defineProperties({},{version:{get:function(){return t.version}},name:{get:function(){return t.title}}});return n(1566)(r,e),r.LoggerFactory=n(1567)(e.console),r.EventEmitter=n(1568)(e.console),r.C=n(1569)(r.name,r.version),r.Exceptions=n(1570),r.Timers=n(1571)(e.timers),r.Transport=e.Transport(r,e.WebSocket),n(1572)(r),n(1573)(r),n(1574)(r),n(1575)(r),n(1576)(r),n(1577)(r),n(1579)(r),n(1580)(r),r.MediaHandler=n(1581)(r.EventEmitter),n(1582)(r),n(1583)(r),n(1584)(r,e),n(1587)(r),r.WebRTC=n(1588)(r,e),n(1591)(r,e),r.Hacks=n(1592)(r),n(1593)(r),r.DigestAuthentication=n(1594)(r.Utils),r.Grammar=n(1595)(r),r}},function(e,t){e.exports={_args:[[{raw:"sip.js@github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",scope:null,escapedName:"sip.js",name:"sip.js",rawSpec:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",spec:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",type:"hosted",hosted:{type:"github",ssh:"git@github.com:twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",sshUrl:"git+ssh://git@github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",httpsUrl:"git+https://github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",gitUrl:"git://github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",shortcut:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",directUrl:"https://raw.githubusercontent.com/twilio/SIP.js/b884c74892836f70ced6010353852ebd9ce5b199/package.json"}},"/Users/matanzg/work/components/node_modules/twilio-video"]],_from:"git://github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",_id:"sip.js@0.7.5",_inCache:!0,_location:"/sip.js",_phantomChildren:{options:"0.0.6",ultron:"1.0.2"},_requested:{raw:"sip.js@github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",scope:null,escapedName:"sip.js",name:"sip.js",rawSpec:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",spec:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",type:"hosted",hosted:{type:"github",ssh:"git@github.com:twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",sshUrl:"git+ssh://git@github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",httpsUrl:"git+https://github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",gitUrl:"git://github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",shortcut:"github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",directUrl:"https://raw.githubusercontent.com/twilio/SIP.js/b884c74892836f70ced6010353852ebd9ce5b199/package.json"}},_requiredBy:["/twilio-video"],_resolved:"git://github.com/twilio/SIP.js.git#b884c74892836f70ced6010353852ebd9ce5b199",_shasum:"28d3594a25e4ebd5ab69f62040935339c0bf22b3",_shrinkwrap:null,_spec:"sip.js@github:twilio/SIP.js#b884c74892836f70ced6010353852ebd9ce5b199",_where:"/Users/matanzg/work/components/node_modules/twilio-video",author:{name:"OnSIP",email:"developer@onsip.com",url:"http://sipjs.com/authors/"},browser:{"./src/environment.js":"./src/environment_browser.js"},bugs:{url:"https://github.com/onsip/SIP.js/issues"},contributors:[{url:"https://github.com/onsip/SIP.js/blob/master/THANKS.md"}],dependencies:{pegjs:"^0.8.0",promiscuous:"^0.6.0",ws:"^1.0.1"},description:"A simple, intuitive, and powerful JavaScript signaling library",devDependencies:{beefy:"^2.1.5",browserify:"^4.1.8",grunt:"~0.4.0","grunt-browserify":"^4.0.1","grunt-cli":"~0.1.6","grunt-contrib-copy":"^0.5.0","grunt-contrib-jasmine":"^1.0.3","grunt-contrib-jshint":">0.5.0","grunt-contrib-uglify":"~0.2.0","grunt-peg":"~1.3.1","grunt-trimtrailingspaces":"^0.4.0"},engines:{node:">=0.12"},gitHead:"b884c74892836f70ced6010353852ebd9ce5b199",homepage:"http://sipjs.com",keywords:["sip","websocket","webrtc","library","javascript"],license:"MIT",main:"src/index.js",name:"sip.js",optionalDependencies:{promiscuous:"^0.6.0"},readme:'# SIP.js\n\n[![Build Status](https://travis-ci.org/onsip/SIP.js.png?branch=master)](https://travis-ci.org/onsip/SIP.js)\n\nA JavaScript SIP stack for WebRTC, instant messaging, and more!\n\n\n## Website and Documentation\n\n* [SIPjs.com](http://sipjs.com)\n* [Mailing List](https://groups.google.com/forum/#!forum/sip_js)\n* [Issue Tracking](https://github.com/onsip/sip.js/issues)\n\n\n## Download\n\n* [sipjs.com/download](http://sipjs.com/download/)\n* Bower: `bower install sip.js`\n* npm: `npm install sip.js`\n\n## Authors\n\n### James Criscuolo\n\n* <james@onsip.com>\n\n### Joseph Frazier\n\n* <1212jtraceur@gmail.com>\n* GitHub [@josephfrazier](https://github.com/josephfrazier)\n* Twitter [@josephfrazier_](https://twitter.com/josephfrazier_)\n\n### Eric Green\n\n* <eric.green@onsip.com>\n\n### Will Mitchell\n\n* <wakamoleguy@gmail.com>\n* GitHub [@wakamoleguy](http://github.com/wakamoleguy)\n* Twitter [@wakamoleguy](http://twitter.com/wakamoleguy)\n\n### JsSIP Authors\n\nSIP.js contains substantial portions of the JsSIP software. JsSIP\'s authors at time of fork are listed below. For up to date information about JsSIP, please visit [jssip.net](http://jssip.net)\n\n* José Luis Millán\n* Iñaki Baz Castillo\n* Saúl Ibarra Corretgé\n\n## License\n\nSIP.js is released under the [MIT license](http://sipjs.com/license).\n\nSIP.js contains substantial portions of the JsSIP software, under the following license:\n\n~~~\nCopyright (c) 2012-2013 José Luis Millán - Versatica <http://www.versatica.com>\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n"Software"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n~~~\n',readmeFilename:"README.md",repository:{type:"git",url:"git+https://github.com/onsip/SIP.js.git"},scripts:{build:"grunt build",postinstall:"cd src/Grammar && mkdir -p dist && pegjs --extra-options-file peg.json src/Grammar.pegjs dist/Grammar.js",repl:"beefy test/repl.js --open",test:"grunt travis --verbose"},title:"SIP.js",version:"0.7.5"}},function(e,t,n){"use strict";e.exports=function(e,t){var n;n={Promise:t.Promise,defer:function defer(){var e={};return e.promise=new n.Promise(function(t,n){e.resolve=t,e.reject=n}),e},promisify:function promisify(e,t,r){var i=e[t];return function promisifiedMethod(t,o,a){return new n.Promise(function(n,o){var a=[t,n,o];r&&(a=[n,o,t]),i.apply(e,a)}).then(o,a)}},augment:function(e,t,n,r){var i,o;o=t.prototype;for(i in o)(r||void 0===e[i])&&(e[i]=o[i]);t.apply(e,n)},optionsOverride:function(e,t,n,r,i,o){r&&e[n]&&i.warn(n+" is deprecated, please use "+t+" instead"),e[t]&&e[n]&&i.warn(t+" overriding "+n),e[t]=e[t]||e[n]||o},str_utf8_length:function(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length},generateFakeSDP:function(e){if(e){var t=e.indexOf("o="),n=e.indexOf("\r\n",t);return"v=0\r\n"+e.slice(t,n)+"\r\ns=-\r\nt=0 0\r\nc=IN IP4 0.0.0.0"}},isFunction:function(e){return void 0!==e&&"[object Function]"===Object.prototype.toString.call(e)},isDecimal:function(e){return!isNaN(e)&&parseFloat(e)===parseInt(e,10)},createRandomToken:function(e,t){var n,r,i="";for(t=t||32,n=0;n<e;n++)i+=(r=Math.random()*t|0).toString(t);return i},newTag:function(){return e.Utils.createRandomToken(e.UA.C.TAG_LENGTH)},newUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},hostType:function(t){if(t)return-1!==(t=e.Grammar.parse(t,"host"))?t.host_type:void 0},normalizeTarget:function(t,n){var r,i,o,a;if(t){if(t instanceof e.URI)return t;if("string"==typeof t){switch((i=t.split("@")).length){case 1:if(!n)return;o=t,a=n;break;case 2:o=i[0],a=i[1];break;default:o=i.slice(0,i.length-1).join("@"),a=i[i.length-1]}return o=o.replace(/^(sips?|tel):/i,""),/^[\-\.\(\)]*\+?[0-9\-\.\(\)]+$/.test(o)&&(o=o.replace(/[\-\.\(\)]/g,"")),t=e.C.SIP+":"+e.Utils.escapeUser(o)+"@"+a,(r=e.URI.parse(t))?r:void 0}}else;},escapeUser:function(e){return encodeURIComponent(decodeURIComponent(e)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},headerize:function(e){var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),r="",i=n.length,o;for(o=0;o<i;o++)0!==o&&(r+="-"),r+=n[o].charAt(0).toUpperCase()+n[o].substring(1);return t[r]&&(r=t[r]),r},sipErrorCause:function(t){var n;for(n in e.C.SIP_ERROR_CAUSES)if(-1!==e.C.SIP_ERROR_CAUSES[n].indexOf(t))return e.C.causes[n];return e.C.causes.SIP_FAILURE_CODE},getReasonPhrase:function getReasonPhrase(t,n){return n||e.C.REASON_PHRASE[t]||""},getReasonHeaderValue:function getReasonHeaderValue(t,n){return n=e.Utils.getReasonPhrase(t,n),"SIP ;cause="+t+' ;text="'+n+'"'},getCancelReason:function getCancelReason(t,n){if(t&&t<200||t>699)throw new TypeError("Invalid status_code: "+t);if(t)return e.Utils.getReasonHeaderValue(t,n)},buildStatusLine:function buildStatusLine(e,t){if(e=e||null,t=t||null,!e||e<100||e>699)throw new TypeError("Invalid status_code: "+e);if(t&&"string"!=typeof t&&!(t instanceof String))throw new TypeError("Invalid reason_phrase: "+t);return t=n.getReasonPhrase(e,t),"SIP/2.0 "+e+" "+t+"\r\n"},getRandomTestNetIP:function(){function getOctet(e,t){return Math.floor(Math.random()*(t-e+1)+e)}return"192.0.2."+getOctet(1,254)},calculateMD5:function(e){function RotateLeft(e,t){return e<<t|e>>>32-t}function AddUnsigned(e,t){var n,r,i,o,a;return i=2147483648&e,o=2147483648&t,n=1073741824&e,r=1073741824&t,a=(1073741823&e)+(1073741823&t),n&r?2147483648^a^i^o:n|r?1073741824&a?3221225472^a^i^o:1073741824^a^i^o:a^i^o}function F(e,t,n){return e&t|~e&n}function G(e,t,n){return e&n|t&~n}function H(e,t,n){return e^t^n}function I(e,t,n){return t^(e|~n)}function FF(e,t,n,r,i,o,a){return e=AddUnsigned(e,AddUnsigned(AddUnsigned(F(t,n,r),i),a)),AddUnsigned(RotateLeft(e,o),t)}function GG(e,t,n,r,i,o,a){return e=AddUnsigned(e,AddUnsigned(AddUnsigned(G(t,n,r),i),a)),AddUnsigned(RotateLeft(e,o),t)}function HH(e,t,n,r,i,o,a){return e=AddUnsigned(e,AddUnsigned(AddUnsigned(H(t,n,r),i),a)),AddUnsigned(RotateLeft(e,o),t)}function II(e,t,n,r,i,o,a){return e=AddUnsigned(e,AddUnsigned(AddUnsigned(I(t,n,r),i),a)),AddUnsigned(RotateLeft(e,o),t)}function ConvertToWordArray(e){for(var t,n=e.length,r=n+8,i=16*((r-r%64)/64+1),o=Array(i-1),a=0,s=0;s<n;)a=s%4*8,o[t=(s-s%4)/4]=o[t]|e.charCodeAt(s)<<a,s++;return t=(s-s%4)/4,a=s%4*8,o[t]=o[t]|128<<a,o[i-2]=n<<3,o[i-1]=n>>>29,o}function WordToHex(e){var t="",n="",r,i;for(i=0;i<=3;i++)t+=(n="0"+(r=e>>>8*i&255).toString(16)).substr(n.length-2,2);return t}function Utf8Encode(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}var t=[],n,r,i,o,a,s,c,u,l,d=7,p=12,h=17,f=22,g=5,m=9,v=14,y=20,_=4,b=11,S=16,w=23,C=6,T=10,E=15,k=21;for(t=ConvertToWordArray(e=Utf8Encode(e)),s=1732584193,c=4023233417,u=2562383102,l=271733878,n=0;n<t.length;n+=16)r=s,i=c,o=u,a=l,c=II(c=II(c=II(c=II(c=HH(c=HH(c=HH(c=HH(c=GG(c=GG(c=GG(c=GG(c=FF(c=FF(c=FF(c=FF(c,u=FF(u,l=FF(l,s=FF(s,c,u,l,t[n+0],7,3614090360),c,u,t[n+1],12,3905402710),s,c,t[n+2],17,606105819),l,s,t[n+3],22,3250441966),u=FF(u,l=FF(l,s=FF(s,c,u,l,t[n+4],7,4118548399),c,u,t[n+5],12,1200080426),s,c,t[n+6],17,2821735955),l,s,t[n+7],22,4249261313),u=FF(u,l=FF(l,s=FF(s,c,u,l,t[n+8],7,1770035416),c,u,t[n+9],12,2336552879),s,c,t[n+10],17,4294925233),l,s,t[n+11],22,2304563134),u=FF(u,l=FF(l,s=FF(s,c,u,l,t[n+12],7,1804603682),c,u,t[n+13],12,4254626195),s,c,t[n+14],17,2792965006),l,s,t[n+15],22,1236535329),u=GG(u,l=GG(l,s=GG(s,c,u,l,t[n+1],5,4129170786),c,u,t[n+6],9,3225465664),s,c,t[n+11],14,643717713),l,s,t[n+0],20,3921069994),u=GG(u,l=GG(l,s=GG(s,c,u,l,t[n+5],5,3593408605),c,u,t[n+10],9,38016083),s,c,t[n+15],14,3634488961),l,s,t[n+4],20,3889429448),u=GG(u,l=GG(l,s=GG(s,c,u,l,t[n+9],5,568446438),c,u,t[n+14],9,3275163606),s,c,t[n+3],14,4107603335),l,s,t[n+8],20,1163531501),u=GG(u,l=GG(l,s=GG(s,c,u,l,t[n+13],5,2850285829),c,u,t[n+2],9,4243563512),s,c,t[n+7],14,1735328473),l,s,t[n+12],20,2368359562),u=HH(u,l=HH(l,s=HH(s,c,u,l,t[n+5],4,4294588738),c,u,t[n+8],11,2272392833),s,c,t[n+11],16,1839030562),l,s,t[n+14],23,4259657740),u=HH(u,l=HH(l,s=HH(s,c,u,l,t[n+1],4,2763975236),c,u,t[n+4],11,1272893353),s,c,t[n+7],16,4139469664),l,s,t[n+10],23,3200236656),u=HH(u,l=HH(l,s=HH(s,c,u,l,t[n+13],4,681279174),c,u,t[n+0],11,3936430074),s,c,t[n+3],16,3572445317),l,s,t[n+6],23,76029189),u=HH(u,l=HH(l,s=HH(s,c,u,l,t[n+9],4,3654602809),c,u,t[n+12],11,3873151461),s,c,t[n+15],16,530742520),l,s,t[n+2],23,3299628645),u=II(u,l=II(l,s=II(s,c,u,l,t[n+0],6,4096336452),c,u,t[n+7],10,1126891415),s,c,t[n+14],15,2878612391),l,s,t[n+5],21,4237533241),u=II(u,l=II(l,s=II(s,c,u,l,t[n+12],6,1700485571),c,u,t[n+3],10,2399980690),s,c,t[n+10],15,4293915773),l,s,t[n+1],21,2240044497),u=II(u,l=II(l,s=II(s,c,u,l,t[n+8],6,1873313359),c,u,t[n+15],10,4264355552),s,c,t[n+6],15,2734768916),l,s,t[n+13],21,1309151649),u=II(u,l=II(l,s=II(s,c,u,l,t[n+4],6,4149444226),c,u,t[n+11],10,3174756917),s,c,t[n+2],15,718787259),l,s,t[n+9],21,3951481745),s=AddUnsigned(s,r),c=AddUnsigned(c,i),u=AddUnsigned(u,o),l=AddUnsigned(l,a);return(WordToHex(s)+WordToHex(c)+WordToHex(u)+WordToHex(l)).toLowerCase()}},e.Utils=n}},function(e,t,n){"use strict";var r={error:0,warn:1,log:2,debug:3};e.exports=function(e){function Logger(e,t,n){this.logger=e,this.category=t,this.label=n}var t=function(){var e,t=2,n=!0,i=null;this.loggers={},e=this.getLogger("sip.loggerfactory"),Object.defineProperties(this,{builtinEnabled:{get:function(){return n},set:function(t){"boolean"==typeof t?n=t:e.error('invalid "builtinEnabled" parameter value: '+JSON.stringify(t))}},level:{get:function(){return t},set:function(n){n>=0&&n<=3?t=n:n>3?t=3:r.hasOwnProperty(n)?t=r[n]:e.error('invalid "level" parameter value: '+JSON.stringify(n))}},connector:{get:function(){return i},set:function(t){null===t||""===t||void 0===t?i=null:"function"==typeof t?i=t:e.error('invalid "connector" parameter value: '+JSON.stringify(t))}}})};return t.prototype.print=function(t,n,r,i){if("string"==typeof i){var o=[new Date,n];r&&o.push(r),i=o.concat(i).join(" | ")}t.call(e,i)},Object.keys(r).forEach(function(n){Logger.prototype[n]=function(e){this.logger[n](this.category,this.label,e)},t.prototype[n]=function(t,i,o){this.level>=r[n]&&(this.builtinEnabled&&this.print(e[n],t,i,o),this.connector&&this.connector(n,t,i,o))}}),t.prototype.getLogger=function(e,t){var n;return t&&3===this.level?new Logger(this,e,t):this.loggers[e]?this.loggers[e]:(n=new Logger(this,e),this.loggers[e]=n,n)},t}},function(e,t,n){"use strict";var r=n(129).EventEmitter;e.exports=function(e){function EventEmitter(){r.call(this)}return EventEmitter.prototype=Object.create(r.prototype,{constructor:{value:EventEmitter,enumerable:!1,writable:!0,configurable:!0}}),EventEmitter.prototype.off=function off(t,n){var r="";return r+="SIP.EventEmitter#off is deprecated and may be removed in future SIP.js versions.\n",r+="Please use removeListener or removeAllListeners instead.\n",r+="See here for more details:\n",r+="http://nodejs.org/api/events.html#events_emitter_removelistener_event_listener",e.warn(r),arguments.length<2?this.removeAllListeners.apply(this,arguments):this.removeListener(t,n)},EventEmitter}},function(e,t,n){"use strict";e.exports=function(e,t){return{USER_AGENT:e+"/"+t,SIP:"sip",SIPS:"sips",causes:{CONNECTION_ERROR:"Connection Error",REQUEST_TIMEOUT:"Request Timeout",SIP_FAILURE_CODE:"SIP Failure Code",INTERNAL_ERROR:"Internal Error",BUSY:"Busy",REJECTED:"Rejected",REDIRECTED:"Redirected",UNAVAILABLE:"Unavailable",NOT_FOUND:"Not Found",ADDRESS_INCOMPLETE:"Address Incomplete",INCOMPATIBLE_SDP:"Incompatible SDP",AUTHENTICATION_ERROR:"Authentication Error",DIALOG_ERROR:"Dialog Error",WEBRTC_NOT_SUPPORTED:"WebRTC Not Supported",WEBRTC_ERROR:"WebRTC Error",CANCELED:"Canceled",NO_ANSWER:"No Answer",EXPIRES:"Expires",NO_ACK:"No ACK",NO_PRACK:"No PRACK",USER_DENIED_MEDIA_ACCESS:"User Denied Media Access",BAD_MEDIA_DESCRIPTION:"Bad Media Description",RTP_TIMEOUT:"RTP Timeout"},supported:{UNSUPPORTED:"none",SUPPORTED:"supported",REQUIRED:"required"},SIP_ERROR_CAUSES:{REDIRECTED:[300,301,302,305,380],BUSY:[486,600],REJECTED:[403,603],NOT_FOUND:[404,604],UNAVAILABLE:[480,410,408,430],ADDRESS_INCOMPLETE:[484],INCOMPATIBLE_SDP:[488,606],AUTHENTICATION_ERROR:[401,407]},ACK:"ACK",BYE:"BYE",CANCEL:"CANCEL",INFO:"INFO",INVITE:"INVITE",MESSAGE:"MESSAGE",NOTIFY:"NOTIFY",OPTIONS:"OPTIONS",REGISTER:"REGISTER",UPDATE:"UPDATE",SUBSCRIBE:"SUBSCRIBE",REFER:"REFER",PRACK:"PRACK",REASON_PHRASE:{100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},OPTION_TAGS:{"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0}}}},function(e,t,n){"use strict";e.exports={ConfigurationError:function(){var e=function(e,t){this.code=1,this.name="CONFIGURATION_ERROR",this.parameter=e,this.value=t,this.message=this.value?"Invalid value "+JSON.stringify(this.value)+' for parameter "'+this.parameter+'"':"Missing parameter: "+this.parameter};return e.prototype=new Error,e}(),InvalidStateError:function(){var e=function(e){this.code=2,this.name="INVALID_STATE_ERROR",this.status=e,this.message="Invalid status: "+e};return e.prototype=new Error,e}(),NotSupportedError:function(){var e=function(e){this.code=3,this.name="NOT_SUPPORTED_ERROR",this.message=e};return e.prototype=new Error,e}(),GetDescriptionError:function(){var e=function(e){this.code=4,this.name="GET_DESCRIPTION_ERROR",this.message=e};return e.prototype=new Error,e}()}},function(e,t,n){"use strict";var r=500,i=4e3,o=5e3;e.exports=function(e){var t={T1:r,T2:i,T4:o,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,TIMER_N:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4};return["setTimeout","clearTimeout","setInterval","clearInterval"].forEach(function(n){t[n]=function(){return e[n].apply(e,arguments)}}),t}},function(e,t,n){"use strict";e.exports=function(e){function getHeader(e,t){var n=t,r=0,i=0;if(e.substring(n,n+2).match(/(^\r\n)/))return-2;for(;0===r;){if(-1===(i=e.indexOf("\r\n",n)))return i;!e.substring(i+2,i+4).match(/(^\r\n)/)&&e.charAt(i+2).match(/(^\s+)/)?n=i+2:r=i}return r}function parseHeader(t,n,r,i){var o,a,s,c,u=n.indexOf(":",r),l=n.substring(r,u).trim(),d=n.substring(u+1,i).trim();switch(l.toLowerCase()){case"via":case"v":t.addHeader("via",d),1===t.getHeaders("via").length?(c=t.parseHeader("Via"))&&(t.via=c,t.via_branch=c.branch):c=0;break;case"from":case"f":t.setHeader("from",d),(c=t.parseHeader("from"))&&(t.from=c,t.from_tag=c.getParam("tag"));break;case"to":case"t":t.setHeader("to",d),(c=t.parseHeader("to"))&&(t.to=c,t.to_tag=c.getParam("tag"));break;case"record-route":if(-1===(c=e.Grammar.parse(d,"Record_Route"))){c=void 0;break}for(s=c.length,a=0;a<s;a++)o=c[a],t.addHeader("record-route",d.substring(o.position,o.offset)),t.headers["Record-Route"][t.getHeaders("record-route").length-1].parsed=o.parsed;break;case"call-id":case"i":t.setHeader("call-id",d),(c=t.parseHeader("call-id"))&&(t.call_id=d);break;case"contact":case"m":if(-1===(c=e.Grammar.parse(d,"Contact"))){c=void 0;break}for(s=c.length,a=0;a<s;a++)o=c[a],t.addHeader("contact",d.substring(o.position,o.offset)),t.headers.Contact[t.getHeaders("contact").length-1].parsed=o.parsed;break;case"content-length":case"l":t.setHeader("content-length",d),c=t.parseHeader("content-length");break;case"content-type":case"c":t.setHeader("content-type",d),c=t.parseHeader("content-type");break;case"cseq":t.setHeader("cseq",d),(c=t.parseHeader("cseq"))&&(t.cseq=c.value),t instanceof e.IncomingResponse&&(t.method=c.method);break;case"max-forwards":t.setHeader("max-forwards",d),c=t.parseHeader("max-forwards");break;case"www-authenticate":t.setHeader("www-authenticate",d),c=t.parseHeader("www-authenticate");break;case"proxy-authenticate":t.setHeader("proxy-authenticate",d),c=t.parseHeader("proxy-authenticate");break;case"refer-to":case"r":t.setHeader("refer-to",d),(c=t.parseHeader("refer-to"))&&(t.refer_to=c);break;default:t.setHeader(l,d),c=0}return void 0!==c||{error:'error parsing header "'+l+'"'}}var t;(t={}).parseMessage=function(t,n){var r,i,o,a,s,c=0,u=t.indexOf("\r\n"),l=n.getLogger("sip.parser");if(-1!==u){if(i=t.substring(0,u),-1!==(s=e.Grammar.parse(i,"Request_Response"))){for(s.status_code?((r=new e.IncomingResponse(n)).status_code=s.status_code,r.reason_phrase=s.reason_phrase):((r=new e.IncomingRequest(n)).method=s.method,r.ruri=s.uri),r.data=t,c=u+2;;){if(-2===(u=getHeader(t,c))){a=c+2;break}if(-1===u)return void l.error("malformed message");if(!0!==(s=parseHeader(r,t,c,u)))return void l.error(s.error);c=u+2}return r.hasHeader("content-length")?(o=r.getHeader("content-length"),r.body=t.substr(a,o)):r.body=t.substring(a),r}l.warn('error parsing first line of SIP message: "'+i+'"')}else l.warn("no CRLF found, not a SIP message, discarded")},e.Parser=t}},function(e,t,n){"use strict";e.exports=function(e){function getSupportedHeader(t){var n=t.ua.configuration.hackAllowUnregisteredOptionTags,r=[],i={};return t.method===e.C.REGISTER?r.push("path","gruu"):t.method===e.C.INVITE&&(t.ua.contact.pub_gruu||t.ua.contact.temp_gruu)&&r.push("gruu"),t.ua.configuration.rel100===e.C.supported.SUPPORTED&&r.push("100rel"),t.ua.configuration.replaces===e.C.supported.SUPPORTED&&r.push("replaces"),r.push("outbound"),r=r.concat(t.ua.configuration.extraSupported),"Supported: "+(r=r.filter(function(t){var r=e.C.OPTION_TAGS[t],o=!i[t];return i[t]=!0,(r||n)&&o})).join(", ")+"\r\n"}var t,n,r,i;(t=function(t,n,r,i,o,a){var s,c,u,l,d,p;if(i=i||{},!t||!n||!r)return null;this.logger=r.getLogger("sip.sipmessage"),this.ua=r,this.headers={},this.method=t,this.ruri=n,this.body=a,this.extraHeaders=(o||[]).slice(),this.statusCode=i.status_code,this.reasonPhrase=i.reason_phrase,i.route_set?this.setHeader("route",i.route_set):r.configuration.usePreloadedRoute&&this.setHeader("route",r.transport.server.sip_uri),this.setHeader("via",""),this.setHeader("max-forwards",e.UA.C.MAX_FORWARDS),d=i.to_uri||n,s=i.to_displayName||0===i.to_displayName?'"'+i.to_displayName+'" ':"",s+="<"+(d&&d.toRaw?d.toRaw():d)+">",s+=i.to_tag?";tag="+i.to_tag:"",this.to=new e.NameAddrHeader.parse(s),this.setHeader("to",s),p=i.from_uri||r.configuration.uri,c=i.from_displayName||0===i.from_displayName?'"'+i.from_displayName+'" ':r.configuration.displayName?'"'+r.configuration.displayName+'" ':"",c+="<"+(p&&p.toRaw?p.toRaw():p)+">;tag=",c+=i.from_tag||e.Utils.newTag(),this.from=new e.NameAddrHeader.parse(c),this.setHeader("from",c),u=i.call_id||r.configuration.sipjsId+e.Utils.createRandomToken(15),this.call_id=u,this.setHeader("call-id",u),l=i.cseq||Math.floor(1e4*Math.random()),this.cseq=l,this.setHeader("cseq",l+" "+t)}).prototype={setHeader:function(t,n){this.headers[e.Utils.headerize(t)]=n instanceof Array?n:[n]},getHeader:function(t){var n,r,i=this.extraHeaders.length,o=this.headers[e.Utils.headerize(t)];if(o){if(o[0])return o[0]}else for(n=new RegExp("^\\s*"+t+"\\s*:","i"),r=0;r<i;r++)if(o=this.extraHeaders[r],n.test(o))return o.substring(o.indexOf(":")+1).trim()},getHeaders:function(t){var n,r,i,o=this.headers[e.Utils.headerize(t)],a=[];if(o){for(r=o.length,n=0;n<r;n++)a.push(o[n]);return a}for(r=this.extraHeaders.length,i=new RegExp("^\\s*"+t+"\\s*:","i"),n=0;n<r;n++)o=this.extraHeaders[n],i.test(o)&&a.push(o.substring(o.indexOf(":")+1).trim());return a},hasHeader:function(t){var n,r,i=this.extraHeaders.length;if(this.headers[e.Utils.headerize(t)])return!0;for(n=new RegExp("^\\s*"+t+"\\s*:","i"),r=0;r<i;r++)if(n.test(this.extraHeaders[r]))return!0;return!1},toString:function(){var t="",n,r,i;t+=this.method+" "+(this.ruri.toRaw?this.ruri.toRaw():this.ruri)+" SIP/2.0\r\n";for(n in this.headers)for(r=this.headers[n].length,i=0;i<r;i++)t+=n+": "+this.headers[n][i]+"\r\n";for(r=this.extraHeaders.length,i=0;i<r;i++)t+=this.extraHeaders[i].trim()+"\r\n";return t+=getSupportedHeader(this),t+="User-Agent: "+this.ua.configuration.userAgentString+"\r\n",this.body?"string"==typeof this.body?(t+="Content-Length: "+(r=e.Utils.str_utf8_length(this.body))+"\r\n\r\n",t+=this.body):this.body.body&&this.body.contentType?(r=e.Utils.str_utf8_length(this.body.body),t+="Content-Type: "+this.body.contentType+"\r\n",t+="Content-Length: "+r+"\r\n\r\n",t+=this.body.body):t+="Content-Length: 0\r\n\r\n":t+="Content-Length: 0\r\n\r\n",t}},(n=function(){this.data=null,this.headers=null,this.method=null,this.via=null,this.via_branch=null,this.call_id=null,this.cseq=null,this.from=null,this.from_tag=null,this.to=null,this.to_tag=null,this.body=null}).prototype={addHeader:function(t,n){var r={raw:n};t=e.Utils.headerize(t),this.headers[t]?this.headers[t].push(r):this.headers[t]=[r]},getHeader:function(t){var n=this.headers[e.Utils.headerize(t)];if(n)return n[0]?n[0].raw:void 0},getHeaders:function(t){var n,r,i=this.headers[e.Utils.headerize(t)],o=[];if(!i)return[];for(r=i.length,n=0;n<r;n++)o.push(i[n].raw);return o},hasHeader:function(t){return!!this.headers[e.Utils.headerize(t)]},parseHeader:function(t,n){var r,i,o;if(t=e.Utils.headerize(t),n=n||0,this.headers[t]){if(!(n>=this.headers[t].length))return r=this.headers[t][n],i=r.raw,r.parsed?r.parsed:-1===(o=e.Grammar.parse(i,t.replace(/-/g,"_")))?(this.headers[t].splice(n,1),void this.logger.warn('error parsing "'+t+'" header field with value "'+i+'"')):(r.parsed=o,o);this.logger.log('not so many "'+t+'" headers present')}else this.logger.log('header "'+t+'" not present')},s:function(e,t){return this.parseHeader(e,t)},setHeader:function(t,n){var r={raw:n};this.headers[e.Utils.headerize(t)]=[r]},toString:function(){return this.data}},((r=function(e){this.logger=e.getLogger("sip.sipmessage"),this.ua=e,this.headers={},this.ruri=null,this.transport=null,this.server_transaction=null}).prototype=new n).reply=function(t,n,r,i,o,a){var s,c,u,l,d,p=this.getHeader("To"),h=0,f=0;if(d=e.Utils.buildStatusLine(t,n),r=(r||[]).slice(),this.method===e.C.INVITE&&t>100&&t<=200)for(u=(s=this.getHeaders("record-route")).length,h;h<u;h++)d+="Record-Route: "+s[h]+"\r\n";for(u=(c=this.getHeaders("via")).length,f;f<u;f++)d+="Via: "+c[f]+"\r\n";for(!this.to_tag&&t>100?p+=";tag="+e.Utils.newTag():this.to_tag&&!this.s("to").hasParam("tag")&&(p+=";tag="+this.to_tag),d+="To: "+p+"\r\n",d+="From: "+this.getHeader("From")+"\r\n",d+="Call-ID: "+this.call_id+"\r\n",d+="CSeq: "+this.cseq+" "+this.method+"\r\n",u=r.length,l=0;l<u;l++)d+=r[l].trim()+"\r\n";return d+=getSupportedHeader(this),d+="User-Agent: "+this.ua.configuration.userAgentString+"\r\n",i?"string"==typeof i?(d+="Content-Type: application/sdp\r\n",d+="Content-Length: "+(u=e.Utils.str_utf8_length(i))+"\r\n\r\n",d+=i):i.body&&i.contentType?(u=e.Utils.str_utf8_length(i.body),d+="Content-Type: "+i.contentType+"\r\n",d+="Content-Length: "+u+"\r\n\r\n",d+=i.body):d+="Content-Length: 0\r\n\r\n":d+="Content-Length: 0\r\n\r\n",this.server_transaction.receiveResponse(t,d).then(o,a),d},r.prototype.reply_sl=function(t,n){var r,i,o=0,a=this.getHeaders("via"),s=a.length;for(i=e.Utils.buildStatusLine(t,n),o;o<s;o++)i+="Via: "+a[o]+"\r\n";r=this.getHeader("To"),!this.to_tag&&t>100?r+=";tag="+e.Utils.newTag():this.to_tag&&!this.s("to").hasParam("tag")&&(r+=";tag="+this.to_tag),i+="To: "+r+"\r\n",i+="From: "+this.getHeader("From")+"\r\n",i+="Call-ID: "+this.call_id+"\r\n",i+="CSeq: "+this.cseq+" "+this.method+"\r\n",i+="User-Agent: "+this.ua.configuration.userAgentString+"\r\n",i+="Content-Length: 0\r\n\r\n",this.transport.send(i)},(i=function(e){this.logger=e.getLogger("sip.sipmessage"),this.headers={},this.status_code=null,this.reason_phrase=null}).prototype=new n,e.OutgoingRequest=t,e.IncomingRequest=r,e.IncomingResponse=i}},function(e,t,n){"use strict";e.exports=function(e){var t;(t=function(t,n,r,i,o,a){var s,c,u,l;if(!r)throw new TypeError('missing or invalid "host" parameter');t=t||e.C.SIP,this.parameters={},this.headers={};for(s in o)this.setParam(s,o[s]);for(c in a)this.setHeader(c,a[c]);u={scheme:t,user:n,host:r,port:i},l={scheme:t.toLowerCase(),user:n,host:r.toLowerCase(),port:i},Object.defineProperties(this,{_normal:{get:function(){return l}},_raw:{get:function(){return u}},scheme:{get:function(){return l.scheme},set:function(e){u.scheme=e,l.scheme=e.toLowerCase()}},user:{get:function(){return l.user},set:function(e){l.user=u.user=e}},host:{get:function(){return l.host},set:function(e){u.host=e,l.host=e.toLowerCase()}},aor:{get:function(){return l.user+"@"+l.host}},port:{get:function(){return l.port},set:function(e){l.port=u.port=0===e?e:parseInt(e,10)||null}}})}).prototype={setParam:function(e,t){e&&(this.parameters[e.toLowerCase()]=void 0===t||null===t?null:t.toString().toLowerCase())},getParam:function(e){if(e)return this.parameters[e.toLowerCase()]},hasParam:function(e){if(e)return this.parameters.hasOwnProperty(e.toLowerCase())&&!0||!1},deleteParam:function(e){var t;if(e=e.toLowerCase(),this.parameters.hasOwnProperty(e))return t=this.parameters[e],delete this.parameters[e],t},clearParams:function(){this.parameters={}},setHeader:function(t,n){this.headers[e.Utils.headerize(t)]=n instanceof Array?n:[n]},getHeader:function(t){if(t)return this.headers[e.Utils.headerize(t)]},hasHeader:function(t){if(t)return this.headers.hasOwnProperty(e.Utils.headerize(t))&&!0||!1},deleteHeader:function(t){var n;if(t=e.Utils.headerize(t),this.headers.hasOwnProperty(t))return n=this.headers[t],delete this.headers[t],n},clearHeaders:function(){this.headers={}},clone:function(){return new t(this._raw.scheme,this._raw.user,this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))},toRaw:function(){return this._toString(this._raw)},toString:function(){return this._toString(this._normal)},_toString:function(t){var n,r,i,o,a=[];o=t.scheme+":",t.scheme.toLowerCase().match("^sips?$")||(o+="//"),t.user&&(o+=e.Utils.escapeUser(t.user)+"@"),o+=t.host,(t.port||0===t.port)&&(o+=":"+t.port);for(r in this.parameters)o+=";"+r,null!==this.parameters[r]&&(o+="="+this.parameters[r]);for(n in this.headers)for(i in this.headers[n])a.push(n+"="+this.headers[n][i]);return a.length>0&&(o+="?"+a.join("&")),o}},t.parse=function(t){return-1!==(t=e.Grammar.parse(t,"SIP_URI"))?t:void 0},e.URI=t}},function(e,t,n){"use strict";e.exports=function(e){var t;(t=function(t,n,r){var i;if(!(t&&t instanceof e.URI))throw new TypeError('missing or invalid "uri" parameter');this.uri=t,this.parameters={};for(i in r)this.setParam(i,r[i]);Object.defineProperties(this,{friendlyName:{get:function(){return this.displayName||t.aor}},displayName:{get:function(){return n},set:function(e){n=0===e?"0":e}}})}).prototype={setParam:function(e,t){e&&(this.parameters[e.toLowerCase()]=void 0===t||null===t?null:t.toString())},getParam:e.URI.prototype.getParam,hasParam:e.URI.prototype.hasParam,deleteParam:e.URI.prototype.deleteParam,clearParams:e.URI.prototype.clearParams,clone:function(){return new t(this.uri.clone(),this.displayName,JSON.parse(JSON.stringify(this.parameters)))},toString:function(){var e,t;e=this.displayName||0===this.displayName?'"'+this.displayName+'" ':"",e+="<"+this.uri.toString()+">";for(t in this.parameters)e+=";"+t,null!==this.parameters[t]&&(e+="="+this.parameters[t]);return e}},t.parse=function(t){return-1!==(t=e.Grammar.parse(t,"Name_Addr_Header"))?t:void 0},e.NameAddrHeader=t}},function(e,t,n){"use strict";e.exports=function(e){function buildViaHeader(e,t,n){var r;return r="SIP/2.0/"+(e.ua.configuration.hackViaTcp?"TCP":t.server.scheme),r+=" "+e.ua.configuration.viaHost+";branch="+n,e.ua.configuration.forceRport&&(r+=";rport"),r}var t={STATUS_TRYING:1,STATUS_PROCEEDING:2,STATUS_CALLING:3,STATUS_ACCEPTED:4,STATUS_COMPLETED:5,STATUS_TERMINATED:6,STATUS_CONFIRMED:7,NON_INVITE_CLIENT:"nict",NON_INVITE_SERVER:"nist",INVITE_CLIENT:"ict",INVITE_SERVER:"ist"},n=function(e,n,r){var i;this.type=t.NON_INVITE_CLIENT,this.transport=r,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=e,this.request=n,this.logger=e.ua.getLogger("sip.transaction.nict",this.id),i=buildViaHeader(e,r,this.id),this.request.setHeader("via",i),this.request_sender.ua.newTransaction(this)};(n.prototype=Object.create(e.EventEmitter.prototype)).stateChanged=function(e){this.state=e,this.emit("stateChanged")},n.prototype.send=function(){var n=this;this.stateChanged(t.STATUS_TRYING),this.F=e.Timers.setTimeout(n.timer_F.bind(n),e.Timers.TIMER_F),this.transport.send(this.request)||this.onTransportError()},n.prototype.onTransportError=function(){this.logger.log("transport error occurred, deleting non-INVITE client transaction "+this.id),e.Timers.clearTimeout(this.F),e.Timers.clearTimeout(this.K),this.stateChanged(t.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onTransportError()},n.prototype.timer_F=function(){this.logger.log("Timer F expired for non-INVITE client transaction "+this.id),this.stateChanged(t.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onRequestTimeout()},n.prototype.timer_K=function(){this.stateChanged(t.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this)},n.prototype.receiveResponse=function(n){var r=this,i=n.status_code;if(i<200)switch(this.state){case t.STATUS_TRYING:case t.STATUS_PROCEEDING:this.stateChanged(t.STATUS_PROCEEDING),this.request_sender.receiveResponse(n)}else switch(this.state){case t.STATUS_TRYING:case t.STATUS_PROCEEDING:this.stateChanged(t.STATUS_COMPLETED),e.Timers.clearTimeout(this.F),408===i?this.request_sender.onRequestTimeout():this.request_sender.receiveResponse(n),this.K=e.Timers.setTimeout(r.timer_K.bind(r),e.Timers.TIMER_K)}};var r=function(e,n,r){var i,o=this;this.type=t.INVITE_CLIENT,this.transport=r,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=e,this.request=n,this.logger=e.ua.getLogger("sip.transaction.ict",this.id),i=buildViaHeader(e,r,this.id),this.request.setHeader("via",i),this.request_sender.ua.newTransaction(this),this.request.cancel=function(e,t){for(var n=(t=(t||[]).slice()).length,r=null,i=0;i<n;i++)r=(r||"")+t[i].trim()+"\r\n";o.cancel_request(o,e,r)}};(r.prototype=Object.create(e.EventEmitter.prototype)).stateChanged=function(e){this.state=e,this.emit("stateChanged")},r.prototype.send=function(){var n=this;this.stateChanged(t.STATUS_CALLING),this.B=e.Timers.setTimeout(n.timer_B.bind(n),e.Timers.TIMER_B),this.transport.send(this.request)||this.onTransportError()},r.prototype.onTransportError=function(){this.logger.log("transport error occurred, deleting INVITE client transaction "+this.id),e.Timers.clearTimeout(this.B),e.Timers.clearTimeout(this.D),e.Timers.clearTimeout(this.M),this.stateChanged(t.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.state!==t.STATUS_ACCEPTED&&this.request_sender.onTransportError()},r.prototype.timer_M=function(){this.logger.log("Timer M expired for INVITE client transaction "+this.id),this.state===t.STATUS_ACCEPTED&&(e.Timers.clearTimeout(this.B),this.stateChanged(t.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this))},r.prototype.timer_B=function(){this.logger.log("Timer B expired for INVITE client transaction "+this.id),this.state===t.STATUS_CALLING&&(this.stateChanged(t.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onRequestTimeout())},r.prototype.timer_D=function(){this.logger.log("Timer D expired for INVITE client transaction "+this.id),e.Timers.clearTimeout(this.B),this.stateChanged(t.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this)},r.prototype.sendACK=function(t){var n=this;this.ack="ACK "+this.request.ruri+" SIP/2.0\r\n",this.ack+="Via: "+this.request.headers.Via.toString()+"\r\n",this.request.headers.Route&&(this.ack+="Route: "+this.request.headers.Route.toString()+"\r\n"),this.ack+="To: "+t.getHeader("to")+"\r\n",this.ack+="From: "+this.request.headers.From.toString()+"\r\n",this.ack+="Call-ID: "+this.request.headers["Call-ID"].toString()+"\r\n",this.ack+="Content-Length: 0\r\n",this.ack+="CSeq: "+this.request.headers.CSeq.toString().split(" ")[0],this.ack+=" ACK\r\n\r\n",this.D=e.Timers.setTimeout(n.timer_D.bind(n),e.Timers.TIMER_D),this.transport.send(this.ack)},r.prototype.cancel_request=function(n,r,i){var o=n.request;this.cancel=e.C.CANCEL+" "+o.ruri+" SIP/2.0\r\n",this.cancel+="Via: "+o.headers.Via.toString()+"\r\n",this.request.headers.Route&&(this.cancel+="Route: "+o.headers.Route.toString()+"\r\n"),this.cancel+="To: "+o.headers.To.toString()+"\r\n",this.cancel+="From: "+o.headers.From.toString()+"\r\n",this.cancel+="Call-ID: "+o.headers["Call-ID"].toString()+"\r\n",this.cancel+="CSeq: "+o.headers.CSeq.toString().split(" ")[0]+" CANCEL\r\n",r&&(this.cancel+="Reason: "+r+"\r\n"),i&&(this.cancel+=i),this.cancel+="Content-Length: 0\r\n\r\n",this.state===t.STATUS_PROCEEDING&&this.transport.send(this.cancel)},r.prototype.receiveResponse=function(n){var r=this,i=n.status_code;if(i>=100&&i<=199)switch(this.state){case t.STATUS_CALLING:this.stateChanged(t.STATUS_PROCEEDING),this.request_sender.receiveResponse(n),this.cancel&&this.transport.send(this.cancel);break;case t.STATUS_PROCEEDING:this.request_sender.receiveResponse(n)}else if(i>=200&&i<=299)switch(this.state){case t.STATUS_CALLING:case t.STATUS_PROCEEDING:this.stateChanged(t.STATUS_ACCEPTED),this.M=e.Timers.setTimeout(r.timer_M.bind(r),e.Timers.TIMER_M),this.request_sender.receiveResponse(n);break;case t.STATUS_ACCEPTED:this.request_sender.receiveResponse(n)}else if(i>=300&&i<=699)switch(this.state){case t.STATUS_CALLING:case t.STATUS_PROCEEDING:this.stateChanged(t.STATUS_COMPLETED),this.sendACK(n),this.request_sender.receiveResponse(n);break;case t.STATUS_COMPLETED:this.sendACK(n)}};var i=function(e,t,n){var r;this.transport=n,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=e,this.request=t,this.logger=e.ua.getLogger("sip.transaction.nict",this.id),r=buildViaHeader(e,n,this.id),this.request.setHeader("via",r)};(i.prototype=Object.create(e.EventEmitter.prototype)).send=function(){this.transport.send(this.request)||this.onTransportError()},i.prototype.onTransportError=function(){this.logger.log("transport error occurred, for an ACK client transaction "+this.id),this.request_sender.onTransportError()};var o=function(e,n){this.type=t.NON_INVITE_SERVER,this.id=e.via_branch,this.request=e,this.transport=e.transport,this.ua=n,this.last_response="",e.server_transaction=this,this.logger=n.getLogger("sip.transaction.nist",this.id),this.state=t.STATUS_TRYING,n.newTransaction(this)};(o.prototype=Object.create(e.EventEmitter.prototype)).stateChanged=function(e){this.state=e,this.emit("stateChanged")},o.prototype.timer_J=function(){this.logger.log("Timer J expired for non-INVITE server transaction "+this.id),this.stateChanged(t.STATUS_TERMINATED),this.ua.destroyTransaction(this)},o.prototype.onTransportError=function(){this.transportError||(this.transportError=!0,this.logger.log("transport error occurred, deleting non-INVITE server transaction "+this.id),e.Timers.clearTimeout(this.J),this.stateChanged(t.STATUS_TERMINATED),this.ua.destroyTransaction(this))},o.prototype.receiveResponse=function(n,r){var i=this,o=e.Utils.defer();if(100===n)switch(this.state){case t.STATUS_TRYING:this.stateChanged(t.STATUS_PROCEEDING),this.transport.send(r)||this.onTransportError();break;case t.STATUS_PROCEEDING:this.last_response=r,this.transport.send(r)?o.resolve():(this.onTransportError(),o.reject())}else if(n>=200&&n<=699)switch(this.state){case t.STATUS_TRYING:case t.STATUS_PROCEEDING:this.stateChanged(t.STATUS_COMPLETED),this.last_response=r,this.J=e.Timers.setTimeout(i.timer_J.bind(i),e.Timers.TIMER_J),this.transport.send(r)?o.resolve():(this.onTransportError(),o.reject())}return o.promise};var a=function(e,n){this.type=t.INVITE_SERVER,this.id=e.via_branch,this.request=e,this.transport=e.transport,this.ua=n,this.last_response="",e.server_transaction=this,this.logger=n.getLogger("sip.transaction.ist",this.id),this.state=t.STATUS_PROCEEDING,n.newTransaction(this),this.resendProvisionalTimer=null,e.reply(100)};(a.prototype=Object.create(e.EventEmitter.prototype)).stateChanged=function(e){this.state=e,this.emit("stateChanged")},a.prototype.timer_H=function(){this.logger.log("Timer H expired for INVITE server transaction "+this.id),this.state===t.STATUS_COMPLETED&&this.logger.warn("transactions","ACK for INVITE server transaction was never received, call will be terminated"),this.stateChanged(t.STATUS_TERMINATED),this.ua.destroyTransaction(this)},a.prototype.timer_I=function(){this.stateChanged(t.STATUS_TERMINATED),this.ua.destroyTransaction(this)},a.prototype.timer_L=function(){this.logger.log("Timer L expired for INVITE server transaction "+this.id),this.state===t.STATUS_ACCEPTED&&(this.stateChanged(t.STATUS_TERMINATED),this.ua.destroyTransaction(this))},a.prototype.onTransportError=function(){this.transportError||(this.transportError=!0,this.logger.log("transport error occurred, deleting INVITE server transaction "+this.id),null!==this.resendProvisionalTimer&&(e.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),e.Timers.clearTimeout(this.L),e.Timers.clearTimeout(this.H),e.Timers.clearTimeout(this.I),this.stateChanged(t.STATUS_TERMINATED),this.ua.destroyTransaction(this))},a.prototype.resend_provisional=function(){this.transport.send(this.last_response)||this.onTransportError()},a.prototype.receiveResponse=function(n,r){var i=this,o=e.Utils.defer();if(n>=100&&n<=199)switch(this.state){case t.STATUS_PROCEEDING:this.transport.send(r)||this.onTransportError(),this.last_response=r}if(n>100&&n<=199&&this.state===t.STATUS_PROCEEDING)null===this.resendProvisionalTimer&&(this.resendProvisionalTimer=e.Timers.setInterval(i.resend_provisional.bind(i),e.Timers.PROVISIONAL_RESPONSE_INTERVAL));else if(n>=200&&n<=299)switch(this.state){case t.STATUS_PROCEEDING:this.stateChanged(t.STATUS_ACCEPTED),this.last_response=r,this.L=e.Timers.setTimeout(i.timer_L.bind(i),e.Timers.TIMER_L),null!==this.resendProvisionalTimer&&(e.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null);case t.STATUS_ACCEPTED:this.transport.send(r)?o.resolve():(this.onTransportError(),o.reject())}else if(n>=300&&n<=699)switch(this.state){case t.STATUS_PROCEEDING:null!==this.resendProvisionalTimer&&(e.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),this.transport.send(r)?(this.stateChanged(t.STATUS_COMPLETED),this.H=e.Timers.setTimeout(i.timer_H.bind(i),e.Timers.TIMER_H),o.resolve()):(this.onTransportError(),o.reject())}return o.promise};var s=function(n,r){var i;switch(r.method){case e.C.INVITE:if(i=n.transactions.ist[r.via_branch]){switch(i.state){case t.STATUS_PROCEEDING:i.transport.send(i.last_response)}return!0}break;case e.C.ACK:if(!(i=n.transactions.ist[r.via_branch]))return!1;if(i.state===t.STATUS_ACCEPTED)return!1;if(i.state===t.STATUS_COMPLETED)return i.stateChanged(t.STATUS_CONFIRMED),i.I=e.Timers.setTimeout(i.timer_I.bind(i),e.Timers.TIMER_I),!0;break;case e.C.CANCEL:return(i=n.transactions.ist[r.via_branch])?(r.reply_sl(200),i.state!==t.STATUS_PROCEEDING):(r.reply_sl(481),!0);default:if(i=n.transactions.nist[r.via_branch]){switch(i.state){case t.STATUS_TRYING:break;case t.STATUS_PROCEEDING:case t.STATUS_COMPLETED:i.transport.send(i.last_response)}return!0}}};e.Transactions={C:t,checkTransaction:s,NonInviteClientTransaction:n,InviteClientTransaction:r,AckClientTransaction:i,NonInviteServerTransaction:o,InviteServerTransaction:a}}},function(e,t,n){"use strict";e.exports=function(e){var t=n(1578)(e),r,i={STATUS_EARLY:1,STATUS_CONFIRMED:2};(r=function(t,n,r,o){var a;if(this.uac_pending_reply=!1,this.uas_pending_reply=!1,!n.hasHeader("contact"))return{error:"unable to create a Dialog without Contact header field"};o=n instanceof e.IncomingResponse?n.status_code<200?i.STATUS_EARLY:i.STATUS_CONFIRMED:o||i.STATUS_CONFIRMED,a=n.parseHeader("contact"),"UAS"===r?(this.id={call_id:n.call_id,local_tag:n.to_tag,remote_tag:n.from_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this.state=o,this.remote_seqnum=n.cseq,this.local_uri=n.parseHeader("to").uri,this.remote_uri=n.parseHeader("from").uri,this.remote_target=a.uri,this.route_set=n.getHeaders("record-route"),this.invite_seqnum=n.cseq,this.local_seqnum=n.cseq):"UAC"===r&&(this.id={call_id:n.call_id,local_tag:n.from_tag,remote_tag:n.to_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this.state=o,this.invite_seqnum=n.cseq,this.local_seqnum=n.cseq,this.local_uri=n.parseHeader("from").uri,this.pracked=[],this.remote_uri=n.parseHeader("to").uri,this.remote_target=a.uri,this.route_set=n.getHeaders("record-route").reverse(),this.state!==i.STATUS_EARLY||t.hasOffer||(this.mediaHandler=t.mediaHandlerFactory(t))),this.logger=t.ua.getLogger("sip.dialog",this.id.toString()),this.owner=t,t.ua.dialogs[this.id.toString()]=this,this.logger.log("new "+r+" dialog created with status "+(this.state===i.STATUS_EARLY?"EARLY":"CONFIRMED")),t.emit("dialog",this)}).prototype={update:function(e,t){this.state=i.STATUS_CONFIRMED,this.logger.log("dialog "+this.id.toString()+"  changed to CONFIRMED state"),"UAC"===t&&(this.route_set=e.getHeaders("record-route").reverse())},terminate:function(){this.logger.log("dialog "+this.id.toString()+" deleted"),this.mediaHandler&&this.state!==i.STATUS_CONFIRMED&&this.mediaHandler.peerConnection.close(),delete this.owner.ua.dialogs[this.id.toString()]},createRequest:function(t,n,r){var i,o;return n=(n||[]).slice(),this.local_seqnum||(this.local_seqnum=Math.floor(1e4*Math.random())),i=t===e.C.CANCEL||t===e.C.ACK?this.invite_seqnum:this.local_seqnum+=1,o=new e.OutgoingRequest(t,this.remote_target,this.owner.ua,{cseq:i,call_id:this.id.call_id,from_uri:this.local_uri,from_tag:this.id.local_tag,to_uri:this.remote_uri,to_tag:this.id.remote_tag,route_set:this.route_set},n,r),o.dialog=this,o},checkInDialogRequest:function(t){var n=this;if(this.remote_seqnum){if(t.cseq<this.remote_seqnum)return t.method!==e.C.ACK&&t.reply(500),t.cseq===this.invite_seqnum;t.cseq>this.remote_seqnum&&(this.remote_seqnum=t.cseq)}else this.remote_seqnum=t.cseq;switch(t.method){case e.C.INVITE:if(!0===this.uac_pending_reply)t.reply(491);else{if(!0===this.uas_pending_reply){var r=1+(10*Math.random()|0);return t.reply(500,null,["Retry-After:"+r]),!1}this.uas_pending_reply=!0,t.server_transaction.on("stateChanged",function stateChanged(){this.state!==e.Transactions.C.STATUS_ACCEPTED&&this.state!==e.Transactions.C.STATUS_COMPLETED&&this.state!==e.Transactions.C.STATUS_TERMINATED||(this.removeListener("stateChanged",stateChanged),n.uas_pending_reply=!1,!1===n.uac_pending_reply&&n.owner.onReadyToReinvite())})}t.hasHeader("contact")&&t.server_transaction.on("stateChanged",function(){this.state===e.Transactions.C.STATUS_ACCEPTED&&(n.remote_target=t.parseHeader("contact").uri)});break;case e.C.NOTIFY:t.hasHeader("contact")&&t.server_transaction.on("stateChanged",function(){this.state===e.Transactions.C.STATUS_COMPLETED&&(n.remote_target=t.parseHeader("contact").uri)})}return!0},sendRequest:function(e,n,r){var i=((r=r||{}).extraHeaders||[]).slice(),o=null;r.body&&(r.body.body?o=r.body:((o={}).body=r.body,r.contentType&&(o.contentType=r.contentType)));var a=this.createRequest(n,i,o);return new t(this,e,a).send(),a},receiveRequest:function(e){this.checkInDialogRequest(e)&&this.owner.receiveRequest(e)}},r.C=i,e.Dialog=r}},function(e,t,n){"use strict";e.exports=function(e){var t;return t=function(e,t,n){this.dialog=e,this.applicant=t,this.request=n,this.reattempt=!1,this.reattemptTimer=null},t.prototype={send:function(){var t=this,n=new e.RequestSender(this,this.dialog.owner.ua);n.send(),this.request.method===e.C.INVITE&&n.clientTransaction.state!==e.Transactions.C.STATUS_TERMINATED&&(this.dialog.uac_pending_reply=!0,n.clientTransaction.on("stateChanged",function stateChanged(){this.state!==e.Transactions.C.STATUS_ACCEPTED&&this.state!==e.Transactions.C.STATUS_COMPLETED&&this.state!==e.Transactions.C.STATUS_TERMINATED||(this.removeListener("stateChanged",stateChanged),t.dialog.uac_pending_reply=!1,!1===t.dialog.uas_pending_reply&&t.dialog.owner.onReadyToReinvite())}))},onRequestTimeout:function(){this.applicant.onRequestTimeout()},onTransportError:function(){this.applicant.onTransportError()},receiveResponse:function(t){var n=this;408===t.status_code||481===t.status_code?this.applicant.onDialogError(t):t.method===e.C.INVITE&&491===t.status_code?this.reattempt?this.applicant.receiveResponse(t):(this.request.cseq.value=this.dialog.local_seqnum+=1,this.reattemptTimer=e.Timers.setTimeout(function(){n.applicant.owner.status!==e.Session.C.STATUS_TERMINATED&&(n.reattempt=!0,n.request_sender.send())},this.getReattemptTimeout())):this.applicant.receiveResponse(t)}},t}},function(e,t,n){"use strict";e.exports=function(e){var t;(t=function(t,n){this.logger=n.getLogger("sip.requestsender"),this.ua=n,this.applicant=t,this.method=t.request.method,this.request=t.request,this.credentials=null,this.challenged=!1,this.staled=!1,n.status!==e.UA.C.STATUS_USER_CLOSED||this.method===e.C.BYE&&this.method===e.C.ACK||this.onTransportError()}).prototype={send:function(){switch(this.method){case"INVITE":this.clientTransaction=new e.Transactions.InviteClientTransaction(this,this.request,this.ua.transport);break;case"ACK":this.clientTransaction=new e.Transactions.AckClientTransaction(this,this.request,this.ua.transport);break;default:this.clientTransaction=new e.Transactions.NonInviteClientTransaction(this,this.request,this.ua.transport)}return this.clientTransaction.send(),this.clientTransaction},onRequestTimeout:function(){this.applicant.onRequestTimeout()},onTransportError:function(){this.applicant.onTransportError()},receiveResponse:function(t){var n,r,i,o=t.status_code;if(401===o||407===o){if(401===t.status_code?(r=t.parseHeader("www-authenticate"),i="authorization"):(r=t.parseHeader("proxy-authenticate"),i="proxy-authorization"),!r)return this.logger.warn(t.status_code+" with wrong or missing challenge, cannot authenticate"),void this.applicant.receiveResponse(t);if(!this.challenged||!this.staled&&!0===r.stale){if(this.credentials||(this.credentials=this.ua.configuration.authenticationFactory(this.ua)),!this.credentials.authenticate(this.request,r))return void this.applicant.receiveResponse(t);this.challenged=!0,r.stale&&(this.staled=!0),t.method===e.C.REGISTER?n=this.applicant.cseq+=1:this.request.dialog?n=this.request.dialog.local_seqnum+=1:(n=this.request.cseq+1,this.request.cseq=n),this.request.setHeader("cseq",n+" "+this.method),this.request.setHeader(i,this.credentials.toString()),this.send()}else this.applicant.receiveResponse(t)}else this.applicant.receiveResponse(t)}},e.RequestSender=t}},function(e,t,n){"use strict";e.exports=function(e){var t;(t=function(t){var n={},r=1;this.registrar=t.configuration.registrarServer,this.expires=t.configuration.registerExpires,this.contact=t.contact.toString(),this.contact+=";reg-id=1",this.contact+=';+sip.instance="<urn:uuid:'+t.configuration.instanceId+'>"',this.call_id=e.Utils.createRandomToken(22),this.cseq=80,this.to_uri=t.configuration.uri,n.to_uri=this.to_uri,n.to_displayName=t.configuration.displayName,n.call_id=this.call_id,n.cseq=this.cseq,e.Utils.augment(this,e.ClientContext,[t,"REGISTER",this.registrar,{params:n}]),this.registrationTimer=null,this.registrationExpiredTimer=null,this.registered=!1,this.logger=t.getLogger("sip.registercontext")}).prototype={register:function(t){var n=this,r;this.options=t||{},(r=(this.options.extraHeaders||[]).slice()).push("Contact: "+this.contact+";expires="+this.expires),r.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),this.closeHeaders=this.options.closeWithHeaders?(this.options.extraHeaders||[]).slice():[],this.receiveResponse=function(t){var r,i,o=t.getHeaders("contact").length,a;if(t.cseq===this.cseq)switch(null!==this.registrationTimer&&(e.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),!0){case/^1[0-9]{2}$/.test(t.status_code):this.emit("progress",t);break;case/^2[0-9]{2}$/.test(t.status_code):if(this.emit("accepted",t),t.hasHeader("expires")&&(i=t.getHeader("expires")),null!==this.registrationExpiredTimer&&(e.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),!o){this.logger.warn("no Contact header in response to REGISTER, response ignored");break}for(;o--;){if((r=t.parseHeader("contact",o)).uri.user===this.ua.contact.uri.user){i=r.getParam("expires");break}r=null}if(!r){this.logger.warn("no Contact header pointing to us, response ignored");break}i||(i=this.expires),this.registrationTimer=e.Timers.setTimeout(function(){n.registrationTimer=null,n.register(n.options)},1e3*i-3e3),this.registrationExpiredTimer=e.Timers.setTimeout(function(){n.logger.warn("registration expired"),n.registered&&n.unregistered(null,e.C.causes.EXPIRES)},1e3*i),r.hasParam("temp-gruu")&&(this.ua.contact.temp_gruu=e.URI.parse(r.getParam("temp-gruu").replace(/"/g,""))),r.hasParam("pub-gruu")&&(this.ua.contact.pub_gruu=e.URI.parse(r.getParam("pub-gruu").replace(/"/g,""))),this.registered=!0,this.emit("registered",t||null);break;case/^423$/.test(t.status_code):t.hasHeader("min-expires")?(this.expires=t.getHeader("min-expires"),this.register(this.options)):(this.logger.warn("423 response received for REGISTER without Min-Expires"),this.registrationFailure(t,e.C.causes.SIP_FAILURE_CODE));break;default:a=e.Utils.sipErrorCause(t.status_code),this.registrationFailure(t,a)}},this.onRequestTimeout=function(){this.registrationFailure(null,e.C.causes.REQUEST_TIMEOUT)},this.onTransportError=function(){this.registrationFailure(null,e.C.causes.CONNECTION_ERROR)},this.cseq++,this.request.cseq=this.cseq,this.request.setHeader("cseq",this.cseq+" REGISTER"),this.request.extraHeaders=r,this.send()},registrationFailure:function(e,t){this.emit("failed",e||null,t||null)},onTransportClosed:function(){this.registered_before=this.registered,null!==this.registrationTimer&&(e.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),null!==this.registrationExpiredTimer&&(e.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),this.registered&&this.unregistered(null,e.C.causes.CONNECTION_ERROR)},onTransportConnected:function(){this.register(this.options)},close:function(){var e={all:!1,extraHeaders:this.closeHeaders};this.registered_before=this.registered,this.unregister(e)},unregister:function(t){var n;t=t||{},this.registered||t.all?(n=(t.extraHeaders||[]).slice(),this.registered=!1,null!==this.registrationTimer&&(e.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),t.all?(n.push("Contact: *"),n.push("Expires: 0")):n.push("Contact: "+this.contact+";expires=0"),this.receiveResponse=function(t){var n;switch(!0){case/^1[0-9]{2}$/.test(t.status_code):this.emit("progress",t);break;case/^2[0-9]{2}$/.test(t.status_code):this.emit("accepted",t),null!==this.registrationExpiredTimer&&(e.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),this.unregistered(t);break;default:n=e.Utils.sipErrorCause(t.status_code),this.unregistered(t,n)}},this.onRequestTimeout=function(){},this.onTransportError=function(){},this.cseq++,this.request.cseq=this.cseq,this.request.setHeader("cseq",this.cseq+" REGISTER"),this.request.extraHeaders=n,this.send()):this.logger.warn("already unregistered")},unregistered:function(e,t){this.registered=!1,this.emit("unregistered",e||null,t||null)}},e.RegisterContext=t}},function(e,t,n){"use strict";e.exports=function(e){var t=function(e,t){e=e,t=t};return t.prototype=Object.create(e.prototype,{isReady:{value:function isReady(){}},close:{value:function close(){}},getDescription:{value:function getDescription(e){e=e}},hasDescription:{value:function hasDescription(e){e=e}},setDescription:{value:function setDescription(e){e=e}}}),t}},function(e,t,n){"use strict";e.exports=function(e){var t;((t=function(t,n,r,i){var o=r;if(void 0===r)throw new TypeError("Not enough arguments");if(this.ua=t,this.logger=t.getLogger("sip.clientcontext"),this.method=n,!(r=t.normalizeTarget(r)))throw new TypeError("Invalid target: "+o);(i=Object.create(i||Object.prototype)).extraHeaders=(i.extraHeaders||[]).slice(),this.request=new e.OutgoingRequest(this.method,r,this.ua,i.params,i.extraHeaders),i.body&&(this.body={},this.body.body=i.body,i.contentType&&(this.body.contentType=i.contentType),this.request.body=this.body),this.localIdentity=this.request.from,this.remoteIdentity=this.request.to,this.data={}}).prototype=Object.create(e.EventEmitter.prototype)).send=function(){return new e.RequestSender(this,this.ua).send(),this},t.prototype.cancel=function(t){(t=t||{}).extraHeaders=(t.extraHeaders||[]).slice();var n=e.Utils.getCancelReason(t.status_code,t.reason_phrase);this.request.cancel(n,t.extraHeaders),this.emit("cancel")},t.prototype.receiveResponse=function(t){var n=e.Utils.getReasonPhrase(t.status_code);switch(!0){case/^1[0-9]{2}$/.test(t.status_code):this.emit("progress",t,n);break;case/^2[0-9]{2}$/.test(t.status_code):this.ua.applicants[this]&&delete this.ua.applicants[this],this.emit("accepted",t,n);break;default:this.ua.applicants[this]&&delete this.ua.applicants[this],this.emit("rejected",t,n),this.emit("failed",t,n)}},t.prototype.onRequestTimeout=function(){this.emit("failed",null,e.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",null,e.C.causes.CONNECTION_ERROR)},e.ClientContext=t}},function(e,t,n){"use strict";e.exports=function(e){var t;((t=function(t,n){this.ua=t,this.logger=t.getLogger("sip.servercontext"),this.request=n,n.method===e.C.INVITE?this.transaction=new e.Transactions.InviteServerTransaction(n,t):this.transaction=new e.Transactions.NonInviteServerTransaction(n,t),n.body&&(this.body=n.body),n.hasHeader("Content-Type")&&(this.contentType=n.getHeader("Content-Type")),this.method=n.method,this.data={},this.localIdentity=n.to,this.remoteIdentity=n.from}).prototype=Object.create(e.EventEmitter.prototype)).progress=function(e){return(e=Object.create(e||Object.prototype)).statusCode||(e.statusCode=180),e.minCode=100,e.maxCode=199,e.events=["progress"],this.reply(e)},t.prototype.accept=function(e){return(e=Object.create(e||Object.prototype)).statusCode||(e.statusCode=200),e.minCode=200,e.maxCode=299,e.events=["accepted"],this.reply(e)},t.prototype.reject=function(e){return(e=Object.create(e||Object.prototype)).statusCode||(e.statusCode=480),e.minCode=300,e.maxCode=699,e.events=["rejected","failed"],this.reply(e)},t.prototype.reply=function(t){var n=(t=t||{}).statusCode||100,r=t.minCode||100,i=t.maxCode||699,o=e.Utils.getReasonPhrase(n,t.reasonPhrase),a=t.extraHeaders||[],s=t.body,c=t.events||[],u;if(n<r||n>i)throw new TypeError("Invalid statusCode: "+n);return u=this.request.reply(n,o,a,s),c.forEach(function(e){this.emit(e,u,o)},this),this},t.prototype.onRequestTimeout=function(){this.emit("failed",null,e.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",null,e.C.causes.CONNECTION_ERROR)},e.ServerContext=t}},function(e,t,n){"use strict";e.exports=function(e,t){var r=n(1585)(e),i=n(1586)(e.Timers),o,a,s,c={STATUS_NULL:0,STATUS_INVITE_SENT:1,STATUS_1XX_RECEIVED:2,STATUS_INVITE_RECEIVED:3,STATUS_WAITING_FOR_ANSWER:4,STATUS_ANSWERED:5,STATUS_WAITING_FOR_PRACK:6,STATUS_WAITING_FOR_ACK:7,STATUS_CANCELED:8,STATUS_TERMINATED:9,STATUS_ANSWERED_WAITING_FOR_PRACK:10,STATUS_EARLY_MEDIA:11,STATUS_CONFIRMED:12};(o=function(t){this.status=c.STATUS_NULL,this.dialog=null,this.earlyDialogs={},this.mediaHandlerFactory=t||e.WebRTC.MediaHandler.defaultFactory,this.hasOffer=!1,this.hasAnswer=!1,this.timers={ackTimer:null,expiresTimer:null,invite2xxTimer:null,userNoAnswerTimer:null,rel1xxTimer:null,prackTimer:null},this.startTime=null,this.endTime=null,this.tones=null,this.local_hold=!1,this.remote_hold=!1,this.pending_actions={actions:[],length:function(){return this.actions.length},isPending:function(e){var t=0,n=this.actions.length;for(t;t<n;t++)if(this.actions[t].name===e)return!0;return!1},shift:function(){return this.actions.shift()},push:function(e){this.actions.push({name:e})},pop:function(e){var t=0,n=this.actions.length;for(t;t<n;t++)this.actions[t].name===e&&(this.actions.splice(t,1),n--,t--)}},this.early_sdp=null,this.rel100=e.C.supported.UNSUPPORTED}).prototype={dtmf:function(t,n){var i,o=[],a=this;if(n=n||{},void 0===t)throw new TypeError("Not enough arguments");if(this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_WAITING_FOR_ACK)throw new e.Exceptions.InvalidStateError(this.status);if("string"!=typeof t&&"number"!=typeof t||!t.toString().match(/^[0-9A-D#*,]+$/i))throw new TypeError("Invalid tones: "+t);for(t=t.toString().split("");t.length>0;)o.push(new r(this,t.shift(),n));if(this.tones)return this.tones=this.tones.concat(o),this;var s=function(){var t,r;if(a.status===c.STATUS_TERMINATED||!a.tones||0===a.tones.length)return a.tones=null,this;(t=a.tones.shift()).on("failed",function(){a.tones=null}),t.send(n),r=t.duration+t.interToneGap,e.Timers.setTimeout(s,r)};return this.tones=o,s(),this},bye:function(t){var n=(t=Object.create(t||Object.prototype)).statusCode;if(this.status===c.STATUS_TERMINATED)return this.logger.error("Error: Attempted to send BYE in a terminated session."),this;if(this.logger.log("terminating Session"),n&&(n<200||n>=700))throw new TypeError("Invalid statusCode: "+n);return t.receiveResponse=function(){},this.sendRequest(e.C.BYE,t).terminated()},refer:function(t,n){var r=((n=n||{}).extraHeaders||[]).slice(),i=t instanceof e.InviteServerContext||t instanceof e.InviteClientContext,o=t;if(void 0===t)throw new TypeError("Not enough arguments");if(this.status!==c.STATUS_CONFIRMED)throw new e.Exceptions.InvalidStateError(this.status);if(i)t='"'+t.remoteIdentity.friendlyName+'" <'+t.dialog.remote_target.toString()+"?Replaces="+t.dialog.id.call_id+"%3Bto-tag%3D"+t.dialog.id.remote_tag+"%3Bfrom-tag%3D"+t.dialog.id.local_tag+">";else{try{t=e.Grammar.parse(t,"Refer_To").uri||t}catch(e){this.logger.debug(".refer() cannot parse Refer_To from",t),this.logger.debug("...falling through to normalizeTarget()")}if(!(t=this.ua.normalizeTarget(t)))throw new TypeError("Invalid target: "+o)}return r.push("Contact: "+this.contact),r.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),r.push("Refer-To: "+t),this.sendRequest(e.C.REFER,{extraHeaders:r,body:n.body,receiveResponse:function(e){/^2[0-9]{2}$/.test(e.status_code)&&(i||t.scheme&&t.scheme.match("^sips?$"))&&this.terminate()}.bind(this)}),this},followRefer:function followRefer(n){return function referListener(n,r){var i=r.parseHeader("refer-to"),o=i.uri;if(o.scheme.match("^sips?$")){var a=[],s=o.getHeader("Replaces");void 0!==s&&a.push("Replaces: "+decodeURIComponent(s)),o.clearHeaders();var c=this.mediaHandler.getReferMedia,u=c?c.call(this.mediaHandler):this.mediaHint;e.Hacks.Chrome.getsConfusedAboutGUM(this);var l=this.ua.invite(o,{media:u,params:{to_displayName:i.friendlyName},extraHeaders:a});n.call(this,r,l),this.terminate()}else{var d=o.toString();"function"==typeof t.open?t.open(d):this.logger.warn("referred to non-SIP URI but `open` isn't in the environment: "+d)}}.bind(this,n)},sendRequest:function(t,n){n=n||{};var r=this,i=new e.OutgoingRequest(t,this.dialog.remote_target,this.ua,{cseq:n.cseq||(this.dialog.local_seqnum+=1),call_id:this.dialog.id.call_id,from_uri:this.dialog.local_uri,from_tag:this.dialog.id.local_tag,to_uri:this.dialog.remote_uri,to_tag:this.dialog.id.remote_tag,route_set:this.dialog.route_set,statusCode:n.statusCode,reasonPhrase:n.reasonPhrase},n.extraHeaders||[],n.body);return new e.RequestSender({request:i,onRequestTimeout:function(){r.onRequestTimeout()},onTransportError:function(){r.onTransportError()},receiveResponse:n.receiveResponse||function(e){r.receiveNonInviteResponse(e)}},this.ua).send(),this.emit(t.toLowerCase(),i),this},close:function(){var t;if(this.status===c.STATUS_TERMINATED)return this;this.logger.log("closing INVITE session "+this.id),this.mediaHandler&&this.mediaHandler.close();for(t in this.timers)e.Timers.clearTimeout(this.timers[t]);this.dialog&&(this.dialog.terminate(),delete this.dialog);for(t in this.earlyDialogs)this.earlyDialogs[t].terminate(),delete this.earlyDialogs[t];return this.status=c.STATUS_TERMINATED,delete this.ua.sessions[this.id],this},createDialog:function(t,n,r){var i,o,a=t["UAS"===n?"to_tag":"from_tag"],s=t["UAS"===n?"from_tag":"to_tag"],c=t.call_id+a+s;if(o=this.earlyDialogs[c],r)return!!o||((o=new e.Dialog(this,t,n,e.Dialog.C.STATUS_EARLY)).error?(this.logger.error(o.error),this.failed(t,e.C.causes.INTERNAL_ERROR),!1):(this.earlyDialogs[c]=o,!0));if(o){o.update(t,n),this.dialog=o,delete this.earlyDialogs[c];for(var u in this.earlyDialogs)this.earlyDialogs[u].terminate(),delete this.earlyDialogs[u];return!0}return(i=new e.Dialog(this,t,n)).error?(this.logger.error(i.error),this.failed(t,e.C.causes.INTERNAL_ERROR),!1):(this.to_tag=t.to_tag,this.dialog=i,!0)},isReadyToReinvite:function(){return this.mediaHandler.isReady()&&!this.dialog.uac_pending_reply&&!this.dialog.uas_pending_reply},mute:function(e){var t=this.mediaHandler.mute(e);t&&this.onmute(t)},unmute:function(e){var t=this.mediaHandler.unmute(e);t&&this.onunmute(t)},hold:function(){if(this.status!==c.STATUS_WAITING_FOR_ACK&&this.status!==c.STATUS_CONFIRMED)throw new e.Exceptions.InvalidStateError(this.status);this.mediaHandler.hold(),this.isReadyToReinvite()?!0!==this.local_hold&&(this.onhold("local"),this.sendReinvite()):this.pending_actions.isPending("unhold")?this.pending_actions.pop("unhold"):this.pending_actions.isPending("hold")||this.pending_actions.push("hold")},unhold:function(t){if(this.status!==c.STATUS_WAITING_FOR_ACK&&this.status!==c.STATUS_CONFIRMED)throw new e.Exceptions.InvalidStateError(this.status);this.mediaHandler.unhold(),this.isReadyToReinvite()?!1!==this.local_hold&&(this.onunhold("local"),this.sendReinvite(t)):this.pending_actions.isPending("hold")?this.pending_actions.pop("hold"):this.pending_actions.isPending("unhold")||this.pending_actions.push("unhold")},isOnHold:function(){return{local:this.local_hold,remote:this.remote_hold}},receiveReinvite:function(t){var n=this;if(!this.mediaHandler.hasDescription(t))return this.logger.warn("invalid Content-Type"),void t.reply(415);this.mediaHandler.setDescription(t).then(this.mediaHandler.getDescription.bind(this.mediaHandler,this.mediaHint)).then(function(e){var r=["Contact: "+n.contact];t.reply(200,null,r,e,function(){n.status=c.STATUS_WAITING_FOR_ACK,n.setInvite2xxTimer(t,e),n.setACKTimer(),n.remote_hold&&!n.mediaHandler.remote_hold?n.onunhold("remote"):!n.remote_hold&&n.mediaHandler.remote_hold&&n.onhold("remote")})}).catch(function onFailure(r){var i;r instanceof e.Exceptions.GetDescriptionError?i=500:(n.logger.error(r),i=488),t.reply(i)})},sendReinvite:function(t){var n=this,r=((t=t||{}).extraHeaders||[]).slice(),i=t.eventHandlers||{},o;i.succeeded&&(o=i.succeeded),this.reinviteSucceeded=function(){e.Timers.clearTimeout(n.timers.ackTimer),e.Timers.clearTimeout(n.timers.invite2xxTimer),n.status=c.STATUS_CONFIRMED,o&&o.apply(this,arguments)},this.reinviteFailed=i.failed?i.failed:function(){},r.push("Contact: "+this.contact),r.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),this.receiveResponse=this.receiveReinviteResponse,this.mediaHandler.getDescription(n.mediaHint).then(function(t){n.dialog.sendRequest(n,e.C.INVITE,{extraHeaders:r,body:t})},function(){n.isReadyToReinvite()&&n.onReadyToReinvite(),n.reinviteFailed()})},receiveRequest:function(t){switch(t.method){case e.C.BYE:t.reply(200),this.status===c.STATUS_CONFIRMED&&(this.emit("bye",t),this.terminated(t,e.C.causes.BYE));break;case e.C.INVITE:this.status===c.STATUS_CONFIRMED&&(this.logger.log("re-INVITE received"),this.receiveReinvite(t));break;case e.C.INFO:if(this.status===c.STATUS_1XX_RECEIVED||this.status===c.STATUS_WAITING_FOR_PRACK||this.status===c.STATUS_WAITING_FOR_ACK||this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK||this.status===c.STATUS_EARLY_MEDIA||this.status===c.STATUS_CONFIRMED||this.dialog){if(this.onInfo)return this.onInfo(t);var n,i,o,a=t.getHeader("content-type"),s=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,u=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;a&&(a.match(/^application\/dtmf-relay/i)?(t.body&&2===(n=t.body.split("\r\n",2)).length&&(s.test(n[0])&&(i=n[0].replace(s,"$2")),u.test(n[1])&&(o=parseInt(n[1].replace(u,"$2"),10))),new r(this,i,{duration:o}).init_incoming(t)):t.reply(415,null,["Accept: application/dtmf-relay"]))}break;case e.C.REFER:if(this.status===c.STATUS_CONFIRMED){this.logger.log("REFER received");var l;this.listeners("refer").length?(t.reply(202,"Accepted"),l="SIP/2.0 100 Trying",this.sendRequest(e.C.NOTIFY,{extraHeaders:["Event: refer","Subscription-State: terminated","Content-Type: message/sipfrag"],body:l,receiveResponse:function(){}}),this.emit("refer",t)):t.reply(603,"Declined")}break;case e.C.NOTIFY:t.reply(200,"OK"),this.emit("notify",t)}},receiveReinviteResponse:function(t){var n=this;if(this.status!==c.STATUS_TERMINATED)switch(!0){case/^1[0-9]{2}$/.test(t.status_code):break;case/^2[0-9]{2}$/.test(t.status_code):if(this.status=c.STATUS_CONFIRMED,this.sendRequest(e.C.ACK,{cseq:t.cseq}),!this.mediaHandler.hasDescription(t)){this.reinviteFailed();break}this.mediaHandler.setDescription(t).then(function onSuccess(){n.reinviteSucceeded()},function onFailure(){n.reinviteFailed()});break;default:this.reinviteFailed()}},acceptAndTerminate:function(t,n,r){var i=[];return n&&i.push("Reason: "+e.Utils.getReasonHeaderValue(n,r)),(this.dialog||this.createDialog(t,"UAC"))&&(this.sendRequest(e.C.ACK,{cseq:t.cseq}),this.sendRequest(e.C.BYE,{extraHeaders:i})),this},setInvite2xxTimer:function(t,n){var r=this,i=e.Timers.T1;this.timers.invite2xxTimer=e.Timers.setTimeout(function invite2xxRetransmission(){if(r.status===c.STATUS_WAITING_FOR_ACK){r.logger.log("no ACK received, attempting to retransmit OK");var o=["Contact: "+r.contact];t.reply(200,null,o,n),i=Math.min(2*i,e.Timers.T2),r.timers.invite2xxTimer=e.Timers.setTimeout(invite2xxRetransmission,i)}},i)},setACKTimer:function(){var t=this;this.timers.ackTimer=e.Timers.setTimeout(function(){t.status===c.STATUS_WAITING_FOR_ACK&&(t.logger.log("no ACK received for an extended period of time, terminating the call"),e.Timers.clearTimeout(t.timers.invite2xxTimer),t.sendRequest(e.C.BYE),t.terminated(null,e.C.causes.NO_ACK))},e.Timers.TIMER_H)},onReadyToReinvite:function(){var e=this.pending_actions.shift();e&&this[e.name]&&this[e.name]()},onTransportError:function(){this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_TERMINATED&&this.failed(null,e.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===c.STATUS_CONFIRMED?this.terminated(null,e.C.causes.REQUEST_TIMEOUT):this.status!==c.STATUS_TERMINATED&&(this.failed(null,e.C.causes.REQUEST_TIMEOUT),this.terminated(null,e.C.causes.REQUEST_TIMEOUT))},onDialogError:function(t){this.status===c.STATUS_CONFIRMED?this.terminated(t,e.C.causes.DIALOG_ERROR):this.status!==c.STATUS_TERMINATED&&(this.failed(t,e.C.causes.DIALOG_ERROR),this.terminated(t,e.C.causes.DIALOG_ERROR))},onhold:function(e){this["local"===e?"local_hold":"remote_hold"]=!0,this.emit("hold",{originator:e})},onunhold:function(e){this["local"===e?"local_hold":"remote_hold"]=!1,this.emit("unhold",{originator:e})},onmute:function(e){this.emit("muted",{audio:e.audio,video:e.video})},onunmute:function(e){this.emit("unmuted",{audio:e.audio,video:e.video})},failed:function(e,t){return this.status===c.STATUS_TERMINATED?this:(this.emit("failed",e||null,t||null),this)},rejected:function(e,t){return this.emit("rejected",e||null,t||null),this},canceled:function(){return this.emit("cancel"),this},accepted:function(t,n){return n=e.Utils.getReasonPhrase(t&&t.status_code,n),this.startTime=new Date,this.replacee&&(this.replacee.emit("replaced",this),this.replacee.terminate()),t&&i.updateState(this.dialog,t,e.Parser.parseMessage,this.ua),this.emit("accepted",t,n),this},terminated:function(e,t){return this.status===c.STATUS_TERMINATED?this:(this.endTime=new Date,this.close(),this.emit("terminated",e||null,t||null),this)},connecting:function(e){return this.emit("connecting",{request:e}),this}},o.desugar=function desugar(e){return t.HTMLMediaElement&&e instanceof t.HTMLMediaElement&&(e={media:{constraints:{audio:!0,video:"VIDEO"===e.tagName},render:{remote:e}}}),e||{}},o.C=c,e.Session=o,(a=function(t,n){function set100rel(e,t){n.hasHeader(e)&&n.getHeader(e).toLowerCase().indexOf("100rel")>=0&&(o.rel100=t)}function fireNewSession(){var t={extraHeaders:["Contact: "+o.contact]};o.rel100!==e.C.supported.REQUIRED&&o.progress(t),o.status=c.STATUS_WAITING_FOR_ANSWER,o.timers.userNoAnswerTimer=e.Timers.setTimeout(function(){n.reply(408),o.failed(n,e.C.causes.NO_ANSWER),o.terminated(n,e.C.causes.NO_ANSWER)},o.ua.configuration.noAnswerTimeout),r&&(o.timers.expiresTimer=e.Timers.setTimeout(function(){o.status===c.STATUS_WAITING_FOR_ANSWER&&(n.reply(487),o.failed(n,e.C.causes.EXPIRES),o.terminated(n,e.C.causes.EXPIRES))},r)),o.emit("invite",n)}var r,o=this,a=n.getHeader("Content-Type"),s=n.parseHeader("Content-Disposition");if(e.Utils.augment(this,e.ServerContext,[t,n]),e.Utils.augment(this,e.Session,[t.configuration.mediaHandlerFactory]),this.mediaHandler=this.mediaHandlerFactory(this,{RTCConstraints:{optional:[{DtlsSrtpKeyAgreement:"true"}]}}),!s&&!this.mediaHandler.hasDescription(n)||s&&"render"===s.type)this.renderbody=n.body,this.rendertype=a;else if(!this.mediaHandler.hasDescription(n)&&s&&"session"===s.type)return void n.reply(415);i.hasSmallMinSE(n)?n.reply(422,null,["Min-SE: "+i.localMinSE]):(this.status=c.STATUS_INVITE_RECEIVED,this.from_tag=n.from_tag,this.id=n.call_id+this.from_tag,this.request=n,this.contact=this.ua.contact.toString(),this.receiveNonInviteResponse=function(){},this.logger=t.getLogger("sip.inviteservercontext",this.id),this.ua.sessions[this.id]=this,n.hasHeader("expires")&&(r=1e3*n.getHeader("expires")),set100rel("require",e.C.supported.REQUIRED),set100rel("supported",e.C.supported.SUPPORTED),n.to_tag=e.Utils.newTag(),this.createDialog(n,"UAS",!0)?(this.mediaHandler&&this.mediaHandler.getRemoteStreams&&(this.getRemoteStreams=this.mediaHandler.getRemoteStreams.bind(this.mediaHandler),this.getLocalStreams=this.mediaHandler.getLocalStreams.bind(this.mediaHandler)),!this.mediaHandler.hasDescription(n)||this.renderbody?e.Timers.setTimeout(fireNewSession,0):(this.hasOffer=!0,this.mediaHandler.setDescription(n).then(fireNewSession,function onFailure(e){o.logger.warn("invalid description"),o.logger.warn(e),n.reply(488)}))):n.reply(500,"Missing Contact header field"))}).prototype={reject:function(t){if(this.status===c.STATUS_TERMINATED)throw new e.Exceptions.InvalidStateError(this.status);return this.logger.log("rejecting RTCSession"),e.ServerContext.prototype.reject.call(this,t),this.terminated()},terminate:function(t){var n=((t=t||{}).extraHeaders||[]).slice(),r=t.body,i,o=this;return this.status===c.STATUS_WAITING_FOR_ACK&&this.request.server_transaction.state!==e.Transactions.C.STATUS_TERMINATED?(i=this.dialog,this.receiveRequest=function(t){t.method===e.C.ACK&&(this.sendRequest(e.C.BYE,{extraHeaders:n,body:r}),i.terminate())},this.request.server_transaction.on("stateChanged",function(){this.state===e.Transactions.C.STATUS_TERMINATED&&this.dialog&&(this.request=new e.OutgoingRequest(e.C.BYE,this.dialog.remote_target,this.ua,{cseq:this.dialog.local_seqnum+=1,call_id:this.dialog.id.call_id,from_uri:this.dialog.local_uri,from_tag:this.dialog.id.local_tag,to_uri:this.dialog.remote_uri,to_tag:this.dialog.id.remote_tag,route_set:this.dialog.route_set},n,r),new e.RequestSender({request:this.request,onRequestTimeout:function(){o.onRequestTimeout()},onTransportError:function(){o.onTransportError()},receiveResponse:function(){}},this.ua).send(),i.terminate())}),this.emit("bye",this.request),this.terminated(),this.dialog=i,this.ua.dialogs[i.id.toString()]=i):this.status===c.STATUS_CONFIRMED?this.bye(t):this.reject(t),this},progress:function(t){function do100rel(){n=t.statusCode||183,this.status=c.STATUS_WAITING_FOR_PRACK,i.push("Contact: "+this.contact),i.push("Require: 100rel"),i.push("RSeq: "+Math.floor(1e4*Math.random())),this.mediaHint=t.media,this.mediaHandler.getDescription(t.media).then(function onSuccess(t){if(!this.isCanceled&&this.status!==c.STATUS_TERMINATED){this.early_sdp=t.body,this[this.hasOffer?"hasAnswer":"hasOffer"]=!0;var o=e.Timers.T1;this.timers.rel1xxTimer=e.Timers.setTimeout(function rel1xxRetransmission(){this.request.reply(n,null,i,t),o*=2,this.timers.rel1xxTimer=e.Timers.setTimeout(rel1xxRetransmission.bind(this),o)}.bind(this),o),this.timers.prackTimer=e.Timers.setTimeout(function(){this.status===c.STATUS_WAITING_FOR_PRACK&&(this.logger.log("no PRACK received, rejecting the call"),e.Timers.clearTimeout(this.timers.rel1xxTimer),this.request.reply(504),this.terminated(null,e.C.causes.NO_PRACK))}.bind(this),64*e.Timers.T1),l=this.request.reply(n,r,i,t),this.emit("progress",l,r)}}.bind(this),function onFailure(){this.request.reply(480),this.failed(null,e.C.causes.WEBRTC_ERROR),this.terminated(null,e.C.causes.WEBRTC_ERROR)}.bind(this))}function normalReply(){l=this.request.reply(n,r,i,u),this.emit("progress",l,r)}var n=(t=t||{}).statusCode||180,r=t.reasonPhrase,i=(t.extraHeaders||[]).slice(),o,a=t.stunServers||null,s=t.turnServers||null,u=t.body,l;if(n<100||n>199)throw new TypeError("Invalid statusCode: "+n);if(this.isCanceled||this.status===c.STATUS_TERMINATED)return this;if(a||s){if(a){if(!(o=e.UA.configuration_check.optional.stunServers(a)))throw new TypeError("Invalid stunServers: "+a);this.stunServers=o}if(s){if(!(o=e.UA.configuration_check.optional.turnServers(s)))throw new TypeError("Invalid turnServers: "+s);this.turnServers=o}this.mediaHandler.updateIceServers({stunServers:this.stunServers,turnServers:this.turnServers})}return 100!==t.statusCode&&(this.rel100===e.C.supported.REQUIRED||this.rel100===e.C.supported.SUPPORTED&&t.rel100||this.rel100===e.C.supported.SUPPORTED&&this.ua.configuration.rel100===e.C.supported.REQUIRED)?do100rel.apply(this):normalReply.apply(this),this},accept:function(t){t=Object.create(o.desugar(t)),e.Utils.optionsOverride(t,"media","mediaConstraints",!0,this.logger,this.ua.configuration.media),this.mediaHint=t.media,this.onInfo=t.onInfo;var n=this,r=this.request,i=(t.extraHeaders||[]).slice(),a,s=t.stunServers||null,u=t.turnServers||null,l=function(t){var o,a=function(){n.status=c.STATUS_WAITING_FOR_ACK,n.setInvite2xxTimer(r,t),n.setACKTimer()},s=function(){n.failed(null,e.C.causes.CONNECTION_ERROR),n.terminated(null,e.C.causes.CONNECTION_ERROR)};n.mediaHandler.render(),i.push("Contact: "+n.contact),i.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString());var u=r.parseHeader("Supported")||[],l=r.parseHeader("Session-Expires")||{},d=l.deltaSeconds;if(d){var p=l.refresher||"uas";i.push("Session-Expires: "+d+";"+p),("uac"===p||u.indexOf("timer")>=0)&&i.push("Require: timer")}n.hasOffer?n.hasAnswer=!0:n.hasOffer=!0,o=r.reply(200,null,i,t,a,s),n.status!==c.STATUS_TERMINATED&&n.accepted(o,e.Utils.getReasonPhrase(200))},d=function(){n.status!==c.STATUS_TERMINATED&&(n.request.reply(480),n.failed(null,e.C.causes.WEBRTC_ERROR),n.terminated(null,e.C.causes.WEBRTC_ERROR))};if(this.status===c.STATUS_WAITING_FOR_PRACK)return this.status=c.STATUS_ANSWERED_WAITING_FOR_PRACK,this;if(this.status===c.STATUS_WAITING_FOR_ANSWER)this.status=c.STATUS_ANSWERED;else if(this.status!==c.STATUS_EARLY_MEDIA)throw new e.Exceptions.InvalidStateError(this.status);if((s||u)&&this.status!==c.STATUS_EARLY_MEDIA&&this.status!==c.STATUS_ANSWERED_WAITING_FOR_PRACK){if(s){if(!(a=e.UA.configuration_check.optional.stunServers(s)))throw new TypeError("Invalid stunServers: "+s);this.stunServers=a}if(u){if(!(a=e.UA.configuration_check.optional.turnServers(u)))throw new TypeError("Invalid turnServers: "+u);this.turnServers=a}this.mediaHandler.updateIceServers({stunServers:this.stunServers,turnServers:this.turnServers})}return this.createDialog(r,"UAS")?(e.Timers.clearTimeout(this.timers.userNoAnswerTimer),this.status===c.STATUS_EARLY_MEDIA?l({}):this.mediaHandler.getDescription(n.mediaHint).then(l,d),this):(r.reply(500,"Missing Contact header field"),this)},receiveRequest:function(t){function confirmSession(){var n;e.Timers.clearTimeout(this.timers.ackTimer),e.Timers.clearTimeout(this.timers.invite2xxTimer),this.status=c.STATUS_CONFIRMED,this.unmute(),n=t.getHeader("Content-Type"),this.mediaHandler.hasDescription(t)||(this.renderbody=t.body,this.rendertype=n),this.emit("confirmed",t)}switch(t.method){case e.C.CANCEL:this.status!==c.STATUS_WAITING_FOR_ANSWER&&this.status!==c.STATUS_WAITING_FOR_PRACK&&this.status!==c.STATUS_ANSWERED_WAITING_FOR_PRACK&&this.status!==c.STATUS_EARLY_MEDIA&&this.status!==c.STATUS_ANSWERED||(this.status=c.STATUS_CANCELED,this.request.reply(487),this.canceled(t),this.rejected(t,e.C.causes.CANCELED),this.failed(t,e.C.causes.CANCELED),this.terminated(t,e.C.causes.CANCELED));break;case e.C.ACK:this.status===c.STATUS_WAITING_FOR_ACK&&(this.hasAnswer?confirmSession.apply(this):this.mediaHandler.hasDescription(t)?(this.hasAnswer=!0,this.mediaHandler.setDescription(t).then(confirmSession.bind(this),function onFailure(n){this.logger.warn(n),this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t,e.C.causes.BAD_MEDIA_DESCRIPTION)}.bind(this))):this.early_sdp?confirmSession.apply(this):(this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t,e.C.causes.BAD_MEDIA_DESCRIPTION)));break;case e.C.PRACK:this.status===c.STATUS_WAITING_FOR_PRACK||this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK?this.hasAnswer?(e.Timers.clearTimeout(this.timers.rel1xxTimer),e.Timers.clearTimeout(this.timers.prackTimer),t.reply(200),this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=c.STATUS_EARLY_MEDIA,this.accept()),this.status=c.STATUS_EARLY_MEDIA,this.mute()):this.mediaHandler.hasDescription(t)?(this.hasAnswer=!0,this.mediaHandler.setDescription(t).then(function onSuccess(){e.Timers.clearTimeout(this.timers.rel1xxTimer),e.Timers.clearTimeout(this.timers.prackTimer),t.reply(200),this.status===c.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=c.STATUS_EARLY_MEDIA,this.accept()),this.status=c.STATUS_EARLY_MEDIA,this.mute()}.bind(this),function onFailure(n){this.logger.warn(n),this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t,e.C.causes.BAD_MEDIA_DESCRIPTION)}.bind(this))):(this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t,e.C.causes.BAD_MEDIA_DESCRIPTION)):this.status===c.STATUS_EARLY_MEDIA&&t.reply(200);break;default:o.prototype.receiveRequest.apply(this,[t])}},onTransportError:function(){this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_TERMINATED&&this.failed(null,e.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===c.STATUS_CONFIRMED?this.terminated(null,e.C.causes.REQUEST_TIMEOUT):this.status!==c.STATUS_TERMINATED&&(this.failed(null,e.C.causes.REQUEST_TIMEOUT),this.terminated(null,e.C.causes.REQUEST_TIMEOUT))}},e.InviteServerContext=a,(s=function(t,n,r){(r=Object.create(o.desugar(r))).params=Object.create(r.params||Object.prototype);var i,a=(r.extraHeaders||[]).slice(),s=r.stunServers||null,u=r.turnServers||null,l=r.mediaHandlerFactory||t.configuration.mediaHandlerFactory,d=l.isSupported;if(d&&!d())throw new e.Exceptions.NotSupportedError("Media not supported");if(this.RTCConstraints=r.RTCConstraints||{},this.inviteWithoutSdp=r.inviteWithoutSdp||!1,this.anonymous=r.anonymous||!1,this.renderbody=r.renderbody||null,this.rendertype=r.rendertype||"text/plain",r.params.from_tag=this.from_tag,this.contact=t.contact.toString({anonymous:this.anonymous,outbound:this.anonymous?!t.contact.temp_gruu:!t.contact.pub_gruu}),this.anonymous&&(r.params.from_displayName="Anonymous",r.params.from_uri="sip:anonymous@anonymous.invalid",a.push("P-Preferred-Identity: "+t.configuration.uri.toString()),a.push("Privacy: id")),a.push("Contact: "+this.contact),a.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),this.inviteWithoutSdp&&this.renderbody&&(a.push("Content-Type: "+this.rendertype),a.push("Content-Disposition: render;handling=optional")),t.configuration.rel100===e.C.supported.REQUIRED&&a.push("Require: 100rel"),t.configuration.replaces===e.C.supported.REQUIRED&&a.push("Require: replaces"),r.extraHeaders=a,e.Utils.augment(this,e.ClientContext,[t,e.C.INVITE,n,r]),e.Utils.augment(this,e.Session,[l]),this.status!==c.STATUS_NULL)throw new e.Exceptions.InvalidStateError(this.status);if(this.from_tag=e.Utils.newTag(),this.isCanceled=!1,this.received_100=!1,this.method=e.C.INVITE,this.receiveNonInviteResponse=this.receiveResponse,this.receiveResponse=this.receiveInviteResponse,this.logger=t.getLogger("sip.inviteclientcontext"),s){if(!(i=e.UA.configuration_check.optional.stunServers(s)))throw new TypeError("Invalid stunServers: "+s);this.stunServers=i}if(u){if(!(i=e.UA.configuration_check.optional.turnServers(u)))throw new TypeError("Invalid turnServers: "+u);this.turnServers=i}t.applicants[this]=this,this.id=this.request.call_id+this.from_tag,this.mediaHandler=this.mediaHandlerFactory(this,{RTCConstraints:this.RTCConstraints,stunServers:this.stunServers,turnServers:this.turnServers}),this.mediaHandler&&this.mediaHandler.getRemoteStreams&&(this.getRemoteStreams=this.mediaHandler.getRemoteStreams.bind(this.mediaHandler),this.getLocalStreams=this.mediaHandler.getLocalStreams.bind(this.mediaHandler)),e.Utils.optionsOverride(r,"media","mediaConstraints",!0,this.logger,this.ua.configuration.media),this.mediaHint=r.media,this.onInfo=r.onInfo}).prototype={invite:function(){var t=this;return this.ua.sessions[this.id]=this,this.inviteWithoutSdp?(this.request.body=t.renderbody,this.status=c.STATUS_INVITE_SENT,this.send()):this.mediaHandler.getDescription(t.mediaHint).then(function onSuccess(e){t.isCanceled||t.status===c.STATUS_TERMINATED||(t.hasOffer=!0,t.request.body=e,t.status=c.STATUS_INVITE_SENT,t.send())},function onFailure(){t.status!==c.STATUS_TERMINATED&&(t.failed(null,e.C.causes.WEBRTC_ERROR),t.terminated(null,e.C.causes.WEBRTC_ERROR))}),this},receiveInviteResponse:function(t){var n,r=this,i=t.call_id+t.from_tag+t.to_tag,o=[],a={};if(this.status!==c.STATUS_TERMINATED&&t.method===e.C.INVITE){if(this.dialog&&t.status_code>=200&&t.status_code<=299){if(i!==this.dialog.id.toString()){if(!this.createDialog(t,"UAC",!0))return;return this.earlyDialogs[i].sendRequest(this,e.C.ACK,{body:e.Utils.generateFakeSDP(t.body)}),this.earlyDialogs[i].sendRequest(this,e.C.BYE),void(this.status!==c.STATUS_CONFIRMED&&(this.failed(t,e.C.causes.WEBRTC_ERROR),this.terminated(t,e.C.causes.WEBRTC_ERROR)))}if(this.status===c.STATUS_CONFIRMED)return void this.sendRequest(e.C.ACK,{cseq:t.cseq});if(!this.hasAnswer)return}if(this.dialog&&t.status_code<200){if(-1!==this.dialog.pracked.indexOf(t.getHeader("rseq"))||this.dialog.pracked[this.dialog.pracked.length-1]>=t.getHeader("rseq")&&this.dialog.pracked.length>0)return;if(!this.earlyDialogs[i]&&!this.createDialog(t,"UAC",!0))return;if(-1!==this.earlyDialogs[i].pracked.indexOf(t.getHeader("rseq"))||this.earlyDialogs[i].pracked[this.earlyDialogs[i].pracked.length-1]>=t.getHeader("rseq")&&this.earlyDialogs[i].pracked.length>0)return;return o.push("RAck: "+t.getHeader("rseq")+" "+t.getHeader("cseq")),this.earlyDialogs[i].pracked.push(t.getHeader("rseq")),void this.earlyDialogs[i].sendRequest(this,e.C.PRACK,{extraHeaders:o,body:e.Utils.generateFakeSDP(t.body)})}if(this.isCanceled)t.status_code>=100&&t.status_code<200?(this.request.cancel(this.cancelReason,o),this.canceled(null)):t.status_code>=200&&t.status_code<299?(this.acceptAndTerminate(t),this.emit("bye",this.request)):t.status_code>=300&&(n=e.C.REASON_PHRASE[t.status_code]||e.C.causes.CANCELED,this.rejected(t,n),this.failed(t,n),this.terminated(t,n));else switch(!0){case/^100$/.test(t.status_code):this.received_100=!0,this.emit("progress",t);break;case/^1[0-9]{2}$/.test(t.status_code):if(!t.to_tag){this.logger.warn("1xx response received without to tag");break}if(t.hasHeader("contact")&&!this.createDialog(t,"UAC",!0))break;if(this.status=c.STATUS_1XX_RECEIVED,t.hasHeader("require")&&-1!==t.getHeader("require").indexOf("100rel")){if(this.dialog||!this.earlyDialogs[i])break;if(-1!==this.earlyDialogs[i].pracked.indexOf(t.getHeader("rseq"))||this.earlyDialogs[i].pracked[this.earlyDialogs[i].pracked.length-1]>=t.getHeader("rseq")&&this.earlyDialogs[i].pracked.length>0)return;if(this.mediaHandler.hasDescription(t))if(this.hasOffer){if(!this.createDialog(t,"UAC"))break;this.hasAnswer=!0,this.dialog.pracked.push(t.getHeader("rseq")),this.mediaHandler.setDescription(t).then(function onSuccess(){o.push("RAck: "+t.getHeader("rseq")+" "+t.getHeader("cseq")),r.sendRequest(e.C.PRACK,{extraHeaders:o,receiveResponse:function(){}}),r.status=c.STATUS_EARLY_MEDIA,r.mute(),r.emit("progress",t)},function onFailure(n){r.logger.warn(n),r.acceptAndTerminate(t,488,"Not Acceptable Here"),r.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION)})}else{var s=this.earlyDialogs[i],u=s.mediaHandler;s.pracked.push(t.getHeader("rseq")),u.setDescription(t).then(u.getDescription.bind(u,r.mediaHint)).then(function onSuccess(n){o.push("RAck: "+t.getHeader("rseq")+" "+t.getHeader("cseq")),s.sendRequest(r,e.C.PRACK,{extraHeaders:o,body:n}),r.status=c.STATUS_EARLY_MEDIA,r.emit("progress",t)}).catch(function onFailure(n){if(n instanceof e.Exceptions.GetDescriptionError){if(s.pracked.push(t.getHeader("rseq")),r.status===c.STATUS_TERMINATED)return;r.failed(null,e.C.causes.WEBRTC_ERROR),r.terminated(null,e.C.causes.WEBRTC_ERROR)}else s.pracked.splice(s.pracked.indexOf(t.getHeader("rseq")),1),r.logger.warn("invalid description"),r.logger.warn(n)})}else o.push("RAck: "+t.getHeader("rseq")+" "+t.getHeader("cseq")),this.earlyDialogs[i].pracked.push(t.getHeader("rseq")),this.earlyDialogs[i].sendRequest(this,e.C.PRACK,{extraHeaders:o}),this.emit("progress",t)}else this.emit("progress",t);break;case/^2[0-9]{2}$/.test(t.status_code):if(this.request.cseq+" "+this.request.method!==t.getHeader("cseq"))break;if(this.status===c.STATUS_EARLY_MEDIA&&this.dialog){this.status=c.STATUS_CONFIRMED,this.unmute(),a={},this.renderbody&&(o.push("Content-Type: "+this.rendertype),a.extraHeaders=o,a.body=this.renderbody),a.cseq=t.cseq,this.sendRequest(e.C.ACK,a),this.accepted(t);break}if(this.dialog)break;if(this.hasOffer)if(this.hasAnswer)this.renderbody&&(o.push("Content-Type: "+r.rendertype),a.extraHeaders=o,a.body=this.renderbody),this.sendRequest(e.C.ACK,a);else{if(!this.mediaHandler.hasDescription(t)){this.acceptAndTerminate(t,400,"Missing session description"),this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION);break}if(!this.createDialog(t,"UAC"))break;this.hasAnswer=!0,this.mediaHandler.setDescription(t).then(function onSuccess(){var n={};r.status=c.STATUS_CONFIRMED,r.unmute(),r.renderbody&&(o.push("Content-Type: "+r.rendertype),n.extraHeaders=o,n.body=r.renderbody),n.cseq=t.cseq,r.sendRequest(e.C.ACK,n),r.accepted(t)},function onFailure(n){r.logger.warn(n),r.acceptAndTerminate(t,488,"Not Acceptable Here"),r.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION)})}else if(this.earlyDialogs[i]&&this.earlyDialogs[i].mediaHandler.localMedia){if(this.hasOffer=!0,this.hasAnswer=!0,this.mediaHandler=this.earlyDialogs[i].mediaHandler,!this.createDialog(t,"UAC"))break;this.status=c.STATUS_CONFIRMED,this.sendRequest(e.C.ACK,{cseq:t.cseq}),this.unmute(),this.accepted(t)}else{if(!this.mediaHandler.hasDescription(t)){this.acceptAndTerminate(t,400,"Missing session description"),this.failed(t,e.C.causes.BAD_MEDIA_DESCRIPTION);break}if(!this.createDialog(t,"UAC"))break;this.hasOffer=!0,this.mediaHandler.setDescription(t).then(this.mediaHandler.getDescription.bind(this.mediaHandler,this.mediaHint)).then(function onSuccess(n){r.isCanceled||r.status===c.STATUS_TERMINATED||(r.status=c.STATUS_CONFIRMED,r.hasAnswer=!0,r.unmute(),r.sendRequest(e.C.ACK,{body:n,cseq:t.cseq}),r.accepted(t))}).catch(function onFailure(n){n instanceof e.Exceptions.GetDescriptionError?r.logger.warn("there was a problem"):(r.logger.warn("invalid description"),r.logger.warn(n),t.reply(488))})}break;default:n=e.Utils.sipErrorCause(t.status_code),this.rejected(t,n),this.failed(t,n),this.terminated(t,n)}}},cancel:function(t){if(t=t||{},t.extraHeaders=(t.extraHeaders||[]).slice(),this.status===c.STATUS_TERMINATED||this.status===c.STATUS_CONFIRMED)throw new e.Exceptions.InvalidStateError(this.status);this.logger.log("canceling RTCSession");var n=e.Utils.getCancelReason(t.status_code,t.reason_phrase);return this.status===c.STATUS_NULL||this.status===c.STATUS_INVITE_SENT&&!this.received_100?(this.isCanceled=!0,this.cancelReason=n):this.status!==c.STATUS_INVITE_SENT&&this.status!==c.STATUS_1XX_RECEIVED&&this.status!==c.STATUS_EARLY_MEDIA||this.request.cancel(n,t.extraHeaders),this.canceled()},terminate:function(e){return this.status===c.STATUS_TERMINATED?this:(this.status===c.STATUS_WAITING_FOR_ACK||this.status===c.STATUS_CONFIRMED?this.bye(e):this.cancel(e),this)},receiveRequest:function(t){return t.method,e.C.CANCEL,t.method===e.C.ACK&&this.status===c.STATUS_WAITING_FOR_ACK&&(e.Timers.clearTimeout(this.timers.ackTimer),e.Timers.clearTimeout(this.timers.invite2xxTimer),this.status=c.STATUS_CONFIRMED,this.unmute(),this.accepted()),o.prototype.receiveRequest.apply(this,[t])},onTransportError:function(){this.status!==c.STATUS_CONFIRMED&&this.status!==c.STATUS_TERMINATED&&this.failed(null,e.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===c.STATUS_CONFIRMED?this.terminated(null,e.C.causes.REQUEST_TIMEOUT):this.status!==c.STATUS_TERMINATED&&(this.failed(null,e.C.causes.REQUEST_TIMEOUT),this.terminated(null,e.C.causes.REQUEST_TIMEOUT))}},e.InviteClientContext=s}},function(e,t,n){"use strict";e.exports=function(e){var t,n={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500};return t=function(n,r,i){var o,a;if(void 0===r)throw new TypeError("Not enough arguments");if(this.logger=n.ua.getLogger("sip.invitecontext.dtmf",n.id),this.owner=n,this.direction=null,i=i||{},o=i.duration||null,a=i.interToneGap||null,"string"==typeof r)r=r.toUpperCase();else{if("number"!=typeof r)throw new TypeError("Invalid tone: "+r);r=r.toString()}if(!r.match(/^[0-9A-D#*]$/))throw new TypeError("Invalid tone: "+r);if(this.tone=r,o&&!e.Utils.isDecimal(o))throw new TypeError("Invalid tone duration: "+o);if(o?o<t.C.MIN_DURATION?(this.logger.warn('"duration" value is lower than the minimum allowed, setting it to '+t.C.MIN_DURATION+" milliseconds"),o=t.C.MIN_DURATION):o>t.C.MAX_DURATION?(this.logger.warn('"duration" value is greater than the maximum allowed, setting it to '+t.C.MAX_DURATION+" milliseconds"),o=t.C.MAX_DURATION):o=Math.abs(o):o=t.C.DEFAULT_DURATION,this.duration=o,a&&!e.Utils.isDecimal(a))throw new TypeError("Invalid interToneGap: "+a);a?a<t.C.MIN_INTER_TONE_GAP?(this.logger.warn('"interToneGap" value is lower than the minimum allowed, setting it to '+t.C.MIN_INTER_TONE_GAP+" milliseconds"),a=t.C.MIN_INTER_TONE_GAP):a=Math.abs(a):a=t.C.DEFAULT_INTER_TONE_GAP,this.interToneGap=a},t.prototype=Object.create(e.EventEmitter.prototype),t.prototype.send=function(t){var n,r={};if(this.direction="outgoing",this.owner.status!==e.Session.C.STATUS_CONFIRMED&&this.owner.status!==e.Session.C.STATUS_WAITING_FOR_ACK)throw new e.Exceptions.InvalidStateError(this.owner.status);n=(t=t||{}).extraHeaders?t.extraHeaders.slice():[],r.contentType="application/dtmf-relay",r.body="Signal= "+this.tone+"\r\n",r.body+="Duration= "+this.duration,this.request=this.owner.dialog.sendRequest(this,e.C.INFO,{extraHeaders:n,body:r}),this.owner.emit("dtmf",this.request,this)},t.prototype.receiveResponse=function(t){var n;switch(!0){case/^1[0-9]{2}$/.test(t.status_code):break;case/^2[0-9]{2}$/.test(t.status_code):this.emit("succeeded",{originator:"remote",response:t});break;default:n=e.Utils.sipErrorCause(t.status_code),this.emit("failed",t,n)}},t.prototype.onRequestTimeout=function(){this.emit("failed",null,e.C.causes.REQUEST_TIMEOUT),this.owner.onRequestTimeout()},t.prototype.onTransportError=function(){this.emit("failed",null,e.C.causes.CONNECTION_ERROR),this.owner.onTransportError()},t.prototype.onDialogError=function(t){this.emit("failed",t,e.C.causes.DIALOG_ERROR),this.owner.onDialogError(t)},t.prototype.init_incoming=function(e){this.direction="incoming",this.request=e,e.reply(200),this.tone&&this.duration?this.owner.emit("dtmf",e,this):this.logger.warn("invalid INFO DTMF received, discarded")},t.C=n,t}},function(e,t){var n=90;e.exports=function(e){function hasSmallMinSE(e){var t=e.parseHeader("Supported")||[],r=e.parseHeader("Session-Expires")||{};return t.indexOf("timer")>=0&&r.deltaSeconds<n}function updateState(t,n,r,i){t.sessionTimerState=t.sessionTimerState||{},e.clearTimeout(t.sessionTimerState.timeout);var o="string"==typeof n;o&&(n=r(n,i));var a=n.parseHeader("Session-Expires");if(a){var s=a.deltaSeconds,c=o===("uas"===a.refresher);t.sessionTimerState={interval:s,isRefresher:c};var u=1e3*s,l=this;if(c)t.sessionTimerState.timeout=e.setInterval(function sendRefresh(){t.owner.ua.dialogs[t.id.toString()]||!1?t.sendRequest(l,"UPDATE",{extraHeaders:["Session-Expires: "+s]}):e.clearInterval(t.sessionTimerState.timeout)},u/2);else{var d=Math.min(32e3,u/3);t.sessionTimerState.timeout=e.setTimeout(function sendBye(){},u-d)}}else t.sessionTimerState=null}function receiveResponse(e){}function onDialogError(e){}function onRequestTimeout(){}function onTransportError(){}return{localMinSE:n,hasSmallMinSE:hasSmallMinSE,updateState:updateState,receiveResponse:receiveResponse,onDialogError:onDialogError,onRequestTimeout:onRequestTimeout,onTransportError:onTransportError}}},function(e,t,n){"use strict";e.exports=function(e){e.Subscription=function(t,n,r,i){if(i=Object.create(i||Object.prototype),this.extraHeaders=i.extraHeaders=(i.extraHeaders||[]).slice(),this.id=null,this.state="init",!r)throw new TypeError("Event necessary to create a subscription.");this.event=r,"number"!=typeof i.expires?(t.logger.warn("expires must be a number. Using default of 3600."),this.expires=3600):this.expires=i.expires,i.extraHeaders.push("Event: "+this.event),i.extraHeaders.push("Expires: "+this.expires),i.body&&(this.body=i.body),this.contact=t.contact.toString(),i.extraHeaders.push("Contact: "+this.contact),i.extraHeaders.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),e.Utils.augment(this,e.ClientContext,[t,e.C.SUBSCRIBE,n,i]),this.logger=t.getLogger("sip.subscription"),this.dialog=null,this.timers={N:null,sub_duration:null},this.errorCodes=[404,405,410,416,480,481,482,483,484,485,489,501,604]},e.Subscription.prototype={subscribe:function(){var t=this;return"active"===this.state?(this.refresh(),this):"notify_wait"===this.state?this:(e.Timers.clearTimeout(this.timers.sub_duration),e.Timers.clearTimeout(this.timers.N),this.timers.N=e.Timers.setTimeout(t.timer_fire.bind(t),e.Timers.TIMER_N),this.send(),this.state="notify_wait",this)},refresh:function(){"terminated"!==this.state&&"pending"!==this.state&&"notify_wait"!==this.state&&this.dialog.sendRequest(this,e.C.SUBSCRIBE,{extraHeaders:this.extraHeaders,body:this.body})},receiveResponse:function(t){var n,r=this,i=e.Utils.getReasonPhrase(t.status_code);"notify_wait"===this.state&&t.status_code>=300||"notify_wait"!==this.state&&-1!==this.errorCodes.indexOf(t.status_code)?this.failed(t,null):/^2[0-9]{2}$/.test(t.status_code)&&(n=t.getHeader("Expires"),e.Timers.clearTimeout(this.timers.N),this.createConfirmedDialog(t,"UAC")&&(this.id=this.dialog.id.toString(),this.ua.subscriptions[this.id]=this,this.emit("accepted",t,i)),n&&n<=this.expires?(this.expires=n,this.timers.sub_duration=e.Timers.setTimeout(r.refresh.bind(r),900*n)):n?(this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),this.failed(t,e.C.INVALID_EXPIRES_HEADER)):(this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE"),this.failed(t,e.C.EXPIRES_HEADER_MISSING)))},unsubscribe:function(){var t=[],n=this;this.state="terminated",t.push("Event: "+this.event),t.push("Expires: 0"),t.push("Contact: "+this.contact),t.push("Allow: "+e.UA.C.ALLOWED_METHODS.toString()),this.receiveResponse=function(){},this.dialog.sendRequest(this,this.method,{extraHeaders:t,body:this.body}),e.Timers.clearTimeout(this.timers.sub_duration),e.Timers.clearTimeout(this.timers.N),this.timers.N=e.Timers.setTimeout(n.timer_fire.bind(n),e.Timers.TIMER_N)},timer_fire:function(){"terminated"===this.state?(this.terminateDialog(),e.Timers.clearTimeout(this.timers.N),e.Timers.clearTimeout(this.timers.sub_duration),delete this.ua.subscriptions[this.id]):"pending"===this.state||"notify_wait"===this.state?this.close():this.refresh()},close:function(){"notify_wait"!==this.state&&"terminated"!==this.state&&this.unsubscribe()},createConfirmedDialog:function(t,n){var r;return this.terminateDialog(),!(r=new e.Dialog(this,t,n)).error&&(this.dialog=r,!0)},terminateDialog:function(){this.dialog&&(delete this.ua.subscriptions[this.id],this.dialog.terminate(),delete this.dialog)},receiveRequest:function(t){function setExpiresTimeout(){n.expires&&(e.Timers.clearTimeout(r.timers.sub_duration),n.expires=Math.min(r.expires,Math.max(n.expires,0)),r.timers.sub_duration=e.Timers.setTimeout(r.refresh.bind(r),900*n.expires))}var n,r=this;if(this.matchEvent(t))if(n=t.parseHeader("Subscription-State"),t.reply(200,e.C.REASON_200),e.Timers.clearTimeout(this.timers.N),this.emit("notify",{request:t}),"terminated"!==this.state)switch(n.state){case"active":this.state="active",setExpiresTimeout();break;case"pending":"notify_wait"===this.state&&setExpiresTimeout(),this.state="pending";break;case"terminated":if(e.Timers.clearTimeout(this.timers.sub_duration),n.reason)switch(this.logger.log("terminating subscription with reason "+n.reason),n.reason){case"deactivated":case"timeout":return void this.subscribe();case"probation":case"giveup":return void(n.params&&n.params["retry-after"]?this.timers.sub_duration=e.Timers.setTimeout(r.subscribe.bind(r),n.params["retry-after"]):this.subscribe())}this.close()}else"terminated"===n.state&&(this.terminateDialog(),e.Timers.clearTimeout(this.timers.N),e.Timers.clearTimeout(this.timers.sub_duration),delete this.ua.subscriptions[this.id]);else t.reply(489)},failed:function(e,t){return this.close(),this.emit("failed",e,t),this},onDialogError:function(t){this.failed(t,e.C.causes.DIALOG_ERROR)},matchEvent:function(e){var t;return e.hasHeader("Event")?e.hasHeader("Subscription-State")?(t=e.parseHeader("event").event,this.event===t||(this.logger.warn("event match failed"),e.reply(481,"Event Match Failed"),!1)):(this.logger.warn("missing Subscription-State header"),!1):(this.logger.warn("missing Event header"),!1)}}}},function(e,t,n){"use strict";e.exports=function(e,t){var r;(r={}).MediaHandler=n(1589)(e),r.MediaStreamManager=n(1590)(e,t);var i;return r.isSupported=function(){return void 0!==i?i:(r.MediaStream=t.MediaStream,r.getUserMedia=t.getUserMedia,r.RTCPeerConnection=t.RTCPeerConnection,r.RTCSessionDescription=t.RTCSessionDescription,r.RTCPeerConnection&&r.RTCSessionDescription?(r.getUserMedia&&(r.getUserMedia=e.Utils.promisify(t,"getUserMedia")),i=!0):i=!1,i)},r}},function(e,t,n){"use strict";e.exports=function(e){var t=function(t,n){function selfEmit(e,t){e.mediaStreamManager.on&&e.mediaStreamManager.on(t,function(){e.emit.apply(e,[t].concat(Array.prototype.slice.call(arguments)))})}n=n||{},this.logger=t.ua.getLogger("sip.invitecontext.mediahandler",t.id),this.session=t,this.localMedia=null,this.ready=!0,this.mediaStreamManager=n.mediaStreamManager||new e.WebRTC.MediaStreamManager(this.logger),this.audioMuted=!1,this.videoMuted=!1,this.local_hold=!1,this.remote_hold=!1;var r=this.prepareIceServers(n.stunServers,n.turnServers);this.RTCConstraints=n.RTCConstraints||{},this.initPeerConnection(r),selfEmit(this,"userMediaRequest"),selfEmit(this,"userMedia"),selfEmit(this,"userMediaFailed")};return t.defaultFactory=function defaultFactory(e,n){return new t(e,n)},t.defaultFactory.isSupported=function(){return e.WebRTC.isSupported()},t.prototype=Object.create(e.MediaHandler.prototype,{isReady:{writable:!0,value:function isReady(){return this.ready}},close:{writable:!0,value:function close(){this.logger.log("closing PeerConnection"),this._remoteStreams=[],this.peerConnection&&"closed"!==this.peerConnection.signalingState&&(this.peerConnection.close(),this.localMedia&&this.mediaStreamManager.release(this.localMedia))}},getDescription:{writable:!0,value:function getDescription(t){var n=this,r=n.mediaStreamManager.acquire;r.length>1&&(r=e.Utils.promisify(this.mediaStreamManager,"acquire",!0)),!0===(t=t||{}).dataChannel&&(t.dataChannel={}),this.mediaHint=t;var i;return n.localMedia?(n.logger.log("already have local media"),i=e.Utils.Promise.resolve(n.localMedia)):(n.logger.log("acquiring local media"),i=r.call(n.mediaStreamManager,t).then(function acquireSucceeded(e){return n.logger.log("acquired local media streams"),n.localMedia=e,n.session.connecting(),e},function acquireFailed(e){throw n.logger.error("unable to acquire streams"),n.logger.error(e),n.session.connecting(),e}).then(this.addStreams.bind(this))),i.then(function streamAdditionSucceeded(){return n.hasOffer("remote")?n.peerConnection.ondatachannel=function(e){n.dataChannel=e.channel,n.emit("dataChannel",n.dataChannel)}:t.dataChannel&&n.peerConnection.createDataChannel&&(n.dataChannel=n.peerConnection.createDataChannel("sipjs",t.dataChannel),n.emit("dataChannel",n.dataChannel)),n.render(),n.createOfferOrAnswer(n.RTCConstraints)}).then(function(t){return t=e.Hacks.Firefox.hasMissingCLineInSDP(t),n.local_hold&&(t=/a=(sendrecv|sendonly|recvonly|inactive)/.test(t)?(t=t.replace(/a=sendrecv\r\n/g,"a=sendonly\r\n")).replace(/a=recvonly\r\n/g,"a=inactive\r\n"):t.replace(/(m=[^\r]*\r\n)/g,"$1a=sendonly\r\n")),{body:t,contentType:"application/sdp"}})}},hasDescription:{writeable:!0,value:function hasDescription(e){return"application/sdp"===e.getHeader("Content-Type")&&!!e.body}},setDescription:{writable:!0,value:function setDescription(t){var n=t.body;this.remote_hold=/a=(sendonly|inactive)/.test(n),n=e.Hacks.Firefox.cannotHandleExtraWhitespace(n),n=e.Hacks.AllBrowsers.maskDtls(n);var r={type:this.hasOffer("local")?"answer":"offer",sdp:n};this.emit("setDescription",r);var i=new e.WebRTC.RTCSessionDescription(r);return e.Utils.promisify(this.peerConnection,"setRemoteDescription")(i)}},getReferMedia:{writable:!0,value:function getReferMedia(){function hasTracks(e,t){return t[e]().length>0}function bothHaveTracks(e){return this.getLocalStreams().some(hasTracks.bind(null,e))&&this.getRemoteStreams().some(hasTracks.bind(null,e))}return{constraints:{audio:bothHaveTracks.call(this,"getAudioTracks"),video:bothHaveTracks.call(this,"getVideoTracks")}}}},updateIceServers:{writeable:!0,value:function(e){var t=this.prepareIceServers(e.stunServers,e.turnServers);this.RTCConstraints=e.RTCConstraints||this.RTCConstraints,this.initPeerConnection(t)}},isMuted:{writable:!0,value:function isMuted(){return{audio:this.audioMuted,video:this.videoMuted}}},mute:{writable:!0,value:function mute(e){if(0!==this.getLocalStreams().length){var t=!1,n=!1;return(e=e||{audio:this.getLocalStreams()[0].getAudioTracks().length>0,video:this.getLocalStreams()[0].getVideoTracks().length>0}).audio&&!this.audioMuted&&(t=!0,this.audioMuted=!0,this.toggleMuteAudio(!0)),e.video&&!this.videoMuted&&(n=!0,this.videoMuted=!0,this.toggleMuteVideo(!0)),t||n?{audio:t,video:n}:void 0}}},unmute:{writable:!0,value:function unmute(e){if(0!==this.getLocalStreams().length){var t=!1,n=!1;return(e=e||{audio:this.getLocalStreams()[0].getAudioTracks().length>0,video:this.getLocalStreams()[0].getVideoTracks().length>0}).audio&&this.audioMuted&&(t=!0,this.audioMuted=!1,this.toggleMuteAudio(!1)),e.video&&this.videoMuted&&(n=!0,this.videoMuted=!1,this.toggleMuteVideo(!1)),t||n?{audio:t,video:n}:void 0}}},hold:{writable:!0,value:function hold(){this.local_hold=!0,this.toggleMuteAudio(!0),this.toggleMuteVideo(!0)}},unhold:{writable:!0,value:function unhold(){this.local_hold=!1,this.audioMuted||this.toggleMuteAudio(!1),this.videoMuted||this.toggleMuteVideo(!1)}},getLocalStreams:{writable:!0,value:function getLocalStreams(){var e=this.peerConnection;return e&&"closed"===e.signalingState?(this.logger.warn("peerConnection is closed, getLocalStreams returning []"),[]):e.getLocalStreams&&e.getLocalStreams()||e.localStreams||[]}},getRemoteStreams:{writable:!0,value:function getRemoteStreams(){var e=this.peerConnection;return e&&"closed"===e.signalingState?(this.logger.warn("peerConnection is closed, getRemoteStreams returning this._remoteStreams"),this._remoteStreams):e.getRemoteStreams&&e.getRemoteStreams()||e.remoteStreams||[]}},render:{writable:!0,value:function render(t){if(!(t=t||this.mediaHint&&this.mediaHint.render))return!1;var n={local:"getLocalStreams",remote:"getRemoteStreams"};Object.keys(n).forEach(function(r){var i=this[n[r]]();e.WebRTC.MediaStreamManager.render(i,t[r])}.bind(this))}},hasOffer:{writable:!0,value:function hasOffer(e){var t="have-"+e+"-offer";return this.peerConnection.signalingState===t}},prepareIceServers:{writable:!0,value:function prepareIceServers(e,t){var n=[],r=this.session.ua.configuration;return e=e||r.stunServers,t=t||r.turnServers,[].concat(e).forEach(function(e){n.push({urls:e})}),[].concat(t).forEach(function(e){n.push({urls:e.urls,username:e.username,credential:e.password})}),n}},initPeerConnection:{writable:!0,value:function initPeerConnection(t){var n=this,r=this.session.ua.configuration;this.onIceCompleted=e.Utils.defer(),this.onIceCompleted.promise.then(function(t){n.emit("iceGatheringComplete",t),n.iceCheckingTimer&&(e.Timers.clearTimeout(n.iceCheckingTimer),n.iceCheckingTimer=null)}),this.peerConnection&&this.peerConnection.close(),this.peerConnection=new e.WebRTC.RTCPeerConnection({iceServers:t}),this._remoteStreams=[],this.peerConnection.onaddstream=function(e){n.logger.log("stream added: "+e.stream.id),n._remoteStreams.push(e.stream),n.render(),n.emit("addStream",e)},this.peerConnection.onremovestream=function(e){n.logger.log("stream removed: "+e.stream.id)},this.startIceCheckingTimer=function(){n.iceCheckingTimer||(n.iceCheckingTimer=e.Timers.setTimeout(function(){n.logger.log("RTCIceChecking Timeout Triggered after "+r.iceCheckingTimeout+" milliseconds"),n.onIceCompleted.resolve(this)}.bind(this.peerConnection),r.iceCheckingTimeout))},this.peerConnection.onicecandidate=function(e){n.emit("iceCandidate",e),e.candidate?(n.logger.log("ICE candidate received: "+(null===e.candidate.candidate?null:e.candidate.candidate.trim())),n.startIceCheckingTimer()):n.onIceCompleted.resolve(this)},this.peerConnection.onicegatheringstatechange=function(){n.logger.log("RTCIceGatheringState changed: "+this.iceGatheringState),"gathering"===this.iceGatheringState&&n.emit("iceGathering",this),"complete"===this.iceGatheringState&&n.onIceCompleted.resolve(this)},this.peerConnection.oniceconnectionstatechange=function(){var e;switch("checking"===this.iceConnectionState&&n.startIceCheckingTimer(),this.iceConnectionState){case"new":e="iceConnection";break;case"checking":e="iceConnectionChecking";break;case"connected":e="iceConnectionConnected";break;case"completed":e="iceConnectionCompleted";break;case"failed":e="iceConnectionFailed";break;case"disconnected":e="iceConnectionDisconnected";break;case"closed":e="iceConnectionClosed";break;default:return void n.logger.warn("Unknown iceConnection state:",this.iceConnectionState)}n.emit(e,this)},this.peerConnection.onstatechange=function(){n.logger.log('PeerConnection state changed to "'+this.readyState+'"')}}},createOfferOrAnswer:{writable:!0,value:function createOfferOrAnswer(t){var n=this,r,i=n.peerConnection;return n.ready=!1,r=n.hasOffer("remote")?"createAnswer":"createOffer",e.Utils.promisify(i,r,!0)(t).then(e.Utils.promisify(i,"setLocalDescription")).then(function onSetLocalDescriptionSuccess(){var t=e.Utils.defer();return"complete"===i.iceConnectionState||"completed"===i.iceConnectionState?t.resolve():n.onIceCompleted.promise.then(t.resolve),t.promise}).then(function readySuccess(){var t=i.localDescription.sdp;t=e.Hacks.Chrome.needsExplicitlyInactiveSDP(t),t=e.Hacks.AllBrowsers.unmaskDtls(t);var o={type:"createOffer"===r?"offer":"answer",sdp:t};return n.emit("getDescription",o),n.session.ua.configuration.hackStripTcp&&(o.sdp=o.sdp.replace(/^a=candidate:\d+ \d+ tcp .*?\r\n/gim,"")),n.ready=!0,o.sdp}).catch(function methodFailed(t){throw n.logger.error(t),n.ready=!0,new e.Exceptions.GetDescriptionError(t)})}},addStreams:{writable:!0,value:function addStreams(t){try{(t=[].concat(t)).forEach(function(e){this.peerConnection.addStream(e)},this)}catch(t){return this.logger.error("error adding stream"),this.logger.error(t),e.Utils.Promise.reject(t)}return e.Utils.Promise.resolve()}},toggleMuteHelper:{writable:!0,value:function toggleMuteHelper(e,t){this.getLocalStreams().forEach(function(n){n[e]().forEach(function(e){e.enabled=!t})})}},toggleMuteAudio:{writable:!0,value:function toggleMuteAudio(e){this.toggleMuteHelper("getAudioTracks",e)}},toggleMuteVideo:{writable:!0,value:function toggleMuteVideo(e){this.toggleMuteHelper("getVideoTracks",e)}}}),t}},function(e,t,n){"use strict";e.exports=function(e,t){var n=function MediaStreamManager(t,n){if(!e.WebRTC.isSupported())throw new e.Exceptions.NotSupportedError("Media not supported");this.mediaHint=n||{constraints:{audio:!0,video:!0}},this.acquisitions={}};return n.streamId=function(e){return e.getAudioTracks().concat(e.getVideoTracks()).map(function trackId(e){return e.id}).join("")},n.render=function render(n,r){function attachMediaStream(e,t){e.srcObject=t}function ensureMediaPlaying(t){var n=100;t.ensurePlayingIntervalId=e.Timers.setInterval(function(){t.paused&&t.srcObject?t.play():e.Timers.clearInterval(t.ensurePlayingIntervalId)},100)}function attachAndPlay(e,n,r){var i=e[r%e.length];"function"==typeof i&&(i=i()),(t.attachMediaStream||attachMediaStream)(i,n),ensureMediaPlaying(i)}if(!r)return!1;if(Array.isArray(r)&&!r.length)throw new TypeError("elements must not be empty");r=[].concat(r),[].concat(n).forEach(attachAndPlay.bind(null,r))},n.prototype=Object.create(e.EventEmitter.prototype,{acquire:{writable:!0,value:function acquire(t){t=Object.keys(t||{}).length?t:this.mediaHint;var r=function(t,r){return(r=[].concat(r)).forEach(function(e){var r=n.streamId(e);this.acquisitions[r]=!!t},this),e.Utils.Promise.resolve(r)}.bind(this);if(t.stream)return r(!0,t.stream);var i=t.constraints||this.mediaHint&&this.mediaHint.constraints||{audio:!0,video:!0},o=e.Utils.defer();return e.Timers.setTimeout(function(){this.emit("userMediaRequest",i);var t=function(e,t){var n=Array.prototype.slice.call(arguments,2),r=[e].concat(n);return this.emit.apply(this,r),t.apply(null,n)}.bind(this);i.audio||i.video?o.resolve(e.WebRTC.getUserMedia(i).then(t.bind(this,"userMedia",r.bind(null,!1)),t.bind(this,"userMediaFailed",function(e){throw e}))):o.resolve([])}.bind(this),0),o.promise}},release:{writable:!0,value:function release(e){(e=[].concat(e)).forEach(function(e){var t=n.streamId(e);!1===this.acquisitions[t]&&e.getTracks().forEach(function(e){e.stop()}),delete this.acquisitions[t]},this)}}}),n}},function(e,t,n){"use strict";(function(t){e.exports=function(e,n){function checkAuthenticationFactory(t){if(t instanceof Function)return t.initialize||(t.initialize=function initialize(){return e.Utils.Promise.resolve()}),t}var r,i={STATUS_INIT:0,STATUS_STARTING:1,STATUS_READY:2,STATUS_USER_CLOSED:3,STATUS_NOT_READY:4,CONFIGURATION_ERROR:1,NETWORK_ERROR:2,ALLOWED_METHODS:["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"],ACCEPTED_BODY_TYPES:["application/sdp","application/dtmf-relay"],MAX_FORWARDS:70,TAG_LENGTH:10};((r=function(r){function selfEmit(e){return o.emit.bind(o,e)}var o=this;i.ACCEPTED_BODY_TYPES=i.ACCEPTED_BODY_TYPES.toString(),this.log=new e.LoggerFactory,this.logger=this.getLogger("sip.ua"),this.cache={credentials:{}},this.configuration={},this.dialogs={},this.applicants={},this.data={},this.sessions={},this.subscriptions={},this.transport=null,this.contact=null,this.status=i.STATUS_INIT,this.error=null,this.transactions={nist:{},nict:{},ist:{},ict:{}},this.transportRecoverAttempts=0,this.transportRecoveryTimer=null,Object.defineProperties(this,{transactionsCount:{get:function(){var e,t=["nist","nict","ist","ict"],n=0;for(e in t)n+=Object.keys(this.transactions[t[e]]).length;return n}},nictTransactionsCount:{get:function(){return Object.keys(this.transactions.nict).length}},nistTransactionsCount:{get:function(){return Object.keys(this.transactions.nist).length}},ictTransactionsCount:{get:function(){return Object.keys(this.transactions.ict).length}},istTransactionsCount:{get:function(){return Object.keys(this.transactions.ist).length}}}),void 0===r?r={}:("string"==typeof r||r instanceof String)&&(r={uri:r}),r.log&&(r.log.hasOwnProperty("builtinEnabled")&&(this.log.builtinEnabled=r.log.builtinEnabled),r.log.hasOwnProperty("level")&&(this.log.level=r.log.level),r.log.hasOwnProperty("connector")&&(this.log.connector=r.log.connector));try{this.loadConfig(r)}catch(e){throw this.status=i.STATUS_NOT_READY,this.error=i.CONFIGURATION_ERROR,e}this.registerContext=new e.RegisterContext(this),this.registerContext.on("failed",selfEmit("registrationFailed")),this.registerContext.on("registered",selfEmit("registered")),this.registerContext.on("unregistered",selfEmit("unregistered")),this.configuration.autostart&&this.start(),"function"==typeof n.addEventListener&&(t.chrome&&t.chrome.app&&t.chrome.app.runtime||n.addEventListener("unload",this.stop.bind(this)))}).prototype=Object.create(e.EventEmitter.prototype)).register=function(e){return this.configuration.register=!0,this.registerContext.register(e),this},r.prototype.unregister=function(e){this.configuration.register=!1;var t=this.registerContext;return this.afterConnected(t.unregister.bind(t,e)),this},r.prototype.isRegistered=function(){return this.registerContext.registered},r.prototype.isConnected=function(){return!!this.transport&&this.transport.connected},r.prototype.afterConnected=function afterConnected(e){this.isConnected()?e():this.once("connected",e)},r.prototype.invite=function(t,n){var r=new e.InviteClientContext(this,t,n);return this.afterConnected(r.invite.bind(r)),r},r.prototype.subscribe=function(t,n,r){var i=new e.Subscription(this,t,n,r);return this.afterConnected(i.subscribe.bind(i)),i},r.prototype.message=function(t,n,r){if(void 0===n)throw new TypeError("Not enough arguments");return(r=Object.create(r||Object.prototype)).contentType||(r.contentType="text/plain"),r.body=n,this.request(e.C.MESSAGE,t,r)},r.prototype.request=function(t,n,r){var i=new e.ClientContext(this,t,n,r);return this.afterConnected(i.send.bind(i)),i},r.prototype.stop=function(){function transactionsListener(){0===o.nistTransactionsCount&&0===o.nictTransactionsCount&&(o.removeListener("transactionDestroyed",transactionsListener),o.transport.disconnect())}var t,n,r,o=this;if(this.logger.log("user requested closure..."),this.status===i.STATUS_USER_CLOSED)return this.logger.warn("UA already closed"),this;e.Timers.clearTimeout(this.transportRecoveryTimer),this.logger.log("closing registerContext"),this.registerContext.close();for(t in this.sessions)this.logger.log("closing session "+t),this.sessions[t].terminate();for(n in this.subscriptions)this.logger.log("unsubscribing from subscription "+n),this.subscriptions[n].close();for(r in this.applicants)this.applicants[r].close();return this.status=i.STATUS_USER_CLOSED,0===this.nistTransactionsCount&&0===this.nictTransactionsCount?this.transport&&this.transport.disconnect():this.on("transactionDestroyed",transactionsListener),this},r.prototype.start=function(){var t;return this.logger.log("user requested startup..."),this.status===i.STATUS_INIT?(t=this.getNextWsServer(),this.status=i.STATUS_STARTING,new e.Transport(this,t)):this.status===i.STATUS_USER_CLOSED?(this.logger.log("resuming"),this.status=i.STATUS_READY,this.transport.connect()):this.status===i.STATUS_STARTING?this.logger.log("UA is in STARTING status, not opening new connection"):this.status===i.STATUS_READY?this.logger.log("UA is in READY status, not resuming"):this.logger.error("Connection is down. Auto-Recovery system is trying to connect"),this},r.prototype.normalizeTarget=function(t){return e.Utils.normalizeTarget(t,this.configuration.hostportParams)},r.prototype.saveCredentials=function(e){return this.cache.credentials[e.realm]=this.cache.credentials[e.realm]||{},this.cache.credentials[e.realm][e.uri]=e,this},r.prototype.getCredentials=function(e){var t,n;return t=e.ruri.host,this.cache.credentials[t]&&this.cache.credentials[t][e.ruri]&&((n=this.cache.credentials[t][e.ruri]).method=e.method),n},r.prototype.getLogger=function(e,t){return this.log.getLogger(e,t)},r.prototype.onTransportClosed=function(t){var n,r,i,o=["nict","ict","nist","ist"];for(t.server.status=e.Transport.C.STATUS_DISCONNECTED,this.logger.log("connection state set to "+e.Transport.C.STATUS_DISCONNECTED),i=o.length,n=0;n<i;n++)for(r in this.transactions[o[n]])this.transactions[o[n]][r].onTransportError();this.contact.pub_gruu||this.closeSessionsOnTransportError()},r.prototype.onTransportError=function(t){var n;this.logger.log("transport "+t.server.ws_uri+" failed | connection state set to "+e.Transport.C.STATUS_ERROR),t.server.status=e.Transport.C.STATUS_ERROR,this.emit("disconnected",{transport:t}),this.status!==i.STATUS_USER_CLOSED&&((n=this.getNextWsServer())?new e.Transport(this,n):(this.closeSessionsOnTransportError(),this.error&&this.error===i.NETWORK_ERROR||(this.status=i.STATUS_NOT_READY,this.error=i.NETWORK_ERROR),this.recoverTransport()))},r.prototype.onTransportConnected=function(t){this.transport=t,this.transportRecoverAttempts=0,t.server.status=e.Transport.C.STATUS_READY,this.logger.log("connection state set to "+e.Transport.C.STATUS_READY),this.status!==i.STATUS_USER_CLOSED&&(this.status=i.STATUS_READY,this.error=null,this.configuration.register&&this.configuration.authenticationFactory.initialize().then(function(){this.registerContext.onTransportConnected()}.bind(this)),this.emit("connected",{transport:t}))},r.prototype.onTransportConnecting=function(e,t){this.emit("connecting",{transport:e,attempts:t})},r.prototype.newTransaction=function(e){this.transactions[e.type][e.id]=e,this.emit("newTransaction",{transaction:e})},r.prototype.destroyTransaction=function(e){delete this.transactions[e.type][e.id],this.emit("transactionDestroyed",{transaction:e})},r.prototype.receiveRequest=function(t){function ruriMatches(e){return e&&e.user===t.ruri.user}var n,r,o,a=t.method,s,c,u,l=this;if(!(ruriMatches(this.configuration.uri)||ruriMatches(this.contact.uri)||ruriMatches(this.contact.pub_gruu)||ruriMatches(this.contact.temp_gruu)))return this.logger.warn("Request-URI does not point to us"),void(t.method!==e.C.ACK&&t.reply_sl(404));if(t.ruri.scheme!==e.C.SIPS){if(!e.Transactions.checkTransaction(this,t))if(a===e.C.OPTIONS?(new e.Transactions.NonInviteServerTransaction(t,this),t.reply(200,null,["Allow: "+e.UA.C.ALLOWED_METHODS.toString(),"Accept: "+i.ACCEPTED_BODY_TYPES])):a===e.C.MESSAGE?((o=new e.ServerContext(this,t)).body=t.body,o.content_type=t.getHeader("Content-Type")||"text/plain",t.reply(200,null),this.emit("message",o)):a!==e.C.INVITE&&a!==e.C.ACK&&(s=new e.ServerContext(this,t)),t.to_tag)(n=this.findDialog(t))?(a===e.C.INVITE&&new e.Transactions.InviteServerTransaction(t,this),n.receiveRequest(t)):a===e.C.NOTIFY?(r=this.findSession(t))?r.receiveRequest(t):(this.logger.warn("received NOTIFY request for a non existent session"),t.reply(481,"Subscription does not exist")):a!==e.C.ACK&&t.reply(481);else switch(a){case e.C.INVITE:if(c=this.configuration.replaces!==e.C.supported.UNSUPPORTED&&t.parseHeader("replaces")){if(!(u=this.dialogs[c.call_id+c.replaces_to_tag+c.replaces_from_tag]))return void t.reply_sl(481,null);if(u.owner.status===e.Session.C.STATUS_TERMINATED)return void t.reply_sl(603,null);if(u.state===e.Dialog.C.STATUS_CONFIRMED&&c.early_only)return void t.reply_sl(486,null)}var d=this.configuration.mediaHandlerFactory.isSupported;!d||d()?((r=new e.InviteServerContext(this,t)).replacee=u&&u.owner,r.on("invite",function(){l.emit("invite",this)})):(this.logger.warn("INVITE received but WebRTC is not supported"),t.reply(488));break;case e.C.BYE:t.reply(481);break;case e.C.CANCEL:(r=this.findSession(t))?r.receiveRequest(t):this.logger.warn("received CANCEL request for a non existent session");break;case e.C.ACK:break;case e.C.NOTIFY:this.configuration.allowLegacyNotifications&&this.listeners("notify").length>0?(t.reply(200,null),l.emit("notify",{request:t})):t.reply(481,"Subscription does not exist");break;default:t.reply(405)}}else t.reply_sl(416)},r.prototype.findSession=function(e){return this.sessions[e.call_id+e.from_tag]||this.sessions[e.call_id+e.to_tag]||null},r.prototype.findDialog=function(e){return this.dialogs[e.call_id+e.from_tag+e.to_tag]||this.dialogs[e.call_id+e.to_tag+e.from_tag]||null},r.prototype.getNextWsServer=function(){var t,n,r,i=[];for(n=this.configuration.wsServers.length,t=0;t<n;t++)(r=this.configuration.wsServers[t]).status!==e.Transport.C.STATUS_ERROR&&(0===i.length?i.push(r):r.weight>i[0].weight?i=[r]:r.weight===i[0].weight&&i.push(r));return t=Math.floor(Math.random()*i.length),i[t]},r.prototype.closeSessionsOnTransportError=function(){var e;for(e in this.sessions)this.sessions[e].onTransportError();this.registerContext.onTransportClosed()},r.prototype.recoverTransport=function(t){var n,r,i,o,a,s;for(a=(t=t||this).transportRecoverAttempts,r=t.configuration.wsServers.length,n=0;n<r;n++)t.configuration.wsServers[n].status=0;s=t.getNextWsServer(),(o=(i=Math.floor(Math.random()*Math.pow(2,a)+1))*t.configuration.connectionRecoveryMinInterval)>t.configuration.connectionRecoveryMaxInterval&&(this.logger.log("time for next connection attempt exceeds connectionRecoveryMaxInterval, resetting counter"),o=t.configuration.connectionRecoveryMinInterval,a=0),this.logger.log("next connection attempt in "+o+" seconds"),this.transportRecoveryTimer=e.Timers.setTimeout(function(){t.transportRecoverAttempts=a+1,new e.Transport(t,s)},1e3*o)},r.prototype.loadConfig=function(t){function aliasUnderscored(e,n){var r=e.replace(/([a-z][A-Z])/g,function(e){return e[0]+"_"+e[1].toLowerCase()});if(e!==r){var i=t.hasOwnProperty(e);t.hasOwnProperty(r)&&(n.warn(r+" is deprecated, please use "+e),i&&n.warn(e+" overriding "+r)),t[e]=i?t[e]:t[r]}}var n,i,o,a,s,c={viaHost:e.Utils.createRandomToken(12)+".invalid",uri:new e.URI("sip","anonymous."+e.Utils.createRandomToken(6),"anonymous.invalid",null,null),wsServers:[{scheme:"WSS",sip_uri:"<sip:edge.sip.onsip.com;transport=ws;lr>",status:0,weight:0,ws_uri:"wss://edge.sip.onsip.com"}],password:null,registerExpires:600,register:!0,registrarServer:null,wsServerMaxReconnection:3,wsServerReconnectionTimeout:4,connectionRecoveryMinInterval:2,connectionRecoveryMaxInterval:30,keepAliveInterval:0,extraSupported:[],usePreloadedRoute:!1,userAgentString:e.C.USER_AGENT,iceCheckingTimeout:5e3,noAnswerTimeout:60,stunServers:["stun:stun.l.google.com:19302"],turnServers:[],traceSip:!1,hackViaTcp:!1,hackIpInContact:!1,hackWssInTransport:!1,hackAllowUnregisteredOptionTags:!1,hackCleanJitsiSdpImageattr:!1,hackStripTcp:!1,contactTransport:"ws",forceRport:!1,autostart:!0,rel100:e.C.supported.UNSUPPORTED,replaces:e.C.supported.UNSUPPORTED,mediaHandlerFactory:e.WebRTC.MediaHandler.defaultFactory,authenticationFactory:checkAuthenticationFactory(function authenticationFactory(t){return new e.DigestAuthentication(t)}),allowLegacyNotifications:!1};for(n in r.configuration_check.mandatory){if(aliasUnderscored(n,this.logger),!t.hasOwnProperty(n))throw new e.Exceptions.ConfigurationError(n);if(i=t[n],void 0===(o=r.configuration_check.mandatory[n](i)))throw new e.Exceptions.ConfigurationError(n,i);c[n]=o}e.Utils.optionsOverride(t,"rel100","reliable",!0,this.logger,e.C.supported.UNSUPPORTED);var u=["stunServers","turnServers"];for(n in r.configuration_check.optional)if(aliasUnderscored(n,this.logger),t.hasOwnProperty(n)){if((i=t[n])instanceof Array&&0===i.length&&u.indexOf(n)<0)continue;if(null===i||""===i||void 0===i)continue;if("number"==typeof i&&isNaN(i))continue;if(void 0===(o=r.configuration_check.optional[n](i)))throw new e.Exceptions.ConfigurationError(n,i);c[n]=o}if(c.connectionRecoveryMaxInterval<c.connectionRecoveryMinInterval)throw new e.Exceptions.ConfigurationError("connectionRecoveryMaxInterval",c.connectionRecoveryMaxInterval);0===c.displayName&&(c.displayName="0"),c.instanceId||(c.instanceId=e.Utils.newUUID()),c.sipjsId=e.Utils.createRandomToken(5),(a=c.uri.clone()).user=null,c.hostportParams=a.toRaw().replace(/^sip:/i,""),c.authorizationUser||(c.authorizationUser=c.uri.user),c.registrarServer||((s=c.uri.clone()).user=null,c.registrarServer=s),c.noAnswerTimeout=1e3*c.noAnswerTimeout,c.hackIpInContact&&("boolean"==typeof c.hackIpInContact?c.viaHost=e.Utils.getRandomTestNetIP():"string"==typeof c.hackIpInContact&&(c.viaHost=c.hackIpInContact)),c.hackWssInTransport&&(c.contactTransport="wss"),this.contact={pub_gruu:null,temp_gruu:null,uri:new e.URI("sip",e.Utils.createRandomToken(8),c.viaHost,null,{transport:c.contactTransport}),toString:function(e){var t=(e=e||{}).anonymous||null,n=e.outbound||null,r="<";return r+=t?(this.temp_gruu||"sip:anonymous@anonymous.invalid;transport="+c.contactTransport).toString():(this.pub_gruu||this.uri).toString(),n&&(r+=";ob"),r+=">"}},e.Utils.optionsOverride(c,"media","mediaConstraints",!0,this.logger);for(n in c)r.configuration_skeleton[n].value=c[n];Object.defineProperties(this.configuration,r.configuration_skeleton);for(n in c)r.configuration_skeleton[n].value="";this.logger.log("configuration parameters after validation:");for(n in c)switch(n){case"uri":case"registrarServer":case"mediaHandlerFactory":this.logger.log("· "+n+": "+c[n]);break;case"password":this.logger.log("· "+n+": NOT SHOWN");break;default:this.logger.log("· "+n+": "+JSON.stringify(c[n]))}},r.configuration_skeleton=function(){var e,t,n={},r=["sipjsId","hostportParams","uri","wsServers","authorizationUser","connectionRecoveryMaxInterval","connectionRecoveryMinInterval","keepAliveInterval","extraSupported","displayName","hackViaTcp","hackIpInContact","hackWssInTransport","hackAllowUnregisteredOptionTags","hackCleanJitsiSdpImageattr","hackStripTcp","contactTransport","forceRport","iceCheckingTimeout","instanceId","noAnswerTimeout","password","registerExpires","registrarServer","reliable","rel100","replaces","userAgentString","autostart","stunServers","traceSip","turnServers","usePreloadedRoute","wsServerMaxReconnection","wsServerReconnectionTimeout","mediaHandlerFactory","media","mediaConstraints","authenticationFactory","allowLegacyNotifications","via_core_value","viaHost"];for(e in r)n[t=r[e]]={value:"",writable:!1,configurable:!1};return n.register={value:"",writable:!0,configurable:!1},n}(),r.configuration_check={mandatory:{},optional:{uri:function(t){var n;return/^sip:/i.test(t)||(t=e.C.SIP+":"+t),(n=e.URI.parse(t))&&n.user?n:void 0},wsServers:function(t){var n,r,i;if("string"==typeof t)t=[{ws_uri:t}];else{if(!(t instanceof Array))return;for(r=t.length,n=0;n<r;n++)"string"==typeof t[n]&&(t[n]={ws_uri:t[n]})}if(0===t.length)return!1;for(r=t.length,n=0;n<r;n++){if(!t[n].ws_uri)return;if(t[n].weight&&!Number(t[n].weight))return;if(-1===(i=e.Grammar.parse(t[n].ws_uri,"absoluteURI")))return;if(["wss","ws","udp"].indexOf(i.scheme)<0)return;t[n].sip_uri="<sip:"+i.host+(i.port?":"+i.port:"")+";transport="+i.scheme.replace(/^wss$/i,"ws")+";lr>",t[n].weight||(t[n].weight=0),t[n].status=0,t[n].scheme=i.scheme.toUpperCase()}return t},authorizationUser:function(t){return-1===e.Grammar.parse('"'+t+'"',"quoted_string")?void 0:t},connectionRecoveryMaxInterval:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},connectionRecoveryMinInterval:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},displayName:function(t){return-1===e.Grammar.parse('"'+t+'"',"displayName")?void 0:t},hackViaTcp:function(e){if("boolean"==typeof e)return e},hackIpInContact:function(t){return"boolean"==typeof t?t:"string"==typeof t&&-1!==e.Grammar.parse(t,"host")?t:void 0},iceCheckingTimeout:function(t){if(e.Utils.isDecimal(t))return Math.max(500,t)},hackWssInTransport:function(e){if("boolean"==typeof e)return e},hackAllowUnregisteredOptionTags:function(e){if("boolean"==typeof e)return e},hackCleanJitsiSdpImageattr:function(e){if("boolean"==typeof e)return e},hackStripTcp:function(e){if("boolean"==typeof e)return e},contactTransport:function(e){if("string"==typeof e)return e},forceRport:function(e){if("boolean"==typeof e)return e},instanceId:function(t){if("string"==typeof t)return/^uuid:/i.test(t)&&(t=t.substr(5)),-1===e.Grammar.parse(t,"uuid")?void 0:t},keepAliveInterval:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},extraSupported:function(e){var t,n;if(e instanceof Array){for(n=e.length,t=0;t<n;t++)if("string"!=typeof e[t])return;return e}},noAnswerTimeout:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},password:function(e){return String(e)},rel100:function(t){return t===e.C.supported.REQUIRED?e.C.supported.REQUIRED:t===e.C.supported.SUPPORTED?e.C.supported.SUPPORTED:e.C.supported.UNSUPPORTED},replaces:function(t){return t===e.C.supported.REQUIRED?e.C.supported.REQUIRED:t===e.C.supported.SUPPORTED?e.C.supported.SUPPORTED:e.C.supported.UNSUPPORTED},register:function(e){if("boolean"==typeof e)return e},registerExpires:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},registrarServer:function(t){var n;if("string"==typeof t)return/^sip:/i.test(t)||(t=e.C.SIP+":"+t),(n=e.URI.parse(t))?n.user?void 0:n:void 0},stunServers:function(t){var n,r,i;if("string"==typeof t)t=[t];else if(!(t instanceof Array))return;for(r=t.length,n=0;n<r;n++){if(i=t[n],/^stuns?:/.test(i)||(i="stun:"+i),-1===e.Grammar.parse(i,"stun_URI"))return;t[n]=i}return t},traceSip:function(e){if("boolean"==typeof e)return e},turnServers:function(t){var n,r,i,o,a,s;for(t instanceof Array||(t=[t]),i=t.length,n=0;n<i;n++){if((o=t[n]).server&&(o.urls=[o.server]),!o.urls||!o.username||!o.password)return;for(o.urls instanceof Array?a=o.urls.length:(o.urls=[o.urls],a=1),r=0;r<a;r++)if(s=o.urls[r],/^turns?:/.test(s)||(s="turn:"+s),-1===e.Grammar.parse(s,"turn_URI"))return}return t},userAgentString:function(e){if("string"==typeof e)return e},usePreloadedRoute:function(e){if("boolean"==typeof e)return e},wsServerMaxReconnection:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},wsServerReconnectionTimeout:function(t){var n;if(e.Utils.isDecimal(t)&&(n=Number(t))>0)return n},autostart:function(e){if("boolean"==typeof e)return e},mediaHandlerFactory:function(t){if(t instanceof Function){var n=function promisifiedFactory(){function patchMethod(t){if(n[t].length>1){var r="getDescription"===t;n[t]=e.Utils.promisify(n,t,r)}}var n=t.apply(this,arguments);return patchMethod("getDescription"),patchMethod("setDescription"),n};return n.isSupported=t.isSupported,n}},authenticationFactory:checkAuthenticationFactory,allowLegacyNotifications:function(e){if("boolean"==typeof e)return e}}},r.C=i,e.UA=r}}).call(t,n(37))},function(e,t,n){"use strict";e.exports=function(e){e=e;var t={AllBrowsers:{maskDtls:function(e){return e&&(e=e.replace(/ UDP\/TLS\/RTP\/SAVP/gim," RTP/SAVP")),e},unmaskDtls:function(e){return e.replace(/ RTP\/SAVP/gim," UDP/TLS/RTP/SAVP")}},Firefox:{isFirefox:function(){return"undefined"!=typeof mozRTCPeerConnection},cannotHandleExtraWhitespace:function(e){return this.isFirefox()&&e&&(e=e.replace(/ \r\n/g,"\r\n")),e},hasMissingCLineInSDP:function(e){var t,n;if(e.indexOf("c=")>e.indexOf("m=")){n=e.match(/m=.*\r\n.*/g);for(var r=0;r<n.length;r++)n[r].toString().search(/i=.*/)>=0?(t=e.indexOf(n[r].toString())+n[r].toString().length,"c="!==e.substr(t,2)&&(e=e.substr(0,t)+"\r\nc=IN IP4 0.0.0.0"+e.substr(t))):n[r].toString().search(/c=.*/)<0&&(t=e.indexOf(n[r].toString().match(/.*/))+n[r].toString().match(/.*/).toString().length,e=e.substr(0,t)+"\r\nc=IN IP4 0.0.0.0"+e.substr(t))}return e}},Chrome:{needsExplicitlyInactiveSDP:function(e){var n,r;return t.Firefox.isFirefox()&&-1!==(r=e.indexOf("m=video 0"))?(n=e.substr(r),n=n.replace(/\r\nc=IN IP4.*\r\n$/,"\r\nc=IN IP4 0.0.0.0\r\na=inactive\r\n"),e.substr(0,r)+n):e},getsConfusedAboutGUM:function(e){e.mediaHandler&&e.mediaHandler.close()}}};return t}},function(e,t,n){"use strict";e.exports=function(e){function reply(t){var n,i=e.Utils.buildStatusLine(t),a=r.getHeaders("via"),s=a.length,c=0;for(c;c<s;c++)i+="Via: "+a[c]+"\r\n";n=r.getHeader("To"),r.to_tag||(n+=";tag="+e.Utils.newTag()),i+="To: "+n+"\r\n",i+="From: "+r.getHeader("From")+"\r\n",i+="Call-ID: "+r.call_id+"\r\n",i+="CSeq: "+r.cseq+" "+r.method+"\r\n",i+="\r\n",o.send(i)}function rfc3261_8_2_2_1(){if(!r.ruri||"sip"!==r.ruri.scheme)return reply(416),!1}function rfc3261_16_3_4(){if(!r.to_tag&&r.call_id.substr(0,5)===i.configuration.sipjsId)return reply(482),!1}function rfc3261_18_3_request(){if(e.Utils.str_utf8_length(r.body)<r.getHeader("content-length"))return reply(400),!1}function rfc3261_8_2_2_2(){var t,n,o=r.from_tag,a=r.call_id,s=r.cseq;if(!r.to_tag)if(r.method===e.C.INVITE){if(t=i.transactions.ist[r.via_branch])return;for(n in i.transactions.ist)if((t=i.transactions.ist[n]).request.from_tag===o&&t.request.call_id===a&&t.request.cseq===s)return reply(482),!1}else{if(t=i.transactions.nist[r.via_branch])return;for(n in i.transactions.nist)if((t=i.transactions.nist[n]).request.from_tag===o&&t.request.call_id===a&&t.request.cseq===s)return reply(482),!1}}function rfc3261_8_1_3_3(){if(r.getHeaders("via").length>1)return n.warn("More than one Via header field present in the response. Dropping the response"),!1}function rfc3261_18_1_2(){var e=i.configuration.viaHost;if(r.via.host!==e||void 0!==r.via.port)return n.warn("Via sent-by in the response does not match UA Via host value. Dropping the response"),!1}function rfc3261_18_3_response(){if(e.Utils.str_utf8_length(r.body)<r.getHeader("content-length"))return n.warn("Message body length is lower than the value in Content-Length header field. Dropping the response"),!1}function minimumHeaders(){for(var e=["from","to","call_id","cseq","via"],t=e.length;t--;)if(!r.hasHeader(e[t]))return n.warn("Missing mandatory header field : "+e[t]+". Dropping the response"),!1}var t,n,r,i,o,a=[],s=[],c=[];a.push(rfc3261_8_2_2_1),a.push(rfc3261_16_3_4),a.push(rfc3261_18_3_request),a.push(rfc3261_8_2_2_2),s.push(rfc3261_8_1_3_3),s.push(rfc3261_18_3_response),c.push(minimumHeaders),t=function(t,u,l){var d,p;for(r=t,o=l,n=(i=u).getLogger("sip.sanitycheck"),d=c.length;d--;)if(!1===(p=c[d](r)))return!1;if(r instanceof e.IncomingRequest){for(d=a.length;d--;)if(!1===(p=a[d](r)))return!1}else if(r instanceof e.IncomingResponse)for(d=s.length;d--;)if(!1===(p=s[d](r)))return!1;return!0},e.sanityCheck=t}},function(e,t,n){"use strict";e.exports=function(e){var t;return t=function(e){this.logger=e.getLogger("sipjs.digestauthentication"),this.username=e.configuration.authorizationUser,this.password=e.configuration.password,this.cnonce=null,this.nc=0,this.ncHex="00000000",this.response=null},t.prototype.authenticate=function(t,n){if(this.algorithm=n.algorithm,this.realm=n.realm,this.nonce=n.nonce,this.opaque=n.opaque,this.stale=n.stale,this.algorithm){if("MD5"!==this.algorithm)return this.logger.warn('challenge with Digest algorithm different than "MD5", authentication aborted'),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(n.qop)if(n.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(n.qop.indexOf("auth-int")>-1))return this.logger.warn('challenge without Digest qop different than "auth" or "auth-int", authentication aborted'),!1;this.qop="auth-int"}else this.qop=null;return this.method=t.method,this.uri=t.ruri,this.cnonce=e.createRandomToken(12),this.nc+=1,this.updateNcHex(),4294967296===this.nc&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(),!0},t.prototype.calculateResponse=function(){var t,n;t=e.calculateMD5(this.username+":"+this.realm+":"+this.password),"auth"===this.qop?(n=e.calculateMD5(this.method+":"+this.uri),this.response=e.calculateMD5(t+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+n)):"auth-int"===this.qop?(n=e.calculateMD5(this.method+":"+this.uri+":"+e.calculateMD5(this.body?this.body:"")),this.response=e.calculateMD5(t+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+n)):null===this.qop&&(n=e.calculateMD5(this.method+":"+this.uri),this.response=e.calculateMD5(t+":"+this.nonce+":"+n))},t.prototype.toString=function(){var e=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm="+this.algorithm),e.push('username="'+this.username+'"'),e.push('realm="'+this.realm+'"'),e.push('nonce="'+this.nonce+'"'),e.push('uri="'+this.uri+'"'),e.push('response="'+this.response+'"'),this.opaque&&e.push('opaque="'+this.opaque+'"'),this.qop&&(e.push("qop="+this.qop),e.push('cnonce="'+this.cnonce+'"'),e.push("nc="+this.ncHex)),"Digest "+e.join(", ")},t.prototype.updateNcHex=function(){var e=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-e.length)+e},t}},function(e,t,n){"use strict";var r=n(1596);e.exports=function(e){return{parse:function parseCustom(t,n){var i={startRule:n,SIP:e};try{r.parse(t,i)}catch(e){i.data=-1}return i.data}}}},function(e,t){e.exports=function(){function peg$subclass(e,t){function ctor(){this.constructor=e}ctor.prototype=t.prototype,e.prototype=new ctor}function SyntaxError(e,t,n,r,i,o){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=o,this.name="SyntaxError"}function parse(e){function text(){return e.substring(c,s)}function offset(){return c}function line(){return peg$computePosDetails(c).line}function column(){return peg$computePosDetails(c).column}function expected(e){throw peg$buildException(null,[{type:"other",description:e}],c)}function error(e){throw peg$buildException(e,null,c)}function peg$computePosDetails(t){function advance(t,n,r){var i,o;for(i=n;i<r;i++)"\n"===(o=e.charAt(i))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return u!==t&&(u>t&&(u=0,l={line:1,column:1,seenCR:!1}),advance(l,u,t),u=t),l}function peg$fail(e){s<d||(s>d&&(d=s,p=[]),p.push(e))}function peg$buildException(t,n,r){function cleanupExpected(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function buildMessage(e,t){function stringEscape(e){function hex(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+hex(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+hex(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+hex(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+hex(e)})}var n=new Array(e.length),r,i,o;for(o=0;o<e.length;o++)n[o]=e[o].description;return r=e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0],i=t?'"'+stringEscape(t)+'"':"end of input","Expected "+r+" but "+i+" found."}var i=peg$computePosDetails(r),o=r<e.length?e.charAt(r):null;return null!==n&&cleanupExpected(n),new SyntaxError(null!==t?t:buildMessage(n,o),n,o,r,i.line,i.column)}function peg$decode(e){var t=new Array(e.length),n;for(n=0;n<e.length;n++)t[n]=e.charCodeAt(n)-32;return t}function peg$parseRule(t){function protect(e){return"[object Array]"===Object.prototype.toString.apply(e)?[]:e}for(var r=a[t],i=0,u=[],l=r.length,d=[],p=[],f,g;;){for(;i<l;)switch(r[i]){case 0:p.push(protect(o[r[i+1]])),i+=2;break;case 1:p.push(s),i++;break;case 2:p.pop(),i++;break;case 3:s=p.pop(),i++;break;case 4:p.length-=r[i+1],i+=2;break;case 5:p.splice(-2,1),i++;break;case 6:p[p.length-2].push(p.pop()),i++;break;case 7:p.push(p.splice(p.length-r[i+1],r[i+1])),i+=2;break;case 8:p.pop(),p.push(e.substring(p[p.length-1],s)),i++;break;case 9:d.push(l),u.push(i+3+r[i+1]+r[i+2]),p[p.length-1]?(l=i+3+r[i+1],i+=3):(l=i+3+r[i+1]+r[i+2],i+=3+r[i+1]);break;case 10:d.push(l),u.push(i+3+r[i+1]+r[i+2]),p[p.length-1]===n?(l=i+3+r[i+1],i+=3):(l=i+3+r[i+1]+r[i+2],i+=3+r[i+1]);break;case 11:d.push(l),u.push(i+3+r[i+1]+r[i+2]),p[p.length-1]!==n?(l=i+3+r[i+1],i+=3):(l=i+3+r[i+1]+r[i+2],i+=3+r[i+1]);break;case 12:p[p.length-1]!==n?(d.push(l),u.push(i),l=i+2+r[i+1],i+=2):i+=2+r[i+1];break;case 13:d.push(l),u.push(i+3+r[i+1]+r[i+2]),e.length>s?(l=i+3+r[i+1],i+=3):(l=i+3+r[i+1]+r[i+2],i+=3+r[i+1]);break;case 14:d.push(l),u.push(i+4+r[i+2]+r[i+3]),e.substr(s,o[r[i+1]].length)===o[r[i+1]]?(l=i+4+r[i+2],i+=4):(l=i+4+r[i+2]+r[i+3],i+=4+r[i+2]);break;case 15:d.push(l),u.push(i+4+r[i+2]+r[i+3]),e.substr(s,o[r[i+1]].length).toLowerCase()===o[r[i+1]]?(l=i+4+r[i+2],i+=4):(l=i+4+r[i+2]+r[i+3],i+=4+r[i+2]);break;case 16:d.push(l),u.push(i+4+r[i+2]+r[i+3]),o[r[i+1]].test(e.charAt(s))?(l=i+4+r[i+2],i+=4):(l=i+4+r[i+2]+r[i+3],i+=4+r[i+2]);break;case 17:p.push(e.substr(s,r[i+1])),s+=r[i+1],i+=2;break;case 18:p.push(o[r[i+1]]),s+=o[r[i+1]].length,i+=2;break;case 19:p.push(n),0===h&&peg$fail(o[r[i+1]]),i+=2;break;case 20:c=p[p.length-1-r[i+1]],i+=2;break;case 21:c=s,i++;break;case 22:for(f=r.slice(i+4,i+4+r[i+3]),g=0;g<r[i+3];g++)f[g]=p[p.length-1-f[g]];p.splice(p.length-r[i+2],r[i+2],o[r[i+1]].apply(null,f)),i+=4+r[i+3];break;case 23:p.push(peg$parseRule(r[i+1])),i+=2;break;case 24:h++,i++;break;case 25:h--,i++;break;default:throw new Error("Invalid opcode: "+r[i]+".")}if(!(d.length>0))break;l=d.pop(),i=u.pop()}return p[0]}function list(e,t){return[e].concat(t)}var t=arguments.length>1?arguments[1]:{},n={},r={Contact:118,Name_Addr_Header:155,Record_Route:175,Request_Response:81,SIP_URI:45,Subscription_State:185,Supported:190,Require:181,Via:193,absoluteURI:84,Call_ID:117,Content_Disposition:129,Content_Length:134,Content_Type:135,CSeq:145,displayName:121,Event:148,From:150,host:52,Max_Forwards:153,Min_SE:212,Proxy_Authenticate:156,quoted_string:40,Refer_To:177,Replaces:178,Session_Expires:209,stun_URI:216,To:191,turn_URI:223,uuid:226,WWW_Authenticate:208,challenge:157},i=118,o=["\r\n",{type:"literal",value:"\r\n",description:'"\\r\\n"'},/^[0-9]/,{type:"class",value:"[0-9]",description:"[0-9]"},/^[a-zA-Z]/,{type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},/^[0-9a-fA-F]/,{type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},/^[\0-\xFF]/,{type:"class",value:"[\\0-\\xFF]",description:"[\\0-\\xFF]"},/^["]/,{type:"class",value:'["]',description:'["]'}," ",{type:"literal",value:" ",description:'" "'},"\t",{type:"literal",value:"\t",description:'"\\t"'},/^[a-zA-Z0-9]/,{type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},";",{type:"literal",value:";",description:'";"'},"/",{type:"literal",value:"/",description:'"/"'},"?",{type:"literal",value:"?",description:'"?"'},":",{type:"literal",value:":",description:'":"'},"@",{type:"literal",value:"@",description:'"@"'},"&",{type:"literal",value:"&",description:'"&"'},"=",{type:"literal",value:"=",description:'"="'},"+",{type:"literal",value:"+",description:'"+"'},"$",{type:"literal",value:"$",description:'"$"'},",",{type:"literal",value:",",description:'","'},"-",{type:"literal",value:"-",description:'"-"'},"_",{type:"literal",value:"_",description:'"_"'},".",{type:"literal",value:".",description:'"."'},"!",{type:"literal",value:"!",description:'"!"'},"~",{type:"literal",value:"~",description:'"~"'},"*",{type:"literal",value:"*",description:'"*"'},"'",{type:"literal",value:"'",description:'"\'"'},"(",{type:"literal",value:"(",description:'"("'},")",{type:"literal",value:")",description:'")"'},n,"%",{type:"literal",value:"%",description:'"%"'},null,[],function(){return" "},function(){return":"},/^[!-~]/,{type:"class",value:"[!-~]",description:"[!-~]"},/^[\x80-\uFFFF]/,{type:"class",value:"[\\x80-\\uFFFF]",description:"[\\x80-\\uFFFF]"},/^[\x80-\xBF]/,{type:"class",value:"[\\x80-\\xBF]",description:"[\\x80-\\xBF]"},/^[a-f]/,{type:"class",value:"[a-f]",description:"[a-f]"},"`",{type:"literal",value:"`",description:'"`"'},"<",{type:"literal",value:"<",description:'"<"'},">",{type:"literal",value:">",description:'">"'},"\\",{type:"literal",value:"\\",description:'"\\\\"'},"[",{type:"literal",value:"[",description:'"["'},"]",{type:"literal",value:"]",description:'"]"'},"{",{type:"literal",value:"{",description:'"{"'},"}",{type:"literal",value:"}",description:'"}"'},function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,{type:"class",value:"[!-']",description:"[!-']"},/^[*-[]/,{type:"class",value:"[*-[]",description:"[*-[]"},/^[\]-~]/,{type:"class",value:"[\\]-~]",description:"[\\]-~]"},function(e){return e},/^[#-[]/,{type:"class",value:"[#-[]",description:"[#-[]"},/^[\0-\t]/,{type:"class",value:"[\\0-\\t]",description:"[\\0-\\t]"},/^[\x0B-\f]/,{type:"class",value:"[\\x0B-\\f]",description:"[\\x0B-\\f]"},/^[\x0E-]/,{type:"class",value:"[\\x0E-]",description:"[\\x0E-]"},function(){t.data.uri=new t.SIP.URI(t.data.scheme,t.data.user,t.data.host,t.data.port),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port},function(){t.data.uri=new t.SIP.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params,"SIP_URI"===t.startRule&&(t.data=t.data.uri)},"sips",{type:"literal",value:"sips",description:'"sips"'},"sip",{type:"literal",value:"sip",description:'"sip"'},function(e){t.data.scheme=e},function(){t.data.user=decodeURIComponent(text().slice(0,-1))},function(){t.data.password=text()},function(){return t.data.host=text(),t.data.host},function(){return t.data.host_type="domain",text()},/^[a-zA-Z0-9_\-]/,{type:"class",value:"[a-zA-Z0-9_\\-]",description:"[a-zA-Z0-9_\\-]"},/^[a-zA-Z0-9\-]/,{type:"class",value:"[a-zA-Z0-9\\-]",description:"[a-zA-Z0-9\\-]"},function(){return t.data.host_type="IPv6",text()},"::",{type:"literal",value:"::",description:'"::"'},function(){return t.data.host_type="IPv6",text()},function(){return t.data.host_type="IPv4",text()},"25",{type:"literal",value:"25",description:'"25"'},/^[0-5]/,{type:"class",value:"[0-5]",description:"[0-5]"},"2",{type:"literal",value:"2",description:'"2"'},/^[0-4]/,{type:"class",value:"[0-4]",description:"[0-4]"},"1",{type:"literal",value:"1",description:'"1"'},/^[1-9]/,{type:"class",value:"[1-9]",description:"[1-9]"},function(e){return e=parseInt(e.join("")),t.data.port=e,e},"transport=",{type:"literal",value:"transport=",description:'"transport="'},"udp",{type:"literal",value:"udp",description:'"udp"'},"tcp",{type:"literal",value:"tcp",description:'"tcp"'},"sctp",{type:"literal",value:"sctp",description:'"sctp"'},"tls",{type:"literal",value:"tls",description:'"tls"'},function(e){t.data.uri_params||(t.data.uri_params={}),t.data.uri_params.transport=e.toLowerCase()},"user=",{type:"literal",value:"user=",description:'"user="'},"phone",{type:"literal",value:"phone",description:'"phone"'},"ip",{type:"literal",value:"ip",description:'"ip"'},function(e){t.data.uri_params||(t.data.uri_params={}),t.data.uri_params.user=e.toLowerCase()},"method=",{type:"literal",value:"method=",description:'"method="'},function(e){t.data.uri_params||(t.data.uri_params={}),t.data.uri_params.method=e},"ttl=",{type:"literal",value:"ttl=",description:'"ttl="'},function(e){t.data.params||(t.data.params={}),t.data.params.ttl=e},"maddr=",{type:"literal",value:"maddr=",description:'"maddr="'},function(e){t.data.uri_params||(t.data.uri_params={}),t.data.uri_params.maddr=e},"lr",{type:"literal",value:"lr",description:'"lr"'},function(){t.data.uri_params||(t.data.uri_params={}),t.data.uri_params.lr=void 0},function(e,n){t.data.uri_params||(t.data.uri_params={}),n=null===n?void 0:n[1],t.data.uri_params[e.toLowerCase()]=n&&n.toLowerCase()},function(e,n){e=e.join("").toLowerCase(),n=n.join(""),t.data.uri_headers||(t.data.uri_headers={}),t.data.uri_headers[e]?t.data.uri_headers[e].push(n):t.data.uri_headers[e]=[n]},function(){"Refer_To"===t.startRule&&(t.data.uri=new t.SIP.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params)},"//",{type:"literal",value:"//",description:'"//"'},function(){t.data.scheme=text()},{type:"literal",value:"SIP",description:'"SIP"'},function(){t.data.sip_version=text()},"INVITE",{type:"literal",value:"INVITE",description:'"INVITE"'},"ACK",{type:"literal",value:"ACK",description:'"ACK"'},"VXACH",{type:"literal",value:"VXACH",description:'"VXACH"'},"OPTIONS",{type:"literal",value:"OPTIONS",description:'"OPTIONS"'},"BYE",{type:"literal",value:"BYE",description:'"BYE"'},"CANCEL",{type:"literal",value:"CANCEL",description:'"CANCEL"'},"REGISTER",{type:"literal",value:"REGISTER",description:'"REGISTER"'},"SUBSCRIBE",{type:"literal",value:"SUBSCRIBE",description:'"SUBSCRIBE"'},"NOTIFY",{type:"literal",value:"NOTIFY",description:'"NOTIFY"'},"REFER",{type:"literal",value:"REFER",description:'"REFER"'},function(){return t.data.method=text(),t.data.method},function(e){t.data.status_code=parseInt(e.join(""))},function(){t.data.reason_phrase=text()},function(){t.data=text()},function(){var e,n;for(n=t.data.multi_header.length,e=0;e<n;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;t.data.multi_header||(t.data.multi_header=[]);try{e=new t.SIP.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(t){e=null}t.data.multi_header.push({position:s,offset:offset(),parsed:e})},function(e){'"'===(e=text().trim())[0]&&(e=e.substring(1,e.length-1)),t.data.displayName=e},"q",{type:"literal",value:"q",description:'"q"'},function(e){t.data.params||(t.data.params={}),t.data.params.q=e},"expires",{type:"literal",value:"expires",description:'"expires"'},function(e){t.data.params||(t.data.params={}),t.data.params.expires=e},function(e){return parseInt(e.join(""))},"0",{type:"literal",value:"0",description:'"0"'},function(){return parseFloat(text())},function(e,n){t.data.params||(t.data.params={}),n=null===n?void 0:n[1],t.data.params[e.toLowerCase()]=n},"render",{type:"literal",value:"render",description:'"render"'},"session",{type:"literal",value:"session",description:'"session"'},"icon",{type:"literal",value:"icon",description:'"icon"'},"alert",{type:"literal",value:"alert",description:'"alert"'},function(){"Content_Disposition"===t.startRule&&(t.data.type=text().toLowerCase())},"handling",{type:"literal",value:"handling",description:'"handling"'},"optional",{type:"literal",value:"optional",description:'"optional"'},"required",{type:"literal",value:"required",description:'"required"'},function(e){t.data=parseInt(e.join(""))},function(){t.data=text()},"text",{type:"literal",value:"text",description:'"text"'},"image",{type:"literal",value:"image",description:'"image"'},"audio",{type:"literal",value:"audio",description:'"audio"'},"video",{type:"literal",value:"video",description:'"video"'},"application",{type:"literal",value:"application",description:'"application"'},"message",{type:"literal",value:"message",description:'"message"'},"multipart",{type:"literal",value:"multipart",description:'"multipart"'},"x-",{type:"literal",value:"x-",description:'"x-"'},function(e){t.data.value=parseInt(e.join(""))},function(e){t.data=e},function(e){t.data.event=e.toLowerCase()},function(){var e=t.data.tag;t.data=new t.SIP.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"tag",{type:"literal",value:"tag",description:'"tag"'},function(e){t.data.tag=e},function(e){t.data=parseInt(e.join(""))},function(e){t.data=e},function(){t.data=new t.SIP.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},"digest",{type:"literal",value:"Digest",description:'"Digest"'},"realm",{type:"literal",value:"realm",description:'"realm"'},function(e){t.data.realm=e},"domain",{type:"literal",value:"domain",description:'"domain"'},"nonce",{type:"literal",value:"nonce",description:'"nonce"'},function(e){t.data.nonce=e},"opaque",{type:"literal",value:"opaque",description:'"opaque"'},function(e){t.data.opaque=e},"stale",{type:"literal",value:"stale",description:'"stale"'},"true",{type:"literal",value:"true",description:'"true"'},function(){t.data.stale=!0},"false",{type:"literal",value:"false",description:'"false"'},function(){t.data.stale=!1},"algorithm",{type:"literal",value:"algorithm",description:'"algorithm"'},"md5",{type:"literal",value:"MD5",description:'"MD5"'},"md5-sess",{type:"literal",value:"MD5-sess",description:'"MD5-sess"'},function(e){t.data.algorithm=e.toUpperCase()},"qop",{type:"literal",value:"qop",description:'"qop"'},"auth-int",{type:"literal",value:"auth-int",description:'"auth-int"'},"auth",{type:"literal",value:"auth",description:'"auth"'},function(e){t.data.qop||(t.data.qop=[]),t.data.qop.push(e.toLowerCase())},function(e){t.data.value=parseInt(e.join(""))},function(){var e,n;for(n=t.data.multi_header.length,e=0;e<n;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;t.data.multi_header||(t.data.multi_header=[]);try{e=new t.SIP.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(t){e=null}t.data.multi_header.push({position:s,offset:offset(),parsed:e})},function(){t.data=new t.SIP.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},function(){t.data.replaces_from_tag&&t.data.replaces_to_tag||(t.data=-1)},function(){t.data={call_id:t.data}},"from-tag",{type:"literal",value:"from-tag",description:'"from-tag"'},function(e){t.data.replaces_from_tag=e},"to-tag",{type:"literal",value:"to-tag",description:'"to-tag"'},function(e){t.data.replaces_to_tag=e},"early-only",{type:"literal",value:"early-only",description:'"early-only"'},function(){t.data.early_only=!0},function(e){return e},function(e,t){return list(e,t)},function(e){"Require"===t.startRule&&(t.data=e||[])},function(e){t.data.value=parseInt(e.join(""))},"active",{type:"literal",value:"active",description:'"active"'},"pending",{type:"literal",value:"pending",description:'"pending"'},"terminated",{type:"literal",value:"terminated",description:'"terminated"'},function(){t.data.state=text()},"reason",{type:"literal",value:"reason",description:'"reason"'},function(e){void 0!==e&&(t.data.reason=e)},function(e){void 0!==e&&(t.data.expires=e)},"retry_after",{type:"literal",value:"retry_after",description:'"retry_after"'},function(e){void 0!==e&&(t.data.retry_after=e)},"deactivated",{type:"literal",value:"deactivated",description:'"deactivated"'},"probation",{type:"literal",value:"probation",description:'"probation"'},"rejected",{type:"literal",value:"rejected",description:'"rejected"'},"timeout",{type:"literal",value:"timeout",description:'"timeout"'},"giveup",{type:"literal",value:"giveup",description:'"giveup"'},"noresource",{type:"literal",value:"noresource",description:'"noresource"'},"invariant",{type:"literal",value:"invariant",description:'"invariant"'},function(e){"Supported"===t.startRule&&(t.data=e||[])},function(){var e=t.data.tag;t.data=new t.SIP.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"ttl",{type:"literal",value:"ttl",description:'"ttl"'},function(e){t.data.ttl=e},"maddr",{type:"literal",value:"maddr",description:'"maddr"'},function(e){t.data.maddr=e},"received",{type:"literal",value:"received",description:'"received"'},function(e){t.data.received=e},"branch",{type:"literal",value:"branch",description:'"branch"'},function(e){t.data.branch=e},"rport",{type:"literal",value:"rport",description:'"rport"'},function(){"undefined"!=typeof response_port&&(t.data.rport=response_port.join(""))},function(e){t.data.protocol=e},{type:"literal",value:"UDP",description:'"UDP"'},{type:"literal",value:"TCP",description:'"TCP"'},{type:"literal",value:"TLS",description:'"TLS"'},{type:"literal",value:"SCTP",description:'"SCTP"'},function(e){t.data.transport=e},function(){t.data.host=text()},function(e){t.data.port=parseInt(e.join(""))},function(e){return parseInt(e.join(""))},function(e){"Session_Expires"===t.startRule&&(t.data.deltaSeconds=e)},"refresher",{type:"literal",value:"refresher",description:'"refresher"'},"uas",{type:"literal",value:"uas",description:'"uas"'},"uac",{type:"literal",value:"uac",description:'"uac"'},function(e){"Session_Expires"===t.startRule&&(t.data.refresher=e)},function(e){"Min_SE"===t.startRule&&(t.data=e)},"stuns",{type:"literal",value:"stuns",description:'"stuns"'},"stun",{type:"literal",value:"stun",description:'"stun"'},function(e){t.data.scheme=e},function(e){t.data.host=e},"?transport=",{type:"literal",value:"?transport=",description:'"?transport="'},"turns",{type:"literal",value:"turns",description:'"turns"'},"turn",{type:"literal",value:"turn",description:'"turn"'},function(){t.data.transport=transport},function(){t.data=text()}],a=[peg$decode('. ""2 3!'),peg$decode('0"""1!3#'),peg$decode('0$""1!3%'),peg$decode('0&""1!3\''),peg$decode("7'*# \"7("),peg$decode('0(""1!3)'),peg$decode('0*""1!3+'),peg$decode('.,""2,3-'),peg$decode('..""2.3/'),peg$decode('00""1!31'),peg$decode('.2""2233* ".4""2435*} ".6""2637*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),peg$decode('7)*# "7,'),peg$decode('.F""2F3G*} ".H""2H3I*q ".J""2J3K*e ".L""2L3M*Y ".N""2N3O*M ".P""2P3Q*A ".R""2R3S*5 ".T""2T3U*) ".V""2V3W'),peg$decode('!!.Y""2Y3Z+7$7#+-%7#+#%\'#%$## X$"# X"# X+! (%'),peg$decode('!! \\7$,#&7$"+-$7 +#%\'"%$"# X"# X*# " [+@$ \\7$+&$,#&7$""" X+\'%4"6]" %$"# X"# X'),peg$decode('7.*# " ['),peg$decode('! \\7\'*# "7(,)&7\'*# "7("+A$.8""2839+1%7/+\'%4#6^# %$## X$"# X"# X'),peg$decode('!! \\72+&$,#&72""" X+o$ \\! \\7.,#&7."+-$72+#%\'"%$"# X"# X,@&! \\7.,#&7."+-$72+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+! (%'),peg$decode('0_""1!3`*# "73'),peg$decode('0a""1!3b'),peg$decode('0c""1!3d'),peg$decode('7!*) "0e""1!3f'),peg$decode('! \\7)* ".F""2F3G* ".J""2J3K*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O+$,&7)* ".F""2F3G* ".J""2J3K*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O""" X+! (%'),peg$decode('! \\7)* ".F""2F3G*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O+$,&7)* ".F""2F3G*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O""" X+! (%'),peg$decode('.T""2T3U*ã ".V""2V3W*× ".i""2i3j*Ë ".k""2k3l*¿ ".:""2:3;*³ ".D""2D3E*§ ".2""2233* ".8""2839* ".m""2m3n* "7&*} ".4""2435*q ".o""2o3p*e ".q""2q3r*Y ".6""2637*M ".>""2>3?*A ".s""2s3t*5 ".u""2u3v*) "7\'*# "7('),peg$decode('! \\7)*ī ".F""2F3G*ğ ".J""2J3K*ē ".L""2L3M*ć ".Y""2Y3Z*û ".P""2P3Q*ï ".H""2H3I*ã ".@""2@3A*× ".g""2g3h*Ë ".R""2R3S*¿ ".N""2N3O*³ ".T""2T3U*§ ".V""2V3W* ".i""2i3j* ".k""2k3l* ".8""2839*w ".m""2m3n*k "7&*e ".4""2435*Y ".o""2o3p*M ".q""2q3r*A ".6""2637*5 ".s""2s3t*) ".u""2u3v+Ĵ$,ı&7)*ī ".F""2F3G*ğ ".J""2J3K*ē ".L""2L3M*ć ".Y""2Y3Z*û ".P""2P3Q*ï ".H""2H3I*ã ".@""2@3A*× ".g""2g3h*Ë ".R""2R3S*¿ ".N""2N3O*³ ".T""2T3U*§ ".V""2V3W* ".i""2i3j* ".k""2k3l* ".8""2839*w ".m""2m3n*k "7&*e ".4""2435*Y ".o""2o3p*M ".q""2q3r*A ".6""2637*5 ".s""2s3t*) ".u""2u3v""" X+! (%'),peg$decode('!7/+A$.P""2P3Q+1%7/+\'%4#6w# %$## X$"# X"# X'),peg$decode('!7/+A$.4""2435+1%7/+\'%4#6x# %$## X$"# X"# X'),peg$decode('!7/+A$.>""2>3?+1%7/+\'%4#6y# %$## X$"# X"# X'),peg$decode('!7/+A$.T""2T3U+1%7/+\'%4#6z# %$## X$"# X"# X'),peg$decode('!7/+A$.V""2V3W+1%7/+\'%4#6{# %$## X$"# X"# X'),peg$decode('!.k""2k3l+1$7/+\'%4"6|" %$"# X"# X'),peg$decode('!7/+7$.i""2i3j+\'%4"6}" %$"# X"# X'),peg$decode('!7/+A$.D""2D3E+1%7/+\'%4#6~# %$## X$"# X"# X'),peg$decode('!7/+A$.2""2233+1%7/+\'%4#6# %$## X$"# X"# X'),peg$decode('!7/+A$.8""2839+1%7/+\'%4#6# %$## X$"# X"# X'),peg$decode('!7/+1$7&+\'%4"6" %$"# X"# X'),peg$decode('!7&+1$7/+\'%4"6" %$"# X"# X'),peg$decode('!7=+W$ \\7G*) "7K*# "7F,/&7G*) "7K*# "7F"+-%7>+#%\'#%$## X$"# X"# X'),peg$decode('0""1!3*A "0""1!3*5 "0""1!3*) "73*# "7.'),peg$decode('!!7/+U$7&+K% \\7J*# "7K,)&7J*# "7K"+-%7&+#%\'$%$$# X$## X$"# X"# X+! (%'),peg$decode('!7/+`$7&+V%! \\7J*# "7K,)&7J*# "7K"+! (%+2%7&+(%4$6$!!%$$# X$## X$"# X"# X'),peg$decode('7.*G ".L""2L3M*; "0""1!3*/ "0""1!3*# "73'),peg$decode('!.m""2m3n+K$0""1!3*5 "0""1!3*) "0""1!3+#%\'"%$"# X"# X'),peg$decode('!7N+Q$.8""2839+A%7O*# " [+1%7S+\'%4$6$ %$$# X$## X$"# X"# X'),peg$decode('!7N+k$.8""2839+[%7O*# " [+K%7S+A%7_+7%7l*# " [+\'%4&6& %$&# X$%# X$$# X$## X$"# X"# X'),peg$decode('!/""1$3*) "/""1#3+\' 4!6!! %'),peg$decode('!7P+b$!.8""2839+-$7R+#%\'"%$"# X"# X*# " [+7%.:""2:3;+\'%4#6# %$## X$"# X"# X'),peg$decode(' \\7+*) "7-*# "7Q+2$,/&7+*) "7-*# "7Q""" X'),peg$decode('.<""2<3=*q ".>""2>3?*e ".@""2@3A*Y ".B""2B3C*M ".D""2D3E*A ".2""2233*5 ".6""2637*) ".4""2435'),peg$decode('! \\7+*_ "7-*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E,e&7+*_ "7-*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E"+& 4!6! %'),peg$decode('!7T+N$!.8""2839+-$7^+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),peg$decode('!7U*) "7\\*# "7X+& 4!6! %'),peg$decode('! \\!7V+3$.J""2J3K+#%\'"%$"# X"# X,>&!7V+3$.J""2J3K+#%\'"%$"# X"# X"+G$7W+=%.J""2J3K*# " [+\'%4#6# %$## X$"# X"# X'),peg$decode(' \\0""1!3+,$,)&0""1!3""" X'),peg$decode('!0$""1!3%+A$ \\0""1!3,)&0""1!3"+#%\'"%$"# X"# X'),peg$decode('!.o""2o3p+A$7Y+7%.q""2q3r+\'%4#6 # %$## X$"# X"# X'),peg$decode('!!7Z+¿$.8""2839+¯%7Z+¥%.8""2839+%7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'-%$-# X$,# X$+# X$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*࠸ "!.¡""2¡3¢+¯$7Z+¥%.8""2839+%7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\',%$,# X$+# X$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*ޕ "!.¡""2¡3¢+$7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'*%$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*܌ "!.¡""2¡3¢+{$7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*ڝ "!.¡""2¡3¢+a$7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'&%$&# X$%# X$$# X$## X$"# X"# X*و "!.¡""2¡3¢+G$7Z+=%.8""2839+-%7[+#%\'$%$$# X$## X$"# X"# X*؍ "!.¡""2¡3¢+-$7[+#%\'"%$"# X"# X*׬ "!.¡""2¡3¢+-$7Z+#%\'"%$"# X"# X*׋ "!7Z+¥$.¡""2¡3¢+%7Z+%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'+%$+# X$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*Ը "!7Z+¶$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%.¡""2¡3¢+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\'*%$*# X$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*Ҕ "!7Z+Ç$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+q%.¡""2¡3¢+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%\')%$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*ϟ "!7Z+Ø$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+­%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+W%.¡""2¡3¢+G%7Z+=%.8""2839+-%7[+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*̙ "!7Z+é$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+¾%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+h%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+=%.¡""2¡3¢+-%7[+#%\'\'%$\'# X$&# X$%# X$$# X$## X$"# X"# X*ɂ "!7Z+Ĕ$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+é%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+¾%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+h%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+=%.¡""2¡3¢+-%7Z+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X*ŀ "!7Z+ĵ$!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+Ċ%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+ß%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+´%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+^%!.8""2839+-$7Z+#%\'"%$"# X"# X*# " [+3%.¡""2¡3¢+#%\'(%$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X+& 4!6£! %'),peg$decode('!7#+S$7#*# " [+C%7#*# " [+3%7#*# " [+#%\'$%$$# X$## X$"# X"# X'),peg$decode('!7Z+=$.8""2839+-%7Z+#%\'#%$## X$"# X"# X*# "7\\'),peg$decode('!7]+u$.J""2J3K+e%7]+[%.J""2J3K+K%7]+A%.J""2J3K+1%7]+\'%4\'6¤\' %$\'# X$&# X$%# X$$# X$## X$"# X"# X'),peg$decode('!.¥""2¥3¦+3$0§""1!3¨+#%\'"%$"# X"# X*  "!.©""2©3ª+=$0«""1!3¬+-%7!+#%\'#%$## X$"# X"# X*o "!.­""2­3®+7$7!+-%7!+#%\'#%$## X$"# X"# X*D "!0¯""1!3°+-$7!+#%\'"%$"# X"# X*# "7!'),peg$decode('!!7!*# " [+c$7!*# " [+S%7!*# " [+C%7!*# " [+3%7!*# " [+#%\'%%$%# X$$# X$## X$"# X"# X+\' 4!6±!! %'),peg$decode(' \\!.2""2233+-$7`+#%\'"%$"# X"# X,>&!.2""2233+-$7`+#%\'"%$"# X"# X"'),peg$decode('7a*A "7b*; "7c*5 "7d*/ "7e*) "7f*# "7g'),peg$decode('!/²""1*3³+b$/´""1#3µ*G "/¶""1#3·*; "/¸""1$3¹*/ "/º""1#3»*# "76+(%4"6¼"! %$"# X"# X'),peg$decode('!/½""1%3¾+J$/¿""1%3À*/ "/Á""1"3Â*# "76+(%4"6Ã"! %$"# X"# X'),peg$decode('!/Ä""1\'3Å+2$7+(%4"6Æ"! %$"# X"# X'),peg$decode('!/Ç""1$3È+2$7ï+(%4"6É"! %$"# X"# X'),peg$decode('!/Ê""1&3Ë+2$7T+(%4"6Ì"! %$"# X"# X'),peg$decode('!/Í""1"3Î+R$!.>""2>3?+-$76+#%\'"%$"# X"# X*# " [+\'%4"6Ï" %$"# X"# X'),peg$decode('!7h+T$!.>""2>3?+-$7i+#%\'"%$"# X"# X*# " [+)%4"6Ð""! %$"# X"# X'),peg$decode('! \\7j+&$,#&7j""" X+! (%'),peg$decode('! \\7j+&$,#&7j""" X+! (%'),peg$decode('7k*) "7+*# "7-'),peg$decode('.o""2o3p*e ".q""2q3r*Y ".4""2435*M ".8""2839*A ".<""2<3=*5 ".@""2@3A*) ".B""2B3C'),peg$decode('!.6""2637+u$7m+k% \\!.<""2<3=+-$7m+#%\'"%$"# X"# X,>&!.<""2<3=+-$7m+#%\'"%$"# X"# X"+#%\'#%$## X$"# X"# X'),peg$decode('!7n+C$.>""2>3?+3%7o+)%4#6Ñ#"" %$## X$"# X"# X'),peg$decode(' \\7p*) "7+*# "7-+2$,/&7p*) "7+*# "7-""" X'),peg$decode(' \\7p*) "7+*# "7-,/&7p*) "7+*# "7-"'),peg$decode('.o""2o3p*e ".q""2q3r*Y ".4""2435*M ".6""2637*A ".8""2839*5 ".@""2@3A*) ".B""2B3C'),peg$decode('7*# "7r'),peg$decode("!7+K$7'+A%7s+7%7'+-%7+#%'%%$%# X$$# X$## X$\"# X\"# X"),peg$decode('7M*# "7t'),peg$decode('!7+G$.8""2839+7%7u*# "7x+\'%4#6Ò# %$## X$"# X"# X'),peg$decode('!7v*# "7w+N$!.6""2637+-$7+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),peg$decode('!.Ó""2Ó3Ô+=$7+3%7w*# " [+#%\'#%$## X$"# X"# X'),peg$decode('!.4""2435+-$7{+#%\'"%$"# X"# X'),peg$decode('!7z+5$ \\7y,#&7y"+#%\'"%$"# X"# X'),peg$decode('7**) "7+*# "7-'),peg$decode('7+* "7-* ".2""2233*} ".6""2637*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),peg$decode('!7|+k$ \\!.4""2435+-$7|+#%\'"%$"# X"# X,>&!.4""2435+-$7|+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),peg$decode('! \\7~,#&7~"+k$ \\!.2""2233+-$7}+#%\'"%$"# X"# X,>&!.2""2233+-$7}+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),peg$decode(' \\7~,#&7~"'),peg$decode('7+*w "7-*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),peg$decode('!7"+$ \\7"*G "7!*A ".@""2@3A*5 ".F""2F3G*) ".J""2J3K,M&7"*G "7!*A ".@""2@3A*5 ".F""2F3G*) ".J""2J3K"+\'%4"6Õ" %$"# X"# X'),peg$decode('7*# "7'),peg$decode('!!7O+3$.:""2:3;+#%\'"%$"# X"# X*# " [+-$7S+#%\'"%$"# X"# X*# " ['),peg$decode(' \\7+* "7-*} ".B""2B3C*q ".D""2D3E*e ".2""2233*Y ".8""2839*M ".:""2:3;*A ".<""2<3=*5 ".>""2>3?*) ".@""2@3A+$,&7+* "7-*} ".B""2B3C*q ".D""2D3E*e ".2""2233*Y ".8""2839*M ".:""2:3;*A ".<""2<3=*5 ".>""2>3?*) ".@""2@3A""" X'),peg$decode(' \\7y,#&7y"'),peg$decode('!/""1#3Ö+y$.4""2435+i% \\7!+&$,#&7!""" X+P%.J""2J3K+@% \\7!+&$,#&7!""" X+\'%4%6×% %$%# X$$# X$## X$"# X"# X'),peg$decode('.Ø""2Ø3Ù'),peg$decode('.Ú""2Ú3Û'),peg$decode('.Ü""2Ü3Ý'),peg$decode('.Þ""2Þ3ß'),peg$decode('.à""2à3á'),peg$decode('.â""2â3ã'),peg$decode('.ä""2ä3å'),peg$decode('.æ""2æ3ç'),peg$decode('.è""2è3é'),peg$decode('.ê""2ê3ë'),peg$decode('!7*S "7*M "7*G "7*A "7*; "7*5 "7*/ "7*) "7*# "76+& 4!6ì! %'),peg$decode("!7+K$7'+A%7+7%7'+-%7+#%'%%$%# X$$# X$## X$\"# X\"# X"),peg$decode("!7+' 4!6í!! %"),peg$decode('!7!+7$7!+-%7!+#%\'#%$## X$"# X"# X'),peg$decode('! \\7**A "7+*; "7-*5 "73*/ "74*) "7\'*# "7(,G&7**A "7+*; "7-*5 "73*/ "74*) "7\'*# "7("+& 4!6î! %'),peg$decode('!7µ+_$ \\!7A+-$7µ+#%\'"%$"# X"# X,8&!7A+-$7µ+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),peg$decode('!79+R$!.:""2:3;+-$79+#%\'"%$"# X"# X*# " [+\'%4"6ï" %$"# X"# X'),peg$decode('!7:*j "!7+_$ \\!7A+-$7+#%\'"%$"# X"# X,8&!7A+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+& 4!6ð! %'),peg$decode('!7L*# "7+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6ñ" %$"# X"# X'),peg$decode('!7*# " [+A$7@+7%7M+-%7?+#%\'$%$$# X$## X$"# X"# X'),peg$decode('!!76+_$ \\!7.+-$76+#%\'"%$"# X"# X,8&!7.+-$76+#%\'"%$"# X"# X"+#%\'"%$"# X"# X*# "7H+\' 4!6ò!! %'),peg$decode('7*) "7*# "7'),peg$decode('!/ó""1!3ô+<$7<+2%7+(%4#6õ#! %$## X$"# X"# X'),peg$decode('!/ö""1\'3÷+<$7<+2%7+(%4#6ø#! %$## X$"# X"# X'),peg$decode('! \\7!+&$,#&7!""" X+\' 4!6ù!! %'),peg$decode('!.ú""2ú3û+x$!.J""2J3K+S$7!*# " [+C%7!*# " [+3%7!*# " [+#%\'$%$$# X$## X$"# X"# X*# " [+\'%4"6ü" %$"# X"# X'),peg$decode('!76+N$!7<+-$7 +#%\'"%$"# X"# X*# " [+)%4"6ý""! %$"# X"# X'),peg$decode('76*) "7T*# "7H'),peg$decode('!7¢+_$ \\!7B+-$7£+#%\'"%$"# X"# X,8&!7B+-$7£+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),peg$decode('!/þ""1&3ÿ*G "/Ā""1\'3ā*; "/Ă""1$3ă*/ "/Ą""1%3ą*# "76+& 4!6Ć! %'),peg$decode('7¤*# "7'),peg$decode('!/ć""1(3Ĉ+O$7<+E%/ĉ""1(3Ċ*/ "/ċ""1(3Č*# "76+#%\'#%$## X$"# X"# X'),peg$decode('!76+_$ \\!7A+-$76+#%\'"%$"# X"# X,8&!7A+-$76+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),peg$decode('! \\7!+&$,#&7!""" X+\' 4!6č!! %'),peg$decode("!7¨+& 4!6Ď! %"),peg$decode('!7©+s$7;+i%7®+_% \\!7B+-$7¯+#%\'"%$"# X"# X,8&!7B+-$7¯+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X'),peg$decode('7ª*# "7«'),peg$decode('/ď""1$3Đ*S "/đ""1%3Ē*G "/ē""1%3Ĕ*; "/ĕ""1%3Ė*/ "/ė""1+3Ę*# "7¬'),peg$decode('/ę""1\'3Ě*/ "/ě""1)3Ĝ*# "7¬'),peg$decode('76*# "7­'),peg$decode('!/ĝ""1"3Ğ+-$76+#%\'"%$"# X"# X'),peg$decode('7¬*# "76'),peg$decode('!76+7$7<+-%7°+#%\'#%$## X$"# X"# X'),peg$decode('76*# "7H'),peg$decode('!7²+7$7.+-%7+#%\'#%$## X$"# X"# X'),peg$decode('! \\7!+&$,#&7!""" X+\' 4!6ğ!! %'),peg$decode("!7+' 4!6Ġ!! %"),peg$decode('!7µ+d$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+(%4"6ġ"!!%$"# X"# X'),peg$decode('!!77+k$ \\!.J""2J3K+-$77+#%\'"%$"# X"# X,>&!.J""2J3K+-$77+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+! (%'),peg$decode('!7L*# "7+c$ \\!7B+-$7·+#%\'"%$"# X"# X,8&!7B+-$7·+#%\'"%$"# X"# X"+\'%4"6Ģ" %$"# X"# X'),peg$decode('7¸*# "7'),peg$decode('!/ģ""1#3Ĥ+<$7<+2%76+(%4#6ĥ#! %$## X$"# X"# X'),peg$decode('! \\7!+&$,#&7!""" X+\' 4!6Ħ!! %'),peg$decode("!7+' 4!6ħ!! %"),peg$decode('! \\7,#&7"+$7@+w%7M+m%7?+c% \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4%6Ĩ% %$%# X$$# X$## X$"# X"# X'),peg$decode("7½"),peg$decode('!/ĩ""1&3Ī+s$7.+i%7À+_% \\!7A+-$7À+#%\'"%$"# X"# X,8&!7A+-$7À+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X*# "7¾'),peg$decode('!76+s$7.+i%7¿+_% \\!7A+-$7¿+#%\'"%$"# X"# X,8&!7A+-$7¿+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X'),peg$decode('!76+=$7<+3%76*# "7H+#%\'#%$## X$"# X"# X'),peg$decode('7Á*G "7Ã*A "7Å*; "7Ç*5 "7È*/ "7É*) "7Ê*# "7¿'),peg$decode('!/ī""1%3Ĭ+7$7<+-%7Â+#%\'#%$## X$"# X"# X'),peg$decode("!7I+' 4!6ĭ!! %"),peg$decode('!/Į""1&3į+¥$7<+%7D+%7Ä+% \\! \\7\'+&$,#&7\'""" X+-$7Ä+#%\'"%$"# X"# X,G&! \\7\'+&$,#&7\'""" X+-$7Ä+#%\'"%$"# X"# X"+-%7E+#%\'&%$&# X$%# X$$# X$## X$"# X"# X'),peg$decode('7t*# "7w'),peg$decode('!/İ""1%3ı+7$7<+-%7Æ+#%\'#%$## X$"# X"# X'),peg$decode("!7I+' 4!6Ĳ!! %"),peg$decode('!/ĳ""1&3Ĵ+<$7<+2%7I+(%4#6ĵ#! %$## X$"# X"# X'),peg$decode('!/Ķ""1%3ķ+_$7<+U%!/ĸ""1$3Ĺ+& 4!6ĺ! %*4 "!/Ļ""1%3ļ+& 4!6Ľ! %+#%\'#%$## X$"# X"# X'),peg$decode('!/ľ""1)3Ŀ+T$7<+J%/ŀ""1#3Ł*/ "/ł""1(3Ń*# "76+(%4#6ń#! %$## X$"# X"# X'),peg$decode('!/Ņ""1#3ņ+$7<+%7D+%!7Ë+k$ \\!.D""2D3E+-$7Ë+#%\'"%$"# X"# X,>&!.D""2D3E+-$7Ë+#%\'"%$"# X"# X"+#%\'"%$"# X"# X+-%7E+#%\'%%$%# X$$# X$## X$"# X"# X'),peg$decode('!/Ň""1(3ň*/ "/ŉ""1$3Ŋ*# "76+\' 4!6ŋ!! %'),peg$decode('!76+_$ \\!7A+-$76+#%\'"%$"# X"# X,8&!7A+-$76+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),peg$decode('!7Î+K$7.+A%7Î+7%7.+-%7+#%\'%%$%# X$$# X$## X$"# X"# X'),peg$decode('! \\7!+&$,#&7!""" X+\' 4!6Ō!! %'),peg$decode('!7Ð+c$ \\!7A+-$7Ð+#%\'"%$"# X"# X,8&!7A+-$7Ð+#%\'"%$"# X"# X"+\'%4"6ō" %$"# X"# X'),peg$decode('!7+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6Ŏ" %$"# X"# X'),peg$decode('!7L*T "7*N "!7@*# " [+=$7t+3%7?*# " [+#%\'#%$## X$"# X"# X+c$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+\'%4"6ŏ" %$"# X"# X'),peg$decode('!7Ó+c$ \\!7B+-$7Ô+#%\'"%$"# X"# X,8&!7B+-$7Ô+#%\'"%$"# X"# X"+\'%4"6Ő" %$"# X"# X'),peg$decode("!7+& 4!6ő! %"),peg$decode('!/Œ""1(3œ+<$7<+2%76+(%4#6Ŕ#! %$## X$"# X"# X*j "!/ŕ""1&3Ŗ+<$7<+2%76+(%4#6ŗ#! %$## X$"# X"# X*: "!/Ř""1*3ř+& 4!6Ś! %*# "7'),peg$decode('!!76+o$ \\!7A+2$76+(%4"6ś"! %$"# X"# X,=&!7A+2$76+(%4"6ś"! %$"# X"# X"+)%4"6Ŝ""! %$"# X"# X*# " [+\' 4!6ŝ!! %'),peg$decode('!7×+_$ \\!7A+-$7×+#%\'"%$"# X"# X,8&!7A+-$7×+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),peg$decode('!7+_$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),peg$decode('! \\7!+&$,#&7!""" X+\' 4!6Ş!! %'),peg$decode('!7Ú+_$ \\!7B+-$7Û+#%\'"%$"# X"# X,8&!7B+-$7Û+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),peg$decode('!/ş""1&3Š*; "/š""1\'3Ţ*/ "/ţ""1*3Ť*# "76+& 4!6ť! %'),peg$decode('!/Ŧ""1&3ŧ+<$7<+2%7Ü+(%4#6Ũ#! %$## X$"# X"# X* "!/ö""1\'3÷+<$7<+2%7+(%4#6ũ#! %$## X$"# X"# X*S "!/Ū""1+3ū+<$7<+2%7+(%4#6Ŭ#! %$## X$"# X"# X*# "7'),peg$decode('/ŭ""1+3Ů*k "/ů""1)3Ű*_ "/ű""1(3Ų*S "/ų""1\'3Ŵ*G "/ŵ""1&3Ŷ*; "/ŷ""1*3Ÿ*/ "/Ź""1)3ź*# "76'),peg$decode('71*# " ['),peg$decode('!!76+o$ \\!7A+2$76+(%4"6ś"! %$"# X"# X,=&!7A+2$76+(%4"6ś"! %$"# X"# X"+)%4"6Ŝ""! %$"# X"# X*# " [+\' 4!6Ż!! %'),peg$decode('!7L*# "7+c$ \\!7B+-$7à+#%\'"%$"# X"# X,8&!7B+-$7à+#%\'"%$"# X"# X"+\'%4"6ż" %$"# X"# X'),peg$decode('7¸*# "7'),peg$decode('!7â+_$ \\!7A+-$7â+#%\'"%$"# X"# X,8&!7A+-$7â+#%\'"%$"# X"# X"+#%\'"%$"# X"# X'),peg$decode('!7é+s$7.+i%7ì+_% \\!7B+-$7ã+#%\'"%$"# X"# X,8&!7B+-$7ã+#%\'"%$"# X"# X"+#%\'$%$$# X$## X$"# X"# X'),peg$decode('7ä*; "7å*5 "7æ*/ "7ç*) "7è*# "7'),peg$decode('!/Ž""1#3ž+<$7<+2%7ï+(%4#6ſ#! %$## X$"# X"# X'),peg$decode('!/ƀ""1%3Ɓ+<$7<+2%7T+(%4#6Ƃ#! %$## X$"# X"# X'),peg$decode('!/ƃ""1(3Ƅ+B$7<+8%7\\*# "7Y+(%4#6ƅ#! %$## X$"# X"# X'),peg$decode('!/Ɔ""1&3Ƈ+<$7<+2%76+(%4#6ƈ#! %$## X$"# X"# X'),peg$decode('!/Ɖ""1%3Ɗ+T$!7<+5$ \\7!,#&7!"+#%\'"%$"# X"# X*# " [+\'%4"6Ƌ" %$"# X"# X'),peg$decode('!7ê+K$7;+A%76+7%7;+-%7ë+#%\'%%$%# X$$# X$## X$"# X"# X'),peg$decode('!/""1#3Ö*# "76+\' 4!6ƌ!! %'),peg$decode('!/´""1#3ƍ*G "/¶""1#3Ǝ*; "/º""1#3Ə*/ "/¸""1$3Ɛ*# "76+\' 4!6Ƒ!! %'),peg$decode('!7í+H$!7C+-$7î+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),peg$decode('!7U*) "7\\*# "7X+& 4!6ƒ! %'),peg$decode('!!7!*# " [+c$7!*# " [+S%7!*# " [+C%7!*# " [+3%7!*# " [+#%\'%%$%# X$$# X$## X$"# X"# X+\' 4!6Ɠ!! %'),peg$decode('!!7!+C$7!*# " [+3%7!*# " [+#%\'#%$## X$"# X"# X+\' 4!6Ɣ!! %'),peg$decode("7½"),peg$decode('!7+d$ \\!7B+-$7ò+#%\'"%$"# X"# X,8&!7B+-$7ò+#%\'"%$"# X"# X"+(%4"6ƕ"!!%$"# X"# X'),peg$decode('7ó*# "7'),peg$decode('!.Ɩ""2Ɩ3Ɨ+N$7<+D%.Ƙ""2Ƙ3ƙ*) ".ƚ""2ƚ3ƛ+(%4#6Ɯ#! %$## X$"# X"# X'),peg$decode('!7+d$ \\!7B+-$7+#%\'"%$"# X"# X,8&!7B+-$7+#%\'"%$"# X"# X"+(%4"6Ɲ"!!%$"# X"# X'),peg$decode('!76+7$70+-%7ö+#%\'#%$## X$"# X"# X'),peg$decode(' \\72*) "74*# "7.,/&72*) "74*# "7."'),peg$decode(' \\7%,#&7%"'),peg$decode('!7ù+=$.8""2839+-%7ú+#%\'#%$## X$"# X"# X'),peg$decode('!/ƞ""1%3Ɵ*) "/Ơ""1$3ơ+\' 4!6Ƣ!! %'),peg$decode('!7û+N$!.8""2839+-$7^+#%\'"%$"# X"# X*# " [+#%\'"%$"# X"# X'),peg$decode('!7\\*) "7X*# "7+\' 4!6ƣ!! %'),peg$decode('! \\7ý*) "7-*# "7þ,/&7ý*) "7-*# "7þ"+! (%'),peg$decode('7"*S "7!*M ".F""2F3G*A ".J""2J3K*5 ".H""2H3I*) ".N""2N3O'),peg$decode('.L""2L3M* ".B""2B3C* ".<""2<3=*} ".R""2R3S*q ".T""2T3U*e ".V""2V3W*Y ".P""2P3Q*M ".@""2@3A*A ".D""2D3E*5 ".2""2233*) ".>""2>3?'),peg$decode('!7Ā+h$.8""2839+X%7ú+N%!.Ƥ""2Ƥ3ƥ+-$7ë+#%\'"%$"# X"# X*# " [+#%\'$%$$# X$## X$"# X"# X'),peg$decode('!/Ʀ""1%3Ƨ*) "/ƨ""1$3Ʃ+\' 4!6Ƣ!! %'),peg$decode('!7ë+Q$/´""1#3µ*7 "/¶""1#3·*+ " \\7+,#&7+"+\'%4"6ƪ" %$"# X"# X'),peg$decode('!7Ą+$.F""2F3G+%7ă+u%.F""2F3G+e%7ă+[%.F""2F3G+K%7ă+A%.F""2F3G+1%7ą+\'%4)6ƫ) %$)# X$(# X$\'# X$&# X$%# X$$# X$## X$"# X"# X'),peg$decode('!7#+A$7#+7%7#+-%7#+#%\'$%$$# X$## X$"# X"# X'),peg$decode('!7ă+-$7ă+#%\'"%$"# X"# X'),peg$decode('!7ă+7$7ă+-%7ă+#%\'#%$## X$"# X"# X')],s=0,c=0,u=0,l={line:1,column:1,seenCR:!1},d=0,p=[],h=0,f;if("startRule"in t){if(!(t.startRule in r))throw new Error("Can't start parsing from rule \""+t.startRule+'".');i=r[t.startRule]}if(t.data={},(f=peg$parseRule(i))!==n&&s===e.length)return f;throw f!==n&&s<e.length&&peg$fail({type:"end",description:"end of input"}),peg$buildException(null,p,d)}return peg$subclass(SyntaxError,Error),{SyntaxError:SyntaxError,parse:parse}}()},function(e,t,n){"use strict";function LocalParticipantV2(){if(!(this instanceof LocalParticipantV2))return new LocalParticipantV2;o.call(this),Object.defineProperties(this,{_revision:{writable:!0,value:1},revision:{enumerable:!0,get:function(){return this._revision}}})}var r=n(1082).getState,i=n(24).inherits,o=n(865);i(LocalParticipantV2,o),LocalParticipantV2.prototype.update=function update(){return this._revision++,this},LocalParticipantV2.prototype.getState=function getState(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map(r)}},e.exports=LocalParticipantV2},function(e,t,n){"use strict";function Signaling(){a.call(this,"closed",s)}var r=n(24).inherits,i=n(865),o=n(1081),a=n(343),s={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]};r(Signaling,a),Signaling.prototype._close=function _close(e){return this.transition("closing",e),this.transition("closed",e),Promise.resolve(this)},Signaling.prototype._connect=function _connect(e,t,n){e.connect("PA00000000000000000000000000000000","test");var r="RM00000000000000000000000000000000",i=Promise.resolve(new o(e,r,n));return i.cancel=function cancel(){},i},Signaling.prototype._open=function _open(e){return this.transition("opening",e),this.transition("open",e),Promise.resolve(this)},Signaling.prototype.close=function close(){var e=this;return this.bracket("close",function transition(t){switch(e.state){case"closed":return e;case"open":return e._close(t);default:throw new Error('Unexpected Signaling state "'+e.state+'"')}})},Signaling.prototype.connect=function connect(e,t,n){var r=this;return this.bracket("connect",function transition(i){switch(r.state){case"closed":return r._open(i).then(transition.bind(null,i));case"open":return r.releaseLockCompletely(i),r._connect(e,t,n);default:throw new Error('Unexpected Signaling state "'+r.state+'"')}})},Signaling.prototype.createLocalParticipantSignaling=function createLocalParticipantSignaling(){return new i},Signaling.prototype.open=function open(){var e=this;return this.bracket("open",function transition(t){switch(e.state){case"closed":return e._open(t);case"open":return e;default:throw new Error('Unexpected Signaling state "'+e.state+'"')}})},e.exports=Signaling},function(e,t,n){function throttle(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}var r=n(329),i=n(67),o="Expected a function";e.exports=throttle},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n(1601),t.VideoSettingsButton=function(e){var t=e.className,n=e.onClick;return r.createElement("div",{className:"fa fa-gear video-settings-button "+t,onClick:n})}},function(e,t){},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(1086),a=n(1087),s=n(867),c=n(242),u=n(188),l=function(e){function ConnectionlessVideo(){return _classCallCheck(this,ConnectionlessVideo),_possibleConstructorReturn(this,(ConnectionlessVideo.__proto__||Object.getPrototypeOf(ConnectionlessVideo)).apply(this,arguments))}return _inherits(ConnectionlessVideo,e),r(ConnectionlessVideo,[{key:"render",value:function render(){var e=u.webSocketDisabled()||u.webRtcDisabled()?" In a real interview, please connect using a browser with WebRTC support,\n          such as Chrome or Firefox, to have your video and your peer's video displayed in this floating panel.":" In a real interview, your video as well as your peer's video would appear instead of this black box.\n          Oh, and did you notice that the video pane is draggable? Move it around and see!";return i.createElement("div",{className:"video-container-wrap"},i.createElement("div",{className:"video-container"},i.createElement(a.VideoStatusMessage,{title:"This is a demo interview",subTitle:e,loader:!1,visible:!0}),i.createElement("div",{className:"video-component video-component--connectionless"}),i.createElement(o.VideoStatusBar,{selfColor:s.statusToColor(c.STATUS_NO_ACCESS),peerColor:s.statusToColor(c.STATUS_NO_ACCESS)})))}}]),ConnectionlessVideo}(i.Component);t.ConnectionlessVideo=l},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECT_LANGUAGE_SUCCESS="SELECT_LANGUAGE_SUCCESS",t.SELECT_LANGUAGE_START="SELECT_LANGUAGE_START",t.SELECT_LANGUAGE_FAIL="REQUEST_FAIL",t.UPDATE_CHALLENGE_SUCCESS="UPDATE_CHALLENGE_SUCCESS",t.UPDATE_CHALLENGE_START="UPDATE_CHALLENGE_START",t.UPDATE_CHALLENGE_FAIL="UPDATE_CHALLENGE_FAIL",t.RUN_CODE_FAIL="RUN_CODE_FAIL",t.SHOW_CHALLENGE="SHOW_CHALLENGE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1217),i=n(348);t.toggleLeftBar=i.toggleLeftBar;var o=n(188),a=n(665),s=n(1201),c=n(1988);t.updateChallenge=c.updateChallenge,t.selectLanguage=c.selectLanguage;var u=function runCode(e){var t=e.questionId,n=e.language,i=e.code,u=e.runTests,l=void 0!==u&&u;return function(e){return e(s.consoleClear({runTests:l})),a.API.postJSON("/challenge/"+t+"/run",{language:n,code:i,runTests:l}).then(function(e){var t=e.challenge,n=e.result,r=e.stdout,i=e.stderr;return[s.consoleResult({stdout:o.normalizeConsoleOutput(r),stderr:o.normalizeConsoleOutput(i),result:n}),c.showChallenge(t)]}).then(function(t){return e(r.batchActions(t,"CHALLENGE_RUN_CODE_BATCH"))}).catch(function(t){return e(c.runCodeFailed(t))})}};t.runCode=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(447),e.exports=n(1980)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(72),o=n(47),a=n(1981),s=n(1985);n(442),n(771),i.render(r.createElement(o.Provider,{store:a.default},r.createElement(s.ChallengeContainer,null)),document.getElementById("root"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(671),i=n(1982),o=n(1217),a=n(1984);t.default=r.default(o.enableBatching(i.default),a.initialState)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(189),i=n(1106),o=n(1110),a=n(1983),s=n(1108);t.default=r.combineReducers({console:s.default,editor:o.default,challenge:a.default,splitPane:i.default})},function(e,t,n){"use strict";function consoleReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.SELECT_LANGUAGE_START:case r.UPDATE_CHALLENGE_START:return Object.assign({},e,{loading:!0});case r.SELECT_LANGUAGE_SUCCESS:return Object.assign({},e,{loading:!1,code:t.payload});case r.UPDATE_CHALLENGE_SUCCESS:return Object.assign({},e,{loading:!1,challenge:t.payload});case r.SHOW_CHALLENGE:return Object.assign({},e,{loading:!1},t.payload);case r.UPDATE_CHALLENGE_FAIL:case r.SELECT_LANGUAGE_FAIL:case r.RUN_CODE_FAIL:return Object.assign({},e,{loading:!1,errors:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1794),i={title:"",content:"",type:"md"},o={questionId:"",challenge:{question:i,hints:i,answer:i},loading:!1,errors:[],solved:!1,code:{updatedAt:"",language:"",hasTests:!1,initial:"",latest:""}};t.default=consoleReducer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={questionId:"000000000000000000000024_encoded",solved:!1,code:{language:"Ruby",initial:"\ndef sort_k_messed_array(arr, k)\n  # your code goes here\nend\n".trim(),latest:"\ndef sort_k_messed_array(arr, k)\n  [1, 2, 3, 4, 5]\nend\n".trim(),hasTests:!0,updatedAt:"2017-08-03T14:29:56.997Z"},challenge:{question:{title:"Question",type:"md",content:"## K-Messed Array Sort"},hints:{title:"Hints",type:"md",content:""},answer:{title:"Answer",type:"md",content:""}}};t.initialState={challenge:window.__CHALLENGE__||__CHALLENGE__}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1986),__export(n(1987))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(1795),o=n(1989),a=function mapStateToProps(e){return{solved:e.challenge.solved,running:e.console.running,loading:e.challenge.loading,language:e.challenge.code.language,hasTests:e.challenge.code.hasTests,updatedAt:e.challenge.code.updatedAt,latestCode:e.challenge.code.latest,initialCode:e.challenge.code.initial,questionId:e.challenge.questionId}},s={runCode:i.runCode,selectLanguage:i.selectLanguage,toggleLeftBar:i.toggleLeftBar};t.ChallengeContainer=r.connect(a,s)(o.Challenge)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(665),i=n(1794);t.showChallenge=function(e){return{type:i.SHOW_CHALLENGE,payload:e}},t.runCodeFailed=function(e){return{type:i.RUN_CODE_FAIL,payload:e}},t.selectLanguage=function(e){var t=e.questionId,n=e.language;return function(e){return e({type:i.SELECT_LANGUAGE_START}),r.API.postJSON("/challenge/"+t+"/language",{language:n}).then(function(e){var t=e.initialCode,r=e.latestCode,i=e.updatedAt,o=e.hasTests;return{initial:t,latest:r,language:n,hasTests:o,updatedAt:i}}).then(function(t){return e({type:i.SELECT_LANGUAGE_SUCCESS,payload:t})}).catch(function(t){return e({type:i.SELECT_LANGUAGE_FAIL,payload:t})})}},t.updateChallenge=function(e){var t=e.questionId,n=e.type;return function(e){return e({type:i.UPDATE_CHALLENGE_START}),r.API.postJSON("/challenge/"+t+"/reveal",{type:n}).then(function(e){return e.challenge}).then(function(t){return e({type:i.UPDATE_CHALLENGE_SUCCESS,payload:t})}).catch(function(t){return e({type:i.UPDATE_CHALLENGE_FAIL,payload:t})})}}},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(1233),a=n(1990),s=n(297),c=n(888),u=n(108),l=n(2001),d=function(e){function Challenge(){_classCallCheck(this,Challenge);var e=_possibleConstructorReturn(this,(Challenge.__proto__||Object.getPrototypeOf(Challenge)).apply(this,arguments));return e.runCode=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props,i=r.language,o=r.questionId;e.props.runCode({language:i,questionId:o,code:t,runTests:n})},e.selectLanguage=function(t){var n=e.props,r=n.questionId;t!==n.language&&e.props.selectLanguage({questionId:r,language:t})},e.runTests=function(t){e.runCode(t,!0)},e}return _inherits(Challenge,e),r(Challenge,[{key:"render",value:function render(){var e=this.props,t=e.initialCode,n=e.latestCode,r=e.questionId,d=e.updatedAt,p=e.language,h=e.hasTests,f=e.loading,g=e.running,m=e.solved,v=e.toggleLeftBar;return i.createElement(o.SessionLayout,null,i.createElement(o.SessionHeader,null,i.createElement(o.SessionDashboardButton,{target:"_self",url:u.DASHBOARD_URL}),i.createElement(o.SessionTitle,{align:"center"},m?l.SOLVED_TITLE:l.NOT_SOLVED_TITLE)),i.createElement(o.SessionSplitPane,null,i.createElement(o.SessionLeftBar,{toggleLeftBar:v},i.createElement(a.ChallengeTabs,null)),i.createElement(c.SessionEditor,{initialCode:t,latestCode:n,connected:!0,updatedAt:d,language:p,hasTests:h,disabled:f||g,link:r+"_"+p+"_"+u.USER_ID,selectLanguage:this.selectLanguage,runTests:this.runTests,runCode:this.runCode})),f&&i.createElement(s.Loader,{center:!0}))}}]),Challenge}(i.Component);t.Challenge=d},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1991),__export(n(1992))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(1993),o=function mapStateToProps(e){return{challenge:e.challenge.challenge}};t.ChallengeTabs=r.connect(o)(i.ChallengeTabs)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(1091),o=n(1994);t.ChallengeTabs=function(e){var t=e.challenge,n=function isMarkdown(e){var t=e.content,n=e.type;return t&&"md"===n},a=n(t.hints)&&t.hints.content,s=n(t.answer)&&t.answer.content;return r.createElement(i.NavTabs,null,r.createElement(i.NavTabPanel,{title:t.question.title,markdown:n(t.question)},t.question.content),r.createElement(i.NavTabPanel,{title:t.hints.title,markdown:n(t.hints)},a||r.createElement(o.ChallengeTabContent,{type:"hints"})),r.createElement(i.NavTabPanel,{title:t.answer.title,markdown:n(t.answer)},s||r.createElement(o.ChallengeTabContent,{type:"answer"})))}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(1995),__export(n(1996))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(1795),o=n(1997),a=function mapStateToProps(e){return{questionId:e.challenge.questionId,loading:e.challenge.loading}},s={updateChallenge:i.updateChallenge};t.ChallengeTabContent=r.connect(a,s)(o.ChallengeTabContentContainer)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(1),a=n(1998),s=n(295),c=n(2e3),u="answer",l=function(e){function ChallengeTabContent(){_classCallCheck(this,ChallengeTabContent);var e=_possibleConstructorReturn(this,(ChallengeTabContent.__proto__||Object.getPrototypeOf(ChallengeTabContent)).apply(this,arguments));return e.updateChallenge=function(t){var n=e.props,r=n.updateChallenge,i=n.questionId,o=n.track;r({questionId:i,type:t}),o("challenge "+t,{questionId:i,type:t})},e}return _inherits(ChallengeTabContent,e),r(ChallengeTabContent,[{key:"render",value:function render(){var e=this,t=this.props,n=t.loading,r=t.type,o=r===u,s=o?c.SHOW_ANSWER_BUTTON_PROPS:c.SHOW_HINTS_BUTTON_PROPS;return i.createElement("div",{className:"challenge-tab-content challenge-tab-content_"+r},i.createElement(a.ChallengeShowButton,Object.assign({disabled:n,onConfirm:function onConfirm(){return e.updateChallenge(o?"showAnswer":"showHints")},rightButtonText:o?"I'm sure, let's see it":"I'm sure, let's see them"},s)))}}]),ChallengeTabContent}(o.Component);t.ChallengeTabContent=l,t.ChallengeTabContentContainer=s.connectTracker(l)},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(1),a=n(730);n(1999);var s=function(e){function ChallengeShowButton(){_classCallCheck(this,ChallengeShowButton);var e=_possibleConstructorReturn(this,(ChallengeShowButton.__proto__||Object.getPrototypeOf(ChallengeShowButton)).apply(this,arguments));return e.state={isOpen:!1},e.showConfirmModal=function(){e.setState({isOpen:!0})},e.closeConfirmModal=function(t){e.setState({isOpen:!1}),t&&e.props.onConfirm()},e}return _inherits(ChallengeShowButton,e),r(ChallengeShowButton,[{key:"render",value:function render(){var e=this.props,t=e.disabled,n=e.content,r=e.label,o=e.rightButtonText;return i.createElement("div",{className:"challenge-show-button"},i.createElement("button",{className:"btn btn_violet btn_md",onClick:this.showConfirmModal,disabled:t},i.createElement("span",{className:"btn__label btn__label_nowrap"},r)),i.createElement(a.ConfirmModal,{isOpen:this.state.isOpen,title:"WAIT!",onClose:this.closeConfirmModal,leftButtonText:"Ok, let's wait",rightButtonText:o},i.createElement(a.ConfirmModalContent,null,"Are you sure you're ready?"),i.createElement(a.ConfirmModalContent,{align:"left"},n)))}}]),ChallengeShowButton}(o.Component);t.ChallengeShowButton=s},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW_HINTS_BUTTON_PROPS={content:"\n    If you're short on time, or feel that your solution is ready, go ahead and unlock the hints.\n    Either way, we recommend that you try and solve the solution yourself, even after reading the hints.\n  ",label:"Unlock Hints"},t.SHOW_ANSWER_BUTTON_PROPS={content:"\n    If you're short on time, or feel that your solution is ready, go ahead and unlock the answer.\n    Either way, we recommend that you try and implement the solution yourself, even after reading the answer.\n  ",label:"Unlock Answer"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOT_SOLVED_TITLE="\n  Try to solve the challenge, and check out the 'HINTS' and 'ANSWER' sections when you're done\n",t.SOLVED_TITLE="\n  Great job, you solved it! Read through our 'HINTS' and 'ANSWER' sections to learn more\n"}]);